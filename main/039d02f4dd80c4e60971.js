(this.webpackChunkdiscord_app = this.webpackChunkdiscord_app || []).push([
    ["35533"], {
        89400: function(e, t, n) {
            var i = {
                "./activities-rocket-time.mp3": "329160",
                "./activity_end.mp3": "376343",
                "./activity_launch.mp3": "865814",
                "./activity_user_join.mp3": "44774",
                "./activity_user_left.mp3": "964929",
                "./call_calling.mp3": "32596",
                "./call_ringing.mp3": "173447",
                "./call_ringing_beat.mp3": "942044",
                "./call_ringing_halloween.mp3": "707746",
                "./clip_error.mp3": "933574",
                "./clip_save.mp3": "393686",
                "./ddr-down.mp3": "497452",
                "./ddr-left.mp3": "524997",
                "./ddr-right.mp3": "888937",
                "./ddr-up.mp3": "341667",
                "./deafen.mp3": "866563",
                "./detune_call_calling.mp3": "563137",
                "./detune_call_ringing.mp3": "905829",
                "./detune_deafen.mp3": "575866",
                "./detune_discodo.mp3": "488859",
                "./detune_disconnect.mp3": "574665",
                "./detune_message1.mp3": "881288",
                "./detune_mute.mp3": "22295",
                "./detune_ptt_start.mp3": "409382",
                "./detune_ptt_stop.mp3": "805441",
                "./detune_stream_ended.mp3": "274007",
                "./detune_stream_started.mp3": "887823",
                "./detune_stream_user_joined.mp3": "203788",
                "./detune_stream_user_left.mp3": "118472",
                "./detune_undeafen.mp3": "494640",
                "./detune_unmute.mp3": "434247",
                "./detune_user_join.mp3": "99572",
                "./detune_user_leave.mp3": "894653",
                "./detune_user_moved.mp3": "267717",
                "./discodo.mp3": "904613",
                "./disconnect.mp3": "17802",
                "./hang_status_select.mp3": "980401",
                "./highfive_clap.mp3": "362389",
                "./highfive_whistle.mp3": "937092",
                "./human_man.mp3": "649460",
                "./mention1.mp3": "748590",
                "./mention2.mp3": "345856",
                "./mention3.mp3": "521067",
                "./message1.mp3": "302509",
                "./message2.mp3": "458161",
                "./message3.mp3": "436814",
                "./mute.mp3": "992974",
                "./overlayunlock.mp3": "112157",
                "./poggermode_achievement_unlock.mp3": "537390",
                "./poggermode_applause.mp3": "829719",
                "./poggermode_enabled.mp3": "988826",
                "./poggermode_message_send.mp3": "305456",
                "./ptt_start.mp3": "15872",
                "./ptt_stop.mp3": "144821",
                "./reconnect.mp3": "110276",
                "./robot_man.mp3": "437477",
                "./stage_waiting.mp3": "44122",
                "./stream_ended.mp3": "855479",
                "./stream_started.mp3": "829131",
                "./stream_user_joined.mp3": "713959",
                "./stream_user_left.mp3": "877990",
                "./success.mp3": "87973",
                "./undeafen.mp3": "990161",
                "./unmute.mp3": "216636",
                "./user_join.mp3": "170438",
                "./user_leave.mp3": "911578",
                "./user_moved.mp3": "455307"
            };

            function a(e) {
                return n(s(e))
            }

            function s(e) {
                if (!n.o(i, e)) {
                    var t = Error("Cannot find module '" + e + "'");
                    throw t.code = "MODULE_NOT_FOUND", t
                }
                return i[e]
            }
            a.id = '"89400"', a.keys = function() {
                return Object.keys(i)
            }, a.resolve = s, e.exports = a
        },
        329160: function(e, t, n) {
            "use strict";
            e.exports = n.p + "f8fb88f65f33f224c7b3.mp3"
        },
        376343: function(e, t, n) {
            "use strict";
            e.exports = n.p + "ff974df9426e43392cbf.mp3"
        },
        865814: function(e, t, n) {
            "use strict";
            e.exports = n.p + "259813ba8e00b2a211cb.mp3"
        },
        44774: function(e, t, n) {
            "use strict";
            e.exports = n.p + "70b22eab409925d6f8f8.mp3"
        },
        964929: function(e, t, n) {
            "use strict";
            e.exports = n.p + "bb8db567f29cb0cd4fef.mp3"
        },
        32596: function(e, t, n) {
            "use strict";
            e.exports = n.p + "bc4e660a66b0712b5114.mp3"
        },
        173447: function(e, t, n) {
            "use strict";
            e.exports = n.p + "e72bd9a68c5a5de4b084.mp3"
        },
        942044: function(e, t, n) {
            "use strict";
            e.exports = n.p + "1339b5d1d553f40ac2bc.mp3"
        },
        707746: function(e, t, n) {
            "use strict";
            e.exports = n.p + "e19cc32298b291be6b3d.mp3"
        },
        933574: function(e, t, n) {
            "use strict";
            e.exports = n.p + "46ecf97d21def02d585f.mp3"
        },
        393686: function(e, t, n) {
            "use strict";
            e.exports = n.p + "607f4f5830fc13d0b251.mp3"
        },
        497452: function(e, t, n) {
            "use strict";
            e.exports = n.p + "c02408469ee033a4ee3a.mp3"
        },
        524997: function(e, t, n) {
            "use strict";
            e.exports = n.p + "fbf60e1284cc54dc0e5e.mp3"
        },
        888937: function(e, t, n) {
            "use strict";
            e.exports = n.p + "ea5f09e9af94f92edc3a.mp3"
        },
        341667: function(e, t, n) {
            "use strict";
            e.exports = n.p + "615ef618987056fd1bd2.mp3"
        },
        866563: function(e, t, n) {
            "use strict";
            e.exports = n.p + "6cb3ea10151e5b2ffb07.mp3"
        },
        563137: function(e, t, n) {
            "use strict";
            e.exports = n.p + "fef4303b284e8445f8e9.mp3"
        },
        905829: function(e, t, n) {
            "use strict";
            e.exports = n.p + "0218b16de15cb2f7724c.mp3"
        },
        575866: function(e, t, n) {
            "use strict";
            e.exports = n.p + "3ab587f5e0363cb3b453.mp3"
        },
        488859: function(e, t, n) {
            "use strict";
            e.exports = n.p + "a6e48e91e0069b28d2ca.mp3"
        },
        574665: function(e, t, n) {
            "use strict";
            e.exports = n.p + "c2e8cc718f4394e2fd6d.mp3"
        },
        881288: function(e, t, n) {
            "use strict";
            e.exports = n.p + "582c42ea90dc65482716.mp3"
        },
        22295: function(e, t, n) {
            "use strict";
            e.exports = n.p + "77b7d43241726f405cc1.mp3"
        },
        409382: function(e, t, n) {
            "use strict";
            e.exports = n.p + "08385764d2c5b826af6b.mp3"
        },
        805441: function(e, t, n) {
            "use strict";
            e.exports = n.p + "2da7a98f354d6208d66f.mp3"
        },
        274007: function(e, t, n) {
            "use strict";
            e.exports = n.p + "70a0184ec509ec277062.mp3"
        },
        887823: function(e, t, n) {
            "use strict";
            e.exports = n.p + "cb8e5ebd782353d41f83.mp3"
        },
        203788: function(e, t, n) {
            "use strict";
            e.exports = n.p + "6d2fdab68b3e6d97914f.mp3"
        },
        118472: function(e, t, n) {
            "use strict";
            e.exports = n.p + "674ddc50a69a27d0c36c.mp3"
        },
        494640: function(e, t, n) {
            "use strict";
            e.exports = n.p + "62f48861f90d5e622587.mp3"
        },
        434247: function(e, t, n) {
            "use strict";
            e.exports = n.p + "de752bcdde8d8c52ab11.mp3"
        },
        99572: function(e, t, n) {
            "use strict";
            e.exports = n.p + "0fc2742bb405e81bc1c4.mp3"
        },
        894653: function(e, t, n) {
            "use strict";
            e.exports = n.p + "9bb7b5e7d71c1fcbb69b.mp3"
        },
        267717: function(e, t, n) {
            "use strict";
            e.exports = n.p + "2305850be26e674a9bc0.mp3"
        },
        904613: function(e, t, n) {
            "use strict";
            e.exports = n.p + "44208515805198d4c548.mp3"
        },
        17802: function(e, t, n) {
            "use strict";
            e.exports = n.p + "e08aa3fc806a6137b9af.mp3"
        },
        980401: function(e, t, n) {
            "use strict";
            e.exports = n.p + "d20b9636e9ef7c82b9ec.mp3"
        },
        362389: function(e, t, n) {
            "use strict";
            e.exports = n.p + "6cc13ddadaadc1e9acfb.mp3"
        },
        937092: function(e, t, n) {
            "use strict";
            e.exports = n.p + "06b0ec919358fd00a1c9.mp3"
        },
        649460: function(e, t, n) {
            "use strict";
            e.exports = n.p + "1003a3a0720d56ebe8d8.mp3"
        },
        748590: function(e, t, n) {
            "use strict";
            e.exports = n.p + "6fded0954ad6fa7fc2ec.mp3"
        },
        345856: function(e, t, n) {
            "use strict";
            e.exports = n.p + "57cd70365a486a399e4a.mp3"
        },
        521067: function(e, t, n) {
            "use strict";
            e.exports = n.p + "951cb91ee4aedb54e555.mp3"
        },
        302509: function(e, t, n) {
            "use strict";
            e.exports = n.p + "7e95e417e6decf91459a.mp3"
        },
        458161: function(e, t, n) {
            "use strict";
            e.exports = n.p + "d98b3cb5756a0c4908ab.mp3"
        },
        436814: function(e, t, n) {
            "use strict";
            e.exports = n.p + "b8fbd5bcaed3d51b8b73.mp3"
        },
        992974: function(e, t, n) {
            "use strict";
            e.exports = n.p + "574a4b46a370c821f4c2.mp3"
        },
        112157: function(e, t, n) {
            "use strict";
            e.exports = n.p + "9be773476c4dfc20a049.mp3"
        },
        537390: function(e, t, n) {
            "use strict";
            e.exports = n.p + "99e4a1dff8fdc40994d0.mp3"
        },
        829719: function(e, t, n) {
            "use strict";
            e.exports = n.p + "98cc8cdf9f7711301b27.mp3"
        },
        988826: function(e, t, n) {
            "use strict";
            e.exports = n.p + "9b0de13058a4eff892f3.mp3"
        },
        305456: function(e, t, n) {
            "use strict";
            e.exports = n.p + "789fbb057da285769ee4.mp3"
        },
        15872: function(e, t, n) {
            "use strict";
            e.exports = n.p + "e02be8f7ceaa6b3a2e72.mp3"
        },
        144821: function(e, t, n) {
            "use strict";
            e.exports = n.p + "8d26e762622d49b2a607.mp3"
        },
        110276: function(e, t, n) {
            "use strict";
            e.exports = n.p + "09d327b608c3bd75cd85.mp3"
        },
        437477: function(e, t, n) {
            "use strict";
            e.exports = n.p + "c9a9c1767b82a09a02d1.mp3"
        },
        44122: function(e, t, n) {
            "use strict";
            e.exports = n.p + "b33d3bd272e8ad1308f1.mp3"
        },
        855479: function(e, t, n) {
            "use strict";
            e.exports = n.p + "1877b1bd5a52d560309a.mp3"
        },
        829131: function(e, t, n) {
            "use strict";
            e.exports = n.p + "57251e1318cb6545df91.mp3"
        },
        713959: function(e, t, n) {
            "use strict";
            e.exports = n.p + "1387160f6f2937093609.mp3"
        },
        877990: function(e, t, n) {
            "use strict";
            e.exports = n.p + "215c23b18a529793b0c3.mp3"
        },
        87973: function(e, t, n) {
            "use strict";
            e.exports = n.p + "220087059cee59de6537.mp3"
        },
        990161: function(e, t, n) {
            "use strict";
            e.exports = n.p + "a338e62624013a20f7df.mp3"
        },
        216636: function(e, t, n) {
            "use strict";
            e.exports = n.p + "94ac01bdba0749ee103c.mp3"
        },
        170438: function(e, t, n) {
            "use strict";
            e.exports = n.p + "e4c08b716d0db705facc.mp3"
        },
        911578: function(e, t, n) {
            "use strict";
            e.exports = n.p + "14601f9cdbd78f8fe7ef.mp3"
        },
        455307: function(e, t, n) {
            "use strict";
            e.exports = n.p + "aaa90875db91174f3e8a.mp3"
        },
        630086: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return a
                }
            });
            var i = n("913144"),
                a = {
                    setSection(e) {
                        i.default.dispatch({
                            type: "FRIENDS_SET_SECTION",
                            section: e
                        })
                    },
                    setInitialSection(e) {
                        i.default.dispatch({
                            type: "FRIENDS_SET_INITIAL_SECTION",
                            section: e
                        })
                    }
                }
        },
        13136: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return a
                }
            }), n("686130"), n("781738");
            let i = /[<>:"/\\|?*\.]/g;
            var a = function(e) {
                return e.replaceAll(i, "").trim().replaceAll(" ", "_")
            }
        },
        881095: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return m
                }
            });
            var i = n("374014"),
                a = n("373469"),
                s = n("271938"),
                l = n("824563"),
                u = n("945956"),
                d = n("568307"),
                r = n("800762"),
                o = n("299039"),
                c = n("80028"),
                f = n("49111"),
                p = n("782340");

            function m(e) {
                let {
                    sourceName: t,
                    sourceApplicationId: n
                } = function(e) {
                    var t, n;
                    if (null != e) {
                        let {
                            ownerId: t
                        } = i.decodeStreamKey(e);
                        if (t !== s.default.getId()) {
                            let e = l.default.getActivities(t).find(e => e.type === f.ActivityTypes.PLAYING);
                            return {
                                sourceName: null == e ? void 0 : e.name,
                                sourceApplicationId: null == e ? void 0 : e.application_id
                            }
                        }
                    }
                    let u = a.default.getStreamerActiveStreamMetadata(),
                        r = null == u ? void 0 : u.pid,
                        o = null != u ? null != r ? d.default.getGameForPID(r) : null : d.default.getVisibleGame();
                    return {
                        sourceName: null !== (t = null == u ? void 0 : u.sourceName) && void 0 !== t ? t : null == o ? void 0 : o.name,
                        sourceApplicationId: null !== (n = null == u ? void 0 : u.id) && void 0 !== n ? n : null == o ? void 0 : o.id
                    }
                }(e), m = u.default.getChannelId(), _ = [s.default.getId()];
                return null != m && (_ = Object.keys(r.default.getVoiceStatesForChannel(m))), {
                    id: o.default.fromTimestamp(Date.now()),
                    version: c.CURRENT_CLIP_METADATA_VERSION,
                    applicationName: null != t ? t : p.default.Messages.CLIPS_UNKNOWN_SOURCE,
                    applicationId: n,
                    users: _,
                    clipMethod: "manual",
                    length: 0,
                    thumbnail: ""
                }
            }
        },
        997942: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                validateClipMetadata: function() {
                    return l
                }
            }), n("222007"), n("808653");
            var i = n("80028");
            let a = [e => {
                    let t = {
                        ...e,
                        version: 1,
                        applicationName: e.gameName,
                        applicationId: void 0
                    };
                    return delete t.gameName, t
                }, e => {
                    let t = {
                        ...e,
                        version: 2,
                        name: e.name.startsWith("Clip - ") ? void 0 : e.name
                    };
                    return t
                }],
                s = null;
            async function l(e) {
                var t;
                let l = (await n.el("990599").then(n.t.bind(n, "990599", 23))).default;
                let u = (t = l, null != s ? s : s = t.object({
                    id: t.string().required(),
                    version: t.number().positive().integer().min(0).max(i.CURRENT_CLIP_METADATA_VERSION).optional(),
                    name: t.string(),
                    gameName: t.string().when("version", {
                        is: t.number().greater(0).required(),
                        then: t.forbidden(),
                        otherwise: t.required()
                    }),
                    applicationName: t.string().when("version", {
                        is: t.number().greater(0).required(),
                        then: t.required(),
                        otherwise: t.forbidden()
                    }),
                    applicationId: t.string(),
                    users: t.array().items(t.string()).required(),
                    filepath: t.string().required(),
                    length: t.number().required(),
                    thumbnail: t.string().required().allow(""),
                    editMetadata: t.object().keys({
                        start: t.number(),
                        end: t.number(),
                        applicationAudio: t.boolean(),
                        voiceAudio: t.boolean()
                    }),
                    clipMethod: t.string().allow("auto", "manual").required()
                }).required());
                try {
                    l.assert(e, u);
                    return null == e.version && (e.version = 0), a.slice(e.version).reduce((e, t) => t(e), e)
                } catch (e) {
                    return null
                }
            }
        },
        803725: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                updateAllowVoiceRecording: function() {
                    return D
                },
                updateClipsEnabled: function() {
                    return L
                },
                updateDecoupledClipsEnabled: function() {
                    return M
                },
                updateClipsStorageLocation: function() {
                    return O
                },
                updateClipsLength: function() {
                    return R
                },
                updateViewerClipsEnabled: function() {
                    return x
                },
                saveClip: function() {
                    return U
                },
                updateClipMetadata: function() {
                    return k
                },
                clearClipsSession: function() {
                    return G
                },
                clearNewClipIds: function() {
                    return F
                },
                loadClipsDirectory: function() {
                    return V
                },
                deleteClip: function() {
                    return H
                },
                exportClip: function() {
                    return B
                }
            }), n("222007"), n("70102"), n("424973");
            var i = n("750028"),
                a = n("913144"),
                s = n("49671"),
                l = n("44642"),
                u = n("374014"),
                d = n("584687"),
                r = n("103979"),
                o = n("872173"),
                c = n("268491"),
                f = n("373469"),
                p = n("271938"),
                m = n("42887"),
                _ = n("568307"),
                g = n("205817"),
                E = n("599110"),
                h = n("773336"),
                S = n("709681"),
                v = n("386045"),
                C = n("13136"),
                A = n("881095"),
                I = n("997942"),
                T = n("310238"),
                b = n("99366"),
                y = n("80028"),
                N = n("49111");

            function D(e) {
                let {
                    allowVoiceRecording: t
                } = e;
                o.PreloadedUserSettingsActionCreators.updateAsync("clips", e => {
                    e.allowVoiceRecording = i.BoolValue.create({
                        value: t
                    })
                }, o.UserSettingsDelay.INFREQUENT_USER_ACTION), E.default.track(N.AnalyticEvents.CLIPS_SETTINGS_UPDATED, {
                    allow_voice_recording: t
                })
            }
            async function L(e) {
                let {
                    clipsEnabled: t,
                    guildId: n,
                    trackAnalytics: i = !1
                } = e;
                await a.default.dispatch({
                    type: "CLIPS_SETTINGS_UPDATE",
                    settings: {
                        clipsEnabled: t,
                        ...!t && {
                            decoupledClipsEnabled: !1
                        }
                    }
                }), i && E.default.track(N.AnalyticEvents.CLIPS_SETTINGS_UPDATED, {
                    clips_enabled: t,
                    guild_id: n,
                    ...!t && {
                        decoupled_clips_enabled: !1
                    }
                })
            }

            function M(e) {
                let {
                    enabled: t,
                    trackAnalytics: n = !1
                } = e;
                a.default.dispatch({
                    type: "CLIPS_SETTINGS_UPDATE",
                    settings: {
                        ...t && {
                            clipsEnabled: !0
                        },
                        decoupledClipsEnabled: t
                    }
                }), n && E.default.track(N.AnalyticEvents.CLIPS_SETTINGS_UPDATED, {
                    ...t && {
                        clips_enabled: !0
                    },
                    decoupled_clips_enabled: t
                })
            }

            function O(e) {
                a.default.dispatch({
                    type: "CLIPS_SETTINGS_UPDATE",
                    settings: {
                        storageLocation: e
                    }
                })
            }

            function R(e) {
                a.default.dispatch({
                    type: "CLIPS_SETTINGS_UPDATE",
                    settings: {
                        clipsLength: e
                    }
                })
            }

            function x(e) {
                a.default.dispatch({
                    type: "CLIPS_SETTINGS_UPDATE",
                    settings: {
                        viewerClipsEnabled: e
                    }
                })
            }

            function w(e, t) {
                var n, i, a, s, u, d, r, o, f, p;
                let m = new Map;
                for (let e in t.framesEncodedByEncoder) {
                    let i = t.framesEncodedByEncoder[e],
                        a = (0, l.parseEncoder)(e),
                        s = null !== (n = m.get(a)) && void 0 !== n ? n : 0;
                    m.set(a, s + i)
                }
                return {
                    ...e,
                    frames_encoded_nvidia_cuda: null !== (i = m.get(l.Encoders.NVIDIA_CUDA)) && void 0 !== i ? i : 0,
                    frames_encoded_nvidia_direct3d: null !== (a = m.get(l.Encoders.NVIDIA_DIRECT_3D)) && void 0 !== a ? a : 0,
                    frames_encoded_openh264: null !== (s = m.get(l.Encoders.OPENH264)) && void 0 !== s ? s : 0,
                    frames_encoded_videotoolbox: null !== (u = m.get(l.Encoders.VIDEOTOOLBOX)) && void 0 !== u ? u : 0,
                    frames_encoded_amd_direct3d: null !== (d = m.get(l.Encoders.AMD_DIRECT_3D)) && void 0 !== d ? d : 0,
                    frames_encoded_intel: null !== (r = m.get(l.Encoders.INTEL)) && void 0 !== r ? r : 0,
                    frames_encoded_intel_direct3d: null !== (o = m.get(l.Encoders.INTEL_DIRECT_3D)) && void 0 !== o ? o : 0,
                    frames_encoded_uncategorized: null !== (f = m.get(l.Encoders.UNCATEGORIZED)) && void 0 !== f ? f : 0,
                    frames_encoded_unknown: null !== (p = m.get(l.Encoders.UNKNOWN)) && void 0 !== p ? p : 0,
                    frames_submitted: t.framesSubmitted,
                    frames_submitted_during_clip: t.framesSubmittedDuringClip,
                    frames_encoded: t.framesEncoded,
                    frames_encoded_during_clip: t.framesEncodedDuringClip,
                    frames_dropped: t.framesDropped,
                    frames_dropped_during_clip: t.framesDroppedDuringClip,
                    clip_duration_setting: v.default.getSettings().clipsLength,
                    clip_duration: t.clipDuration,
                    clip_resolution_width: t.clipResolutionWidth,
                    clip_resolution_height: t.clipResolutionHeight,
                    min_fps: t.minFps,
                    max_fps: t.maxFps,
                    submitted_fps: t.submittedFps,
                    target_fps: c.default.getState().fps,
                    audio_track_count: t.audioTrackCount,
                    saved_at: t.savedAt
                }
            }
            async function P(e) {
                var t, n;
                let i;
                let a = v.default.getSettings(),
                    l = a.storageLocation,
                    d = (0, A.default)(e),
                    r = "".concat((0, C.default)(d.applicationName.substring(0, 20)), "_").concat(d.id, ".mp4"),
                    o = s.default.fileManager.join(l, r),
                    c = m.default.getMediaEngine(),
                    _ = JSON.stringify(d);
                if (null != e) {
                    let n = g.default.getRTCConnection(e);
                    if (null == n) throw Error("could not find RTC connection");
                    let {
                        ownerId: a
                    } = (0, u.decodeStreamKey)(e), [s, l] = null !== (t = n.getSSRCsForUser(a)) && void 0 !== t ? t : [];
                    if (null == s || null == l) throw Error("Could not find target SSRCs");
                    let d = s[0];
                    i = c.saveClipForSSRC.bind(c, d, l, o, _)
                } else i = c.saveClip.bind(c, o, _);
                let h = function(e) {
                    var t;
                    let n, i, a;
                    if (null != e) {
                        n = null != e ? g.default.getRTCConnection(e) : null;
                        let t = (0, u.decodeStreamKey)(e);
                        i = t.guildId, a = t.channelId
                    } else {
                        let e = p.default.getId(),
                            t = f.default.getActiveStreamForUser(e, null);
                        n = null != t ? g.default.getRTCConnection((0, u.encodeStreamKey)(t)) : null, i = null == t ? void 0 : t.guildId, a = null == t ? void 0 : t.channelId
                    }
                    let s = null == n ? void 0 : null === (t = n.analyticsContext) || void 0 === t ? void 0 : t.streamApplication;
                    return {
                        rtc_connection_id: null == n ? void 0 : n.getRTCConnectionId(),
                        media_session_id: null == n ? void 0 : n.getMediaSessionId(),
                        parent_media_session_id: null == n ? void 0 : n.parentMediaSessionId,
                        guild_id: i,
                        channel_id: a,
                        application_id: null == s ? void 0 : s.id,
                        application_name: null == s ? void 0 : s.name
                    }
                }(e);
                try {
                    let {
                        duration: e,
                        thumbnail: t,
                        clipStats: a
                    } = await i(), l = w(h, a);
                    l.clip_save_time_ms = a.clipSaveTimeMs, l.clip_size_bytes = a.clipSizeBytes, null != a.viewerDecodeFps && (l.decode_fps_during_clip = a.viewerDecodeFps, l.encode_fps_during_clip = a.viewerEncodeFps, l.target_fps = null), E.default.track(N.AnalyticEvents.CLIP_SAVED, l);
                    let u = await (null != s.default.clips.getClipProtocolURLFromPath ? (0, b.createThumbnailFromVideo)(s.default.clips.getClipProtocolURLFromPath(o), 0) : (0, b.createThumbnail)(t));
                    return d.thumbnail = u, d.length = e, y.ClipsLogger.info("Clip save succeeded with ".concat(e, "ms and thumbnail ").concat(null !== (n = null == u ? void 0 : u.length) && void 0 !== n ? n : 0, " bytes thumbnail.")), await c.updateClipMetadata(o, JSON.stringify(d)), {
                        ...d,
                        filepath: o
                    }
                } catch (t) {
                    if (!("errorMessage" in t)) throw E.default.track(N.AnalyticEvents.CLIP_SAVE_FAILURE, h), t;
                    let e = w(h, t);
                    throw e.error_at = t.errorAt, e.error_message = t.errorMessage, E.default.track(N.AnalyticEvents.CLIP_SAVE_FAILURE, e), t.errorMessage
                }
            }
            async function U(e) {
                var t;
                let {
                    enableDecoupledGameClipping: n
                } = d.default.getCurrentConfig({
                    location: "8ac9d1_1"
                }, {
                    autoTrackExposure: !1
                }), {
                    enableViewerClipping: i
                } = r.default.getCurrentConfig({
                    location: "SaveClip"
                }, {
                    autoTrackExposure: !1
                });
                if (v.default.getIsAtMaxSaveClipOperations()) return;
                let s = v.default.getSettings().clipsEnabled && null != f.default.getCurrentUserActiveStream(),
                    l = n && v.default.getSettings().decoupledClipsEnabled && (null === (t = _.default.getVisibleGame()) || void 0 === t ? void 0 : t.windowHandle) != null,
                    u = null != e && null != f.default.getActiveStreamForStreamKey(e) && i;
                if (!s && !l && !u) return;
                a.default.dispatch({
                    type: "CLIPS_SAVE_CLIP_START"
                });
                let o = (0, S.playSound)("clip_save", .5),
                    c = performance.now();
                try {
                    let t = await P(e);
                    a.default.dispatch({
                        type: "CLIPS_SAVE_CLIP",
                        clip: t
                    })
                } catch (e) {
                    y.ClipsLogger.error("Clip Failed to Save", e), null == o || o.stop(), (0, S.playSound)("clip_error", .5), a.default.dispatch({
                        type: "CLIPS_SAVE_CLIP_ERROR"
                    })
                }
                y.ClipsLogger.info("".concat(v.default.getSettings().clipsLength / 1e3, "s clip save took ").concat(Math.round(performance.now() - c), "ms"))
            }
            async function k(e, t) {
                let n = v.default.getClips().find(t => t.id === e);
                if (null == n) return;
                let i = {
                    ...n,
                    ...t
                };
                await m.default.getMediaEngine().updateClipMetadata(i.filepath, JSON.stringify(i)), E.default.track(N.AnalyticEvents.CLIP_EDITED, {
                    clip_id: i.id
                }), a.default.dispatch({
                    type: "CLIPS_UPDATE_METADATA",
                    clip: i
                })
            }

            function G() {
                a.default.dispatch({
                    type: "CLIPS_CLEAR_CLIPS_SESSION"
                })
            }

            function F() {
                a.default.dispatch({
                    type: "CLIPS_CLEAR_NEW_CLIP_IDS"
                })
            }
            async function V(e) {
                var t;
                if (!(0, h.isDesktop)() || (null === (t = s.default.clips) || void 0 === t ? void 0 : t.loadClipsDirectory) == null) return;
                let n = await s.default.clips.loadClipsDirectory(e),
                    i = [];
                for (let e of n) {
                    let t = await (0, I.validateClipMetadata)({
                        ...e.metadata,
                        filepath: e.filepath
                    });
                    null != t && i.push(t)
                }
                a.default.dispatch({
                    type: "CLIPS_LOAD_DIRECTORY_SUCCESS",
                    clips: i
                })
            }
            async function H(e) {
                var t;
                (0, h.isDesktop)() && (null === (t = s.default.clips) || void 0 === t ? void 0 : t.deleteClip) != null && (await s.default.clips.deleteClip(e), a.default.dispatch({
                    type: "CLIPS_DELETE_CLIP",
                    filepath: e
                }))
            }
            async function B(e, t) {
                let n = m.default.getMediaEngine(),
                    i = await n.exportClip(e.filepath, t);
                return (0, T.default)(i)
            }
        },
        310238: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            }), n("222007"), n("311790"), n("477657"), n("811875"), n("90301"), n("652153"), n("28797"), n("817884"), n("597349"), n("667536"), n("690341");
            var i = n("627445"),
                a = n.n(i),
                s = n("547757"),
                l = n.n(s);
            async function u(e) {
                let t;
                let n = l.createFile(!1),
                    i = new Promise(e => {
                        n.onReady = e
                    }),
                    s = await e.arrayBuffer();
                for (let e of (s.fileStart = 0, n.appendBuffer(s), n.flush(), await i, a(null != n.boxes, "mp4boxInputFile.boxes should not be null after parsing"), n.boxes)) "uuid" === e.type && (t = e.start);
                let u = e.slice(0, t, e.type),
                    d = e.slice(t + 4, t + 8 + 16, e.type);
                return new Blob([u, new Uint8Array([0, 0, 0, 24]), d], {
                    type: e.type
                })
            }
        },
        99366: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                createThumbnail: function() {
                    return a
                },
                createThumbnailFromVideo: function() {
                    return s
                }
            }), n("70102");
            var i = n("80028");
            async function a(e) {
                if (null == e) return "";
                let t = new Blob([e], {
                        type: "image/jpeg"
                    }),
                    n = await new Promise(e => {
                        let n = new FileReader;
                        n.onloadend = () => {
                            e(n.result)
                        }, n.readAsDataURL(t)
                    });
                if ("string" != typeof n) throw Error("Thumbnail creation failed");
                return n
            }

            function s(e, t) {
                return new Promise(async n => {
                    let a = document.createElement("video");
                    a.muted = !0, a.src = e, a.currentTime = t, await a.play();
                    let s = i.CLIPS_THUMBNAIL_MAX_WIDTH / a.videoWidth,
                        l = i.CLIPS_THUMBNAIL_MAX_HEIGHT / a.videoHeight,
                        u = Math.min(s, l),
                        d = a.videoWidth * u,
                        r = a.videoHeight * u,
                        o = document.createElement("canvas");
                    o.width = d, o.height = r;
                    let c = o.getContext("2d");
                    null != c && (c.drawImage(a, 0, 0, a.videoWidth, a.videoHeight, 0, 0, d, r), n(o.toDataURL("image/jpeg", .9)))
                })
            }
        },
        370492: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                updateDevToolsSettings: function() {
                    return s
                },
                toggleDisplayDevTools: function() {
                    return l
                },
                clearAnalyticsLog: function() {
                    return u
                }
            });
            var i = n("913144"),
                a = n("584369");

            function s(e) {
                i.default.dispatch({
                    type: "DEV_TOOLS_SETTINGS_UPDATE",
                    settings: e
                })
            }

            function l() {
                s({
                    displayTools: !a.default.displayTools
                })
            }

            function u() {
                i.default.dispatch({
                    type: "ANALYTICS_LOG_CLEAR"
                })
            }
        },
        584369: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                DEVTOOLS_SIDEBAR_MIN_WIDTH: function() {
                    return u
                },
                default: function() {
                    return o
                }
            });
            var i = n("446674"),
                a = n("95410"),
                s = n("913144"),
                l = n("9503");
            let u = 360,
                d = {
                    devToolsEnabled: !1,
                    sidebarWidth: u,
                    lastOpenTabId: null,
                    displayTools: !1,
                    showDevWidget: !1,
                    devWidgetPosition: {
                        x: 0,
                        y: 0
                    }
                };
            class r extends i.default.DeviceSettingsStore {
                initialize(e) {
                    d = null != e ? e : d, s.default.actionLogger.persist = this.devToolsEnabled
                }
                getUserAgnosticState() {
                    return d
                }
                get devToolsEnabled() {
                    return d.devToolsEnabled
                }
                get sidebarWidth() {
                    return this.displayTools ? d.sidebarWidth : 0
                }
                get lastOpenTabId() {
                    var e;
                    return null !== (e = d.lastOpenTabId) && void 0 !== e ? e : null
                }
                get displayTools() {
                    return this.devToolsEnabled && d.displayTools
                }
                get showDevWidget() {
                    return this.devToolsEnabled && d.showDevWidget
                }
                get devWidgetPosition() {
                    return d.devWidgetPosition
                }
            }
            r.displayName = "DevToolsSettingsStore", r.persistKey = "DevToolsSettingsStore";
            var o = new r(s.default, {
                DEV_TOOLS_SETTINGS_UPDATE: function(e) {
                    (d.devToolsEnabled || e.settings.devToolsEnabled) && (null != e.settings.devToolsEnabled && (s.default.actionLogger.persist = e.settings.devToolsEnabled, a.default.set(l.STORAGE_KEY_LOG_DISPATCHES, e.settings.devToolsEnabled)), d = {
                        ...d,
                        ...e.settings
                    })
                }
            })
        },
        612278: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useFirstForumPostMessage: function() {
                    return S
                },
                useMostRecentForumMessage: function() {
                    return v
                },
                preloadForumThreads: function() {
                    return A
                }
            }), n("222007");
            var i = n("917351"),
                a = n.n(i),
                s = n("446674"),
                l = n("872717"),
                u = n("913144"),
                d = n("42203"),
                r = n("670902"),
                o = n("349778"),
                c = n("430475"),
                f = n("324261"),
                p = n("49111");
            class m {
                get(e) {
                    return !this._set.hasOwnProperty(e) && (this._set[e] = this._defaultValueFunc()), this._set[e]
                }
                delete(e) {
                    delete this._set[e]
                }
                hasNext() {
                    return !a.isEmpty(this._set)
                }
                next() {
                    return Object.keys(this._set)[0]
                }
                constructor(e) {
                    this._set = {}, this._defaultValueFunc = e
                }
            }
            let _ = new class e {
                    request(e, t) {
                        this.requested.get(e).add(t)
                    }
                    hasRequested(e, t) {
                        return this.requested.get(e).has(t)
                    }
                    finishRequesting(e, t) {
                        let n = this.requested.get(e);
                        t.forEach(e => n.delete(e)), _.compact(e)
                    }
                    getRequested(e) {
                        return this.requested.get(e)
                    }
                    getNextBatch(e, t) {
                        return Array.from(this.requested.get(e)).slice(0, t)
                    }
                    hasNext() {
                        return this.requested.hasNext()
                    }
                    next() {
                        return this.requested.next()
                    }
                    compact(e) {
                        0 === this.requested.get(e).size && this.requested.delete(e)
                    }
                    constructor() {
                        this.requested = new m(() => new Set)
                    }
                },
                g = null;

            function E(e, t) {
                let n = (0, o.isForumActivityExperimentEnabled)(e);
                if (n) {
                    let {
                        loaded: e,
                        message: n
                    } = f.default.getMessageState(t);
                    return !e && null == n
                }
                return !1
            }

            function h(e, t) {
                return !e && null == t
            }

            function S(e) {
                var t, n;
                let {
                    loaded: i,
                    firstMessage: a
                } = (0, s.useStateFromStoresObject)([c.default], () => c.default.getMessage(e.id)), l = (0, s.useStateFromStores)([d.default], () => d.default.getChannel(e.parent_id));
                if (null != l && (t = i, n = a, !t && null == n)) I(l, e.id);
                return {
                    loaded: i,
                    firstMessage: a
                }
            }

            function v(e, t) {
                let {
                    loaded: n,
                    message: i
                } = (0, s.useStateFromStoresObject)([f.default], () => f.default.getMessageState(t.id));
                return null != e && E(t.guild_id, t.id) && I(e, t.id), {
                    loaded: n,
                    mostRecentMessage: i
                }
            }

            function C(e, t) {
                let n = !1;
                t.forEach(t => {
                    var i, a;
                    let {
                        loaded: s,
                        firstMessage: l
                    } = c.default.getMessage(t);
                    if (i = s, a = l, !i && null == a || E(e.guild_id, t)) _.request(e.id, t), n = !0
                }), n && null == g && (g = setTimeout(T, 0))
            }

            function A(e) {
                C(e, (0, r.computeThreadIdsSnapshot)(e.id).slice(0, 10))
            }

            function I(e, t) {
                if (_.hasRequested(e.id, t)) return;
                let n = (0, r.computeThreadIdsSnapshot)(e.id),
                    i = n.findIndex(e => e === t),
                    a = n.slice(i, i + 5).filter(t => !_.hasRequested(e.id, t));
                C(e, a)
            }
            async function T() {
                try {
                    for (; _.hasNext();) await b(_.next())
                } finally {
                    g = null
                }
            }
            async function b(e) {
                let t = _.getNextBatch(e, 10);
                try {
                    var n;
                    if (0 === t.length) return;
                    let i = null === (n = d.default.getChannel(e)) || void 0 === n ? void 0 : n.guild_id;
                    if (null == i) return;
                    let {
                        body: {
                            threads: a
                        }
                    } = await l.default.post({
                        url: p.Endpoints.FORUM_POSTS(e),
                        body: {
                            thread_ids: t
                        }
                    });
                    u.default.dispatch({
                        type: "LOAD_FORUM_POSTS",
                        guildId: i,
                        threads: a
                    })
                } catch (e) {} finally {
                    _.finishRequesting(e, t)
                }
            }
        },
        324261: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var i = n("446674"),
                a = n("913144"),
                s = n("692038"),
                l = n("42203"),
                u = n("697218"),
                d = n("449008"),
                r = n("299039");
            let o = {};

            function c(e) {
                var t;
                let n = l.default.getChannel(null == e ? void 0 : e.channel_id);
                if (null == n || !n.isForumPost()) return !1;
                let i = o[n.id];
                return r.default.compare(null == e ? void 0 : e.id, null == i ? void 0 : null === (t = i.message) || void 0 === t ? void 0 : t.id) > -1
            }

            function f(e, t) {
                let n = null == t ? null : (0, s.createMessageRecord)(t);
                return o[e] = {
                    loaded: !0,
                    message: n
                }, !0
            }

            function p(e) {
                return o[e]
            }

            function m(e) {
                var t;
                return null === (t = o[e]) || void 0 === t ? void 0 : t.message
            }

            function _(e) {
                let {
                    threads: t,
                    mostRecentMessages: n
                } = e;
                t.forEach(e => f(e.id, null)), null == n || n.filter(d.isNotNullish).forEach(e => {
                    f(e.channel_id, e)
                })
            }
            class g extends i.default.Store {
                initialize() {
                    this.waitFor(l.default, u.default)
                }
                getMessageState(e) {
                    return !(e in o) && (o[e] = {
                        loaded: !1,
                        message: null
                    }), o[e]
                }
            }
            g.displayName = "ForumPostRecentMessageStore";
            var E = new g(a.default, {
                CONNECTION_OPEN: function() {
                    o = {}
                },
                MESSAGE_CREATE: function(e) {
                    if (e.isPushNotification || !c(e.message)) return !1;
                    e.message.channel_id === e.message.id ? f(e.message.channel_id, null) : f(e.message.channel_id, e.message)
                },
                MESSAGE_UPDATE: function(e) {
                    if (!c(e.message) || e.message.channel_id === e.message.id) return !1;
                    ! function(e, t) {
                        let n = function(e) {
                                return o[e]
                            }(e),
                            i = m(e);
                        null != n && null != i && (o[e] = {
                            ...n,
                            message: (0, s.updateMessageRecord)(i, t)
                        })
                    }(e.message.channel_id, e.message)
                },
                MESSAGE_DELETE: function(e) {
                    return function(e, t) {
                        let n = m(e);
                        return (null == n ? void 0 : n.id) === t && (delete o[e], !0)
                    }(e.channelId, e.id)
                },
                LOAD_FORUM_POSTS: function(e) {
                    let {
                        threads: t
                    } = e;
                    for (let e in t) f(e, t[e].most_recent_message)
                },
                LOAD_ARCHIVED_THREADS_SUCCESS: _,
                LOAD_THREADS_SUCCESS: _
            })
        },
        658536: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            }), n("222007");
            var i = n("913144"),
                a = n("689988"),
                s = n("26989"),
                l = n("697218"),
                u = n("509");
            let d = null,
                r = () => {
                    let e = s.default.getCommunicationDisabledUserMap();
                    Object.keys(e).forEach(t => {
                        let n = (0, s.getGuildIdFromCommunicationDisabledUserKey)(t),
                            i = (0, s.getUserIdFromCommunicationDisabledUserKey)(t),
                            a = e[t];
                        !(0, u.isCommunicationDisabled)(a) && o(n, i)
                    })
                },
                o = (e, t) => {
                    var n, a, d, r, o, c;
                    let f = s.default.getMember(e, t),
                        p = l.default.getUser(t);
                    if (null == f || null == p || (0, u.isMemberCommunicationDisabled)(f)) return;
                    let m = {
                        ...f,
                        guildId: e,
                        nick: null !== (n = f.nick) && void 0 !== n ? n : p.username,
                        avatar: null !== (a = f.avatar) && void 0 !== a ? a : void 0,
                        premiumSince: null !== (d = f.premiumSince) && void 0 !== d ? d : void 0,
                        isPending: null !== (r = f.isPending) && void 0 !== r && r,
                        user: {
                            ...p,
                            email: null !== (o = p.email) && void 0 !== o ? o : void 0,
                            phone: null !== (c = p.phone) && void 0 !== c ? c : void 0
                        },
                        communicationDisabledUntil: null
                    };
                    i.default.dispatch({
                        type: "GUILD_MEMBER_UPDATE",
                        ...m
                    })
                };
            class c extends a.default {
                _initialize() {
                    d = setInterval(() => r(), 1e4)
                }
                _terminate() {
                    clearInterval(d)
                }
                constructor(...e) {
                    super(...e), this.clearGuildMemberTimeout = o
                }
            }
            var f = new c
        },
        696326: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return s
                }
            });
            var i = n("862205");
            let a = (0, i.createExperiment)({
                kind: "guild",
                id: "2023-03_onboarding_upsell_lifecycle",
                label: "Onboarding Upsell Lifecycle",
                defaultConfig: {
                    showLifecycleUpsells: !1
                },
                treatments: [{
                    id: 1,
                    label: "Show new lifecycle upsells",
                    config: {
                        showLifecycleUpsells: !0
                    }
                }]
            });
            var s = a
        },
        179803: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                shouldShowGuildOnboardingUpsell: function() {
                    return E
                },
                dismissedGuildOnboardingUpsell: function() {
                    return h
                }
            }), n("222007");
            var i = n("866227"),
                a = n.n(i),
                s = n("151426"),
                l = n("801340"),
                u = n("10641"),
                d = n("872173"),
                r = n("374363"),
                o = n("305961"),
                c = n("696326"),
                f = n("380710"),
                p = n("49111"),
                m = n("994428");
            let _ = [s.DismissibleContent.GUILD_ONBOARDING_UPSELL_MODAL_V2, s.DismissibleContent.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE, s.DismissibleContent.GUILD_ONBOARDING_UPSELL_NAGBAR],
                g = [0, 1, 7];

            function E(e, t) {
                var n;
                let i = o.default.getGuilds(),
                    s = Object.entries(i).some(e => {
                        let [t, n] = e, i = (0, f.isGuildOnboardingSettingsAvailable)(t), a = n.hasFeature(p.GuildFeatures.GUILD_ONBOARDING_EVER_ENABLED);
                        return i && a
                    });
                if (s || !(0, f.isGuildOnboardingSettingsAvailable)(e)) return !1;
                let d = null === (n = r.default.settings.userContent) || void 0 === n ? void 0 : n.guildOnboardingUpsellDismissedAt,
                    m = null != d ? l.Timestamp.toDate(d) : void 0,
                    E = null != m ? a().diff(m, "days") : null,
                    h = _.indexOf(t);
                if (-1 === h) return !1;
                let S = null == E || E > g[h];
                if (!S) return !1;
                let v = _.find(e => !(0, u.isDismissibleContentDismissed)(e)) === t;
                if (!v) return !1;
                let {
                    showLifecycleUpsells: C
                } = c.default.getCurrentConfig({
                    guildId: e,
                    location: "7f5b67_1"
                }, {
                    disable: s || !(0, f.isGuildOnboardingSettingsAvailable)(e),
                    autoTrackExposure: !0
                });
                return C
            }

            function h(e, t) {
                let n = l.Timestamp.now();
                d.PreloadedUserSettingsActionCreators.updateAsync("userContent", e => {
                    e.guildOnboardingUpsellDismissedAt = n
                }, d.UserSettingsDelay.INFREQUENT_USER_ACTION), null != t && (0, u.markDismissibleContentAsDismissed)(t, {
                    forceTrack: !0,
                    dismissAction: m.ContentDismissActionType.AUTO,
                    guildId: e
                })
            }
        },
        931318: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                addMessageReminders: function() {
                    return m
                },
                updateReminderDueAt: function() {
                    return _
                },
                toggleMessageReminders: function() {
                    return g
                },
                completeMessageReminders: function() {
                    return E
                },
                cleanupMessageReminders: function() {
                    return h
                },
                fetchAndUpdateSavedMessages: function() {
                    return C
                }
            });
            var i = n("872717"),
                a = n("913144"),
                s = n("679653"),
                l = n("42203"),
                u = n("305961"),
                d = n("27618"),
                r = n("697218"),
                o = n("599110"),
                c = n("520899"),
                f = n("988864"),
                p = n("49111");

            function m(e, t) {
                o.default.track(p.AnalyticEvents.GUILD_JOIN_FEEDBACK, {
                    skipped: !1,
                    reason: "adding",
                    rating: "".concat(c.default.getMessageReminders().length)
                }), v([{
                    messageId: e.id,
                    channelId: e.channel_id,
                    savedAt: new Date,
                    dueAt: t,
                    ... function(e) {
                        let t = l.default.getChannel(e.channel_id);
                        if (null == t) return null;
                        let n = u.default.getGuild(t.guild_id),
                            i = "",
                            a = (0, s.computeChannelName)(t, r.default, d.default, !0);
                        if (t.isPrivate()) i = a;
                        else if (t.isThread()) {
                            let e = l.default.getChannel(t.parent_id);
                            if (null == e) return null;
                            let n = (0, s.computeChannelName)(e, r.default, d.default, !0);
                            i = "".concat(n, " > ").concat(a)
                        } else i = a;
                        let o = "".concat(e.content.length > 0 ? e.content : "".concat(e.attachments.length, " attachments"));
                        return {
                            authorSummary: e.author.username,
                            authorId: e.author.id,
                            channelSummary: i,
                            messageSummary: o.length > 200 ? "".concat(o.slice(0, 197), "...") : o,
                            guildId: null == n ? void 0 : n.id
                        }
                    }(e)
                }], [])
            }

            function _(e, t) {
                o.default.track(p.AnalyticEvents.GUILD_JOIN_FEEDBACK, {
                    skipped: !1,
                    reason: "updating_due_at",
                    rating: "".concat(c.default.getMessageReminders().length)
                });
                let n = c.default.getMessageReminders(),
                    i = n.find(t => t.messageId === e);
                null != i && v([{
                    ...i,
                    savedAt: new Date,
                    dueAt: t
                }], [i])
            }

            function g(e, t) {
                o.default.track(p.AnalyticEvents.GUILD_JOIN_FEEDBACK, {
                    skipped: t,
                    reason: "updating within the list",
                    rating: "".concat(c.default.getMessageReminders().length)
                }), a.default.dispatch({
                    type: "MESSAGE_REMINDER_TOGGLE",
                    messageId: e,
                    complete: t
                })
            }

            function E(e) {
                o.default.track(p.AnalyticEvents.GUILD_JOIN_FEEDBACK, {
                    skipped: !1,
                    reason: "complete and clear immediately",
                    rating: "".concat(c.default.getMessageReminders().length)
                });
                let t = c.default.getMessageReminders();
                v([], t.filter(t => t.messageId === e))
            }

            function h() {
                o.default.track(p.AnalyticEvents.GUILD_JOIN_FEEDBACK, {
                    skipped: !1,
                    reason: "clearing",
                    rating: "".concat(c.default.getMessageReminders().length)
                });
                let e = c.default.getMessageReminders();
                e.some(e => e.complete) && v([], e.filter(e => e.complete))
            }

            function S(e) {
                o.default.track(p.AnalyticEvents.GUILD_JOIN_FEEDBACK, {
                    skipped: !1,
                    reason: "updated_from_server",
                    rating: "".concat(c.default.getMessageReminders().length)
                }), a.default.dispatch({
                    type: "SAVED_MESSAGES_UPDATE",
                    messages: e
                })
            }

            function v(e, t) {
                (0 !== e.length || 0 !== t.length) && i.default.post({
                    url: p.Endpoints.SAVED_MESSAGES,
                    body: {
                        added: e.map(f.savedMessageToServer),
                        removed: t.map(f.savedMessageToServer)
                    }
                }).then(e => {
                    S(e.body.saved_messages.map(f.savedMessageToClient))
                })
            }

            function C() {
                return c.default.recentlyFetched() ? Promise.resolve() : i.default.get({
                    url: p.Endpoints.SAVED_MESSAGES
                }).then(e => {
                    let t = e.body.saved_messages,
                        n = t.map(f.savedMessageToClient);
                    S(n)
                })
            }
        },
        979268: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return s
                }
            });
            var i = n("862205");
            let a = (0, i.createExperiment)({
                kind: "user",
                id: "2022-08_message_todos_staff_only",
                label: "Message TODO list",
                defaultConfig: {
                    showReminders: !1
                },
                treatments: [{
                    id: 1,
                    label: "Show message TODOs CTA",
                    config: {
                        showReminders: !0
                    }
                }]
            });
            var s = a
        },
        520899: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            }), n("222007");
            var i = n("446674"),
                a = n("913144"),
                s = n("718517");
            let l = [],
                u = new Set,
                d = 0;
            class r extends i.default.Store {
                initialize() {
                    setInterval(() => {
                        this.emitChange()
                    }, 1 * s.default.Millis.MINUTE)
                }
                getMessageReminders() {
                    return l
                }
                isMessageReminder(e) {
                    let t = l.find(t => t.messageId === e);
                    return null != t && !t.complete
                }
                getOverdueMessageReminderCount() {
                    return l.filter(e => null == e.dueAt || new Date > e.dueAt).length
                }
                recentlyFetched() {
                    return new Date().getTime() - d < 1 * s.default.Millis.MINUTE
                }
                hasSentNotification(e) {
                    return u.has(e)
                }
                getState() {
                    return {
                        messages: l
                    }
                }
            }
            r.displayName = "MessageRemindersStore";
            var o = new r(a.default, {
                SAVED_MESSAGES_UPDATE: function(e) {
                    let {
                        messages: t
                    } = e;
                    d = new Date().getTime(), l = t.map(e => ({
                        ...e,
                        complete: !1
                    })), t.forEach(e => {
                        null != e.dueAt && e.dueAt > new Date && u.delete(e.messageId), null != e.dueAt && e.dueAt < new Date && u.add(e.messageId)
                    })
                },
                MESSAGE_REMINDER_TOGGLE: function(e) {
                    let {
                        messageId: t,
                        complete: n
                    } = e, i = l.findIndex(e => e.messageId === t);
                    if (-1 === i) return !1;
                    l[i] = {
                        ...l[i],
                        complete: n
                    }
                },
                MESSAGE_REMINDER_NOTIFIED: function(e) {
                    let {
                        messageId: t
                    } = e;
                    u.add(t)
                }
            })
        },
        988864: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                savedMessageToServer: function() {
                    return s
                },
                savedMessageToClient: function() {
                    return l
                },
                savedMessageHasMetadata: function() {
                    return u
                },
                MESSAGE_REMINDER_DURATION_ITEMS: function() {
                    return d
                }
            });
            var i = n("718517"),
                a = n("782340");

            function s(e) {
                var t;
                return {
                    channel_id: e.channelId,
                    message_id: e.messageId,
                    saved_at: e.savedAt.toISOString(),
                    author_summary: e.authorSummary,
                    channel_summary: e.channelSummary,
                    message_summary: e.messageSummary,
                    guild_id: e.guildId,
                    author_id: e.authorId,
                    notes: e.notes,
                    due_at: null === (t = e.dueAt) || void 0 === t ? void 0 : t.toISOString()
                }
            }

            function l(e) {
                return {
                    channelId: e.channel_id,
                    messageId: e.message_id,
                    savedAt: new Date(e.saved_at),
                    authorSummary: e.author_summary,
                    channelSummary: e.channel_summary,
                    messageSummary: e.message_summary,
                    guildId: 0 === e.guild_id ? void 0 : e.guild_id,
                    authorId: 0 === e.author_id ? void 0 : e.author_id,
                    notes: e.notes,
                    dueAt: null != e.due_at ? new Date(e.due_at) : void 0
                }
            }

            function u(e) {
                return null != e.authorSummary && e.authorSummary.length > 0 && null != e.channelSummary && e.channelSummary.length > 0 && null != e.messageSummary && e.messageSummary.length > 0 && null != e.authorId && e.authorId.length > 0
            }
            let d = [{
                duration: i.default.Millis.HOUR,
                getLabel: () => a.default.Messages.MESSAGE_REMINDERS_IN_ONE_HOUR
            }, {
                duration: 2 * i.default.Millis.HOUR,
                getLabel: () => a.default.Messages.MESSAGE_REMINDERS_IN_TWO_HOURS
            }, {
                duration: 4 * i.default.Millis.HOUR,
                getLabel: () => a.default.Messages.MESSAGE_REMINDERS_IN_FOUR_HOURS
            }, {
                duration: i.default.Millis.DAY,
                getLabel: () => a.default.Messages.MESSAGE_REMINDERS_IN_ONE_DAY
            }, {
                duration: i.default.Millis.WEEK,
                getLabel: () => a.default.Messages.MESSAGE_REMINDERS_IN_ONE_WEEK
            }]
        },
        341329: function(e, t, n) {
            "use strict";
            let i;
            n.r(t), n.d(t, {
                default: function() {
                    return j
                }
            }), n("222007");
            var a = n("803182"),
                s = n("811022"),
                l = n("95410"),
                u = n("913144"),
                d = n("404118"),
                r = n("819689"),
                o = n("115718"),
                c = n("689988"),
                f = n("408062"),
                p = n("619443"),
                m = n("582713"),
                _ = n("233069"),
                g = n("982108"),
                E = n("42203"),
                h = n("305961"),
                S = n("660478"),
                v = n("18494"),
                C = n("162771"),
                A = n("49111"),
                I = n("724210"),
                T = n("782340");
            let b = new s.default("MessageManager");

            function y(e) {
                let {
                    guildId: t,
                    channelId: n,
                    messageId: a,
                    forceFetch: s,
                    isPreload: u,
                    jumpType: d,
                    skipLocalFetch: c,
                    logFailures: m
                } = e;
                if (null == n) {
                    m && b.log("Skipping fetch because channelId is null");
                    return
                }
                if ((0, I.isStaticChannelRoute)(n)) {
                    m && b.log("Skipping fetch because channelId is a static route");
                    return
                }
                let _ = E.default.getChannel(n);
                if ((null == _ ? void 0 : _.type) === A.ChannelTypes.GUILD_STORE || (null == _ ? void 0 : _.type) != null && A.ChannelTypesSets.GUILD_THREADS_ONLY.has(_.type)) {
                    m && b.log("Skipping fetch because channel is a forum/store");
                    return
                }
                let g = f.default.getOrCreate(n);
                null != g.jumpTargetId && null == a && (g = g.mutate({
                    jumpTargetId: null,
                    jumped: !1,
                    jumpType: o.JumpTypes.ANIMATED
                }), f.default.commit(g)), null != g.focusTargetId && null == a && (g = g.mutate({
                    focusTargetId: null
                }), f.default.commit(g));
                let v = s;
                if (!u || p.default.isConnected() || g.loadingMore ? g.loadingMore || g.ready && !g.cached ? null != a ? v = !0 : m && b.log("Skipping fetch because no other conditions matched") : null == t || null != h.default.getGuild(t) ? v = !0 : m && b.log("Skipping fetch we are connected and have loaded messages") : v = !0, v) {
                    if (f.default.commit(g.mutate({
                            loadingMore: !0
                        })), null != a) r.default.jumpToMessage({
                        channelId: n,
                        messageId: a,
                        flash: !0,
                        isPreload: u,
                        skipLocalFetch: c,
                        jumpType: d
                    });
                    else if ((null == _ ? void 0 : _.isThread()) && function(e) {
                            if (S.default.hasOpenedThread(e)) return !1;
                            if (null == i) {
                                var t;
                                i = null !== (t = l.default.get(N, {})) && void 0 !== t ? t : {}
                            }
                            if (e in i) return !1;
                            i[e] = Date.now();
                            let n = Date.now() - 7776e6;
                            for (let e in i) i[e] < n && delete i[e];
                            return l.default.set(N, i), !0
                        }(n)) b.log("Jumping to start of thread ".concat(_.id)), r.default.fetchMessages({
                        channelId: n,
                        limit: A.MAX_MESSAGES_PER_CHANNEL,
                        jump: {
                            messageId: n,
                            flash: !1
                        },
                        isPreload: u,
                        skipLocalFetch: c
                    });
                    else if ((null == _ ? void 0 : _.isThread()) && S.default.hasTrackedUnread(_.id) && !g.ready) {
                        let e = S.default.getTrackedAckMessageId(_.id);
                        b.log("Jumping to most recent message in thread ".concat(_.id, " - ").concat(e)), r.default.fetchMessages({
                            channelId: n,
                            limit: A.MAX_MESSAGES_PER_CHANNEL,
                            jump: {
                                messageId: e,
                                flash: !1,
                                offset: 1
                            },
                            isPreload: u,
                            skipLocalFetch: c
                        })
                    } else r.default.fetchMessages({
                        channelId: n,
                        limit: A.MAX_MESSAGES_PER_CHANNEL,
                        isPreload: u,
                        skipLocalFetch: c,
                        jump: {
                            jumpType: o.JumpTypes.ANIMATED
                        }
                    })
                }
            }
            let N = "viewedThreadIds";

            function D() {
                let e = v.default.getChannelId();
                if (null != e) {
                    let n = E.default.getChannel(e);
                    if (null != n) {
                        var t;
                        let e = (0, a.matchPath)(location.pathname, {
                            path: A.Routes.CHANNEL(":guild", ":channel", ":message"),
                            exact: !0
                        });
                        y({
                            guildId: n.getGuildId(),
                            channelId: n.id,
                            messageId: null == e ? void 0 : null === (t = e.params) || void 0 === t ? void 0 : t.message
                        }), R(n.getGuildId(), n.id)
                    }
                }
            }

            function L() {
                let {
                    isPreload: e,
                    skipLocalFetch: t,
                    logFailures: n
                } = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, i = v.default.getChannelId();
                if (null != i) {
                    let a = E.default.getChannel(i);
                    null != a ? ((0, _.isTextChannel)(a.type) ? y({
                        guildId: a.getGuildId(),
                        channelId: a.id,
                        isPreload: e,
                        skipLocalFetch: t,
                        logFailures: n
                    }) : n && b.log("Skipping fetch because the selected channel is not a text channel"), R(a.getGuildId(), a.id)) : n && b.log("Skipping fetch because channel is null")
                } else n && b.log("Skipping fetch because there is no selected channel")
            }

            function M(e) {
                let {
                    guildId: t,
                    channelId: n,
                    messageId: i,
                    jumpType: a
                } = e;
                y({
                    guildId: t,
                    channelId: n,
                    messageId: i,
                    jumpType: a
                }), R(t, n)
            }

            function O(e) {
                let {
                    guildId: t,
                    channelId: n
                } = e;
                y({
                    guildId: t,
                    channelId: n
                })
            }

            function R(e, t) {
                let n = g.default.getCurrentSidebarChannelId(t);
                if (null == n) return;
                let i = g.default.getCurrentSidebarMessageId(t);
                y({
                    guildId: e,
                    channelId: n,
                    messageId: i
                })
            }

            function x() {
                let e = v.default.getChannelId(),
                    t = C.default.getGuildId();
                if (null == t || null == e) return;
                let n = g.default.getSidebarState(e);
                (null == n ? void 0 : n.type) !== m.SidebarType.VIEW_CHANNEL && R(t, e)
            }

            function w(e) {
                let {
                    guildId: t,
                    channelId: n,
                    context: i
                } = e;
                i === A.CURRENT_APP_CONTEXT && (y({
                    guildId: t,
                    channelId: n
                }), R(t, n))
            }

            function P(e) {
                let {
                    channel: t,
                    messageId: n
                } = e, i = t.guild_id;
                null != i && v.default.getChannelId(i) === t.id && y({
                    guildId: i,
                    channelId: t.id,
                    messageId: n
                })
            }

            function U(e) {
                let {
                    channelId: t
                } = e;
                r.default.fetchMessages({
                    channelId: t,
                    limit: A.MAX_MESSAGES_PER_CHANNEL
                })
            }

            function k(e) {
                let {
                    response: t
                } = e;
                if (null == t || null == t.body) return null;
                if (t.body.code === A.AbortCodes.CHANNEL_FOLLOWING_EDIT_RATE_LIMITED) {
                    let e = t.body.retry_after;
                    null != e && d.default.show({
                        title: T.default.Messages.RATE_LIMITED,
                        body: T.default.Messages.ANNOUNCEMENT_EDIT_RATE_LIMIT.format({
                            retryAfterMinutes: Math.ceil(e / 60)
                        })
                    })
                }
            }
            let G = {};

            function F(e) {
                var t;
                let {
                    channelId: n,
                    jump: i,
                    isStale: a,
                    isPreview: s = !1
                } = e;
                if (s) return;
                let l = null !== (t = G[n]) && void 0 !== t ? t : 0;
                if (Date.now() - l < 1e4) return;
                G[n] = Date.now();
                let u = v.default.getChannelId(),
                    d = g.default.getCurrentSidebarChannelId(u),
                    o = n === u || n === d;
                a && p.default.isConnected() && o && r.default.fetchMessages({
                    channelId: n,
                    limit: A.MAX_MESSAGES_PER_CHANNEL,
                    jump: i
                })
            }

            function V(e) {
                let {
                    channelId: t,
                    messageRecord: n
                } = e;
                null != n && u.default.dispatch({
                    type: "MESSAGE_SEND_FAILED",
                    channelId: t,
                    messageId: n.id
                })
            }

            function H(e) {
                let {
                    state: t
                } = e;
                if ("active" !== t) return !1;
                let n = v.default.getChannelId();
                if (null == n) return !1;
                r.default.fetchNewLocalMessages(n, A.MAX_MESSAGES_PER_CHANNEL)
            }
            class B extends c.default {
                _initialize() {
                    u.default.subscribe("CONNECTION_OPEN", D)
                }
                _terminate() {
                    u.default.unsubscribe("CONNECTION_OPEN", D)
                }
                constructor(...e) {
                    super(...e), this.fetchMessages = y, this.loadSelectedChannelIfNecessary = L, this.stores = new Map().set(g.default, x), this.actions = {
                        APP_STATE_UPDATE: H,
                        OVERLAY_INITIALIZE: D,
                        CHANNEL_SELECT: M,
                        VOICE_CHANNEL_SELECT: O,
                        THREAD_CREATE: P,
                        THREAD_LIST_SYNC: () => L(),
                        CHANNEL_CREATE: P,
                        CHANNEL_PRELOAD: w,
                        THREAD_CREATE_LOCAL: U,
                        GUILD_CREATE: () => L(),
                        MESSAGE_END_EDIT: k,
                        LOAD_MESSAGES_SUCCESS: F,
                        UPLOAD_FAIL: V,
                        CHANNEL_DELETE: () => L(),
                        THREAD_DELETE: () => L()
                    }
                }
            }
            var j = new B
        },
        553257: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                experiment: function() {
                    return a
                },
                usePomeloEligibility: function() {
                    return s
                },
                getPomeloEligibility: function() {
                    return l
                }
            });
            var i = n("862205");
            let a = (0, i.createExperiment)({
                    kind: "user",
                    label: "Pomelo",
                    id: "2023-03_pomelo",
                    defaultConfig: {
                        enabled: !1
                    },
                    treatments: [{
                        id: 1,
                        label: "enabled",
                        config: {
                            enabled: !0
                        }
                    }]
                }),
                s = () => {
                    let {
                        enabled: e
                    } = a.useExperiment({
                        location: "faf26d_1"
                    }, {
                        autoTrackExposure: !1
                    });
                    return e
                },
                l = () => {
                    let {
                        enabled: e
                    } = a.getCurrentConfig({
                        location: "faf26d_2"
                    }, {
                        autoTrackExposure: !1
                    });
                    return e
                }
        },
        168067: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var i = (0, n("862205").createExperiment)({
                kind: "user",
                id: "2023-03_april_fools",
                label: "April Fools 2023",
                defaultConfig: {
                    allowAprilFoolsSoundpack: !1
                },
                treatments: [{
                    id: 1,
                    label: "April Fools 2023",
                    config: {
                        allowAprilFoolsSoundpack: !0
                    }
                }]
            })
        },
        157246: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                Soundpacks: function() {
                    return a
                },
                getSoundpackOptionsAprilFools2023: function() {
                    return l
                }
            });
            var i, a, s = n("782340");

            function l() {
                return [{
                    value: "classic",
                    label: s.default.Messages.SOUNDPACK_CLASSIC_LABEL
                }, {
                    value: "detune",
                    label: s.default.Messages.SOUNDPACK_DETUNE_LABEL
                }]
            }(i = a || (a = {})).CLASSIC = "classic", i.DETUNE = "detune"
        },
        870696: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var i = n("446674"),
                a = n("913144"),
                s = n("168067"),
                l = n("157246");
            let u = {
                soundpack: l.Soundpacks.CLASSIC
            };
            class d extends i.default.PersistedStore {
                initialize(e) {
                    s.default.subscribe({
                        location: "1"
                    }, () => this.emitChange()), null != e && (u = e)
                }
                getState() {
                    return u
                }
                getSoundpack() {
                    var e;
                    let {
                        allowAprilFoolsSoundpack: t
                    } = s.default.getCurrentConfig({
                        location: "37bac2_1"
                    }, {
                        autoTrackExposure: !1
                    });
                    return t && (e = u.soundpack, Object.values(l.Soundpacks).includes(e)) ? u.soundpack : l.Soundpacks.CLASSIC
                }
            }
            d.displayName = "SoundpackStore", d.persistKey = "SoundpackStore";
            var r = new d(a.default, {
                SET_SOUNDPACK: function(e) {
                    let {
                        soundpack: t
                    } = e;
                    u = {
                        soundpack: t
                    }
                }
            })
        },
        319291: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return s
                }
            });
            var i = n("157246");
            let a = {
                [i.Soundpacks.CLASSIC]: {
                    discodo: "discodo",
                    message1: "message1",
                    deafen: "deafen",
                    undeafen: "undeafen",
                    mute: "mute",
                    unmute: "unmute",
                    disconnect: "disconnect",
                    ptt_start: "ptt_start",
                    ptt_stop: "ptt_stop",
                    user_join: "user_join",
                    user_leave: "user_leave",
                    user_moved: "user_moved",
                    call_calling: "call_calling",
                    call_ringing: "call_ringing",
                    stream_started: "stream_started",
                    stream_ended: "stream_ended",
                    stream_user_joined: "stream_user_joined",
                    stream_user_left: "stream_user_left",
                    poggermode_enabled: "poggermode_enabled",
                    poggermode_applause: "poggermode_applause",
                    poggermode_achievement_unlock: "poggermode_achievement_unlock",
                    stage_waiting: "stage_waiting"
                },
                [i.Soundpacks.DETUNE]: {
                    discodo: "detune_discodo",
                    message1: "detune_message1",
                    deafen: "detune_deafen",
                    undeafen: "detune_undeafen",
                    mute: "detune_mute",
                    unmute: "detune_unmute",
                    disconnect: "detune_disconnect",
                    ptt_start: "detune_ptt_start",
                    ptt_stop: "detune_ptt_stop",
                    user_join: "detune_user_join",
                    user_leave: "detune_user_leave",
                    user_moved: "detune_user_moved",
                    call_calling: "detune_call_calling",
                    call_ringing: "detune_call_ringing",
                    stream_started: "detune_stream_started",
                    stream_ended: "detune_stream_ended",
                    stream_user_joined: "detune_stream_user_joined",
                    stream_user_left: "detune_stream_user_left"
                }
            };

            function s(e) {
                return a[e]
            }
        },
        385649: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var i = n("446674"),
                a = n("913144"),
                s = n("599110"),
                l = n("773336"),
                u = n("49111");
            let d = {
                    desktopType: l.isPlatformEmbedded ? u.DesktopNotificationTypes.ALL : u.DesktopNotificationTypes.NEVER,
                    disableAllSounds: !1,
                    disabledSounds: [],
                    ttsType: u.TTSNotificationTypes.NEVER,
                    disableUnreadBadge: !1,
                    taskbarFlash: !0,
                    notifyMessagesInSelectedChannel: !1
                },
                r = d;

            function o(e, t) {
                !__OVERLAY__ && s.default.track(e, t)
            }

            function c(e) {
                let {
                    desktopType: t
                } = e;
                r.desktopType = t, o(u.AnalyticEvents.LOCAL_SETTINGS_UPDATED, {
                    notifications_enabled: t === u.DesktopNotificationTypes.ALL
                })
            }
            class f extends i.default.DeviceSettingsStore {
                initialize(e) {
                    r = {
                        ...d,
                        ...e
                    }
                }
                getUserAgnosticState() {
                    return r
                }
                getDesktopType() {
                    return r.desktopType
                }
                getTTSType() {
                    return r.ttsType
                }
                getDisabledSounds() {
                    return r.disabledSounds
                }
                getDisableAllSounds() {
                    return r.disableAllSounds
                }
                getDisableUnreadBadge() {
                    return r.disableUnreadBadge
                }
                getNotifyMessagesInSelectedChannel() {
                    return r.notifyMessagesInSelectedChannel
                }
                get taskbarFlash() {
                    return r.taskbarFlash
                }
                isSoundDisabled(e) {
                    return r.disableAllSounds || -1 !== r.disabledSounds.indexOf(e)
                }
            }
            f.displayName = "NotificationSettingsStore", f.persistKey = "notifications", f.migrations = [e => {
                let t = {
                    ...e
                };
                return t.disabledSounds = t.disabledSounds || [], t.disableUnreadBadge = t.disableUnreadBadge || !1, t.taskbarFlash = null == t.taskbarFlash || t.taskbarFlash, t.ttsType = t.ttsType || u.TTSNotificationTypes.NEVER, null == t.desktopType && (t.desktopType = l.isPlatformEmbedded ? u.DesktopNotificationTypes.ALL : u.DesktopNotificationTypes.NEVER), t
            }];
            var p = new f(a.default, {
                NOTIFICATIONS_SET_DESKTOP_TYPE: c,
                NOTIFICATIONS_SET_TTS_TYPE: function(e) {
                    let {
                        ttsType: t
                    } = e;
                    r.ttsType = t
                },
                NOTIFICATIONS_SET_DISABLED_SOUNDS: function(e) {
                    let {
                        sounds: t
                    } = e;
                    r.disabledSounds = t
                },
                NOTIFICATIONS_TOGGLE_ALL_DISABLED: function() {
                    r.disableAllSounds = !r.disableAllSounds
                },
                NOTIFICATIONS_SET_PERMISSION_STATE: function(e) {
                    let {
                        enabled: t,
                        source: n
                    } = e;
                    o(u.AnalyticEvents.ENABLE_NOTIFICATIONS, {
                        enabled: t === u.NotificationPermissionTypes.ENABLED,
                        source: n
                    }), t === u.NotificationPermissionTypes.BLOCKED ? c({
                        desktopType: u.DesktopNotificationTypes.NEVER
                    }) : t === u.NotificationPermissionTypes.ENABLED && c({
                        desktopType: u.DesktopNotificationTypes.ALL
                    })
                },
                NOTIFICATIONS_SET_DISABLE_UNREAD_BADGE: function(e) {
                    let {
                        disableUnreadBadge: t
                    } = e;
                    r.disableUnreadBadge = t
                },
                NOTIFICATIONS_SET_TASKBAR_FLASH: function(e) {
                    let {
                        taskbarFlash: t
                    } = e;
                    r.taskbarFlash = t
                },
                NOTIFICATIONS_SET_NOTIFY_MESSAGES_IN_SELECTED_CHANNEL: function(e) {
                    let {
                        notify: t
                    } = e;
                    r.notifyMessagesInSelectedChannel = t
                }
            })
        },
        427302: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return g
                }
            }), n("222007");
            var i = n("37983"),
                a = n("884691"),
                s = n("414456"),
                l = n.n(s),
                u = n("77078"),
                d = n("145079"),
                r = n("86621"),
                o = n("506885"),
                c = n("981601"),
                f = n("145131"),
                p = n("49111"),
                m = n("123106");
            class _ extends a.Component {
                render() {
                    let {
                        popoutOpen: e
                    } = this.state, {
                        user: t,
                        analyticsContext: n,
                        disablePopout: a,
                        guildId: s
                    } = this.props, l = {
                        location: {
                            ...n.location,
                            object: p.AnalyticsObjects.LIST_ITEM
                        }
                    };
                    return (0, i.jsx)(u.Popout, {
                        preload: () => (0, o.default)(t.id, t.getAvatarURL(s, 80), {
                            guildId: s
                        }),
                        renderPopout: e => (0, i.jsx)(c.default, {
                            ...e,
                            guildId: s,
                            userId: t.id,
                            analyticsParams: l
                        }),
                        position: "left",
                        onRequestClose: this.handleUserPopoutClose,
                        shouldShow: !a && e,
                        children: e => this.renderUserPopout(e)
                    })
                }
                constructor(...e) {
                    super(...e), this.state = {
                        popoutOpen: !1
                    }, this.handleClickUser = () => {
                        let {
                            onPopoutOpen: e
                        } = this.props;
                        this.setState({
                            popoutOpen: !this.state.popoutOpen
                        }), null == e || e()
                    }, this.handleUserPopoutClose = () => {
                        let {
                            onPopoutClose: e
                        } = this.props;
                        this.setState({
                            popoutOpen: !1
                        }), null == e || e()
                    }, this.renderUserPopout = e => {
                        let {
                            className: t,
                            disablePopout: n,
                            onContextMenu: a,
                            user: s,
                            status: r,
                            textClassName: o,
                            nick: c,
                            guildId: p
                        } = this.props;
                        return (0, i.jsxs)(f.default, {
                            align: f.default.Align.CENTER,
                            className: l(m.memberListItem, t, {
                                [m.popoutDisabled]: n
                            }),
                            onContextMenu: a,
                            onMouseDown: e.onMouseDown,
                            onKeyDown: e.onKeyDown,
                            onClick: this.handleClickUser,
                            children: [(0, i.jsx)(u.Avatar, {
                                src: s.getAvatarURL(p, 24),
                                className: m.avatar,
                                "aria-label": s.username,
                                size: u.AvatarSizes.SIZE_24,
                                status: r
                            }), (0, i.jsx)(u.Text, {
                                className: l(m.memberListItemTag, o),
                                variant: "text-sm/normal",
                                children: (0, i.jsx)(d.default, {
                                    user: s,
                                    nick: c,
                                    usernameClass: m.username,
                                    hideDiscriminator: !0
                                })
                            })]
                        })
                    }
                }
            }
            _.defaultProps = {
                disablePopout: !1
            };
            var g = (0, r.default)(_)
        },
        774223: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return s
                }
            });
            var i = n("37983");
            n("884691");
            var a = n("75196");

            function s(e) {
                let {
                    width: t = 24,
                    height: n = 24,
                    color: s = "currentColor",
                    className: l,
                    foreground: u,
                    ...d
                } = e;
                return (0, i.jsx)("svg", {
                    ...(0, a.default)(d),
                    className: l,
                    width: t,
                    height: n,
                    viewBox: "0 0 24 24",
                    children: (0, i.jsx)("path", {
                        className: u,
                        fill: s,
                        fillRule: "evenodd",
                        clipRule: "evenodd",
                        d: "M2 11C2 6.02944 6.02944 2 11 2H13C17.9706 2 22 6.02944 22 11V19C22 20.6569 20.6569 22 19 22H5C3.34315 22 2 20.6569 2 19V11ZM5.88 5.82497C4.71048 6.55593 4 7.83781 4 9.21697V18.7192C4 19.3698 4.61139 19.8471 5.24254 19.6893L10.9558 18.261C11.5695 18.1076 12 17.5562 12 16.9236V9.21697C12 6.07522 8.5442 4.15985 5.88 5.82497ZM10 12C10 11.4477 9.55228 11 9 11C8.44772 11 8 11.4477 8 12V14C8 14.5523 8.44772 15 9 15C9.55228 15 10 14.5523 10 14V12ZM17.6832 9.47564C17.4485 8.84145 16.5515 8.84145 16.3168 9.47564L16.1387 9.95707C15.9361 10.5045 15.5045 10.9361 14.9571 11.1387L14.4756 11.3168C13.8415 11.5515 13.8415 12.4485 14.4756 12.6832L14.9571 12.8613C15.5045 13.0639 15.9361 13.4955 16.1387 14.0429L16.3168 14.5244C16.5515 15.1585 17.4485 15.1585 17.6832 14.5244L17.8613 14.0429C18.0639 13.4955 18.4955 13.0639 19.0429 12.8613L19.5244 12.6832C20.1585 12.4485 20.1585 11.5515 19.5244 11.3168L19.0429 11.1387C18.4955 10.9361 18.0639 10.5045 17.8613 9.95707L17.6832 9.47564ZM14.1584 5.23782C14.2758 4.92073 14.7242 4.92073 14.8416 5.23782C14.9994 5.66433 15.3357 6.0006 15.7622 6.15842C16.0793 6.27576 16.0793 6.72424 15.7622 6.84158C15.3357 6.9994 14.9994 7.33567 14.8416 7.76218C14.7242 8.07927 14.2758 8.07927 14.1584 7.76218C14.0006 7.33567 13.6643 6.9994 13.2378 6.84158C12.9207 6.72424 12.9207 6.27576 13.2378 6.15842C13.6643 6.0006 14.0006 5.66433 14.1584 5.23782ZM18.8416 16.2378C18.7242 15.9207 18.2758 15.9207 18.1584 16.2378C18.0006 16.6643 17.6643 17.0006 17.2378 17.1584C16.9207 17.2758 16.9207 17.7242 17.2378 17.8416C17.6643 17.9994 18.0006 18.3357 18.1584 18.7622C18.2758 19.0793 18.7242 19.0793 18.8416 18.7622C18.9994 18.3357 19.3357 17.9994 19.7622 17.8416C20.0793 17.7242 20.0793 17.2758 19.7622 17.1584C19.3357 17.0006 18.9994 16.6643 18.8416 16.2378Z"
                    })
                })
            }
        },
        709681: function(e, t, n) {
            "use strict";
            let i;
            n.r(t), n.d(t, {
                createSoundForPack: function() {
                    return u
                },
                createSound: function() {
                    return d
                },
                playSound: function() {
                    return r
                }
            });
            var a = n("870696"),
                s = n("319291"),
                l = n("102985");

            function u(e, t) {
                var n;
                let i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,
                    a = (0, s.default)(t);
                return d(null !== (n = a[e]) && void 0 !== n ? n : e, e, i)
            }

            function d(e, t) {
                let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
                return new i(e, t, n)
            }

            function r(e) {
                var t;
                let n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                    i = arguments.length > 2 ? arguments[2] : void 0;
                if (l.default.disableSounds) return;
                let u = (0, s.default)(a.default.getSoundpack()),
                    r = d(null !== (t = u[e]) && void 0 !== t ? t : e, e, n);
                return null != i ? r.playWithListener().then(e => {
                    e && i()
                }) : r.play(), r
            }
            i = n("895737").WebAudioSound
        },
        895737: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                playGiftSound: function() {
                    return c
                },
                WebAudioSound: function() {
                    return p
                }
            }), n("70102");
            var i = n("917351"),
                a = n.n(i),
                s = n("520497"),
                l = n("812809"),
                u = n("42887"),
                d = n("773336");
            let r = "default",
                o = r;

            function c(e, t) {
                let n = new Audio((0, s.default)(e));
                n.volume = (0, l.default)(t), n.play()
            }

            function f() {
                null != window.navigator.mediaDevices && window.navigator.mediaDevices.enumerateDevices().then(e => {
                    let t = u.default.getOutputDevices(),
                        n = a(t).sortBy(e => e.index).findIndex(e => e.id === u.default.getOutputDeviceId()),
                        i = t[u.default.getOutputDeviceId()],
                        s = e.filter(e => "audiooutput" === e.kind && "communications" !== e.deviceId),
                        l = s[n];
                    null != i && (null == l || l.label !== i.name) && (l = s.find(e => e.label === i.name)), o = null != l ? l.deviceId : r
                }).catch(() => {
                    o = r
                })
            }
            d.isPlatformEmbedded && (u.default.addChangeListener(f), f());
            class p {
                get volume() {
                    return this._volume
                }
                set volume(e) {
                    this._volume = e, this._ensureAudio().then(t => t.volume = e)
                }
                loop() {
                    this._ensureAudio().then(e => {
                        e.loop = !0, e.play()
                    })
                }
                play() {
                    this._ensureAudio().then(e => {
                        e.loop = !1, e.play()
                    })
                }
                pause() {
                    null != this._audio && this._audio.then(e => e.pause())
                }
                stop() {
                    this._destroyAudio()
                }
                playWithListener() {
                    return new Promise((e, t) => {
                        this._ensureAudio().then(n => {
                            (null == n.duration || 0 === n.duration) && t("sound has no duration"), n.play(), setTimeout(() => {
                                e(!0)
                            }, n.duration)
                        })
                    })
                }
                _destroyAudio() {
                    null != this._audio && (this._audio.then(e => {
                        e.pause(), e.src = ""
                    }), this._audio = null)
                }
                _ensureAudio() {
                    var e;
                    return this._audio = null !== (e = this._audio) && void 0 !== e ? e : new Promise((e, t) => {
                        let i = new Audio;
                        i.src = n("89400")("../../sounds/".concat(this.name, ".mp3").replace("../../sounds/", "./")), i.onloadeddata = () => {
                            i.volume = Math.min(u.default.getOutputVolume() / 100 * this._volume, 1), d.isPlatformEmbedded && i.setSinkId(o), e(i)
                        }, i.onerror = () => t(Error("could not play audio")), i.onended = () => this._destroyAudio(), i.load()
                    }), this._audio
                }
                constructor(e, t, n) {
                    this.name = e, this._volume = n
                }
            }
        }
    }
]);