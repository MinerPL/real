(this.webpackChunkdiscord_app = this.webpackChunkdiscord_app || []).push([
    ["75178"], {
        89400: function(e, t, n) {
            var i = {
                "./activities-rocket-time.mp3": "329160",
                "./activity_end.mp3": "376343",
                "./activity_launch.mp3": "865814",
                "./activity_user_join.mp3": "44774",
                "./activity_user_left.mp3": "964929",
                "./call_calling.mp3": "32596",
                "./call_ringing.mp3": "173447",
                "./call_ringing_beat.mp3": "942044",
                "./call_ringing_halloween.mp3": "707746",
                "./call_ringing_snowsgiving.mp3": "753257",
                "./clip_error.mp3": "933574",
                "./clip_save.mp3": "393686",
                "./ddr-down.mp3": "497452",
                "./ddr-left.mp3": "524997",
                "./ddr-right.mp3": "888937",
                "./ddr-up.mp3": "341667",
                "./deafen.mp3": "866563",
                "./detune_call_calling.mp3": "563137",
                "./detune_call_ringing.mp3": "905829",
                "./detune_deafen.mp3": "575866",
                "./detune_discodo.mp3": "488859",
                "./detune_disconnect.mp3": "574665",
                "./detune_message1.mp3": "881288",
                "./detune_mute.mp3": "22295",
                "./detune_ptt_start.mp3": "409382",
                "./detune_ptt_stop.mp3": "805441",
                "./detune_stream_ended.mp3": "274007",
                "./detune_stream_started.mp3": "887823",
                "./detune_stream_user_joined.mp3": "203788",
                "./detune_stream_user_left.mp3": "118472",
                "./detune_undeafen.mp3": "494640",
                "./detune_unmute.mp3": "434247",
                "./detune_user_join.mp3": "99572",
                "./detune_user_leave.mp3": "894653",
                "./detune_user_moved.mp3": "267717",
                "./discodo.mp3": "904613",
                "./disconnect.mp3": "17802",
                "./hang_status_select.mp3": "980401",
                "./highfive_clap.mp3": "362389",
                "./highfive_whistle.mp3": "937092",
                "./human_man.mp3": "649460",
                "./mention1.mp3": "748590",
                "./mention2.mp3": "345856",
                "./mention3.mp3": "607031",
                "./message1.mp3": "302509",
                "./message2.mp3": "458161",
                "./message3.mp3": "436814",
                "./mute.mp3": "992974",
                "./overlayunlock.mp3": "112157",
                "./poggermode_achievement_unlock.mp3": "537390",
                "./poggermode_applause.mp3": "829719",
                "./poggermode_enabled.mp3": "988826",
                "./poggermode_message_send.mp3": "305456",
                "./ptt_start.mp3": "15872",
                "./ptt_stop.mp3": "144821",
                "./reconnect.mp3": "110276",
                "./robot_man.mp3": "437477",
                "./stage_waiting.mp3": "44122",
                "./stream_ended.mp3": "855479",
                "./stream_started.mp3": "829131",
                "./stream_user_joined.mp3": "713959",
                "./stream_user_left.mp3": "877990",
                "./success.mp3": "87973",
                "./undeafen.mp3": "990161",
                "./unmute.mp3": "216636",
                "./user_join.mp3": "170438",
                "./user_leave.mp3": "911578",
                "./user_moved.mp3": "455307"
            };

            function a(e) {
                return n(u(e))
            }

            function u(e) {
                if (!n.o(i, e)) {
                    var t = Error("Cannot find module '" + e + "'");
                    throw t.code = "MODULE_NOT_FOUND", t
                }
                return i[e]
            }
            a.id = '"89400"', a.keys = function() {
                return Object.keys(i)
            }, a.resolve = u, e.exports = a
        },
        329160: function(e, t, n) {
            "use strict";
            e.exports = n.p + "f8fb88f65f33f224c7b3.mp3"
        },
        376343: function(e, t, n) {
            "use strict";
            e.exports = n.p + "ff974df9426e43392cbf.mp3"
        },
        865814: function(e, t, n) {
            "use strict";
            e.exports = n.p + "259813ba8e00b2a211cb.mp3"
        },
        44774: function(e, t, n) {
            "use strict";
            e.exports = n.p + "70b22eab409925d6f8f8.mp3"
        },
        964929: function(e, t, n) {
            "use strict";
            e.exports = n.p + "bb8db567f29cb0cd4fef.mp3"
        },
        32596: function(e, t, n) {
            "use strict";
            e.exports = n.p + "bc4e660a66b0712b5114.mp3"
        },
        173447: function(e, t, n) {
            "use strict";
            e.exports = n.p + "e72bd9a68c5a5de4b084.mp3"
        },
        942044: function(e, t, n) {
            "use strict";
            e.exports = n.p + "1339b5d1d553f40ac2bc.mp3"
        },
        707746: function(e, t, n) {
            "use strict";
            e.exports = n.p + "e19cc32298b291be6b3d.mp3"
        },
        753257: function(e, t, n) {
            "use strict";
            e.exports = n.p + "3c6cc93eaab97c478abe.mp3"
        },
        933574: function(e, t, n) {
            "use strict";
            e.exports = n.p + "46ecf97d21def02d585f.mp3"
        },
        393686: function(e, t, n) {
            "use strict";
            e.exports = n.p + "607f4f5830fc13d0b251.mp3"
        },
        497452: function(e, t, n) {
            "use strict";
            e.exports = n.p + "c02408469ee033a4ee3a.mp3"
        },
        524997: function(e, t, n) {
            "use strict";
            e.exports = n.p + "fbf60e1284cc54dc0e5e.mp3"
        },
        888937: function(e, t, n) {
            "use strict";
            e.exports = n.p + "ea5f09e9af94f92edc3a.mp3"
        },
        341667: function(e, t, n) {
            "use strict";
            e.exports = n.p + "615ef618987056fd1bd2.mp3"
        },
        866563: function(e, t, n) {
            "use strict";
            e.exports = n.p + "6cb3ea10151e5b2ffb07.mp3"
        },
        563137: function(e, t, n) {
            "use strict";
            e.exports = n.p + "fef4303b284e8445f8e9.mp3"
        },
        905829: function(e, t, n) {
            "use strict";
            e.exports = n.p + "0218b16de15cb2f7724c.mp3"
        },
        575866: function(e, t, n) {
            "use strict";
            e.exports = n.p + "3ab587f5e0363cb3b453.mp3"
        },
        488859: function(e, t, n) {
            "use strict";
            e.exports = n.p + "a6e48e91e0069b28d2ca.mp3"
        },
        574665: function(e, t, n) {
            "use strict";
            e.exports = n.p + "c2e8cc718f4394e2fd6d.mp3"
        },
        881288: function(e, t, n) {
            "use strict";
            e.exports = n.p + "582c42ea90dc65482716.mp3"
        },
        22295: function(e, t, n) {
            "use strict";
            e.exports = n.p + "77b7d43241726f405cc1.mp3"
        },
        409382: function(e, t, n) {
            "use strict";
            e.exports = n.p + "08385764d2c5b826af6b.mp3"
        },
        805441: function(e, t, n) {
            "use strict";
            e.exports = n.p + "2da7a98f354d6208d66f.mp3"
        },
        274007: function(e, t, n) {
            "use strict";
            e.exports = n.p + "70a0184ec509ec277062.mp3"
        },
        887823: function(e, t, n) {
            "use strict";
            e.exports = n.p + "cb8e5ebd782353d41f83.mp3"
        },
        203788: function(e, t, n) {
            "use strict";
            e.exports = n.p + "6d2fdab68b3e6d97914f.mp3"
        },
        118472: function(e, t, n) {
            "use strict";
            e.exports = n.p + "674ddc50a69a27d0c36c.mp3"
        },
        494640: function(e, t, n) {
            "use strict";
            e.exports = n.p + "62f48861f90d5e622587.mp3"
        },
        434247: function(e, t, n) {
            "use strict";
            e.exports = n.p + "de752bcdde8d8c52ab11.mp3"
        },
        99572: function(e, t, n) {
            "use strict";
            e.exports = n.p + "0fc2742bb405e81bc1c4.mp3"
        },
        894653: function(e, t, n) {
            "use strict";
            e.exports = n.p + "9bb7b5e7d71c1fcbb69b.mp3"
        },
        267717: function(e, t, n) {
            "use strict";
            e.exports = n.p + "2305850be26e674a9bc0.mp3"
        },
        904613: function(e, t, n) {
            "use strict";
            e.exports = n.p + "44208515805198d4c548.mp3"
        },
        17802: function(e, t, n) {
            "use strict";
            e.exports = n.p + "e08aa3fc806a6137b9af.mp3"
        },
        980401: function(e, t, n) {
            "use strict";
            e.exports = n.p + "d20b9636e9ef7c82b9ec.mp3"
        },
        362389: function(e, t, n) {
            "use strict";
            e.exports = n.p + "6cc13ddadaadc1e9acfb.mp3"
        },
        937092: function(e, t, n) {
            "use strict";
            e.exports = n.p + "06b0ec919358fd00a1c9.mp3"
        },
        649460: function(e, t, n) {
            "use strict";
            e.exports = n.p + "1003a3a0720d56ebe8d8.mp3"
        },
        748590: function(e, t, n) {
            "use strict";
            e.exports = n.p + "6fded0954ad6fa7fc2ec.mp3"
        },
        345856: function(e, t, n) {
            "use strict";
            e.exports = n.p + "57cd70365a486a399e4a.mp3"
        },
        607031: function(e, t, n) {
            "use strict";
            e.exports = n.p + "951cb91ee4aedb54e555.mp3"
        },
        302509: function(e, t, n) {
            "use strict";
            e.exports = n.p + "7e95e417e6decf91459a.mp3"
        },
        458161: function(e, t, n) {
            "use strict";
            e.exports = n.p + "d98b3cb5756a0c4908ab.mp3"
        },
        436814: function(e, t, n) {
            "use strict";
            e.exports = n.p + "b8fbd5bcaed3d51b8b73.mp3"
        },
        992974: function(e, t, n) {
            "use strict";
            e.exports = n.p + "574a4b46a370c821f4c2.mp3"
        },
        112157: function(e, t, n) {
            "use strict";
            e.exports = n.p + "9be773476c4dfc20a049.mp3"
        },
        537390: function(e, t, n) {
            "use strict";
            e.exports = n.p + "99e4a1dff8fdc40994d0.mp3"
        },
        829719: function(e, t, n) {
            "use strict";
            e.exports = n.p + "98cc8cdf9f7711301b27.mp3"
        },
        988826: function(e, t, n) {
            "use strict";
            e.exports = n.p + "9b0de13058a4eff892f3.mp3"
        },
        305456: function(e, t, n) {
            "use strict";
            e.exports = n.p + "789fbb057da285769ee4.mp3"
        },
        15872: function(e, t, n) {
            "use strict";
            e.exports = n.p + "e02be8f7ceaa6b3a2e72.mp3"
        },
        144821: function(e, t, n) {
            "use strict";
            e.exports = n.p + "8d26e762622d49b2a607.mp3"
        },
        110276: function(e, t, n) {
            "use strict";
            e.exports = n.p + "09d327b608c3bd75cd85.mp3"
        },
        437477: function(e, t, n) {
            "use strict";
            e.exports = n.p + "c9a9c1767b82a09a02d1.mp3"
        },
        44122: function(e, t, n) {
            "use strict";
            e.exports = n.p + "b33d3bd272e8ad1308f1.mp3"
        },
        855479: function(e, t, n) {
            "use strict";
            e.exports = n.p + "1877b1bd5a52d560309a.mp3"
        },
        829131: function(e, t, n) {
            "use strict";
            e.exports = n.p + "57251e1318cb6545df91.mp3"
        },
        713959: function(e, t, n) {
            "use strict";
            e.exports = n.p + "1387160f6f2937093609.mp3"
        },
        877990: function(e, t, n) {
            "use strict";
            e.exports = n.p + "215c23b18a529793b0c3.mp3"
        },
        87973: function(e, t, n) {
            "use strict";
            e.exports = n.p + "220087059cee59de6537.mp3"
        },
        990161: function(e, t, n) {
            "use strict";
            e.exports = n.p + "a338e62624013a20f7df.mp3"
        },
        216636: function(e, t, n) {
            "use strict";
            e.exports = n.p + "94ac01bdba0749ee103c.mp3"
        },
        170438: function(e, t, n) {
            "use strict";
            e.exports = n.p + "e4c08b716d0db705facc.mp3"
        },
        911578: function(e, t, n) {
            "use strict";
            e.exports = n.p + "14601f9cdbd78f8fe7ef.mp3"
        },
        455307: function(e, t, n) {
            "use strict";
            e.exports = n.p + "aaa90875db91174f3e8a.mp3"
        },
        13136: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return a
                }
            }), n("686130"), n("781738");
            let i = /[<>:"/\\|?*\.]/g;
            var a = function(e) {
                return e.replaceAll(i, "").trim().replaceAll(" ", "_")
            }
        },
        881095: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return m
                }
            });
            var i = n("374014"),
                a = n("373469"),
                u = n("271938"),
                r = n("824563"),
                o = n("945956"),
                s = n("568307"),
                d = n("800762"),
                l = n("299039"),
                c = n("80028"),
                p = n("49111"),
                f = n("782340");

            function m(e) {
                let {
                    sourceName: t,
                    sourceApplicationId: n
                } = function(e) {
                    var t, n;
                    if (null != e) {
                        let {
                            ownerId: t
                        } = i.decodeStreamKey(e);
                        if (t !== u.default.getId()) {
                            let e = r.default.getActivities(t).find(e => e.type === p.ActivityTypes.PLAYING);
                            return {
                                sourceName: null == e ? void 0 : e.name,
                                sourceApplicationId: null == e ? void 0 : e.application_id
                            }
                        }
                    }
                    let o = a.default.getStreamerActiveStreamMetadata(),
                        d = null == o ? void 0 : o.pid,
                        l = null != o ? null != d ? s.default.getGameForPID(d) : null : s.default.getVisibleGame();
                    return {
                        sourceName: null !== (t = null == o ? void 0 : o.sourceName) && void 0 !== t ? t : null == l ? void 0 : l.name,
                        sourceApplicationId: null !== (n = null == o ? void 0 : o.id) && void 0 !== n ? n : null == l ? void 0 : l.id
                    }
                }(e), m = o.default.getChannelId(), _ = [u.default.getId()];
                return null != m && (_ = Object.keys(d.default.getVoiceStatesForChannel(m))), {
                    id: l.default.fromTimestamp(Date.now()),
                    version: c.CURRENT_CLIP_METADATA_VERSION,
                    applicationName: null != t ? t : f.default.Messages.CLIPS_UNKNOWN_SOURCE,
                    applicationId: n,
                    users: _,
                    clipMethod: "manual",
                    length: 0,
                    thumbnail: ""
                }
            }
        },
        997942: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                validateClipMetadata: function() {
                    return r
                }
            }), n("222007"), n("808653");
            var i = n("80028");
            let a = [e => {
                    let t = {
                        ...e,
                        version: 1,
                        applicationName: e.gameName,
                        applicationId: void 0
                    };
                    return delete t.gameName, t
                }, e => {
                    let t = {
                        ...e,
                        version: 2,
                        name: e.name.startsWith("Clip - ") ? void 0 : e.name
                    };
                    return t
                }, e => {
                    let t = {
                        ...e,
                        version: 3,
                        name: "" === e.name ? void 0 : e.name
                    };
                    return t
                }],
                u = null;
            async function r(e) {
                var t;
                let r = (await n.el("990599").then(n.t.bind(n, "990599", 23))).default;
                let o = (t = r, null != u ? u : u = t.object({
                    id: t.string().required(),
                    version: t.number().positive().integer().min(0).max(i.CURRENT_CLIP_METADATA_VERSION).optional(),
                    name: t.string().when("version", {
                        is: t.number().less(3),
                        then: t.string().allow("")
                    }),
                    gameName: t.string().when("version", {
                        is: t.number().greater(0).required(),
                        then: t.forbidden(),
                        otherwise: t.required()
                    }),
                    applicationName: t.string().when("version", {
                        is: t.number().greater(0).required(),
                        then: t.required(),
                        otherwise: t.forbidden()
                    }),
                    applicationId: t.string(),
                    users: t.array().items(t.string()).required(),
                    filepath: t.string().required(),
                    length: t.number().required(),
                    thumbnail: t.string().required().allow(""),
                    editMetadata: t.object().keys({
                        start: t.number(),
                        end: t.number(),
                        applicationAudio: t.boolean(),
                        voiceAudio: t.boolean()
                    }),
                    clipMethod: t.string().allow("auto", "manual").required()
                }).required());
                try {
                    r.assert(e, o);
                    return null == e.version && (e.version = 0), a.slice(e.version).reduce((e, t) => t(e), e)
                } catch (e) {
                    return null
                }
            }
        },
        803725: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                updateAllowVoiceRecording: function() {
                    return w
                },
                updateClipsEnabled: function() {
                    return T
                },
                updateDecoupledClipsEnabled: function() {
                    return D
                },
                updateClipsStorageLocation: function() {
                    return P
                },
                updateClipsQuality: function() {
                    return N
                },
                updateClipsLength: function() {
                    return k
                },
                updateViewerClipsEnabled: function() {
                    return U
                },
                saveClip: function() {
                    return O
                },
                updateClipMetadata: function() {
                    return F
                },
                clearClipsSession: function() {
                    return V
                },
                clearNewClipIds: function() {
                    return j
                },
                loadClipsDirectory: function() {
                    return G
                },
                deleteClip: function() {
                    return B
                },
                exportClip: function() {
                    return H
                }
            }), n("222007"), n("424973");
            var i = n("750028"),
                a = n("913144"),
                u = n("49671"),
                r = n("44642"),
                o = n("374014"),
                s = n("584687"),
                d = n("103979"),
                l = n("872173"),
                c = n("268491"),
                p = n("373469"),
                f = n("271938"),
                m = n("42887"),
                _ = n("568307"),
                g = n("205817"),
                v = n("599110"),
                b = n("773336"),
                h = n("709681"),
                S = n("386045"),
                C = n("13136"),
                E = n("881095"),
                I = n("997942"),
                y = n("310238"),
                A = n("99366"),
                x = n("80028"),
                L = n("49111");

            function w(e) {
                let {
                    allowVoiceRecording: t
                } = e;
                l.PreloadedUserSettingsActionCreators.updateAsync("clips", e => {
                    e.allowVoiceRecording = i.BoolValue.create({
                        value: t
                    })
                }, l.UserSettingsDelay.INFREQUENT_USER_ACTION), v.default.track(L.AnalyticEvents.CLIPS_SETTINGS_UPDATED, {
                    allow_voice_recording: t
                })
            }
            async function T(e) {
                let {
                    clipsEnabled: t,
                    guildId: n,
                    trackAnalytics: i = !1
                } = e;
                await a.default.dispatch({
                    type: "CLIPS_SETTINGS_UPDATE",
                    settings: {
                        clipsEnabled: t,
                        ...!t && {
                            decoupledClipsEnabled: !1
                        }
                    }
                }), i && v.default.track(L.AnalyticEvents.CLIPS_SETTINGS_UPDATED, {
                    clips_enabled: t,
                    guild_id: n,
                    ...!t && {
                        decoupled_clips_enabled: !1
                    }
                })
            }

            function D(e) {
                let {
                    enabled: t,
                    trackAnalytics: n = !1
                } = e;
                a.default.dispatch({
                    type: "CLIPS_SETTINGS_UPDATE",
                    settings: {
                        ...t && {
                            clipsEnabled: !0
                        },
                        decoupledClipsEnabled: t
                    }
                }), n && v.default.track(L.AnalyticEvents.CLIPS_SETTINGS_UPDATED, {
                    ...t && {
                        clips_enabled: !0
                    },
                    decoupled_clips_enabled: t
                })
            }

            function P(e) {
                a.default.dispatch({
                    type: "CLIPS_SETTINGS_UPDATE",
                    settings: {
                        storageLocation: e
                    }
                })
            }

            function N(e) {
                a.default.dispatch({
                    type: "CLIPS_SETTINGS_UPDATE",
                    settings: {
                        clipsQuality: e
                    }
                })
            }

            function k(e) {
                a.default.dispatch({
                    type: "CLIPS_SETTINGS_UPDATE",
                    settings: {
                        clipsLength: e
                    }
                })
            }

            function U(e) {
                a.default.dispatch({
                    type: "CLIPS_SETTINGS_UPDATE",
                    settings: {
                        viewerClipsEnabled: e
                    }
                })
            }

            function R(e, t) {
                var n, i, a, u, o, s, d, l, p, f;
                let m = new Map;
                for (let e in t.framesEncodedByEncoder) {
                    let i = t.framesEncodedByEncoder[e],
                        a = (0, r.parseEncoder)(e),
                        u = null !== (n = m.get(a)) && void 0 !== n ? n : 0;
                    m.set(a, u + i)
                }
                return {
                    ...e,
                    frames_encoded_nvidia_cuda: null !== (i = m.get(r.Encoders.NVIDIA_CUDA)) && void 0 !== i ? i : 0,
                    frames_encoded_nvidia_direct3d: null !== (a = m.get(r.Encoders.NVIDIA_DIRECT_3D)) && void 0 !== a ? a : 0,
                    frames_encoded_openh264: null !== (u = m.get(r.Encoders.OPENH264)) && void 0 !== u ? u : 0,
                    frames_encoded_videotoolbox: null !== (o = m.get(r.Encoders.VIDEOTOOLBOX)) && void 0 !== o ? o : 0,
                    frames_encoded_amd_direct3d: null !== (s = m.get(r.Encoders.AMD_DIRECT_3D)) && void 0 !== s ? s : 0,
                    frames_encoded_intel: null !== (d = m.get(r.Encoders.INTEL)) && void 0 !== d ? d : 0,
                    frames_encoded_intel_direct3d: null !== (l = m.get(r.Encoders.INTEL_DIRECT_3D)) && void 0 !== l ? l : 0,
                    frames_encoded_uncategorized: null !== (p = m.get(r.Encoders.UNCATEGORIZED)) && void 0 !== p ? p : 0,
                    frames_encoded_unknown: null !== (f = m.get(r.Encoders.UNKNOWN)) && void 0 !== f ? f : 0,
                    frames_submitted: t.framesSubmitted,
                    frames_submitted_during_clip: t.framesSubmittedDuringClip,
                    frames_encoded: t.framesEncoded,
                    frames_encoded_during_clip: t.framesEncodedDuringClip,
                    frames_dropped: t.framesDropped,
                    frames_dropped_during_clip: t.framesDroppedDuringClip,
                    clip_duration_setting: S.default.getSettings().clipsLength,
                    clip_duration: t.clipDuration,
                    clip_resolution_width: t.clipResolutionWidth,
                    clip_resolution_height: t.clipResolutionHeight,
                    min_fps: t.minFps,
                    max_fps: t.maxFps,
                    submitted_fps: t.submittedFps,
                    target_fps: c.default.getState().fps,
                    audio_track_count: t.audioTrackCount,
                    saved_at: t.savedAt
                }
            }
            async function M(e) {
                let t = S.default.getSettings(),
                    n = t.storageLocation,
                    i = (0, E.default)(e),
                    r = "".concat((0, C.default)(i.applicationName.substring(0, 20)), "_").concat(i.id, ".mp4"),
                    s = u.default.fileManager.join(n, r),
                    d = m.default.getMediaEngine(),
                    l = JSON.stringify(i),
                    c = null != e ? (0, o.decodeStreamKey)(e).ownerId : void 0,
                    _ = function(e) {
                        var t;
                        let n, i, a;
                        if (null != e) {
                            n = null != e ? g.default.getRTCConnection(e) : null;
                            let t = (0, o.decodeStreamKey)(e);
                            i = t.guildId, a = t.channelId
                        } else {
                            let e = f.default.getId(),
                                t = p.default.getActiveStreamForUser(e, null);
                            n = null != t ? g.default.getRTCConnection((0, o.encodeStreamKey)(t)) : null, i = null == t ? void 0 : t.guildId, a = null == t ? void 0 : t.channelId
                        }
                        let u = null == n ? void 0 : null === (t = n.analyticsContext) || void 0 === t ? void 0 : t.streamApplication;
                        return {
                            rtc_connection_id: null == n ? void 0 : n.getRTCConnectionId(),
                            media_session_id: null == n ? void 0 : n.getMediaSessionId(),
                            parent_media_session_id: null == n ? void 0 : n.parentMediaSessionId,
                            guild_id: i,
                            channel_id: a,
                            application_id: null == u ? void 0 : u.id,
                            application_name: null == u ? void 0 : u.name
                        }
                    }(e);
                null != e && a.default.dispatch({
                    type: "CLIPS_SAVE_CLIP_PLACEHOLDER",
                    clip: {
                        ...i,
                        filepath: s
                    }
                });
                try {
                    var b;
                    let {
                        duration: e,
                        thumbnail: t,
                        clipStats: n
                    } = await (null != c ? d.saveClipForUser(c, s, l) : d.saveClip(s, l)), a = R(_, n);
                    a.clip_save_time_ms = n.clipSaveTimeMs, a.clip_size_bytes = n.clipSizeBytes, null != n.viewerDecodeFps && (a.decode_fps_during_clip = n.viewerDecodeFps, a.encode_fps_during_clip = n.viewerEncodeFps, a.target_fps = null), v.default.track(L.AnalyticEvents.CLIP_SAVED, a);
                    let r = await (null != u.default.clips.getClipProtocolURLFromPath ? (0, A.createThumbnailFromVideo)(u.default.clips.getClipProtocolURLFromPath(s), 0) : (0, A.createThumbnail)(t));
                    return i.thumbnail = r, i.length = e, x.ClipsLogger.info("Clip save succeeded with ".concat(e, "ms and thumbnail ").concat(null !== (b = null == r ? void 0 : r.length) && void 0 !== b ? b : 0, " bytes thumbnail.")), await d.updateClipMetadata(s, JSON.stringify(i)), {
                        ...i,
                        filepath: s
                    }
                } catch (n) {
                    if (null != e && a.default.dispatch({
                            type: "CLIPS_SAVE_CLIP_PLACEHOLDER_ERROR",
                            clipId: i.id
                        }), !("errorMessage" in n)) throw v.default.track(L.AnalyticEvents.CLIP_SAVE_FAILURE, _), n;
                    let t = R(_, n);
                    throw t.error_at = n.errorAt, t.error_message = n.errorMessage, v.default.track(L.AnalyticEvents.CLIP_SAVE_FAILURE, t), n.errorMessage
                }
            }
            async function O(e) {
                var t;
                let {
                    enableDecoupledGameClipping: n
                } = s.default.getCurrentConfig({
                    location: "8ac9d1_1"
                }, {
                    autoTrackExposure: !1
                }), {
                    enableViewerClipping: i
                } = d.default.getCurrentConfig({
                    location: "SaveClip"
                }, {
                    autoTrackExposure: !1
                });
                if (S.default.getIsAtMaxSaveClipOperations()) return;
                let u = S.default.getSettings().clipsEnabled && null != p.default.getCurrentUserActiveStream(),
                    r = n && S.default.getSettings().decoupledClipsEnabled && (null === (t = _.default.getVisibleGame()) || void 0 === t ? void 0 : t.windowHandle) != null && m.default.hasClipsSource(),
                    l = null != e && null != p.default.getActiveStreamForStreamKey(e) && i;
                if (!u && !r && !l) return;
                let c = p.default.getCurrentUserActiveStream(),
                    f = null != c ? (0, o.encodeStreamKey)(c) : void 0;
                a.default.dispatch({
                    type: "CLIPS_SAVE_CLIP_START"
                });
                let g = (0, h.playSound)("clip_save", .5),
                    v = performance.now();
                try {
                    let t = await M(null != e ? e : f);
                    a.default.dispatch({
                        type: "CLIPS_SAVE_CLIP",
                        clip: t
                    })
                } catch (e) {
                    x.ClipsLogger.error("Clip Failed to Save", e), null == g || g.stop(), (0, h.playSound)("clip_error", .5), a.default.dispatch({
                        type: "CLIPS_SAVE_CLIP_ERROR"
                    })
                }
                x.ClipsLogger.info("".concat(S.default.getSettings().clipsLength / 1e3, "s clip save took ").concat(Math.round(performance.now() - v), "ms"))
            }
            async function F(e, t) {
                let n = S.default.getClips().find(t => t.id === e);
                if (null == n) return;
                let i = {
                        ...n,
                        ...t
                    },
                    u = await (0, I.validateClipMetadata)(i);
                null != u && (await m.default.getMediaEngine().updateClipMetadata(i.filepath, JSON.stringify(i)), v.default.track(L.AnalyticEvents.CLIP_EDITED, {
                    clip_id: i.id
                }), a.default.dispatch({
                    type: "CLIPS_UPDATE_METADATA",
                    clip: i
                }))
            }

            function V() {
                a.default.dispatch({
                    type: "CLIPS_CLEAR_CLIPS_SESSION"
                })
            }

            function j() {
                a.default.dispatch({
                    type: "CLIPS_CLEAR_NEW_CLIP_IDS"
                })
            }
            async function G(e) {
                var t;
                if (!(0, b.isDesktop)() || (null === (t = u.default.clips) || void 0 === t ? void 0 : t.loadClipsDirectory) == null) return;
                let n = await u.default.clips.loadClipsDirectory(e),
                    i = [];
                for (let e of n) {
                    let t = await (0, I.validateClipMetadata)({
                        ...e.metadata,
                        filepath: e.filepath
                    });
                    null != t && i.push(t)
                }
                a.default.dispatch({
                    type: "CLIPS_LOAD_DIRECTORY_SUCCESS",
                    clips: i
                })
            }
            async function B(e) {
                var t;
                (0, b.isDesktop)() && (null === (t = u.default.clips) || void 0 === t ? void 0 : t.deleteClip) != null && (await u.default.clips.deleteClip(e), a.default.dispatch({
                    type: "CLIPS_DELETE_CLIP",
                    filepath: e
                }))
            }
            async function H(e, t) {
                let n = m.default.getMediaEngine(),
                    i = await n.exportClip(e.filepath, t);
                return (0, y.default)(i)
            }
        },
        310238: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            }), n("222007"), n("311790"), n("477657"), n("811875"), n("90301"), n("652153"), n("28797"), n("817884"), n("597349"), n("667536"), n("690341");
            var i = n("627445"),
                a = n.n(i),
                u = n("469520"),
                r = n.n(u);
            async function o(e) {
                let t;
                let n = r.createFile(!1),
                    i = new Promise(e => {
                        n.onReady = e
                    }),
                    u = await e.arrayBuffer();
                for (let e of (u.fileStart = 0, n.appendBuffer(u), n.flush(), await i, a(null != n.boxes, "mp4boxInputFile.boxes should not be null after parsing"), n.boxes)) "uuid" === e.type && (t = e.start);
                let o = e.slice(0, t, e.type),
                    s = e.slice(t + 4, t + 8 + 16, e.type);
                return new Blob([o, new Uint8Array([0, 0, 0, 24]), s], {
                    type: e.type
                })
            }
        },
        99366: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                createThumbnail: function() {
                    return a
                },
                createThumbnailFromVideo: function() {
                    return u
                }
            }), n("70102");
            var i = n("80028");
            async function a(e) {
                if (null == e) return "";
                let t = new Blob([e], {
                        type: "image/jpeg"
                    }),
                    n = await new Promise(e => {
                        let n = new FileReader;
                        n.onloadend = () => {
                            e(n.result)
                        }, n.readAsDataURL(t)
                    });
                if ("string" != typeof n) throw Error("Thumbnail creation failed");
                return n
            }
            async function u(e, t) {
                let n = document.createElement("video");
                n.muted = !0, n.src = e, n.currentTime = t, await n.play(), n.pause();
                let a = i.CLIPS_THUMBNAIL_MAX_WIDTH / n.videoWidth,
                    u = i.CLIPS_THUMBNAIL_MAX_HEIGHT / n.videoHeight,
                    r = Math.min(a, u),
                    o = n.videoWidth * r,
                    s = n.videoHeight * r,
                    d = document.createElement("canvas");
                d.width = o, d.height = s;
                let l = d.getContext("2d");
                if (null == l) throw Error("Could not create canvas context");
                return l.drawImage(n, 0, 0, n.videoWidth, n.videoHeight, 0, 0, o, s), d.toDataURL("image/jpeg", .9)
            }
        },
        168067: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var i = (0, n("862205").createExperiment)({
                kind: "user",
                id: "2023-03_april_fools",
                label: "April Fools 2023",
                defaultConfig: {
                    allowAprilFoolsSoundpack: !1
                },
                treatments: [{
                    id: 1,
                    label: "April Fools 2023",
                    config: {
                        allowAprilFoolsSoundpack: !0
                    }
                }]
            })
        },
        157246: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                Soundpacks: function() {
                    return a
                },
                getSoundpackOptionsAprilFools2023: function() {
                    return r
                }
            });
            var i, a, u = n("782340");

            function r() {
                return [{
                    value: "classic",
                    label: u.default.Messages.SOUNDPACK_CLASSIC_LABEL
                }, {
                    value: "detune",
                    label: u.default.Messages.SOUNDPACK_DETUNE_LABEL
                }]
            }(i = a || (a = {})).CLASSIC = "classic", i.DETUNE = "detune"
        },
        870696: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var i = n("446674"),
                a = n("913144"),
                u = n("168067"),
                r = n("157246");
            let o = {
                soundpack: r.Soundpacks.CLASSIC
            };
            class s extends i.default.PersistedStore {
                initialize(e) {
                    u.default.subscribe({
                        location: "1"
                    }, () => this.emitChange()), null != e && (o = e)
                }
                getState() {
                    return o
                }
                getSoundpack() {
                    var e;
                    let {
                        allowAprilFoolsSoundpack: t
                    } = u.default.getCurrentConfig({
                        location: "37bac2_1"
                    }, {
                        autoTrackExposure: !1
                    });
                    return t && (e = o.soundpack, Object.values(r.Soundpacks).includes(e)) ? o.soundpack : r.Soundpacks.CLASSIC
                }
            }
            s.displayName = "SoundpackStore", s.persistKey = "SoundpackStore";
            var d = new s(a.default, {
                SET_SOUNDPACK: function(e) {
                    let {
                        soundpack: t
                    } = e;
                    o = {
                        soundpack: t
                    }
                }
            })
        },
        319291: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var i = n("157246");
            let a = {
                [i.Soundpacks.CLASSIC]: {
                    discodo: "discodo",
                    message1: "message1",
                    deafen: "deafen",
                    undeafen: "undeafen",
                    mute: "mute",
                    unmute: "unmute",
                    disconnect: "disconnect",
                    ptt_start: "ptt_start",
                    ptt_stop: "ptt_stop",
                    user_join: "user_join",
                    user_leave: "user_leave",
                    user_moved: "user_moved",
                    call_calling: "call_calling",
                    call_ringing: "call_ringing",
                    stream_started: "stream_started",
                    stream_ended: "stream_ended",
                    stream_user_joined: "stream_user_joined",
                    stream_user_left: "stream_user_left",
                    poggermode_enabled: "poggermode_enabled",
                    poggermode_applause: "poggermode_applause",
                    poggermode_achievement_unlock: "poggermode_achievement_unlock",
                    stage_waiting: "stage_waiting"
                },
                [i.Soundpacks.DETUNE]: {
                    discodo: "detune_discodo",
                    message1: "detune_message1",
                    deafen: "detune_deafen",
                    undeafen: "detune_undeafen",
                    mute: "detune_mute",
                    unmute: "detune_unmute",
                    disconnect: "detune_disconnect",
                    ptt_start: "detune_ptt_start",
                    ptt_stop: "detune_ptt_stop",
                    user_join: "detune_user_join",
                    user_leave: "detune_user_leave",
                    user_moved: "detune_user_moved",
                    call_calling: "detune_call_calling",
                    call_ringing: "detune_call_ringing",
                    stream_started: "detune_stream_started",
                    stream_ended: "detune_stream_ended",
                    stream_user_joined: "detune_stream_user_joined",
                    stream_user_left: "detune_stream_user_left"
                }
            };

            function u(e) {
                return a[e]
            }
        },
        709681: function(e, t, n) {
            "use strict";
            let i;
            n.r(t), n.d(t, {
                createSoundForPack: function() {
                    return o
                },
                createSound: function() {
                    return s
                },
                playSound: function() {
                    return d
                }
            });
            var a = n("870696"),
                u = n("319291"),
                r = n("102985");

            function o(e, t) {
                var n;
                let i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,
                    a = (0, u.default)(t);
                return s(null !== (n = a[e]) && void 0 !== n ? n : e, e, i)
            }

            function s(e, t) {
                let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
                return new i(e, t, n)
            }

            function d(e) {
                var t;
                let n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                    i = arguments.length > 2 ? arguments[2] : void 0;
                if (r.default.disableSounds) return;
                let o = (0, u.default)(a.default.getSoundpack()),
                    d = s(null !== (t = o[e]) && void 0 !== t ? t : e, e, n);
                return null != i ? d.playWithListener().then(e => {
                    e && i()
                }) : d.play(), d
            }
            i = n("895737").WebAudioSound
        },
        895737: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                playGiftSound: function() {
                    return c
                },
                WebAudioSound: function() {
                    return f
                }
            }), n("70102");
            var i = n("917351"),
                a = n.n(i),
                u = n("520497"),
                r = n("812809"),
                o = n("42887"),
                s = n("773336");
            let d = "default",
                l = d;

            function c(e, t) {
                let n = new Audio((0, u.default)(e));
                n.volume = (0, r.default)(t), n.play()
            }

            function p() {
                null != window.navigator.mediaDevices && window.navigator.mediaDevices.enumerateDevices().then(e => {
                    let t = o.default.getOutputDevices(),
                        n = a(t).sortBy(e => e.index).findIndex(e => e.id === o.default.getOutputDeviceId()),
                        i = t[o.default.getOutputDeviceId()],
                        u = e.filter(e => "audiooutput" === e.kind && "communications" !== e.deviceId),
                        r = u[n];
                    null != i && (null == r || r.label !== i.name) && (r = u.find(e => e.label === i.name)), l = null != r ? r.deviceId : d
                }).catch(() => {
                    l = d
                })
            }
            s.isPlatformEmbedded && (o.default.addChangeListener(p), p());
            class f {
                get volume() {
                    return this._volume
                }
                set volume(e) {
                    this._volume = e, this._ensureAudio().then(t => t.volume = e)
                }
                loop() {
                    this._ensureAudio().then(e => {
                        e.loop = !0, e.play()
                    })
                }
                play() {
                    this._ensureAudio().then(e => {
                        e.loop = !1, e.play()
                    })
                }
                pause() {
                    null != this._audio && this._audio.then(e => e.pause())
                }
                stop() {
                    this._destroyAudio()
                }
                playWithListener() {
                    return new Promise((e, t) => {
                        this._ensureAudio().then(n => {
                            (null == n.duration || 0 === n.duration) && t("sound has no duration"), n.play(), setTimeout(() => {
                                e(!0)
                            }, n.duration)
                        })
                    })
                }
                _destroyAudio() {
                    null != this._audio && (this._audio.then(e => {
                        e.pause(), e.src = ""
                    }), this._audio = null)
                }
                _ensureAudio() {
                    var e;
                    return this._audio = null !== (e = this._audio) && void 0 !== e ? e : new Promise((e, t) => {
                        let i = new Audio;
                        i.src = n("89400")("../../sounds/".concat(this.name, ".mp3").replace("../../sounds/", "./")), i.onloadeddata = () => {
                            i.volume = Math.min(o.default.getOutputVolume() / 100 * this._volume, 1), s.isPlatformEmbedded && i.setSinkId(l), e(i)
                        }, i.onerror = () => t(Error("could not play audio")), i.onended = () => this._destroyAudio(), i.load()
                    }), this._audio
                }
                constructor(e, t, n) {
                    this.name = e, this._volume = n
                }
            }
        }
    }
]);