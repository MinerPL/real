(this.webpackChunkdiscord_app = this.webpackChunkdiscord_app || []).push([
    ["89023"], {
        75651: function(e, t, n) {
            "use strict";
            e.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 66 38' width='66' height='38'%3E%3Crect x='0' y='0' width='66' height='38' style='fill: rgb(0, 0, 0); stroke: rgb(0, 0, 0);'%3E%3C/rect%3E%3C/svg%3E"
        },
        753235: function(e, t, n) {
            "use strict";
            e.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='6.122 5.864 259 50' width='259' height='50'%3E%3Cpath fill='%23000000' fill-rule='evenodd' d='M 68.122 11.864 L 192.122 11.864 C 193.779 11.864 195.122 13.207 195.122 14.864 L 195.122 28.864 C 195.122 30.521 193.779 31.864 192.122 31.864 L 68.122 31.864 C 66.465 31.864 65.122 30.521 65.122 28.864 L 65.122 14.864 C 65.122 13.207 66.465 11.864 68.122 11.864 Z M 68.122 35.864 L 262.122 35.864 C 263.779 35.864 265.122 37.207 265.122 38.864 L 265.122 48.864 C 265.122 50.521 263.779 51.864 262.122 51.864 L 68.122 51.864 C 66.465 51.864 65.122 50.521 65.122 48.864 L 65.122 38.864 C 65.122 37.207 66.465 35.864 68.122 35.864 Z M 25.352 5.864 L 36.892 5.864 C 43.579 5.864 46.004 6.56 48.448 7.867 C 50.893 9.175 52.811 11.093 54.118 13.537 C 55.428 15.984 56.122 18.407 56.122 25.094 L 56.122 36.634 C 56.122 43.321 55.426 45.746 54.119 48.19 C 52.811 50.635 50.893 52.553 48.449 53.86 C 46.002 55.17 43.579 55.864 36.892 55.864 L 25.352 55.864 C 18.665 55.864 16.24 55.168 13.796 53.861 C 11.351 52.553 9.433 50.635 8.126 48.191 C 6.816 45.744 6.122 43.321 6.122 36.634 L 6.122 25.094 C 6.122 18.407 6.818 15.982 8.125 13.538 C 9.432 11.094 11.352 9.174 13.795 7.868 C 16.242 6.558 18.665 5.864 25.352 5.864 Z'%3E%3C/path%3E%3C/svg%3E"
        },
        496559: function(e, t, n) {
            "use strict";
            e.exports = "data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='271' height='141'><g fill='#000000' fill-rule='evenodd'><rect width='130' height='20' rx='5'/><rect width='254' height='20' y='30' rx='5'/><rect width='190' height='20' y='60' rx='5'/><rect width='66' height='32' y='102' rx='3'/></g></svg>"
        },
        714266: function(e, t, n) {
            "use strict";
            e.exports = "data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='271' height='165'><path fill='#000000' fill-rule='evenodd' d='M5 0h120c2.761424 0 5 2.23857625 5 5v10c0 2.7614237-2.238576 5-5 5H5c-2.76142375 0-5-2.2385763-5-5V5c0-2.76142375 2.23857625-5 5-5zm0 30h244c2.761424 0 5 2.2385763 5 5v10c0 2.7614237-2.238576 5-5 5H5c-2.76142375 0-5-2.2385763-5-5V35c0-2.7614237 2.23857625-5 5-5zm0 30h180c2.761424 0 5 2.2385763 5 5v10c0 2.7614237-2.238576 5-5 5H5c-2.76142375 0-5-2.2385763-5-5V65c0-2.7614237 2.23857625-5 5-5zm-2 60h60c1.6568542 0 3 1.343146 3 3v26c0 1.656854-1.3431458 3-3 3H3c-1.65685425 0-3-1.343146-3-3v-26c0-1.656854 1.34314575-3 3-3z'/></svg>"
        },
        349745: function(e, t, n) {
            "use strict";
            e.exports = n.p + "a1d461025204711133ec.svg"
        },
        309541: function(e, t, n) {
            "use strict";
            e.exports = n.p + "9f3b9c1b6e5f77294951.svg"
        },
        544484: function(e, t, n) {
            "use strict";
            e.exports = n.p + "d0f62b40a7a6093fb535.svg"
        },
        127067: function(e, t, n) {
            "use strict";
            e.exports = n.p + "7378a83d74ce97d83380.svg"
        },
        226315: function(e, t, n) {
            "use strict";
            e.exports = n.p + "192510ade1abc3149b46.svg"
        },
        228165: function(e, t, n) {
            "use strict";
            e.exports = n.p + "8f0034ae5b3cadea4c2b.svg"
        },
        768074: function(e, t, n) {
            "use strict";
            e.exports = n.p + "b1ac808ae7520fa397f3.svg"
        },
        728963: function(e, t, n) {
            "use strict";
            e.exports = n.p + "7ed159b6acb6da5d9593.svg"
        },
        872364: function(e, t, n) {
            "use strict";
            e.exports = n.p + "5f8406ec0f5055bc7919.svg"
        },
        229372: function(e, t, n) {
            "use strict";
            e.exports = n.p + "a7d6af4279f16c27ae9b.svg"
        },
        231050: function(e, t, n) {
            "use strict";
            e.exports = n.p + "1681fafa511fd53e8bfd.svg"
        },
        190368: function(e, t, n) {
            "use strict";
            e.exports = n.p + "cb94fb6f329e5e31cb5c.svg"
        },
        878005: function(e, t, n) {
            "use strict";
            e.exports = n.p + "ddaba4373c0aabfff967.png"
        },
        755219: function(e, t, n) {
            "use strict";
            e.exports = n.p + "cc5cf9eba79040757e67.svg"
        },
        811837: function(e, t, n) {
            "use strict";
            e.exports = n.p + "1c580ea1dad55a12ecd2.svg"
        },
        32982: function(e, t, n) {
            "use strict";
            e.exports = n.p + "24aa6dce5b2a77b7ca45.svg"
        },
        597226: function(e, t, n) {
            "use strict";
            e.exports = n.p + "bed21bc77023cebd07a7.png"
        },
        761545: function(e, t, n) {
            "use strict";
            e.exports = n.p + "d222b7a1291025c8552b.svg"
        },
        689888: function(e, t, n) {
            "use strict";
            e.exports = n.p + "0e2fad70fad77816b728.svg"
        },
        819074: function(e, t, n) {
            "use strict";
            e.exports = n.p + "a6ecd83d0dec80c3b73d.svg"
        },
        96154: function(e, t, n) {
            "use strict";
            e.exports = n.p + "c6385e608fcdaec54ef4.svg"
        },
        976078: function(e, t, n) {
            "use strict";
            e.exports = n.p + "b2bc10c8c9d44f0ff644.svg"
        },
        742203: function(e, t, n) {
            "use strict";
            e.exports = n.p + "838d4bac7b80d28fd676.svg"
        },
        381e3: function(e, t, n) {
            "use strict";
            e.exports = n.p + "8cd255a58ce1af51e9ef.svg"
        },
        637816: function(e, t, n) {
            "use strict";
            e.exports = n.p + "a2c736476ce092c94a5b.svg"
        },
        637099: function(e, t, n) {
            "use strict";
            e.exports = n.p + "55067ac9356cb0674ad3.svg"
        },
        389902: function(e, t, n) {
            "use strict";
            e.exports = n.p + "dcb57f386a6bf90a27c9.svg"
        },
        321211: function(e, t, n) {
            "use strict";
            e.exports = n.p + "bb0ba69615cae0dd25b7.svg"
        },
        786937: function(e, t, n) {
            "use strict";
            e.exports = n.p + "ecc4859664616ed5ad9a.svg"
        },
        886531: function(e, t, n) {
            "use strict";
            e.exports = n.p + "8ab3b66bdb2f6fc70ad6.svg"
        },
        760238: function(e, t, n) {
            "use strict";
            e.exports = n.p + "635eaaafc2a09bc126b9.jpg"
        },
        26511: function(e, t, n) {
            "use strict";
            e.exports = n.p + "20fd6ce03205c6a9281c.svg"
        },
        728791: function(e, t, n) {
            "use strict";
            e.exports = n.p + "271a2bcb5d7b4f98b5cb.svg"
        },
        429224: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var s = n("872717"),
                a = n("913144"),
                l = n("49111"),
                i = {
                    createChannelFollower: (e, t) => s.default.post({
                        url: l.Endpoints.CHANNEL_FOLLOWERS(t),
                        body: {
                            webhook_channel_id: e
                        },
                        oldFormErrors: !0
                    }),
                    async fetchChannelFollowerStats(e) {
                        a.default.dispatch({
                            type: "CHANNEL_FOLLOWER_STATS_FETCH_START"
                        });
                        try {
                            let t = await s.default.get({
                                url: l.Endpoints.CHANNEL_FOLLOWER_STATS(e),
                                body: {
                                    channel_id: e
                                },
                                oldFormErrors: !0
                            });
                            a.default.dispatch({
                                type: "CHANNEL_FOLLOWER_STATS_FETCH_SUCCESS",
                                stats: t.body,
                                channelId: e
                            })
                        } catch (t) {
                            a.default.dispatch({
                                type: "CHANNEL_FOLLOWER_STATS_FETCH_FAILURE",
                                channelId: e
                            })
                        }
                    },
                    dismissPublishBump(e) {
                        a.default.dispatch({
                            type: "CHANNEL_FOLLOWING_PUBLISH_BUMP_DISMISSED",
                            messageId: e
                        })
                    },
                    permanentlyHidePublishBump(e) {
                        a.default.dispatch({
                            type: "CHANNEL_FOLLOWING_PUBLISH_BUMP_HIDE_PERMANENTLY",
                            channelId: e
                        })
                    }
                }
        },
        427495: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                openModal: function() {
                    return i
                },
                closeModal: function() {
                    return r
                }
            });
            var s = n("913144"),
                a = n("521012"),
                l = n("850068");
            async function i(e) {
                return null == a.default.getPremiumSubscription() && await l.fetchSubscriptions(), new Promise((t, n) => {
                    s.default.dispatch({
                        type: "PREMIUM_REQUIRED_MODAL_OPEN",
                        context: e,
                        resolve: t,
                        reject: n
                    })
                })
            }

            function r(e) {
                s.default.dispatch({
                    type: "PREMIUM_REQUIRED_MODAL_CLOSE",
                    shouldContinue: e
                })
            }
        },
        73961: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                openPurchaseConfirmationModal: function() {
                    return l
                },
                closePurchaseConfirmationModal: function() {
                    return i
                }
            });
            var s = n("913144"),
                a = n("49111");

            function l(e, t, n) {
                let l = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};
                return new Promise((i, r) => {
                    s.default.dispatch({
                        type: "PURCHASE_CONFIRMATION_MODAL_OPEN",
                        applicationId: e,
                        skuId: t,
                        entitlements: n,
                        context: null != l.context ? l.context : a.AppContext.APP,
                        analyticsSource: l.analyticsSource,
                        resolve: i,
                        reject: r
                    })
                })
            }

            function i() {
                let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                s.default.dispatch({
                    type: "PURCHASE_CONFIRMATION_MODAL_CLOSE",
                    error: e
                })
            }
        },
        803816: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return k
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("446674"),
                i = n("77078"),
                r = n("260365"),
                u = n("823411"),
                o = n("968194"),
                d = n("658457"),
                c = n("286509"),
                f = n("676223"),
                E = n("407908"),
                _ = n("649486"),
                I = n("860285"),
                m = n("769791"),
                p = n("662285"),
                h = n("866253"),
                T = n("981601"),
                g = n("671071"),
                S = n("766274"),
                A = n("86878"),
                N = n("925758"),
                C = n("26989"),
                M = n("686470"),
                O = n("52028"),
                R = n("697218"),
                v = n("953998"),
                L = n("535974"),
                P = n("763237"),
                x = n("315102"),
                D = n("773336"),
                y = n("602043"),
                U = n("901582"),
                b = n("49111"),
                j = n("954016");
            let G = {
                spotify: "Spotify"
            };
            class B extends a.PureComponent {
                getCoverImage() {
                    let {
                        activity: e,
                        connectedApplication: t,
                        application: n,
                        isPreview: s,
                        message: a
                    } = this.props;
                    if (null != n && (s || null != a && (0, f.default)(e, a, n.id))) {
                        let t = (0, c.default)(e, n.id);
                        if (null != t) return t
                    }
                    return null == n || n instanceof g.default ? null : x.default.getApplicationIconURL({
                        id: n.id,
                        icon: null != t ? t.coverImage : n.coverImage,
                        size: j.ACTIVITY_INVITE_COVER_IMAGE_SIZE
                    })
                }
                handleOpenSpotifyTrack(e) {
                    (0, m.openTrack)(e)
                }
                handleOpenSpotifyArtist(e, t, n) {
                    (0, m.openArtist)(e, t, n)
                }
                handleOpenSpotifyAlbum(e, t) {
                    (0, m.openAlbum)(e, t)
                }
                shouldRenderCustomButton() {
                    let {
                        isLaunchable: e,
                        application: t
                    } = this.props;
                    return null != t && null != t.primarySkuId && !e && D.isPlatformEmbedded
                }
                render() {
                    return (0, s.jsx)(U.default, {
                        section: U.default.Sections.APPLICATION_EMBED,
                        children: this.renderEmbed()
                    })
                }
                constructor(...e) {
                    super(...e), this.state = {
                        sending: !1
                    }, this.handleJoin = () => {
                        let {
                            activity: e,
                            analyticsLocations: t,
                            userId: n,
                            message: s,
                            channelId: a
                        } = this.props;
                        if (null != e && null != n && null != s && null != e.session_id && null != e.application_id) {
                            var l;
                            u.default.join({
                                userId: n,
                                sessionId: e.session_id,
                                applicationId: e.application_id,
                                channelId: a,
                                messageId: s.id
                            }), (0, E.default)({
                                type: b.AnalyticsGameOpenTypes.JOIN,
                                source: b.AnalyticsLocations.MESSAGE_EMBED,
                                userId: n,
                                applicationId: e.application_id,
                                partyId: null === (l = e.party) || void 0 === l ? void 0 : l.id,
                                messageId: s.id,
                                analyticsLocations: t
                            })
                        }
                    }, this.handleInvite = async () => {
                        let {
                            activity: e,
                            channelId: t
                        } = this.props;
                        if (null != e && null != t) try {
                            this.setState({
                                sending: !0
                            }), await r.default.sendActivityInvite({
                                type: b.ActivityActionTypes.JOIN,
                                channelId: t,
                                activity: e,
                                location: b.AnalyticsLocations.MESSAGE_EMBED
                            })
                        } finally {
                            this.setState({
                                sending: !1
                            })
                        }
                    }, this.handleSync = () => {
                        let {
                            activity: e,
                            userId: t
                        } = this.props;
                        null != e && null != t && o.sync(e, t)
                    }, this.handleDownloadApp = () => {
                        (0, i.openModal)(e => (0, s.jsx)(_.default, {
                            source: "Game Invite",
                            ...e
                        }))
                    }, this.renderUserPopout = (e, t) => {
                        let {
                            channelId: n,
                            guildId: a
                        } = this.props;
                        return null == n ? null : (0, s.jsx)(T.default, {
                            ...t,
                            userId: e.id,
                            guildId: null != a ? a : void 0,
                            channelId: n
                        })
                    }, this.renderSpotifyJoinButton = e => {
                        let {
                            channelId: t,
                            guildId: n
                        } = this.props;
                        return (0, s.jsx)(h.default, {
                            guildId: null != n ? n : void 0,
                            channelId: t,
                            source: "Invite Embed",
                            ...e
                        })
                    }, this.renderCustomButton = e => {
                        let {
                            application: t
                        } = this.props;
                        return (0, s.jsx)(d.default, {
                            ...e,
                            source: b.AnalyticsLocations.MESSAGE_EMBED,
                            application: t
                        })
                    }, this.renderEmbed = () => {
                        let e;
                        let {
                            activity: t,
                            partyId: n,
                            myPartyId: a,
                            application: l,
                            partyMembers: i,
                            isPreview: r,
                            isLaunching: u,
                            isSender: o,
                            activityActionType: d,
                            className: c,
                            channelId: f,
                            message: E,
                            hideParty: _,
                            isSyncable: I,
                            isLaunchable: m,
                            guildId: p
                        } = this.props;
                        if (null != l) e = l.name;
                        else if (null != n) {
                            let [t] = n.split(":");
                            e = G[t]
                        }
                        return (0, s.jsx)(P.default, {
                            activity: t,
                            partyId: n,
                            myPartyId: a,
                            applicationId: null != l ? l.id : null,
                            name: e,
                            partyMembers: i,
                            className: c,
                            coverImage: this.getCoverImage(),
                            isPreview: r,
                            isGameLaunchable: m,
                            isLoading: u || this.state.sending,
                            activityActionType: d,
                            isInBrowser: !D.isPlatformEmbedded,
                            isSyncable: I,
                            isSender: o,
                            channelId: f,
                            guildId: null != p ? p : void 0,
                            message: E,
                            hideParty: _,
                            onJoin: this.handleJoin,
                            onInvite: this.handleInvite,
                            onSync: this.handleSync,
                            onDownloadApp: this.handleDownloadApp,
                            onOpenSpotifyTrack: this.handleOpenSpotifyTrack,
                            onOpenSpotifyArtist: this.handleOpenSpotifyArtist,
                            onOpenSpotifyAlbum: this.handleOpenSpotifyAlbum,
                            renderUserPopout: this.renderUserPopout,
                            renderSpotifyJoinButton: this.renderSpotifyJoinButton,
                            renderCustomButton: this.shouldRenderCustomButton() ? this.renderCustomButton : null
                        })
                    }
                }
            }
            B.defaultProps = {
                isPreview: !1
            };
            var k = l.default.connectStores([p.default, N.default, O.default, M.default, I.default, L.default, A.default, v.default, R.default, C.default], e => {
                let {
                    activity: t,
                    analyticsLocations: n,
                    application: s,
                    partyId: a,
                    userId: l,
                    guildId: i
                } = e, {
                    id: r
                } = null != s ? s : {}, u = null != t && null != t.party && t.party.id === a ? N.default.getParty(t.party.id) : null, o = null != r ? O.default.getApplicationActivity(r) : O.default.findActivity(e => e.type === b.ActivityTypes.LISTENING), d = !1;
                null != r && (d = v.default.getState(r, b.ActivityActionTypes.JOIN) === b.ActivityActionStates.LOADING);
                let c = Array.from(null != u ? u : []).map(e => {
                        let t = null != i ? C.default.getMember(i, e) : null,
                            n = null != t ? t.nick : null,
                            s = R.default.getUser(e),
                            a = null == s;
                        return null == s && (s = new S.default({
                            discriminator: "0005"
                        })), {
                            user: s,
                            unknownUser: a,
                            nick: n
                        }
                    }),
                    f = null != t && p.default.canPlay(t),
                    E = p.default.getSyncingWith(),
                    _ = null != E && null != l && E.userId === l;
                return {
                    analyticsLocations: n,
                    partyMembers: c,
                    connectedApplication: null != r ? A.default.getApplication(r) : null,
                    myPartyId: null != o && null != o.party ? o.party.id : null,
                    isLaunching: d,
                    isSyncable: f && !_,
                    isLaunchable: null != r && (0, y.isLaunchable)({
                        LibraryApplicationStore: M.default,
                        LaunchableGameStore: I.default,
                        DispatchApplicationStore: L.default,
                        ConnectedAppsStore: A.default,
                        applicationId: r
                    })
                }
            })(B)
        },
        658457: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("446674"),
                l = n("77078"),
                i = n("686470"),
                r = n("552712"),
                u = n("964889"),
                o = n("790219"),
                d = n("159467"),
                c = n("827825");

            function f(e) {
                let {
                    application: t,
                    fullWidth: n = !1,
                    size: f = l.Button.Sizes.LARGE,
                    color: E,
                    customDisabledColor: _,
                    hideNotLaunchable: I,
                    tooltipPosition: m,
                    onClick: p,
                    className: h,
                    source: T,
                    storeListingAnalyticsProperties: g,
                    pauseAnimation: S,
                    hover: A,
                    innerClassName: N
                } = e, C = {
                    fullWidth: n,
                    size: f,
                    color: E,
                    customDisabledColor: _,
                    tooltipPosition: m,
                    onClick: p,
                    className: h,
                    hover: A,
                    innerClassName: N
                }, M = (0, a.useStateFromStores)([i.default], () => i.default.getActiveLibraryApplication(t.id)), O = null != M ? M.sku.id : null, R = null != O ? O : t.primarySkuId, v = (0, a.useStateFromStores)([r.default], () => null != R && !r.default.didFetchingSkuFail(R));
                return null != M && (0, u.isUserEntitledToLibraryApplication)(M) ? (0, s.jsx)(c.default, {
                    ...C,
                    libraryApplication: M,
                    source: T
                }) : v ? (0, s.jsx)(o.default, {
                    ...C,
                    skuId: null != M ? M.sku.id : null,
                    applicationId: t.id,
                    pauseAnimation: S,
                    storeListingAnalyticsProperties: g
                }) : (0, s.jsx)(d.default, {
                    ...C,
                    hideNotLaunchable: I,
                    applicationId: t.id
                })
            }
        },
        790219: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return B
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("414456"),
                i = n.n(l),
                r = n("730290"),
                u = n("446674"),
                o = n("77078"),
                d = n("404118"),
                c = n("73961"),
                f = n("465527"),
                E = n("55620"),
                _ = n("79112"),
                I = n("308757"),
                m = n("997289"),
                p = n("84460"),
                h = n("661579"),
                T = n("393414"),
                g = n("915639"),
                S = n("546463"),
                A = n("697218"),
                N = n("437712"),
                C = n("622839"),
                M = n("552712"),
                O = n("167726"),
                R = n("471671"),
                v = n("181114"),
                L = n("216422"),
                P = n("599110"),
                x = n("568734"),
                D = n("719923"),
                y = n("882941"),
                U = n("49111"),
                b = n("782340"),
                j = n("576057");
            class G extends a.Component {
                get analyticsLocation() {
                    let {
                        storeListingAnalyticsProperties: e,
                        asGift: t
                    } = this.props, n = null != e ? e.promotionId : null;
                    return {
                        ...this.props.analyticsContext.location,
                        object: U.AnalyticsObjects.BUTTON_CTA,
                        objectType: t ? U.AnalyticsObjectTypes.GIFT : U.AnalyticsObjectTypes.BUY,
                        promotionId: n
                    }
                }
                get hover() {
                    let {
                        hover: e,
                        color: t
                    } = this.props;
                    return null != e ? e : null != t ? o.Button.Hovers.GREEN : o.Button.Hovers.DEFAULT
                }
                componentDidMount() {
                    let {
                        sku: e,
                        applicationId: t,
                        targetSkuId: n
                    } = this.props;
                    null == e && null != n && f.fetchSKU(t, n).catch(() => {})
                }
                componentDidUpdate(e) {
                    this.props.locale !== e.locale && null != this.props.targetSkuId && f.fetchSKU(this.props.applicationId, this.props.targetSkuId).catch(() => {})
                }
                async purchaseOrGrantSKU(e) {
                    let {
                        channelId: t,
                        entitlementBranchId: n,
                        analyticsContext: s
                    } = this.props;
                    if (null != t && null != n) {
                        let n = await f.grantChannelBranchEntitlement(e.applicationId, t, e.id);
                        return n
                    }
                    let a = await f.purchaseSKU(e.applicationId, e.id, {
                        analyticsLoadId: s.loadId
                    });
                    return a.entitlements
                }
                wrapWithDisabledTooltip(e, t) {
                    let {
                        className: n,
                        tooltipPosition: a
                    } = this.props;
                    return (0, s.jsxs)("div", {
                        className: i(j.disabledButtonWrapper, n),
                        children: [e, (0, s.jsx)(o.Tooltip, {
                            text: t,
                            position: a,
                            children: e => (0, s.jsx)("div", {
                                className: j.disabledButtonOverlay,
                                ...e
                            })
                        })]
                    })
                }
                renderButton(e) {
                    let t, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Object.freeze({}),
                        {
                            isPurchasing: a,
                            wrapperClassName: l,
                            className: r,
                            fullWidth: u,
                            size: d,
                            isWindowFocused: c,
                            color: f,
                            customDisabledColor: E,
                            pauseAnimation: _,
                            isEntitled: I,
                            asGift: m,
                            sku: p,
                            entitlementBranchId: h,
                            isInTestMode: T,
                            innerClassName: g
                        } = this.props,
                        S = !0 === I && (null == p || p.type !== U.SKUTypes.CONSUMABLE),
                        A = !0 === n.disabled || null != p && !p.available && !(null != h) && !T || S && !m,
                        N = n.disabledTooltipText,
                        C = {
                            wrapperClassName: l,
                            className: r,
                            fullWidth: u,
                            size: d,
                            color: A && null != E ? E : null != f ? f : o.Button.Colors.GREEN,
                            hover: this.hover,
                            innerClassName: i(null != g ? g : null, j.applicationBuyButton),
                            disabled: A,
                            submitting: a || !0 === n.submitting,
                            onClick: null != n.onClick ? n.onClick : this.handleClick
                        };
                    return (t = !0 === n.useShinyButton ? (0, s.jsxs)(v.default, {
                        ...C,
                        pauseAnimation: !c || _,
                        children: [n.buttonIcon, e]
                    }) : (0, s.jsxs)(o.Button, {
                        ...C,
                        children: [n.buttonIcon, e]
                    }), null != N) ? this.wrapWithDisabledTooltip(t, N) : t
                }
                renderFreeButton(e, t) {
                    let {
                        isEntitled: n,
                        isUserPremium: s,
                        isInTestMode: a,
                        forceDistribution: l,
                        entitlementBranchId: i
                    } = this.props;
                    if (null != i) return (0, y.canUserInstall)(e) && !n ? this.renderButton(b.default.Messages.GAME_ACTION_BUTTON_INSTALL) : this.renderButton(b.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY);
                    let r = e.getPrice();
                    if (e.premium && !l && (s || a)) return (0, y.canUserInstall)(e) && !n ? this.renderButton(b.default.Messages.GAME_ACTION_BUTTON_INSTALL, t) : this.renderButton(b.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY, t);
                    if (null != r && 0 === r.amount && (!e.premium || (0, x.hasFlag)(e.flags, U.SKUFlags.PREMIUM_AND_DISTRIBUTION))) return (0, y.canUserInstall)(e) && !n ? this.renderButton(b.default.Messages.GAME_ACTION_BUTTON_INSTALL) : this.renderButton(b.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY)
                }
                render() {
                    let {
                        isAuthenticated: e,
                        sku: t,
                        onStoreListing: n,
                        shouldRenderPrice: a,
                        forceDistribution: l,
                        asGift: i,
                        isInTestMode: r
                    } = this.props, u = {
                        useShinyButton: !0,
                        buttonIcon: (0, s.jsx)(L.default, {
                            className: j.premiumIcon
                        })
                    };
                    if (null == t) return this.renderButton(null, {
                        submitting: !0
                    });
                    if (i) return t.isPreorder() ? this.renderButton(b.default.Messages.APPLICATION_STORE_PREORDER_AS_GIFT) : this.renderButton(b.default.Messages.APPLICATION_STORE_BUY_AS_GIFT);
                    let o = this.renderFreeButton(t, u);
                    if (null != o) return o;
                    if (!n) return this.renderButton(b.default.Messages.GAME_ACTION_BUTTON_VIEW_IN_STORE, {
                        onClick: this.handleViewInStore
                    });
                    let d = t.getPrice();
                    return (t.available || r) && (t.premium || null != d) ? t.restricted ? this.renderButton(b.default.Messages.APPLICATION_STORE_BUY, {
                        disabledTooltipText: b.default.Messages.GAME_ACTION_BUTTON_RESTRICTED_IN_REGION
                    }) : t.premium && !l ? this.renderButton(b.default.Messages.APPLICATION_STORE_GET_PREMIUM, u) : e || null != t.externalPurchaseUrl ? t.isPreorder() ? this.renderButton(a ? b.default.Messages.APPLICATION_STORE_PREORDER_FOR_PRICE.format({
                        price: (0, h.default)(t, !0, !0)
                    }) : b.default.Messages.APPLICATION_STORE_PREORDER) : this.renderButton(a ? b.default.Messages.APPLICATION_STORE_BUY_FOR_PRICE.format({
                        price: (0, h.default)(t, !0, !0)
                    }) : b.default.Messages.APPLICATION_STORE_BUY) : this.renderButton(b.default.Messages.GAME_ACTION_BUTTON_LOGIN_TO_BUY) : this.renderButton(b.default.Messages.GAME_ACTION_BUTTON_UNAVAILABLE, {
                        disabled: !0
                    })
                }
                constructor(...e) {
                    super(...e), this.handleViewInStore = e => {
                        let {
                            sku: t,
                            skuId: n,
                            application: s,
                            onClick: a
                        } = this.props;
                        if (null == t) throw Error("Unexpected missing sku");
                        null != a && a(e), null != n ? (0, E.goToSKUStoreListing)(t.id, {
                            analyticsSource: this.analyticsLocation,
                            slug: t.slug
                        }) : null != s && (0, E.goToApplicationStoreListing)(s.id, {
                            analyticsSource: this.analyticsLocation,
                            slug: s.slug
                        })
                    }, this.handleClick = async e => {
                        let {
                            isAuthenticated: t,
                            applicationId: n,
                            sku: s,
                            targetSkuId: a,
                            entitlementBranchId: l,
                            isUserPremium: i,
                            onClick: u,
                            isInTestMode: o,
                            storeListingAnalyticsProperties: f,
                            asGift: E,
                            forceDistribution: m
                        } = this.props;
                        if (null == s) throw Error("should not be able to buy without sku");
                        if (null != u && null != e && u(e), null != s.externalPurchaseUrl) {
                            window.open(s.externalPurchaseUrl);
                            return
                        }
                        if (!t) {
                            let e = {
                                redirect_to: U.Routes.APPLICATION_STORE_LISTING_SKU(s.id, s.slug)
                            };
                            (0, T.transitionTo)(U.Routes.LOGIN, {
                                search: (0, r.stringify)(e)
                            });
                            return
                        }
                        let p = null != l;
                        if (!s.premium || m || i || o || p) {
                            if ((s.requiresPayment || m) && !p) {
                                if (null != a) try {
                                    await (0, I.openSKUPaymentModal)(n, a, this.analyticsLocation, {
                                        promotionId: null != f ? f.promotionId : null,
                                        isGift: E
                                    })
                                } catch (e) {
                                    e === U.PaymentModalPriceChangedError && d.default.show({
                                        title: b.default.Messages.PAYMENT_PRICE_CHANGE_TITLE,
                                        body: b.default.Messages.PAYMENT_PRICE_CHANGE_BODY,
                                        confirmText: b.default.Messages.OKAY
                                    })
                                }
                            } else try {
                                let e = await this.purchaseOrGrantSKU(s);
                                (0, c.openPurchaseConfirmationModal)(s.applicationId, s.id, e, {
                                    analyticsSource: this.analyticsLocation
                                })
                            } catch (e) {}
                        } else {
                            var h;
                            h = this.analyticsLocation, P.default.track(U.AnalyticEvents.PREMIUM_PROMOTION_OPENED, {
                                location: h
                            }), _.default.open(U.UserSettingsSections.PREMIUM)
                        }
                    }
                }
            }
            G.defaultProps = {
                tooltipPosition: "top",
                onStoreListing: !1,
                shouldRenderPrice: !1,
                pauseAnimation: !1,
                asGift: !1,
                forceDistribution: !1
            };
            var B = a.forwardRef((e, t) => {
                let {
                    entitlementBranchId: n,
                    applicationId: a,
                    channelId: l,
                    skuId: i,
                    ...r
                } = e, o = (0, u.useStateFromStores)([p.default, O.default], () => O.default.inTestModeForApplication(a) || p.default.inDevModeForApplication(a), [a]), [d, c, f, E, _, I] = (0, u.useStateFromStoresArray)([S.default, A.default, M.default, N.default], () => {
                    let e = S.default.getGame(a),
                        t = A.default.getCurrentUser(),
                        s = null == i && null != e ? e.destinationSkuId : i,
                        l = null != s ? M.default.get(s) : null,
                        r = null != n ? n : a,
                        u = null != s ? N.default.isEntitledToSku(t, s, a, r) : null,
                        o = D.default.canInstallPremiumApplications(t);
                    return [e, t, l, u, o, s]
                }), h = (0, u.useStateFromStores)([R.default], () => R.default.isFocused()), T = (0, u.useStateFromStores)([C.default], () => C.default.isPurchasingSKU), v = (0, u.useStateFromStores)([g.default], () => g.default.locale), L = (0, m.useAnalyticsContext)();
                if (null != n && null == l) throw Error("Unexpected entitlementBranchId without a channelId");
                return (0, s.jsx)(G, {
                    ...r,
                    applicationId: a,
                    skuId: i,
                    entitlementBranchId: n,
                    channelId: l,
                    application: d,
                    sku: f,
                    isAuthenticated: null != c,
                    isInTestMode: o,
                    isEntitled: E,
                    isUserPremium: _,
                    isWindowFocused: h,
                    isPurchasing: T,
                    locale: v,
                    analyticsContext: L,
                    ref: t,
                    targetSkuId: I
                })
            })
        },
        159467: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return N
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("414456"),
                i = n.n(l),
                r = n("446674"),
                u = n("77078"),
                o = n("272030"),
                d = n("997289"),
                c = n("860285"),
                f = n("86878"),
                E = n("568307"),
                _ = n("535974"),
                I = n("181114"),
                m = n("837899"),
                p = n("773336"),
                h = n("780009"),
                T = n("49111"),
                g = n("782340"),
                S = n("743317");
            class A extends a.PureComponent {
                get analyticsLocation() {
                    return {
                        ...this.props.analyticsContext.location,
                        object: T.AnalyticsObjects.BUTTON_CTA
                    }
                }
                renderDropdown() {
                    let {
                        dispatchState: e
                    } = this.props, t = null != e && null != e.launchOptions && Object.keys(e.launchOptions).length > 1;
                    return t ? (0, s.jsxs)(u.Clickable, {
                        "aria-label": g.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH_OPTIONS,
                        className: S.dropdownArrowHitbox,
                        onClick: this.handleDropdownClick,
                        children: [(0, s.jsx)("div", {
                            className: S.arrowSeparator
                        }), (0, s.jsx)(m.default, {
                            className: S.dropdownArrow
                        })]
                    }) : null
                }
                renderDisabledButton(e, t) {
                    let {
                        className: n,
                        fullWidth: a,
                        size: l,
                        customDisabledColor: i,
                        tooltipPosition: r
                    } = this.props;
                    return (0, s.jsxs)("div", {
                        className: S.disabledButtonWrapper,
                        children: [(0, s.jsx)(u.Button, {
                            className: n,
                            fullWidth: a,
                            size: l,
                            color: null != i ? i : S.disabledButtonColor,
                            disabled: !0,
                            children: e
                        }), (0, s.jsx)(u.Tooltip, {
                            text: t,
                            position: r,
                            children: e => (0, s.jsx)("div", {
                                className: S.disabledButtonOverlay,
                                ...e
                            })
                        })]
                    })
                }
                render() {
                    let {
                        className: e,
                        fullWidth: t,
                        size: n,
                        color: a,
                        isLaunchable: l,
                        isLaunching: r,
                        isRunning: o,
                        isShiny: d,
                        hideNotLaunchable: c
                    } = this.props;
                    if (!l) return c ? null : this.renderDisabledButton(g.default.Messages.GAME_ACTION_BUTTON_PLAY, p.isPlatformEmbedded ? g.default.Messages.GAME_ACTION_BUTTON_GAME_NOT_DETECTED : g.default.Messages.GAME_ACTION_BUTTON_PLAY_DISABLED_DESKTOP_APP);
                    if (o) return this.renderDisabledButton(g.default.Messages.GAME_ACTION_BUTTON_NOW_PLAYING);
                    let f = d ? I.default : u.Button;
                    return (0, s.jsxs)(f, {
                        className: i(S.playButton, e),
                        innerClassName: S.playButtonContents,
                        fullWidth: t,
                        size: n,
                        color: null != a ? a : u.Button.Colors.GREEN,
                        hover: null != a ? u.Button.Hovers.GREEN : u.Button.Hovers.DEFAULT,
                        submitting: r,
                        onClick: this.handleClick,
                        children: [(0, s.jsx)("div", {
                            className: S.buttonText,
                            children: g.default.Messages.GAME_ACTION_BUTTON_PLAY
                        }), this.renderDropdown()]
                    })
                }
                constructor(...e) {
                    super(...e), this.handleDropdownClick = e => {
                        e.stopPropagation();
                        let {
                            libraryApplication: t,
                            onDropdownOpen: a,
                            onDropdownClose: l
                        } = this.props;
                        if (null == a || a(e), null == t) throw Error("Unexpected missing libraryApplication");
                        o.openContextMenuLazy(e, async () => {
                            let {
                                default: e
                            } = await n.el("220792").then(n.bind(n, "220792"));
                            return n => (0, s.jsx)(e, {
                                ...n,
                                libraryApplication: t,
                                onPlay: this.handleClick
                            })
                        }, {
                            onClose: l
                        })
                    }, this.handleClick = () => {
                        let {
                            applicationId: e,
                            libraryApplication: t,
                            analyticsListSort: n,
                            analyticsListIndex: s
                        } = this.props;
                        h.playApplication(e, t, {
                            analyticsParams: {
                                location: this.analyticsLocation,
                                list_sort: n,
                                list_index: s
                            }
                        })
                    }
                }
            }

            function N(e) {
                let {
                    applicationId: t,
                    libraryApplication: n
                } = e, a = (0, d.useAnalyticsContext)(), [l, i] = (0, r.useStateFromStoresArray)([f.default, c.default, _.default], () => [f.default.isConnected(t) || c.default.isLaunchable(t) || null != n && _.default.isLaunchable(n.id, n.branchId), c.default.launchingGames.has(t)], [t, n]), u = (0, r.useStateFromStores)([E.default], () => new Set(E.default.getRunningVerifiedApplicationIds()).has(t), [t]), o = (0, r.useStateFromStores)([_.default], () => null != n ? _.default.getState(n.id, n.branchId) : null, [n]);
                return (0, s.jsx)(A, {
                    ...e,
                    analyticsContext: a,
                    isLaunchable: l,
                    isLaunching: i,
                    isRunning: u,
                    dispatchState: o
                })
            }
            A.defaultProps = {
                fullWidth: !1,
                size: u.Button.Sizes.LARGE,
                tooltipPosition: "top",
                isShiny: !1,
                hideNotLaunchable: !1
            }
        },
        827825: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return P
                }
            });
            var s, a, l = n("37983"),
                i = n("884691"),
                r = n("446674"),
                u = n("669491"),
                o = n("77078"),
                d = n("438931"),
                c = n("997289"),
                f = n("605250"),
                E = n("393414"),
                _ = n("677225"),
                I = n("9377"),
                m = n("148813"),
                p = n("535974"),
                h = n("352326"),
                T = n("964889"),
                g = n("773336"),
                S = n("882941"),
                A = n("780009"),
                N = n("159467"),
                C = n("49111"),
                M = n("782340"),
                O = n("530570");
            (s = a || (a = {})).PLAY = "play", s.NOW_PLAYING = "now_playing", s.INSTALL = "install", s.UPDATE = "update", s.PAUSED = "paused", s.LOCATE = "locate", s.UNINSTALLING = "uninstalling", s.QUEUED = "queued", s.DOWNLOADING = "downloading", s.UNSUPPORTED_OS = "unsupported_os", s.ADD_TO_LIBRARY = "add_to_library", s.PREORDER_WAIT = "preorder_wait";
            let R = Object.freeze({
                    [C.LibraryApplicationActions.PLAY]: a.PLAY,
                    [C.LibraryApplicationActions.INSTALL]: a.INSTALL,
                    [C.LibraryApplicationActions.UPDATE]: a.UPDATE,
                    [C.LibraryApplicationActions.PAUSE]: a.DOWNLOADING,
                    [C.LibraryApplicationActions.MOVE_UP]: a.QUEUED,
                    [C.LibraryApplicationActions.RESUME]: a.PAUSED
                }),
                v = () => [M.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_1, M.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_2, M.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_3, M.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_4, M.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_5, M.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_6, M.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_7, M.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_8, M.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_9, M.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_10];
            class L extends i.Component {
                get analyticsLocation() {
                    return {
                        ...this.props.analyticsContext.location,
                        object: C.AnalyticsObjects.BUTTON_CTA
                    }
                }
                getText(e) {
                    switch (e !== a.UNINSTALLING && (this._uninstallStringIndex = null), e) {
                        case a.INSTALL:
                            return M.default.Messages.GAME_ACTION_BUTTON_INSTALL;
                        case a.UPDATE:
                            return M.default.Messages.GAME_ACTION_BUTTON_UPDATE;
                        case a.PAUSED:
                            return M.default.Messages.GAME_ACTION_BUTTON_PAUSED;
                        case a.LOCATE:
                            return M.default.Messages.GAME_ACTION_BUTTON_LOCATE;
                        case a.UNINSTALLING:
                            let t = v();
                            return null == this._uninstallStringIndex && (this._uninstallStringIndex = Math.floor(Math.random() * t.length)), t[this._uninstallStringIndex];
                        case a.QUEUED:
                            return M.default.Messages.GAME_ACTION_BUTTON_QUEUED;
                        case a.DOWNLOADING:
                            return M.default.Messages.GAME_ACTION_BUTTON_DOWNLOADING;
                        case a.UNSUPPORTED_OS:
                            return M.default.Messages.GAME_ACTION_BUTTON_INSTALL;
                        case a.PREORDER_WAIT:
                            return M.default.Messages.GAME_ACTION_BUTTON_PREORDER_WAIT;
                        case a.ADD_TO_LIBRARY:
                            return M.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY;
                        default:
                            throw Error("Unexpected button state")
                    }
                }
                getButtonState() {
                    let {
                        libraryApplication: e,
                        dispatchState: t,
                        actionState: n
                    } = this.props;
                    if (e.isHidden()) return a.ADD_TO_LIBRARY;
                    if (e.isPreorder()) return a.PREORDER_WAIT;
                    let s = null != n ? R[n] : null;
                    return null != s ? s : null != t && t.type === C.LocalDispatchApplicationStates.UNINSTALLING ? a.UNINSTALLING : (0, g.isWeb)() ? a.PLAY : a.UNSUPPORTED_OS
                }
                renderPlayButton() {
                    let {
                        libraryApplication: e,
                        fullWidth: t,
                        size: n,
                        color: s,
                        customDisabledColor: a,
                        isPlayShiny: i,
                        onDropdownOpen: r,
                        onDropdownClose: u,
                        analyticsListSort: o,
                        analyticsListIndex: d
                    } = this.props;
                    return (0, l.jsx)(N.default, {
                        applicationId: e.id,
                        libraryApplication: e,
                        fullWidth: t,
                        size: n,
                        color: s,
                        customDisabledColor: a,
                        isShiny: i,
                        onDropdownOpen: r,
                        onDropdownClose: u,
                        analyticsListSort: o,
                        analyticsListIndex: d
                    })
                }
                renderDisabledButton(e, t) {
                    let {
                        className: n,
                        fullWidth: s,
                        size: a,
                        customDisabledColor: i,
                        tooltipPosition: r
                    } = this.props;
                    return (0, l.jsxs)("div", {
                        className: O.disabledButtonWrapper,
                        children: [(0, l.jsxs)(o.Button, {
                            className: n,
                            fullWidth: s,
                            size: a,
                            color: null != i ? i : O.disabledButtonColor,
                            disabled: !0,
                            children: [this.getText(e), this.renderProgressBar()]
                        }), (0, l.jsx)(o.Tooltip, {
                            text: t,
                            position: r,
                            children: e => (0, l.jsx)("div", {
                                className: O.disabledButtonOverlay,
                                ...e
                            })
                        })]
                    })
                }
                renderProgressBar() {
                    let {
                        hideProgress: e,
                        dispatchState: t
                    } = this.props;
                    if (e) return null;
                    let n = T.convertToTransitionState(t);
                    if (null == n) return null;
                    let s = n.type === C.LocalDispatchApplicationStates.UNINSTALLING ? o.Progress.INDETERMINATE : T.calculateProgressPercentage(Number(n.progress), Number(n.total));
                    return (0, l.jsx)(o.Progress, {
                        percent: s,
                        size: o.Progress.Sizes.XSMALL,
                        foregroundColor: n.paused ? u.default.unsafe_rawColors.PRIMARY_500.css : u.default.unsafe_rawColors.GREEN_360.css,
                        backgroundColor: u.default.unsafe_rawColors.TRANSPARENT.css,
                        className: O.progress
                    })
                }
                renderActionButton(e, t) {
                    let {
                        className: n,
                        fullWidth: s,
                        size: i,
                        color: r,
                        isCloudSyncing: u
                    } = this.props;
                    return (0, l.jsxs)(o.Button, {
                        className: n,
                        fullWidth: s,
                        size: i,
                        color: null != r ? r : o.Button.Colors.GREEN,
                        hover: null != r ? o.Button.Hovers.GREEN : o.Button.Hovers.DEFAULT,
                        submitting: e === a.UNINSTALLING || u,
                        onClick: e => this.handleClick(e, t),
                        children: [this.getText(e), this.renderProgressBar()]
                    })
                }
                render() {
                    let {
                        hasNoBuild: e,
                        libraryApplication: t
                    } = this.props, n = this.getButtonState();
                    if (n === a.PLAY) return this.renderPlayButton();
                    if (n === a.PREORDER_WAIT) return this.renderDisabledButton(n, function(e) {
                        let t = S.getReadablePreorderReleaseDate(e.sku);
                        return null != t ? M.default.Messages.GAME_ACTION_BUTTON_PREORDER_WAIT_TOOLTIP.format({
                            date: t
                        }) : null
                    }(t));
                    if (n === a.UNSUPPORTED_OS) return this.renderDisabledButton(n, M.default.Messages.GAME_ACTION_BUTTON_UNAVAILABLE_TOOLTIP.format({
                        operatingSystem: M.default.Messages.WINDOWS
                    }));
                    if (n === a.INSTALL && e) return this.renderDisabledButton(n, M.default.Messages.GAME_ACTION_BUTTON_CANNOT_INSTALL);
                    let s = this.onClickHandlers[n];
                    return null == s ? this.renderDisabledButton(n) : this.renderActionButton(n, s)
                }
                constructor(...e) {
                    super(...e), this._uninstallStringIndex = null, this.handleAddToLibrary = async () => {
                        try {
                            let {
                                libraryApplication: e
                            } = this.props;
                            await d.updateFlags(e.id, e.branchId, e.getFlags() & ~C.LibraryApplicationFlags.HIDDEN), (0, E.transitionTo)(C.Routes.APPLICATION_LIBRARY)
                        } catch (e) {
                            new(0, f.default)("LibraryApplicationButton").error(e)
                        }
                    }, this.handleInstall = () => {
                        let {
                            libraryApplication: e,
                            source: t
                        } = this.props;
                        A.installApplication(e.id, e.branchId, t)
                    }, this.handleUpdate = () => {
                        let {
                            libraryApplication: e
                        } = this.props;
                        A.updateApplication(e.id, e.branchId)
                    }, this.onClickHandlers = {
                        [a.ADD_TO_LIBRARY]: this.handleAddToLibrary,
                        [a.INSTALL]: this.handleInstall,
                        [a.UPDATE]: this.handleUpdate
                    }, this.handleClick = (e, t) => {
                        let {
                            onClick: n
                        } = this.props;
                        null == n || n(e), t(e)
                    }
                }
            }

            function P(e) {
                let {
                    libraryApplication: t
                } = e, n = (0, c.useAnalyticsContext)(), [s, a] = (0, r.useStateFromStoresArray)([p.default, h.default], () => [(0, I.getDefaultLibraryApplicationAction)(t, p.default, h.default), p.default.getState(t.id, t.branchId)], [t]), i = (0, r.useStateFromStores)([m.default], () => m.default.isSyncing(t.id, t.branchId), [t]), u = (0, r.useStateFromStores)([_.default], () => _.default.hasNoBuild(t.id, t.branchId), [t]);
                return (0, l.jsx)(L, {
                    ...e,
                    analyticsContext: n,
                    actionState: s,
                    dispatchState: a,
                    isCloudSyncing: i,
                    hasNoBuild: u
                })
            }
            L.defaultProps = {
                fullWidth: !1,
                size: o.Button.Sizes.LARGE,
                hideProgress: !1,
                isPlayShiny: !1,
                tooltipPosition: "top"
            }, L.ButtonStates = a
        },
        359606: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return C
                }
            });
            var s, a, l, i, r = n("37983"),
                u = n("884691"),
                o = n("414456"),
                d = n.n(o),
                c = n("661579"),
                f = n("880013"),
                E = n("216422"),
                _ = n("782340"),
                I = n("130104");
            (s = l || (l = {}))[s.DIRECTORY_HERO = 1] = "DIRECTORY_HERO", s[s.DIRECTORY_TILE = 2] = "DIRECTORY_TILE", s[s.DIRECTORY_SEARCH = 3] = "DIRECTORY_SEARCH", s[s.LISTING = 4] = "LISTING", s[s.EMBED = 5] = "EMBED", (a = i || (i = {}))[a.IN_LIBRARY = 1] = "IN_LIBRARY", a[a.ON_SALE = 2] = "ON_SALE", a[a.PREMIUM = 3] = "PREMIUM", a[a.DEFAULT = 4] = "DEFAULT", a[a.ENTITLEMENT_BRANCH = 5] = "ENTITLEMENT_BRANCH";
            let m = e => {
                    let {
                        className: t
                    } = e;
                    return (0, r.jsxs)("div", {
                        className: d(I.row, t),
                        children: [(0, r.jsx)(f.default, {
                            className: I.icon
                        }), _.default.Messages.APPLICATION_STORE_IN_LIBRARY]
                    })
                },
                p = e => {
                    let {
                        sku: t,
                        className: n
                    } = e;
                    return (0, r.jsxs)("div", {
                        className: d(I.row, n),
                        children: [(0, r.jsx)(E.default, {
                            className: I.icon
                        }), (0, c.default)(t)]
                    })
                },
                h = e => {
                    let {
                        sku: t,
                        className: n
                    } = e;
                    return (0, r.jsx)("div", {
                        className: d(I.salePercentage, n),
                        children: t.getDisplaySalePercentage()
                    })
                },
                T = e => {
                    let {
                        sku: t,
                        className: n
                    } = e;
                    return (0, r.jsx)("div", {
                        className: d(I.originalAmount, n),
                        children: (0, c.default)(t, !1)
                    })
                },
                g = e => {
                    let {
                        sku: t,
                        className: n
                    } = e;
                    return (0, r.jsx)("div", {
                        className: n,
                        children: (0, c.default)(t)
                    })
                },
                S = e => {
                    let {
                        sku: t,
                        className: n
                    } = e;
                    return (0, r.jsxs)("div", {
                        className: d(I.row, n),
                        children: [(0, r.jsx)(h, {
                            sku: t
                        }), (0, r.jsx)(T, {
                            sku: t
                        }), (0, r.jsx)(g, {
                            sku: t
                        })]
                    })
                },
                A = e => {
                    let {
                        className: t
                    } = e;
                    return (0, r.jsx)("div", {
                        className: t,
                        children: _.default.Messages.APPLICATION_STORE_FREE
                    })
                };
            class N extends u.PureComponent {
                getState() {
                    let {
                        inLibrary: e,
                        sku: t,
                        hasEntitlementBranch: n
                    } = this.props;
                    if (n) return i.ENTITLEMENT_BRANCH;
                    if (e) return i.IN_LIBRARY;
                    if (!t.available) return i.DEFAULT;
                    else if (t.premium) return i.PREMIUM;
                    else if (t.isOnSale) return i.ON_SALE;
                    else if (null != t.getPrice()) return i.DEFAULT;
                    return null
                }
                renderGeneric(e, t) {
                    let {
                        className: n,
                        sku: s
                    } = this.props;
                    switch (e) {
                        case i.ENTITLEMENT_BRANCH:
                            return (0, r.jsx)(A, {
                                className: d(t, n)
                            });
                        case i.IN_LIBRARY:
                            return (0, r.jsx)(m, {
                                className: d(t, n)
                            });
                        case i.PREMIUM:
                            return (0, r.jsx)(p, {
                                sku: s,
                                className: d(t, n)
                            });
                        case i.ON_SALE:
                            return (0, r.jsx)(S, {
                                sku: s,
                                className: d(t, n)
                            });
                        default:
                            return (0, r.jsx)(g, {
                                className: d(t, n),
                                sku: s
                            })
                    }
                }
                renderDirectoryHero(e) {
                    let {
                        className: t,
                        sku: n
                    } = this.props;
                    switch (e) {
                        case i.ENTITLEMENT_BRANCH:
                            return (0, r.jsx)(A, {
                                className: d(t)
                            });
                        case i.PREMIUM:
                            return (0, r.jsx)(p, {
                                sku: n,
                                className: d(I.directoryHeroPricePremium, t)
                            });
                        case i.ON_SALE:
                            return (0, r.jsx)(S, {
                                sku: n,
                                className: d(I.directoryHeroPrice, t)
                            });
                        default:
                            return (0, r.jsx)(g, {
                                className: d(I.directoryHeroPrice, t),
                                sku: n
                            })
                    }
                }
                renderListing(e) {
                    let t;
                    let {
                        className: n,
                        sku: s
                    } = this.props;
                    switch (e) {
                        case i.ENTITLEMENT_BRANCH:
                            t = (0, r.jsx)(A, {});
                            break;
                        case i.ON_SALE:
                            t = (0, r.jsxs)(u.Fragment, {
                                children: [(0, r.jsxs)("div", {
                                    className: I.row,
                                    children: [(0, r.jsx)(g, {
                                        sku: s
                                    }), (0, r.jsx)(h, {
                                        sku: s
                                    })]
                                }), (0, r.jsx)(T, {
                                    sku: s
                                })]
                            });
                            break;
                        default:
                            t = (0, r.jsx)(g, {
                                sku: s
                            })
                    }
                    return (0, r.jsx)("div", {
                        className: d(I.listingPrice, n),
                        children: t
                    })
                }
                render() {
                    let e = this.getState();
                    if (null == e) return null;
                    switch (this.props.type) {
                        case l.DIRECTORY_HERO:
                            return this.renderDirectoryHero(e);
                        case l.DIRECTORY_TILE:
                            return this.renderGeneric(e, I.directoryTilePrice);
                        case l.DIRECTORY_SEARCH:
                            return this.renderGeneric(e, I.directorySearchPrice);
                        case l.LISTING:
                            return this.renderListing(e);
                        case l.EMBED:
                            return this.renderGeneric(e, I.embedPrice);
                        default:
                            throw Error("Invalid Price Unit Type")
                    }
                }
            }
            N.Types = l;
            var C = N
        },
        883610: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return g
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("414456"),
                i = n.n(l),
                r = n("77078"),
                u = n("790219"),
                o = n("359606"),
                d = n("206100"),
                c = n("85871"),
                f = n("231561"),
                E = n("347374"),
                _ = n("271560"),
                I = n("4919"),
                m = n("458331"),
                p = n("49111"),
                h = n("384560");
            class T extends a.PureComponent {
                render() {
                    let {
                        sku: e,
                        storeListing: t,
                        isHorizontal: n,
                        className: a,
                        renderCustomTagline: l,
                        renderCustomTitle: i,
                        renderCustomMedia: r,
                        isEmbed: u
                    } = this.props, o = u ? I.ResponsiveEmbedTile : m.default;
                    return (0, s.jsx)(o, {
                        className: a,
                        renderMedia: null != r ? r : this.renderMedia,
                        renderTitle: null != i ? i : () => e.name,
                        renderTagline: null != l ? l : () => t.tagline,
                        renderActions: this.renderActions,
                        isHorizontal: n
                    })
                }
                constructor(...e) {
                    super(...e), this.renderActions = () => {
                        let {
                            inLibrary: e,
                            sku: t,
                            renderCustomActions: n,
                            isMouseOver: a,
                            showBuyInline: l
                        } = this.props, i = (l || !t.requiresPayment) && !e, c = i && a;
                        return null != n ? n() : (0, s.jsxs)("div", {
                            className: h.priceOs,
                            children: [(0, s.jsx)(o.default, {
                                type: o.default.Types.DIRECTORY_TILE,
                                sku: t,
                                inLibrary: e,
                                className: c ? h.tilePriceWithVisibleBuyButton : h.tilePrice
                            }), (0, s.jsx)(d.OperatingSystemSection, {
                                systems: [p.OperatingSystems.WINDOWS],
                                className: h.platform
                            }), i ? (0, s.jsx)(u.default, {
                                skuId: t.id,
                                applicationId: t.applicationId,
                                size: r.Button.Sizes.SMALL,
                                shouldRenderPrice: !0,
                                onStoreListing: !0,
                                onClick: e => e.preventDefault(),
                                className: c ? h.tileBuyButtonVisible : h.tileBuyButton
                            }) : null]
                        })
                    }, this.renderMedia = () => {
                        let {
                            playing: e,
                            muted: t,
                            showMediaPlaceholder: n,
                            onToggleMute: l,
                            sku: r,
                            isHorizontal: u,
                            storeListing: o
                        } = this.props;
                        return (0, s.jsxs)(a.Fragment, {
                            children: [(0, s.jsx)(E.default, {
                                className: i(h.splashContainer, {
                                    [h.splashContainerHorizontal]: u
                                }),
                                video: null != o.previewVideo ? (0, _.getAssetURL)(r.applicationId, o.previewVideo) : void 0,
                                image: null != o.thumbnail ? (0, _.getAssetURL)(r.applicationId, o.thumbnail, 600) : null,
                                title: r.name,
                                playing: e,
                                muted: t,
                                placeholder: n,
                                onToggleMute: l,
                                splashClassName: h.splashVideo,
                                splashPlaceholderClassName: h.splashPlaceholder
                            }), r.exclusive ? (0, s.jsx)(c.default, {
                                className: i(h.exclusiveRegular, {
                                    [h.exclusivePlaying]: e
                                })
                            }) : r.isTheGameAwardsWinner ? (0, s.jsx)(f.default, {
                                className: i(h.exclusiveRegular, {
                                    [h.exclusivePlaying]: e
                                })
                            }) : null]
                        })
                    }
                }
            }
            T.defaultProps = {
                showMediaPlaceholder: !1,
                isMouseOver: !1,
                showBuyInline: !1,
                isHorizontal: !1,
                isEmbed: !1
            };
            var g = T
        },
        4919: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                HORIZONTAL_EMBED_BREAKPOINT: function() {
                    return u
                },
                ResponsiveEmbedTile: function() {
                    return o
                },
                ResponsiveLoadingEmbedTile: function() {
                    return d
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("414456"),
                l = n.n(a),
                i = n("458331"),
                r = n("166008");
            let u = 660,
                o = e => (0, s.jsx)(i.default, {
                    ...e,
                    className: l(e.className, {
                        [r.embedVertical]: !e.isHorizontal,
                        [r.embedHorizontal]: e.isHorizontal
                    })
                }),
                d = e => {
                    let {
                        isHorizontal: t
                    } = e;
                    return (0, s.jsx)(o, {
                        ...e,
                        media: () => (0, s.jsx)("div", {
                            className: l(r.loadingDescription),
                            children: (0, s.jsx)("div", {
                                className: l(r.loadingBackgroundWrapper, {
                                    [r.loadingBackgroundWrapperHorizontal]: t
                                }),
                                children: (0, s.jsx)("div", {
                                    className: r.loadingBackground
                                })
                            })
                        }),
                        title: () => (0, s.jsx)("div", {
                            className: l(r.loadingImage, {
                                [r.loadingImageHorizontal]: t
                            })
                        })
                    })
                }
        },
        458331: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("414456"),
                l = n.n(a),
                i = n("77078"),
                r = n("278915"),
                u = e => {
                    let {
                        renderTitle: t,
                        renderTagline: n,
                        renderActions: a,
                        renderMedia: u,
                        className: o,
                        isHorizontal: d = !1
                    } = e;
                    return (0, s.jsxs)("div", {
                        className: l(r.tile, {
                            [r.tileHorizontal]: d
                        }, o),
                        children: [(0, s.jsx)("div", {
                            className: l(r.media, {
                                [r.mediaHorizontal]: d
                            }),
                            children: null == u ? void 0 : u()
                        }), (0, s.jsxs)("div", {
                            className: r.description,
                            children: [(0, s.jsx)(i.H, {
                                className: r.title,
                                children: null == t ? void 0 : t()
                            }), (0, s.jsx)("div", {
                                className: r.tagline,
                                children: null == n ? void 0 : n()
                            }), (0, s.jsx)("div", {
                                className: r.actions,
                                children: null == a ? void 0 : a()
                            })]
                        })]
                    })
                }
        },
        710306: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return K
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("414456"),
                i = n.n(l),
                r = n("866227"),
                u = n.n(r),
                o = n("446674"),
                d = n("77078"),
                c = n("79112"),
                f = n("4919"),
                E = n("86621"),
                _ = n("737960"),
                I = n("206230"),
                m = n("210721"),
                p = n("53253"),
                h = n("583711"),
                T = n("65324"),
                g = n("393414"),
                S = n("271938"),
                A = n("55411"),
                N = n("686470"),
                C = n("697218"),
                M = n("10514"),
                O = n("552712"),
                R = n("145131"),
                v = n("880013"),
                L = n("943519"),
                P = n("181108"),
                x = n("599110"),
                D = n("659632"),
                y = n("719923"),
                U = n("380186"),
                b = n("158998"),
                j = n("501076"),
                G = n("49111"),
                B = n("646718"),
                k = n("782340"),
                F = n("192800");

            function w(e) {
                let {
                    onClick: t,
                    libraryApplication: n
                } = e;
                return (0, s.jsxs)(d.Clickable, {
                    className: F.libraryLink,
                    onClick: t,
                    children: [(0, s.jsx)(v.default, {
                        className: F.libraryIcon
                    }), (0, s.jsx)("div", {
                        children: n.isHidden() ? k.default.Messages.APPLICATION_STORE_PURCHASE_IN_LIBRARY_HIDDEN : k.default.Messages.APPLICATION_STORE_PURCHASE_IN_LIBRARY
                    })]
                })
            }
            class H extends a.PureComponent {
                get isHorizontal() {
                    let {
                        width: e
                    } = this.props;
                    return e >= f.HORIZONTAL_EMBED_BREAKPOINT
                }
                handleViewInventory() {
                    c.default.open(G.UserSettingsSections.INVENTORY)
                }
                render() {
                    return (0, s.jsx)(f.ResponsiveEmbedTile, {
                        isHorizontal: this.isHorizontal,
                        renderTitle: this.renderTitle,
                        renderTagline: this.renderTagline,
                        renderMedia: this.renderMedia,
                        renderActions: this.renderActions
                    })
                }
                constructor(...e) {
                    super(...e), this.renderMedia = () => (0, s.jsx)("div", {
                        className: i(F.invalidPoop, {
                            [F.invalidPoopHorizontal]: this.isHorizontal
                        })
                    }), this.renderTitle = () => this.props.isSelfGift ? k.default.Messages.GIFT_EMBED_INVALID_TITLE_SELF : k.default.Messages.GIFT_EMBED_INVALID_TITLE_OTHER, this.renderActions = () => this.props.isSelfGift ? (0, s.jsx)(d.Button, {
                        size: d.Button.Sizes.SMALL,
                        onClick: this.handleViewInventory,
                        children: k.default.Messages.GIFT_INVENTORY
                    }) : (0, s.jsx)(d.Button, {
                        disabled: !0,
                        size: d.Button.Sizes.SMALL,
                        children: k.default.Messages.GIFT_EMBED_BUTTON_ACCEPT
                    }), this.renderTagline = () => this.props.isSelfGift ? k.default.Messages.GIFT_EMBED_INVALID_TAGLINE_SELF : k.default.Messages.GIFT_EMBED_INVALID_TAGLINE_OTHER
                }
            }
            class V extends a.Component {
                get analyticsLocation() {
                    let {
                        analyticsContext: {
                            location: e
                        }
                    } = this.props;
                    return {
                        ...e,
                        section: G.AnalyticsSections.GIFT_CODE_EMBED
                    }
                }
                renderActions(e) {
                    let {
                        libraryApplication: t
                    } = this.props;
                    return (0, s.jsxs)(R.default, {
                        justify: R.default.Justify.BETWEEN,
                        children: [(0, s.jsxs)(R.default, {
                            children: [this.renderButton(e), null == t || e.isSubscription ? null : (0, s.jsx)(w, {
                                onClick: this.handleViewLibrary,
                                libraryApplication: t
                            })]
                        }), (0, s.jsxs)(R.default, {
                            align: R.default.Align.END,
                            justify: R.default.Justify.END,
                            className: F.metadata,
                            direction: R.default.Direction.VERTICAL,
                            children: [e.hasMultipleCopies ? (0, s.jsx)("div", {
                                children: this.renderGiftCodeCopiesLeft(e)
                            }) : null, e.redeemed || e.isClaimed || null != t || null == e.expiresAt ? null : (0, s.jsx)("div", {
                                children: k.default.Messages.GIFT_EMBED_EXPIRATION.format({
                                    hours: e.expiresAt.diff(u(), "h")
                                })
                            })]
                        })]
                    })
                }
                renderGiftCodeCopiesLeft(e) {
                    let t = e.isSubscription ? k.default.Messages.GIFT_EMBED_SUBSCRIPTIONS_LEFT : k.default.Messages.GIFT_EMBED_COPIES_LEFT;
                    return t.format({
                        remaining: e.remainingUses,
                        total: e.maxUses
                    })
                }
                renderButton(e) {
                    let {
                        libraryApplication: t,
                        currentUser: n,
                        isSelfGift: a
                    } = this.props, l = {
                        onClick: this.handleAccept,
                        color: d.Button.Colors.BRAND
                    }, i = !e.isSubscription && null != t || !e.isSelfRedeemable && a || e.isExistingPremiumSubscriptionDisallowed && (0, y.isPremium)(n);
                    return (e.redeemed || i || e.isClaimed || !n.verified) && (l.color = d.Button.Colors.BRAND, l.disabled = !0), (0, s.jsx)(d.Button, {
                        ...l,
                        size: d.Button.Sizes.SMALL,
                        children: e.redeemed ? k.default.Messages.GIFT_EMBED_BUTTON_CLAIMED : null != e.giftStyle ? k.default.Messages.SEASONAL_GIFTING_OPEN_GIFT : k.default.Messages.GIFT_EMBED_BUTTON_ACCEPT
                    })
                }
                isCustomGiftMessage() {
                    let {
                        type: e
                    } = this.props;
                    return e === G.MessageTypes.CUSTOM_GIFT
                }
                renderTitle(e) {
                    let {
                        currentUser: t,
                        isSelfGift: n,
                        sku: s
                    } = this.props;
                    return this.isCustomGiftMessage() && !n ? k.default.Messages.GIFT_RECIPIENT_NOTIFICATION.format({
                        recipientDisplayName: b.default.getName(t)
                    }) : null == s ? null : e.isSubscription ? n ? k.default.Messages.GIFT_EMBED_TITLE_SUBSCRIPTION_SELF : k.default.Messages.GIFT_EMBED_TITLE_SUBSCRIPTION : n ? k.default.Messages.GIFT_EMBED_TITLE_SELF : k.default.Messages.GIFT_EMBED_TITLE
                }
                renderBody(e) {
                    let {
                        libraryApplication: t,
                        isSelfGift: n,
                        sku: s,
                        gifter: a,
                        subscriptionPlan: l,
                        currentUser: i
                    } = this.props;
                    if (null == s) return k.default.Messages.LOADING;
                    if (!n && this.isCustomGiftMessage() && !e.redeemed) return;
                    let r = s.isPreorder() ? k.default.Messages.PREORDER_SKU_NAME.format({
                        name: s.name
                    }) : s.name;
                    if (e.redeemed) return e.isSubscription ? k.default.Messages.GIFT_EMBED_BODY_CLAIMED_SELF_SUBSCRIPTION : k.default.Messages.GIFT_EMBED_BODY_CLAIMED_SELF.format({
                        skuName: r,
                        onViewInLibrary: this.handleViewLibrary
                    });
                    if (!e.isSubscription && null != t) return k.default.Messages.GIFT_EMBED_BODY_OWNED.format({
                        skuName: r,
                        onViewInLibrary: this.handleViewLibrary
                    });
                    if (e.isClaimed) return k.default.Messages.GIFT_EMBED_BODY_CLAIMED_OTHER;
                    if (!i.verified) return k.default.Messages.GIFT_EMBED_BODY_REQUIRES_VERIFICATION.format({
                        onClick: this.handleVerificationClick
                    });
                    if (n) return e.isSelfRedeemable ? k.default.Messages.GIFT_EMBED_BODY_SELF : k.default.Messages.GIFT_EMBED_BODY_SELF_NOT_REDEEMABLE.format({
                        skuName: r
                    });
                    if (e.isExistingPremiumSubscriptionDisallowed) return k.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_ALREADY_ACTIVE;
                    if (e.hasMultipleCopies) return null != a ? e.isSubscription ? k.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_GIVEAWAY.format({
                        username: b.default.getUserTag(a),
                        maxUses: e.maxUses,
                        skuName: r
                    }) : k.default.Messages.GIFT_EMBED_BODY_GIVEAWAY.format({
                        username: b.default.getUserTag(a),
                        totalCopies: e.maxUses,
                        skuName: r
                    }) : e.isSubscription ? k.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_NO_USER_GIVEAWAY.format({
                        maxUses: e.maxUses,
                        skuName: r
                    }) : k.default.Messages.GIFT_EMBED_BODY_NO_USER_GIVEAWAY.format({
                        totalCopies: e.maxUses,
                        skuName: r
                    });
                    if (e.isSubscription) {
                        if (null == l) return k.default.Messages.LOADING;
                        if (null != a) {
                            let e = l.interval === B.SubscriptionIntervalTypes.MONTH ? k.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_DEFAULT_MONTHS : k.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_DEFAULT_YEARS;
                            return e.format({
                                username: b.default.getUserTag(a),
                                skuName: r,
                                intervalCount: l.intervalCount
                            })
                        }
                        let e = l.interval === B.SubscriptionIntervalTypes.MONTH ? k.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_NO_USER_DEFAULT_MONTHS : k.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_NO_USER_DEFAULT_YEARS;
                        return e.format({
                            skuName: r,
                            intervalCount: l.intervalCount
                        })
                    }
                    return null != a ? k.default.Messages.GIFT_EMBED_BODY_DEFAULT.format({
                        username: b.default.getUserTag(a)
                    }) : k.default.Messages.GIFT_EMBED_BODY_NO_USER_DEFAULT
                }
                renderPromotionActions() {
                    return (0, s.jsx)(d.Button, {
                        size: d.Button.Sizes.SMALL,
                        onClick: this.handleClaimPromotion,
                        children: k.default.Messages.GIFT_EMBED_BUTTON_CLAIM
                    })
                }
                render() {
                    let {
                        giftCode: e,
                        resolved: t,
                        width: n,
                        isSelfGift: a
                    } = this.props;
                    if (null != e && null != e.promotion) return (0, s.jsx)(j.StoreEmbedWithoutDimensions, {
                        skuId: e.skuId,
                        onEmbedClick: this.handleClaimPromotion,
                        analyticsSection: G.AnalyticsSections.GIFT_CODE_EMBED,
                        renderCustomActions: () => this.renderPromotionActions(),
                        renderCustomTitle: () => k.default.Messages.GIFT_EMBED_TITLE_PROMOTION,
                        renderCustomTagline: () => k.default.Messages.GIFT_EMBED_TAGLINE_PROMOTION,
                        width: n
                    });
                    if (null == e || e.revoked) return t ? (0, s.jsx)(H, {
                        isSelfGift: a,
                        width: n
                    }) : (0, s.jsx)(f.ResponsiveLoadingEmbedTile, {
                        isHorizontal: n >= f.HORIZONTAL_EMBED_BREAKPOINT
                    });
                    return (0, s.jsx)(j.StoreEmbedWithoutDimensions, {
                        skuId: e.skuId,
                        onEmbedClick: this.handleEmbedClick,
                        analyticsSection: G.AnalyticsSections.GIFT_CODE_EMBED,
                        renderCustomActions: () => this.renderActions(e),
                        renderCustomTitle: () => this.renderTitle(e),
                        renderCustomTagline: () => this.renderBody(e),
                        renderCustomMedia: null == e.giftStyle ? void 0 : () => this.renderSeasonalGiftBox(e),
                        width: n
                    })
                }
                constructor(...e) {
                    super(...e), this.handleViewLibrary = e => {
                        let {
                            libraryApplication: t
                        } = this.props;
                        e.preventDefault(), null != t && t.isHidden() ? (0, g.transitionTo)(G.Routes.APPLICATION_LIBRARY_SETTINGS) : (0, g.transitionTo)(G.Routes.APPLICATION_LIBRARY, {
                            state: {
                                applicationId: null != t ? t.id : null
                            }
                        })
                    }, this.handleVerificationClick = e => {
                        e.stopPropagation(), e.preventDefault(), c.default.open(G.UserSettingsSections.ACCOUNT)
                    }, this.handleAccept = e => {
                        let {
                            channelId: t,
                            code: n,
                            content: s,
                            type: a,
                            giftInfo: l
                        } = this.props;
                        e.preventDefault(), e.stopPropagation(), x.default.track(G.AnalyticEvents.OPEN_MODAL, {
                            type: "gift_accept",
                            location: {
                                ...this.analyticsLocation,
                                object: G.AnalyticsObjects.BUTTON_CTA
                            }
                        });
                        let i = a !== G.MessageTypes.CUSTOM_GIFT ? void 0 : s;
                        (0, h.openGiftCodeAcceptModal)({
                            processedCode: n,
                            channelContext: t,
                            customGiftMessage: i,
                            giftInfo: l
                        })
                    }, this.handleEmbedClick = e => {
                        let {
                            giftCode: t
                        } = this.props;
                        null != t && t.isSubscription && (e.preventDefault(), c.default.open(G.UserSettingsSections.PREMIUM))
                    }, this.handleClaimPromotion = e => {
                        var t;
                        e.stopPropagation(), e.preventDefault();
                        let n = null === (t = this.props.giftCode) || void 0 === t ? void 0 : t.code;
                        null != n && window.open(G.Routes.BILLING_PROMOTION_REDEMPTION(n))
                    }, this.renderSeasonalGiftBox = e => {
                        let {
                            useReducedMotion: t,
                            width: n
                        } = this.props;
                        if (null == e || null == e.giftStyle) return null;
                        let a = this.isCustomGiftMessage() || null != e.giftStyle,
                            l = (0, p.useIsSeasonalGiftingActive)(),
                            r = i({
                                [F.seasonalGiftEmbedWrapper]: !a,
                                [F.customGiftEmbedWrapper]: a,
                                [F.giftEmbedWrapperHorizontal]: n >= f.HORIZONTAL_EMBED_BREAKPOINT
                            }),
                            u = i({
                                [F.seasonalGiftEmbedBox]: !a,
                                [F.customGiftEmbedBox]: a
                            });
                        return (0, s.jsxs)("div", {
                            className: r,
                            children: [!t && !a && l && (0, s.jsx)(P.default, {
                                className: F.snow,
                                wind: 5
                            }), !a && (0, s.jsx)(L.default, {
                                className: F.headerIcon
                            }), null != e.giftStyle && (0, s.jsx)(T.default, {
                                defaultAnimationState: e.redeemed ? m.AnimationState.LOOP : m.AnimationState.IDLE,
                                giftStyle: e.giftStyle,
                                className: u
                            })]
                        })
                    }
                }
            }
            let Y = (0, _.default)((0, E.default)(V));
            var K = o.default.connectStores([A.default, O.default, C.default, N.default, M.default, S.default, I.default], e => {
                let {
                    code: t,
                    author: n,
                    currentUser: s
                } = e, a = A.default.get(t), l = null != a ? O.default.get(a.skuId) : null, i = null != a && null != a.userId ? C.default.getUser(a.userId) : null, r = I.default.useReducedMotion;
                return {
                    sku: l,
                    giftCode: a,
                    gifter: i,
                    currentUser: s,
                    subscriptionPlan: null != a && null != a.subscriptionPlanId ? (0, U.getOrFetchSubscriptionPlan)(a.subscriptionPlanId) : null,
                    isSelfGift: null != a ? S.default.getId() === a.userId : S.default.getId() === n.id,
                    resolved: A.default.getIsResolved(t),
                    libraryApplication: null != l && null != a ? D.firstLibraryApplicationForGiftCode(a, l, N.default) : null,
                    useReducedMotion: r
                }
            })(Y)
        },
        206100: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                OperatingSystemSection: function() {
                    return I
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("414456"),
                l = n.n(a),
                i = n("77078"),
                r = n("84084"),
                u = n("260162"),
                o = n("415844"),
                d = n("49111"),
                c = n("782340"),
                f = n("50536");
            let E = {
                [d.OperatingSystems.WINDOWS]: {
                    icon: o.default,
                    getLabel: () => c.default.Messages.WINDOWS
                },
                [d.OperatingSystems.MACOS]: {
                    icon: u.default,
                    getLabel: () => c.default.Messages.MACOS
                },
                [d.OperatingSystems.LINUX]: {
                    icon: r.default,
                    getLabel: () => c.default.Messages.LINUX
                }
            };

            function _(e) {
                let {
                    operatingSystem: t,
                    className: n
                } = e, a = E[t];
                if (null == a) throw Error("Unexpected operating system: ".concat(t));
                let l = a.icon;
                return (0, s.jsx)(i.Tooltip, {
                    text: a.getLabel(),
                    children: e => (0, s.jsx)(l, {
                        ...e,
                        className: n
                    })
                })
            }
            let I = e => {
                let {
                    systems: t,
                    className: n,
                    iconClassName: a
                } = e;
                return (0, s.jsx)("div", {
                    className: l(f.OSSection, n),
                    children: t.map(e => (0, s.jsx)(_, {
                        operatingSystem: e,
                        className: l(f.purchaseUnitOperatingSystem, a)
                    }, e))
                })
            }
        },
        308757: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                openIAPPurchaseModal: function() {
                    return P
                },
                openSKUPaymentModal: function() {
                    return D
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("627445"),
                l = n.n(a),
                i = n("77078"),
                r = n("913144"),
                u = n("850068"),
                o = n("427495"),
                d = n("73961"),
                c = n("465527"),
                f = n("55620"),
                E = n("775433"),
                _ = n("524503"),
                I = n("333955"),
                m = n("308592"),
                p = n("846286"),
                h = n("314058"),
                T = n("509167"),
                g = n("292687"),
                S = n("929479"),
                A = n("697218"),
                N = n("357957"),
                C = n("521012"),
                M = n("552712"),
                O = n("719923"),
                R = n("49111");

            function v(e, t) {
                let {
                    applicationId: n,
                    id: s
                } = e;
                return c.purchaseSKU(n, s).then(e => {
                    let {
                        entitlements: a
                    } = e;
                    return (0, d.openPurchaseConfirmationModal)(n, s, a, {
                        context: t
                    })
                })
            }

            function L() {
                let e = g.default.getWindow(R.PopoutWindowKeys.CHANNEL_CALL_POPOUT),
                    t = null != e && !e.closed;
                return t ? i.POPOUT_MODAL_CONTEXT : i.DEFAULT_MODAL_CONTEXT
            }
            async function P(e) {
                var t;
                let {
                    applicationId: n,
                    skuId: a,
                    initialPlanId: i,
                    openPremiumPaymentModal: r,
                    analyticsLocations: u,
                    analyticsLocation: d,
                    context: c
                } = e, g = M.default.get(a);
                if (null == g) {
                    let e = await (0, f.fetchAllStoreListingsForApplication)(n),
                        t = e.find(e => e.sku.id === a);
                    l(null != t, "Could not find store listing for sku"), t.sku.type === R.SKUTypes.SUBSCRIPTION_GROUP && await (0, _.fetchAllSubscriptionListingsDataForApplication)(n, t.id)
                }(null === (t = g = null != g ? g : M.default.get(a)) || void 0 === t ? void 0 : t.type) === R.SKUTypes.SUBSCRIPTION && !(0, m.getSubscriptionPlansLoaded)([g.id]) && await (0, E.fetchSubscriptionPlansForSKU)(g.id);
                let {
                    enabled: N
                } = h.default.getCurrentConfig({
                    location: "ccd2f5_1"
                }, {
                    autoTrackExposure: !0
                }), P = L(), x = A.default.getCurrentUser();
                if (null != g && g.premium) {
                    if (O.default.canInstallPremiumApplications(x)) return v(g, c);
                    await o.openModal(c), await
                    function(e, t, n, s) {
                        let a = C.default.getPremiumSubscription(),
                            l = {
                                id: e.id,
                                applicationId: e.applicationId
                            };
                        if (null != a) {
                            let e = O.default.getClosestUpgrade(a.planId);
                            if (null == e) return Promise.reject(Error("Could not find premium upgrade."));
                            let t = {
                                initialPlanId: e,
                                followupSKUInfo: l,
                                analyticsLocations: n
                            };
                            switch (s) {
                                case R.AppContext.APP:
                                    return S.default.openPremiumPaymentModalInApp(t);
                                case R.AppContext.OVERLAY:
                                    return S.default.openPremiumPaymentModalInOverlay(t);
                                default:
                                    throw Error("Unexpected app context: ".concat(s))
                            }
                        }
                        return t()
                    }(g, r, u, c), await v(g, c)
                } else if (null != g && g.type === R.SKUTypes.SUBSCRIPTION) await
                function(e, t, n, a, l) {
                    return (0, p.openActivityApplicationPaymentModal)({
                        applicationId: e,
                        skuId: t,
                        initialPlanId: n,
                        analyticsLocationObject: a,
                        analyticsLocations: l,
                        renderHeader: (e, t, n) => (0, s.jsx)(I.PurchaseHeader, {
                            step: n,
                            onClose: () => t(!1)
                        })
                    })
                }(n, a, i, d, u);
                else if (N) return new Promise(async (e, t) => {
                    await (0, T.default)({
                        applicationId: n,
                        skuId: a,
                        analyticsLocations: u,
                        contextKey: P,
                        onComplete: t => {
                            var n;
                            e(null !== (n = null == t ? void 0 : t.entitlements) && void 0 !== n ? n : [])
                        },
                        onClose: e => {
                            !e && t()
                        }
                    })
                });
                else return D(n, a, d, {
                    isIAP: !0,
                    context: c
                })
            }
            let x = {
                isIAP: !1,
                context: R.AppContext.APP,
                promotionId: null,
                isGift: !1
            };

            function D(e, t, a) {
                let l = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {},
                    o = Promise.resolve();
                !N.default.hasFetchedPaymentSources && (o = u.fetchPaymentSources());
                let {
                    isIAP: d,
                    context: c,
                    promotionId: f,
                    isGift: E
                } = {
                    ...x,
                    ...l
                }, _ = L();
                return o.then(() => new Promise((l, u) => {
                    r.default.dispatch({
                        type: "SKU_PURCHASE_MODAL_OPEN",
                        applicationId: e,
                        skuId: t,
                        isIAP: d,
                        isGift: E,
                        analyticsLocation: a,
                        promotionId: f,
                        context: c,
                        resolve: l,
                        reject: u
                    }), (0, i.openModalLazy)(async () => {
                        let {
                            default: a
                        } = await n.el("787598").then(n.bind(n, "787598"));
                        return n => {
                            let {
                                onClose: l,
                                ...i
                            } = n;
                            return (0, s.jsx)(a, {
                                ...i,
                                onClose: function() {
                                    let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                                    r.default.dispatch({
                                        type: "SKU_PURCHASE_MODAL_CLOSE",
                                        error: e
                                    }), l()
                                },
                                applicationId: e,
                                skuId: t,
                                appContext: c
                            })
                        }
                    }, {
                        contextKey: _
                    })
                }))
            }
        },
        501076: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return L
                },
                StoreEmbedWithoutDimensions: function() {
                    return P
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("90915"),
                i = n("446674"),
                r = n("77078"),
                u = n("55620"),
                o = n("901582"),
                d = n("658457"),
                c = n("359606"),
                f = n("883610"),
                E = n("4919"),
                _ = n("86621"),
                I = n("737960"),
                m = n("546463"),
                p = n("686470"),
                h = n("290877"),
                T = n("552712"),
                g = n("698041"),
                S = n("271560"),
                A = n("49111"),
                N = n("782340"),
                C = n("640492");
            class M extends a.Component {
                get analyticsLocation() {
                    let {
                        analyticsContext: {
                            location: e
                        },
                        analyticsSection: t
                    } = this.props;
                    return {
                        ...e,
                        section: null != t ? t : A.AnalyticsSections.APPLICATION_EMBED,
                        object: A.AnalyticsObjects.CARD
                    }
                }
                componentDidMount() {
                    let {
                        sku: e,
                        skuId: t,
                        storeListing: n
                    } = this.props;
                    (null == e || null == n) && (0, u.fetchStoreListingForSku)(t)
                }
                renderViewInStoreButton() {
                    return (0, s.jsx)(r.Button.Link, {
                        to: this.getStoreListingLocation(),
                        className: C.actionButton,
                        color: r.Button.Colors.GREEN,
                        size: r.Button.Sizes.SMALL,
                        children: N.default.Messages.GAME_ACTION_BUTTON_VIEW_IN_STORE
                    })
                }
                render() {
                    let {
                        sku: e,
                        storeListing: t,
                        inLibrary: n,
                        width: a,
                        fetchFailed: i,
                        renderFallback: r,
                        renderCustomTitle: u,
                        renderCustomTagline: d,
                        renderCustomMedia: c
                    } = this.props, {
                        playing: _,
                        muted: I
                    } = this.state, m = a > E.HORIZONTAL_EMBED_BREAKPOINT;
                    if (null == e || null == t) return i ? r() : (0, s.jsx)(E.ResponsiveLoadingEmbedTile, {
                        isHorizontal: m
                    });
                    return (0, s.jsx)(o.default, {
                        section: A.AnalyticsSections.APPLICATION_EMBED,
                        children: (0, s.jsx)(l.Link, {
                            onClick: this.handleLinkClick,
                            to: this.getStoreListingLocation(),
                            onMouseEnter: this.handleMouseEnter,
                            onMouseLeave: this.handleMouseLeave,
                            children: (0, s.jsx)(f.default, {
                                sku: e,
                                storeListing: t,
                                playing: _,
                                muted: I,
                                inLibrary: n,
                                onToggleMute: this.handleToggleMute,
                                renderCustomActions: () => this.renderActions(e),
                                renderCustomTitle: u,
                                renderCustomTagline: d,
                                renderCustomMedia: c,
                                isHorizontal: m,
                                isEmbed: !0
                            })
                        })
                    })
                }
                constructor(...e) {
                    super(...e), this.state = {
                        playing: !1,
                        muted: !0
                    }, this.handleToggleMute = () => {
                        this.setState({
                            muted: !this.state.muted
                        })
                    }, this.handleMouseEnter = () => {
                        this.setState({
                            playing: !0
                        })
                    }, this.handleMouseLeave = () => {
                        this.setState({
                            playing: !1
                        })
                    }, this.getStoreListingLocation = () => {
                        let {
                            sku: e
                        } = this.props;
                        if (null == e) throw Error("Should not be link to ApplicationStoreListing without SKU");
                        return (0, S.getStoreListingLocation)(e.id, {
                            slug: e.slug,
                            analyticsSource: this.analyticsLocation
                        })
                    }, this.handleActionButtonClick = e => e.preventDefault(), this.handleBuyButtonClick = e => e.preventDefault(), this.handleLinkClick = e => {
                        let {
                            onEmbedClick: t
                        } = this.props;
                        null != t && t(e)
                    }, this.renderActions = e => {
                        let {
                            inLibrary: t,
                            application: n,
                            skuId: a,
                            libraryApplication: l,
                            renderCustomActions: i
                        } = this.props;
                        if (null != i) return (0, s.jsx)("div", {
                            className: C.tileActions,
                            children: i()
                        });
                        if (null == n) return null;
                        let u = null != n && n.primarySkuId === a,
                            o = null != l && l.hasFlag(A.LibraryApplicationFlags.HIDDEN);
                        return (0, s.jsxs)("div", {
                            className: C.tileActions,
                            children: [!u || o ? this.renderViewInStoreButton() : (0, s.jsx)(d.default, {
                                application: n,
                                customDisabledColor: r.Button.Colors.PRIMARY,
                                size: r.Button.Sizes.SMALL,
                                className: C.actionButton,
                                source: A.AnalyticsLocations.MESSAGE_EMBED,
                                onClick: this.handleActionButtonClick
                            }), t && !o || e.premium ? null : (0, s.jsx)(c.default, {
                                type: c.default.Types.EMBED,
                                sku: e,
                                inLibrary: !1
                            })]
                        })
                    }
                }
            }
            M.defaultProps = {
                renderFallback: A.NOOP
            };
            let O = [T.default, h.default, p.default, g.default, m.default];

            function R(e) {
                let {
                    skuId: t
                } = e, n = T.default.get(t), s = null != n ? m.default.getGame(n.applicationId) : null;
                return {
                    sku: n,
                    application: s,
                    fetchFailed: T.default.didFetchingSkuFail(t),
                    inLibrary: null != n && p.default.hasApplication(n.applicationId, n.applicationId, !0),
                    storeListing: null != n ? g.default.getForSKU(n.id) : null,
                    libraryApplication: null != n ? p.default.getLibraryApplication(n.applicationId, n.applicationId, !0) : null
                }
            }
            let v = (0, I.default)((0, _.default)(M));
            var L = i.default.connectStores(O, R)(v);
            let P = (0, _.default)(i.default.connectStores(O, R)(M))
        },
        550762: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return l
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("77078");

            function l(e, t) {
                (0, a.openModalLazy)(async () => {
                    let {
                        default: a
                    } = await n.el("557981").then(n.bind(n, "557981"));
                    return n => (0, s.jsx)(a, {
                        channelId: e,
                        messageId: t,
                        ...n
                    })
                })
            }
        },
        876927: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return l
                }
            });
            var s = n("884691"),
                a = n("731898");

            function l() {
                let {
                    ref: e,
                    width: t
                } = (0, a.default)(), [n, l] = s.useState();
                return s.useEffect(() => {
                    null == n && null != t && l(t)
                }, [n, t]), [e, n]
            }
        },
        722525: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                transitionToChannel: function() {
                    return u
                },
                transitionToPage: function() {
                    return o
                }
            });
            var s = n("77078"),
                a = n("255397"),
                l = n("406189"),
                i = n("393027"),
                r = n("49111");

            function u(e, t) {
                let n = !(arguments.length > 2) || void 0 === arguments[2] || arguments[2],
                    u = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                !(0, s.hasAnyModalOpen)() && (n && l.default.channelListScrollTo(e, t), u && null != t && a.default.updateChatOpen(t, !0), i.default.getState().updatePath(r.Routes.CHANNEL(e, t)))
            }

            function o(e) {
                !(0, s.hasAnyModalOpen)() && i.default.getState().updatePath(e)
            }
        },
        286509: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return l
                }
            });
            var s = n("550368"),
                a = n("954016");

            function l(e, t) {
                return null == e || null == e.assets || null == e.assets.large_image ? null : (0, s.getAssetImage)(t, e.assets.large_image, [a.ACTIVITY_INVITE_COVER_IMAGE_SIZE, a.ACTIVITY_INVITE_COVER_IMAGE_SIZE])
            }
        },
        549548: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return a
                }
            });
            var s = n("782340");

            function a(e) {
                return e > 0 ? s.default.Messages.EMBEDDED_ACTIVITIES_MAX_PARTICIPANTS.format({
                    count: e
                }) : s.default.Messages.EMBEDDED_ACTIVITIES_UNLIMITED_PARTICIPANTS
            }
        },
        676223: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return a
                }
            });
            var s = n("299039");

            function a(e, t, n) {
                if (null == e) return !1;
                let a = null != t.activity ? t.activity.party_id : null,
                    l = null != a && (null == e.party || e.party.id !== a),
                    i = s.default.extractTimestamp(t.id) + 72e5 < Date.now(),
                    r = null != e.application_id && e.application_id !== n;
                return !l && !i && !r
            }
        },
        969380: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var s = n("884691"),
                a = n("550368");
            let l = ["embedded_cover", "embedded_background"];

            function i(e) {
                let {
                    applicationId: t,
                    size: n,
                    names: i = l
                } = e, [r, u] = s.useState(null), [o, d] = s.useState(!0), c = (0, a.getAssetImage)(t, r, n);
                return s.useEffect(() => {
                    (0, a.fetchAssetIds)(t, i).then(e => {
                        for (let t of (d(!1), e))
                            if (null != t && "" !== t) {
                                u(t);
                                return
                            }
                    })
                }, [t]), {
                    url: c,
                    state: o ? "loading" : null != c ? "fetched" : "not-found"
                }
            }
        },
        817039: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("988150"),
                i = n("661379");

            function r(e) {
                let {
                    imageBackground: t,
                    applicationName: n,
                    imageClassName: r,
                    imageNotFoundClassName: u
                } = e, [o, d] = a.useState(!1);
                return "not-found" === t.state || o ? (0, s.jsx)("div", {
                    className: u,
                    children: (0, s.jsx)(l.default, {
                        className: i.brokenImageIcon
                    })
                }) : "loading" === t.state ? null : (0, s.jsx)("img", {
                    alt: n,
                    className: r,
                    src: t.url,
                    onError: () => d(!0)
                })
            }
        },
        627697: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return j
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("90915"),
                l = n("446674"),
                i = n("769846"),
                r = n("77078"),
                u = n("404118"),
                o = n("997289"),
                d = n("812204"),
                c = n("685665"),
                f = n("442939"),
                E = n("870346"),
                _ = n("950104"),
                I = n("42203"),
                m = n("697218"),
                p = n("155207"),
                h = n("811305"),
                T = n("568734"),
                g = n("449008"),
                S = n("159885"),
                A = n("550766"),
                N = n("191225"),
                C = n("602718"),
                M = n("706508"),
                O = n("986214"),
                R = n("549548"),
                v = n("969380"),
                L = n("141962"),
                P = n("478272"),
                x = n("954016"),
                D = n("49111"),
                y = n("782340"),
                U = n("586449");
            let b = (0, S.cssValueToNumber)(i.default.ACTIVITY_BOOKMARK_EMBED_IMAGE_WIDTH);

            function j(e) {
                var t, n, i, S;
                let {
                    applicationId: j,
                    message: G
                } = e, {
                    analyticsLocations: B,
                    AnalyticsLocationProvider: k
                } = (0, c.default)(d.default.ACTIVITY_BOOKMARK), F = (0, o.useAnalyticsContext)(), w = G.channel_id, H = (0, l.useStateFromStores)([I.default], () => I.default.getChannel(w), [w]), V = null == H ? void 0 : H.guild_id, Y = null != H && (H.isGuildVoice() || H.isPrivate()), K = (0, l.useStateFromStores)([N.default], () => N.default.getSelfEmbeddedActivityForChannel(w)), W = (null == K ? void 0 : K.application_id) === j, [z, J] = (0, f.default)([j, null !== (n = null == K ? void 0 : K.application_id) && void 0 !== n ? n : ""]), X = (0, R.default)(null !== (i = null == z ? void 0 : z.maxParticipants) && void 0 !== i ? i : 0), [Z] = (0, l.useStateFromStoresArray)([N.default], () => Y ? N.default.getEmbeddedActivitiesForChannel(w).filter(e => e.application_id === j) : [], [j, w, Y]), q = Array.from(null !== (S = null == Z ? void 0 : Z.connections.keys()) && void 0 !== S ? S : []), Q = (0, l.useStateFromStoresArray)([m.default], () => q.map(e => m.default.getUser(e)).filter(g.isNotNullish), [q]), $ = (0, v.default)({
                    applicationId: j,
                    size: b
                }), ee = E.default.getWindowOpen(D.PopoutWindowKeys.CHANNEL_CALL_POPOUT), et = Q.length > 0 ? y.default.Messages.JOIN : y.default.Messages.START, en = async () => {
                    if (Y) {
                        let {
                            activityConfigs: e,
                            applications: t
                        } = await (0, A.fetchShelf)({
                            guildId: V
                        }), n = (0, C.default)({
                            applicationId: j,
                            activityConfigs: e,
                            applications: t
                        });
                        if (null != Z && Q.length > 0) await (0, M.default)({
                            activity: Z,
                            currentEmbeddedApplication: J,
                            activityChannelId: w,
                            embeddedActivitiesManager: L.default,
                            locationObject: F.location,
                            analyticsLocations: B
                        });
                        else {
                            let e = H.isPrivate() && !_.default.isCallActive(w),
                                t = () => (0, O.default)({
                                    activityItem: n,
                                    currentActivity: J,
                                    channelId: w,
                                    guildId: V,
                                    embeddedActivitiesManager: L.default,
                                    analyticsLocations: B
                                });
                            e ? u.default.show({
                                title: y.default.Messages.DEFAULT_CONFIRMATION_MODAL_HEADER,
                                cancelText: y.default.Messages.CANCEL,
                                confirmText: y.default.Messages.CONFIRM,
                                onConfirm: () => t(),
                                body: y.default.Messages.EMBEDDED_ACTIVITIES_DM_START_CONFIRMATION_TEXT
                            }) : t()
                        }
                    } else(0, P.default)({
                        guildId: V,
                        locationObject: F.location,
                        openInPopout: ee,
                        initialSelectedApplicationId: j,
                        initialSlide: x.ActivityShelfSlides.SELECT_CHANNEL,
                        analyticsLocations: B
                    })
                };
                return null != z && (0, T.hasFlag)(z.flags, D.ApplicationFlags.EMBEDDED) ? (0, s.jsx)(k, {
                    children: (0, s.jsxs)("div", {
                        className: U.container,
                        children: [(0, s.jsx)("div", {
                            className: U.imgContainer,
                            children: (0, s.jsx)("img", {
                                className: U.img,
                                alt: z.name,
                                src: $.url
                            })
                        }), (0, s.jsxs)("div", {
                            className: U.content,
                            children: [(0, s.jsx)(r.Heading, {
                                className: U.heading,
                                variant: "heading-xl/semibold",
                                children: z.name
                            }), (0, s.jsx)(r.Heading, {
                                className: U.description,
                                variant: "heading-sm/medium",
                                children: null === (t = z.description) || void 0 === t ? void 0 : t.trim()
                            }), (0, s.jsx)(r.Heading, {
                                className: U.learnMore,
                                variant: "heading-sm/medium",
                                children: (0, s.jsx)(a.Link, {
                                    to: D.Routes.ACTIVITY_DETAILS(j),
                                    children: y.default.Messages.LEARN_MORE
                                })
                            }), (0, s.jsxs)("div", {
                                className: U.cta,
                                children: [Q.length > 0 ? (0, s.jsx)("div", {
                                    className: U.avatars,
                                    children: (0, s.jsx)(h.default, {
                                        guildId: V,
                                        users: Q,
                                        max: 4
                                    })
                                }) : (0, s.jsxs)("div", {
                                    className: U.maxParticipants,
                                    children: [(0, s.jsx)(p.default, {
                                        className: U.peopleIcon
                                    }), (0, s.jsx)(r.Text, {
                                        variant: "text-xs/semibold",
                                        children: X
                                    })]
                                }), (0, s.jsx)("div", {
                                    className: U.buttonWrapper,
                                    children: (0, s.jsx)(r.Button, {
                                        onClick: en,
                                        className: U.button,
                                        color: r.ButtonColors.GREEN,
                                        disabled: W,
                                        children: et
                                    })
                                })]
                            })]
                        })]
                    })
                }) : null
            }
        },
        527088: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return C
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("394846"),
                i = n("65597"),
                r = n("77078"),
                u = n("811425"),
                o = n("915639"),
                d = n("653047"),
                c = n("162771"),
                f = n("697218"),
                E = n("174622"),
                _ = n("627490"),
                I = n("599110"),
                m = n("613676"),
                p = n("721698"),
                h = n("349503"),
                T = n("412707"),
                g = n("838093"),
                S = n("49111"),
                A = n("782340"),
                N = n("759374");

            function C(e) {
                var t, n, C;
                let {
                    code: M,
                    message: O
                } = e, [R, v, L] = (0, i.useStateFromStoresArray)([h.default], () => [h.default.getApplication(M), h.default.isInvalidApplication(M), h.default.getApplicationFetchState(M)], [M]), P = (0, i.default)([o.default], () => o.default.locale), x = (0, i.default)([c.default], () => null !== (n = c.default.getGuildId()) && void 0 !== n ? n : void 0), D = (0, i.default)([f.default], () => f.default.getCurrentUser()), [y, U] = a.useState(!1), b = a.useCallback(e => {
                    e && U(!0)
                }, []), j = (0, u.useIsVisible)(b);
                a.useEffect(() => {
                    (0, p.getEmbedApplication)(M)
                }, [M]), a.useEffect(() => {
                    y && L === h.FetchState.FETCHED && I.default.track(S.AnalyticEvents.APP_DIRECTORY_PROFILE_EMBED_VIEWED, {
                        application_id: M,
                        device_platform: l.isMobile ? "mobile_web" : "desktop_web",
                        sender_user_id: O.author.id,
                        guild_id: x,
                        channel_id: O.channel_id
                    })
                }, [y, M, null == D ? void 0 : D.id, O.channel_id, x, O.author.id, L]), a.useEffect(() => {
                    y && v && I.default.track(S.AnalyticEvents.APP_DIRECTORY_PROFILE_INVALID_EMBED_VIEWED, {
                        device_platform: l.isMobile ? "mobile_web" : "desktop_web",
                        sender_user_id: O.author.id,
                        guild_id: x,
                        channel_id: O.channel_id
                    })
                }, [y, x, v, O.author.id, O.channel_id]);
                let G = e => {
                    I.default.track(S.AnalyticEvents.APP_DIRECTORY_PROFILE_EMBED_APP_INFO_CLICKED, {
                        application_id: M,
                        device_platform: l.isMobile ? "mobile_web" : "desktop_web",
                        clicked_section: e,
                        guild_id: x,
                        channel_id: O.channel_id
                    }), (0, g.goToAppDirectory)({
                        view: T.ApplicationDirectoryViews.APPLICATION,
                        guildId: x,
                        applicationId: M,
                        entrypoint: {
                            name: T.ApplicationDirectoryEntrypointNames.APPLICATION_DIRECTORY_PROFILE_EMBED
                        }
                    })
                };
                if (v) return (0, s.jsxs)(E.default, {
                    containerRef: j,
                    children: [(0, s.jsx)(E.default.Header, {
                        text: A.default.Messages.APP_DIRECTORY_PROFILE_EMBED_INVALID_HEADER
                    }), (0, s.jsx)(E.default.Body, {
                        children: (0, s.jsxs)("div", {
                            className: N.invalidBody,
                            children: [(0, s.jsx)(E.default.Icon, {
                                expired: !0
                            }), (0, s.jsx)(E.default.Info, {
                                expired: !0,
                                title: A.default.Messages.APP_DIRECTORY_PROFILE_EMBED_INVALID_INFO_TITLE,
                                children: A.default.Messages.APP_DIRECTORY_PROFILE_EMBED_INVALID_INFO_BODY
                            })]
                        })
                    })]
                });
                if (null == R || L === h.FetchState.FETCHING) return (0, s.jsxs)(E.default, {
                    containerRef: j,
                    children: [(0, s.jsx)(E.default.Header, {
                        text: A.default.Messages.APP_DIRECTORY_PROFILE_EMBED_RESOLVING_HEADER
                    }), (0, s.jsx)(E.default.Body, {
                        resolving: !0
                    })]
                });
                let B = new Intl.NumberFormat(P, {
                        notation: "compact",
                        compactDisplay: "short"
                    }),
                    k = B.format(null !== (C = null === (t = R.directory_entry) || void 0 === t ? void 0 : t.guild_count) && void 0 !== C ? C : 0);
                return (0, s.jsxs)(E.default, {
                    containerRef: j,
                    children: [(0, s.jsx)(E.default.Header, {
                        text: A.default.Messages.APP_DIRECTORY_PROFILE_EMBED_HEADER
                    }), (0, s.jsxs)(E.default.Body, {
                        children: [(0, s.jsxs)("div", {
                            className: N.applicationInfoContainer,
                            children: [(0, s.jsx)(E.default.Icon, {
                                application: d.default.createFromServer(R),
                                className: N.applicationIcon,
                                onClick: () => G("application_icon")
                            }), (0, s.jsx)(E.default.Info, {
                                title: (0, s.jsx)(r.Clickable, {
                                    onClick: () => G("application_name"),
                                    children: R.name
                                }),
                                children: (0, s.jsxs)(r.Clickable, {
                                    className: N.guildCountContainer,
                                    onClick: () => G("application_guild_count"),
                                    children: [(0, s.jsx)(_.default, {
                                        width: 16,
                                        height: 16,
                                        className: N.guildCountIcon
                                    }), A.default.Messages.APP_DIRECTORY_PROFILE_EMBED_GUILD_COUNT.format({
                                        guildCount: k
                                    })]
                                })
                            })]
                        }), (0, s.jsx)(E.default.Button, {
                            onClick: () => {
                                null != R && (0, m.installApplication)({
                                    applicationId: M,
                                    customInstallUrl: R.custom_install_url,
                                    installParams: R.install_params,
                                    guildId: x,
                                    source: "app_directory_profile_embed"
                                })
                            },
                            color: E.default.Button.Colors.GREEN,
                            children: A.default.Messages.APP_DIRECTORY_PROFILE_EMBED_BUTTON
                        })]
                    })]
                })
            }
        },
        409129: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                getApplicationSubscriptionSystemMessageASTContent: function() {
                    return a
                }
            });
            var s = n("782340");

            function a(e) {
                let {
                    application: t,
                    username: n,
                    usernameOnClick: a,
                    medium: l
                } = e;
                return null != t ? s.default.Messages.SYSTEM_MESSAGE_APPLICATION_SUBSCRIPTION_PURCHASE_MOBILE.astFormat({
                    username: n,
                    applicationName: t.name,
                    usernameOnClick: a,
                    medium: l
                }) : s.default.Messages.SYSTEM_MESSAGE_APPLICATION_SUBSCRIPTION_PURCHASE_FROM_DELETED_APPLICATION_MOBILE.astFormat({
                    username: n,
                    usernameOnClick: a,
                    medium: l
                })
            }
        },
        63522: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("574073"),
                l = n("232259"),
                i = n("8161"),
                r = n("304198"),
                u = n("509425"),
                o = n("121135");

            function d(e) {
                let {
                    message: t,
                    channel: n,
                    compact: d
                } = e, c = (0, a.default)(t), f = t.application, E = (0, l.useUsernameHook)(t.author, n.id, n.guild_id);
                return (0, s.jsx)(r.default, {
                    iconNode: (0, s.jsx)(i.default, {
                        className: o.ticketIcon
                    }),
                    timestamp: t.timestamp,
                    compact: d,
                    children: (0, u.getApplicationSubscriptionSystemMessageContent)({
                        application: f,
                        username: c.nick,
                        usernameHook: E(c)
                    })
                })
            }
        },
        509425: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                getApplicationSubscriptionSystemMessageContent: function() {
                    return l
                }
            });
            var s = n("49111"),
                a = n("782340");

            function l(e) {
                let {
                    application: t,
                    username: n,
                    usernameHook: l = s.NOOP
                } = e;
                return null != t ? a.default.Messages.SYSTEM_MESSAGE_APPLICATION_SUBSCRIPTION_PURCHASE.format({
                    username: n,
                    applicationName: t.name,
                    usernameHook: l
                }) : a.default.Messages.SYSTEM_MESSAGE_APPLICATION_SUBSCRIPTION_PURCHASE_FROM_DELETED_APPLICATION.format({
                    username: n,
                    usernameHook: l
                })
            }
        },
        850642: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return m
                }
            });
            var s = n("446674"),
                a = n("95410"),
                l = n("913144"),
                i = n("271938"),
                r = n("42203"),
                u = n("957255"),
                o = n("697218"),
                d = n("568734"),
                c = n("49111");
            let f = "ChannelFollowingBumpChannels",
                E = new Set,
                _ = new Set;
            class I extends s.default.Store {
                initialize() {
                    this.waitFor(i.default), E = new Set(a.default.get(f))
                }
                shouldShowBump(e) {
                    return _.has(e)
                }
            }
            I.displayName = "ChannelFollowingPublishBumpStore";
            var m = new I(l.default, {
                MESSAGE_CREATE: function(e) {
                    var t;
                    let {
                        channelId: n,
                        message: s,
                        optimistic: a
                    } = e;
                    if (a || E.has(n)) return !1;
                    let l = r.default.getChannel(n),
                        i = o.default.getCurrentUser(),
                        f = null != l && l.type === c.ChannelTypes.GUILD_ANNOUNCEMENT && s.type === c.MessageTypes.DEFAULT && (null != i && (null === (t = s.author) || void 0 === t ? void 0 : t.id) === i.id ? u.default.can(c.Permissions.SEND_MESSAGES, l) : u.default.can(c.Permissions.MANAGE_MESSAGES, l)) && !d.hasFlag(Number(s.flags), c.MessageFlags.CROSSPOSTED);
                    if (!f) return !1;
                    _.add(s.id)
                },
                MESSAGE_UPDATE: function(e) {
                    let {
                        message: t
                    } = e, n = _.has(t.id);
                    n && d.hasFlag(Number(t.flags), c.MessageFlags.CROSSPOSTED) && _.delete(t.id)
                },
                CHANNEL_SELECT: function(e) {
                    _.clear()
                },
                CHANNEL_FOLLOWING_PUBLISH_BUMP_DISMISSED: function(e) {
                    let {
                        messageId: t
                    } = e;
                    _.delete(t)
                },
                CHANNEL_FOLLOWING_PUBLISH_BUMP_HIDE_PERMANENTLY: function(e) {
                    let {
                        channelId: t
                    } = e;
                    E.add(t), a.default.set(f, E), _.clear()
                }
            })
        },
        222650: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return I
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("446674"),
                i = n("77078"),
                r = n("429224"),
                u = n("550762"),
                o = n("381546"),
                d = n("733160"),
                c = n("713573"),
                f = n("850642"),
                E = n("782340"),
                _ = n("35847"),
                I = e => {
                    let {
                        channelId: t,
                        messageId: n
                    } = e, I = (0, l.useStateFromStores)([f.default], () => f.default.shouldShowBump(n), [n]), m = a.useCallback(() => {
                        r.default.dismissPublishBump(n), (0, u.default)(t, n)
                    }, [t, n]), p = a.useCallback(() => {
                        r.default.dismissPublishBump(n)
                    }, [n]), h = a.useCallback(() => {
                        r.default.permanentlyHidePublishBump(t)
                    }, [t]);
                    return I ? (0, s.jsxs)("div", {
                        className: _.container,
                        children: [(0, s.jsxs)("div", {
                            className: _.bumpBox,
                            children: [(0, s.jsx)(d.default, {
                                className: _.icon
                            }), (0, s.jsx)(c.default, {
                                className: _.tagline,
                                size: c.default.Sizes.SIZE_14,
                                children: E.default.Messages.NEWS_CHANNEL_PUBLISH_BUMP
                            }), (0, s.jsx)(i.Button, {
                                color: i.Button.Colors.LINK,
                                look: i.Button.Looks.LINK,
                                size: i.Button.Sizes.MIN,
                                className: _.publish,
                                onClick: m,
                                children: E.default.Messages.NEWS_CHANNEL_PUBLISH
                            }), (0, s.jsx)(i.Clickable, {
                                onClick: p,
                                children: (0, s.jsx)(o.default, {
                                    className: _.closeIcon,
                                    width: 16,
                                    height: 16
                                })
                            })]
                        }), (0, s.jsx)(i.Text, {
                            color: "text-muted",
                            className: _.hidePermanently,
                            variant: "text-sm/normal",
                            children: (0, s.jsx)(i.Clickable, {
                                onClick: h,
                                children: E.default.Messages.NEWS_CHANNEL_PUBLISH_BUMP_HIDE_PERMANENTLY
                            })
                        })]
                    }) : null
                }
        },
        315176: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                sendRandomStickerOrEmoji: function() {
                    return h
                }
            });
            var s = n("249654"),
                a = n("819689"),
                l = n("385976"),
                i = n("252931"),
                r = n("884351"),
                u = n("866353"),
                o = n("467094"),
                d = n("364685"),
                c = n("161585"),
                f = n("305961"),
                E = n("697218"),
                _ = n("402671"),
                I = n("49111"),
                m = n("958706");

            function p(e) {
                let t = f.default.getGuild(e);
                return null != t && (t.nsfwLevel === I.GuildNSFWContentLevel.DEFAULT || t.nsfwLevel === I.GuildNSFWContentLevel.SAFE)
            }
            async function h(e, t) {
                var n, I, h;
                let T = t.getGuildId();
                if (null == T) return;
                let g = f.default.getGuild(T);
                if (null == g) return;
                let S = E.default.getCurrentUser();
                if (null == S) return;
                await (0, o.fetchStickerPacks)();
                let A = Array.from(d.default.getAllStickersIterator()),
                    N = A.filter(e => e.type === c.MetaStickerType.GUILD),
                    C = N.filter(e => p(e.guild_id) && (0, u.isSendableSticker)(e, S, t)).sort((e, t) => -s.default.compare(e.id, t.id));
                if (C.length > 5) {
                    let s = [C[Math.floor(Math.pow(Math.random(), 2) * C.length)].id];
                    a.default.sendStickers(t.id, s, "", {
                        messageReference: {
                            guild_id: null !== (n = t.getGuildId()) && void 0 !== n ? n : void 0,
                            channel_id: t.id,
                            message_id: e
                        }
                    });
                    return
                }
                let M = (0, i.getInventoryGuildPacksUserExperimentConfig)({
                        user: S,
                        autoTrackExposure: !1
                    }).viewAndUseEnabled,
                    O = f.default.getGuilds(),
                    R = Object.keys(O).filter(p).map(e => l.default.getUsableGuildEmoji(e)).flat().filter(e => null == _.default.getEmojiUnavailableReason({
                        emoji: e,
                        channel: t,
                        guildId: T,
                        intention: m.EmojiIntention.CHAT,
                        canViewAndUsePackEmoji: M
                    })).sort((e, t) => -s.default.compare(e.id, t.id));
                if (R.length > 10) {
                    let n = R[Math.floor(Math.pow(Math.random(), 2) * R.length)];
                    a.default.sendMessage(t.id, r.default.parse(t, n.allNamesString), !1, {
                        messageReference: {
                            guild_id: null !== (I = t.getGuildId()) && void 0 !== I ? I : void 0,
                            channel_id: t.id,
                            message_id: e
                        }
                    });
                    return
                }
                let v = A.filter(e => e.type === c.MetaStickerType.STANDARD),
                    L = [v[Math.floor(Math.random() * v.length)].id];
                a.default.sendStickers(t.id, L, "", {
                    messageReference: {
                        guild_id: null !== (h = t.getGuildId()) && void 0 !== h ? h : void 0,
                        channel_id: t.id,
                        message_id: e
                    }
                })
            }
        },
        881536: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return _
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("414456"),
                l = n.n(a),
                i = n("77078"),
                r = n("367376"),
                u = n("560176"),
                o = n("304198"),
                d = n("388142"),
                c = n("49111"),
                f = n("782340"),
                E = n("19676");

            function _(e) {
                let {
                    message: t,
                    channel: a,
                    compact: r
                } = e, u = null != t.embeds && t.embeds.length > 0;
                return (0, s.jsxs)("div", {
                    children: [(0, s.jsx)(o.default, {
                        className: l(E.mainContainer, {
                            [E.compact]: r
                        }),
                        icon: n("127067"),
                        compact: r,
                        children: (0, s.jsx)("div", {
                            className: l(E.content, {
                                [E.compact]: r
                            }),
                            children: (0, s.jsx)("div", {
                                className: l(E.messageContent, {
                                    [E.compact]: r
                                }),
                                children: t.content
                            })
                        })
                    }), (0, s.jsx)("div", {
                        className: l(E.embedContent, {
                            [E.compact]: r
                        }),
                        children: (0, s.jsx)(I, {
                            message: t
                        })
                    }), (0, s.jsx)("div", {
                        className: E.actions,
                        children: (0, s.jsx)(i.Button, {
                            color: i.Button.Colors.PRIMARY,
                            onClick: () => {
                                u ? (0, d.updateGamingStats)(t) : (0, d.sendGamingStatsMessage)(a.guild_id, a.id, t.id)
                            },
                            children: f.default.Messages.SYSTEM_MESSAGE_GET_GAMING_STATS
                        })
                    })]
                })
            }

            function I(e) {
                var t;
                let {
                    message: n
                } = e, [a] = null !== (t = n.embeds) && void 0 !== t ? t : [];
                return null == a ? null : (0, s.jsx)(u.default, {
                    className: E.embed,
                    embed: a,
                    renderTitle: (e, t) => r.default.parseEmbedTitle(t, !0, {
                        channelId: n.channel_id
                    }),
                    renderDescription: (e, t, s) => r.default.parse(t, !0, {
                        channelId: n.channel_id
                    }),
                    autoPlayGif: !1,
                    renderImageComponent: e => (0, c.NOOP_NULL)(),
                    renderVideoComponent: e => (0, c.NOOP_NULL)(),
                    renderLinkComponent: e => (0, c.NOOP_NULL)()
                })
            }
        },
        441979: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return S
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("414456"),
                i = n.n(l),
                r = n("446674"),
                u = n("77078"),
                o = n("529805"),
                d = n("364685"),
                c = n("41170"),
                f = n("46829"),
                E = n("840817"),
                _ = n("304198"),
                I = n("599110"),
                m = n("659500"),
                p = n("315176"),
                h = n("49111"),
                T = n("782340"),
                g = n("531872");

            function S(e) {
                let {
                    message: t,
                    channel: l,
                    compact: S
                } = e, A = (0, r.useStateFromStoresArray)([d.default], () => {
                    let e = d.default.getAllGuildStickers();
                    return Array.from(e.values()).flat()
                }), N = A.slice(0, 20), [C, M] = a.useState(null);
                return (a.useEffect(() => {
                    let e = setInterval(() => {
                        N.length > 0 && M(N[Math.floor(Math.random() * N.length)])
                    }, 500);
                    return () => clearInterval(e)
                }, [N]), null == l.guild_id) ? null : (0, s.jsxs)("div", {
                    children: [(0, s.jsx)(_.default, {
                        className: i(g.mainContainer, {
                            [g.compact]: S
                        }),
                        icon: n("127067"),
                        compact: S,
                        children: (0, s.jsx)("div", {
                            className: i(g.content, {
                                [g.compact]: S
                            }),
                            children: (0, s.jsx)("div", {
                                className: i(g.messageContent, {
                                    [g.compact]: S
                                }),
                                children: "" !== t.content ? t.content : T.default.Messages.DEADCHAT_PROMPT_1
                            })
                        })
                    }), (0, s.jsxs)("div", {
                        className: g.actions,
                        children: [(0, s.jsx)(u.TooltipContainer, {
                            text: T.default.Messages.CHANNEL_PROMPT_UPLOAD_IMAGE_CTA,
                            children: (0, s.jsx)(u.Button, {
                                color: u.Button.Colors.PRIMARY,
                                onClick: () => {
                                    I.default.track(h.AnalyticEvents.CHANNEL_PROMPT_ACTION_CLICKED, {
                                        message_id: t.id,
                                        channel_id: l.id,
                                        guild_id: l.guild_id,
                                        action_type: "upload_file"
                                    }), m.ComponentDispatch.dispatch(h.ComponentActions.UPLOAD_FILE), (0, o.createPendingReply)({
                                        message: t,
                                        channel: l,
                                        shouldMention: !0
                                    })
                                },
                                children: (0, s.jsx)(E.default, {})
                            })
                        }), (0, s.jsx)(u.TooltipContainer, {
                            text: T.default.Messages.CHANNEL_PROMPT_RANDOM_STICKER_CTA,
                            children: (0, s.jsx)(u.Button, {
                                color: u.Button.Colors.PRIMARY,
                                onClick: () => {
                                    I.default.track(h.AnalyticEvents.CHANNEL_PROMPT_ACTION_CLICKED, {
                                        message_id: t.id,
                                        channel_id: l.id,
                                        guild_id: l.guild_id,
                                        action_type: "sticker"
                                    }), (0, p.sendRandomStickerOrEmoji)(t.id, l)
                                },
                                children: null != C ? (0, s.jsx)(c.default, {
                                    size: 32,
                                    sticker: C
                                }) : (0, s.jsx)(f.default, {})
                            })
                        })]
                    })]
                })
            }
        },
        175528: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return l
                }
            });
            var s = n("884691"),
                a = n("240249");

            function l(e, t) {
                let n = s.useRef(null),
                    l = s.useCallback((e, t) => {
                        var s, a, l;
                        e.preventDefault(), e.clipboardData.setData("application/x-discord-interaction-data", JSON.stringify(t)), e.clipboardData.setData("text/plain", null !== (l = null === (a = n.current) || void 0 === a ? void 0 : null === (s = a.textContent) || void 0 === s ? void 0 : s.trim()) && void 0 !== l ? l : "")
                    }, []);
                return a.useCommand(e, t), {
                    onCopy: l,
                    copyRef: n
                }
            }
        },
        371348: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var s = n("522632"),
                a = n("407063"),
                l = n("315102"),
                i = n("49111");

            function r(e) {
                let t, n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                    r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : i.AVATAR_SIZE,
                    u = n && (0, l.isAnimatedIconHash)(e.avatar_hash) ? "gif" : "jpg",
                    o = e.clyde_profile_id;
                if (null == e.avatar_hash) return null;
                let {
                    CDN_HOST: d
                } = window.GLOBAL_ENV;
                return null != d ? ("jpg" === u && (u = l.SUPPORTS_WEBP ? "webp" : "png"), t = "".concat(location.protocol, "//").concat(d).concat(i.Endpoints.CLYDE_PROFILES_AVATAR(o, e.avatar_hash, u))) : t = location.protocol + window.GLOBAL_ENV.API_ENDPOINT + i.Endpoints.CLYDE_PROFILES_AVATAR(o, e.avatar_hash, u), t + "?".concat(s.stringify({
                    size: (0, a.getBestMediaProxySize)(r * (0, a.getDevicePixelRatio)())
                }))
            }
        },
        576060: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return T
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("759843"),
                i = n("65597"),
                r = n("77078"),
                u = n("428958"),
                o = n("18494"),
                d = n("79798"),
                c = n("174622"),
                f = n("335189"),
                E = n("473591"),
                _ = n("371348"),
                I = n("857697"),
                m = n("988268"),
                p = n("782340"),
                h = n("786860");

            function T(e) {
                let {
                    code: t
                } = e, {
                    clydeProfile: n,
                    isFetching: T
                } = (0, i.useStateFromStoresObject)([E.default], () => ({
                    clydeProfile: E.default.getProfile(t),
                    isFetching: E.default.isFetchingProfile(t)
                })), g = (0, i.default)([o.default], o.default.getCurrentlySelectedChannelId);
                if (a.useEffect(() => {
                        (0, f.fetchClydeProfile)(t)
                    }, [t]), (0, u.default)({
                        type: l.ImpressionTypes.VIEW,
                        name: l.ImpressionNames.CLYDE_AI_PROFILE_EMBED_VIEWED,
                        properties: {
                            clyde_profile_id: null == n ? void 0 : n.clyde_profile_id,
                            channel_id: g
                        }
                    }, {
                        disableTrack: null == n || null == g
                    }), T) return (0, s.jsxs)(c.default, {
                    children: [(0, s.jsx)(c.default.Header, {
                        text: p.default.Messages.CLYDE_PROFILE_EMBED_RESOLVING_HEADER
                    }), (0, s.jsx)(c.default.Body, {
                        resolving: !0
                    })]
                });
                if (null == n) return (0, s.jsxs)(c.default, {
                    children: [(0, s.jsx)(c.default.Header, {
                        text: p.default.Messages.CLYDE_PROFILE_EMBED_INVALID_HEADER
                    }), (0, s.jsx)(c.default.Body, {
                        children: (0, s.jsxs)("div", {
                            className: h.invalidBody,
                            children: [(0, s.jsx)(c.default.Icon, {
                                expired: !0
                            }), (0, s.jsx)(c.default.Info, {
                                expired: !0,
                                title: p.default.Messages.CLYDE_PROFILE_EMBED_INVALID_INFO_TITLE,
                                children: p.default.Messages.CLYDE_PROFILE_EMBED_INVALID_INFO_BODY
                            })]
                        })
                    })]
                });
                let S = (0, _.default)(n, !1, 56);
                return (0, s.jsxs)(c.default, {
                    children: [(0, s.jsx)(c.default.Header, {
                        text: p.default.Messages.CLYDE_PROFILE_EMBED_HEADER
                    }), (0, s.jsxs)(c.default.Body, {
                        children: [(0, s.jsxs)(r.Clickable, {
                            className: h.profileInfoContainer,
                            onClick: () => (0, I.default)(n),
                            children: [(0, s.jsx)(r.Avatar, {
                                src: S,
                                size: r.AvatarSizes.SIZE_56,
                                "aria-hidden": !0
                            }), (0, s.jsxs)("div", {
                                className: h.profileNameContainer,
                                children: [(0, s.jsx)(c.default.Info, {
                                    title: n.name
                                }), (0, s.jsx)(d.default, {
                                    type: m.BotTagTypes.AI
                                })]
                            })]
                        }), (0, s.jsx)(c.default.Button, {
                            className: h.applyButton,
                            onClick: () => {
                                (0, I.default)(n)
                            },
                            color: c.default.Button.Colors.BRAND,
                            children: p.default.Messages.CLYDE_PROFILE_APPLY
                        })]
                    })]
                })
            }
        },
        857697: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("77078"),
                l = n("162771"),
                i = n("599110"),
                r = n("49111");

            function u(e) {
                let t = l.default.getGuildId();
                i.default.track(r.AnalyticEvents.OPEN_MODAL, {
                    type: "Clyde Profile Apply",
                    location_page: "Embed Apply",
                    clyde_profile_id: e.clyde_profile_id,
                    guild_id: t
                }), (0, a.openModalLazy)(async () => {
                    let {
                        default: t
                    } = await n.el("882317").then(n.bind(n, "882317"));
                    return n => (0, s.jsx)(t, {
                        ...n,
                        clydeProfile: e
                    })
                })
            }
        },
        634388: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useGuildShopDisplayContext: function() {
                    return C
                },
                default: function() {
                    return M
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("627445"),
                i = n.n(l),
                r = n("65597"),
                u = n("151426"),
                o = n("716241"),
                d = n("10641"),
                c = n("837008"),
                f = n("903724"),
                E = n("393414"),
                _ = n("923959"),
                I = n("305961"),
                m = n("599110"),
                p = n("551254"),
                h = n("991148"),
                T = n("893399"),
                g = n("874146"),
                S = n("500307"),
                A = n("49111");
            let N = a.createContext(void 0);

            function C() {
                let e = a.useContext(N);
                return i(null != e, "must use useGuildShopDisplayContext within a GuildShopDisplayContextProvider"), e
            }

            function M(e) {
                var t;
                let {
                    children: n,
                    initialTab: l,
                    guildId: i
                } = e, C = (0, r.default)([I.default], () => I.default.getGuild(i)), M = (0, h.useGuildShopPreviewVisible)(C, "guild_shop_page"), O = (0, p.useIsEligibleForSubscriptionsInGuildShop)(i, "guild_shop_page"), R = (null == C ? void 0 : C.hasFeature(A.GuildFeatures.PRODUCTS_AVAILABLE_FOR_PURCHASE)) === !0, v = (0, f.useRoleSubscriptionsVisibleInGuild)(null == C ? void 0 : C.id), L = null === (t = (0, c.useSubscriptionsSettings)(i)) || void 0 === t ? void 0 : t.server_shop_tab_order, P = [], x = T.GuildShopTab.GUILD_SHOP_FULL_PREVIEW;
                R && v ? (P.push(L === g.ServerShopTabOrder.PRODUCTS_FIRST ? T.GuildShopTab.GUILD_PRODUCTS : T.GuildShopTab.GUILD_ROLE_SUBSCRIPTIONS), P.push(L === g.ServerShopTabOrder.PRODUCTS_FIRST ? T.GuildShopTab.GUILD_ROLE_SUBSCRIPTIONS : T.GuildShopTab.GUILD_PRODUCTS), x = P[0]) : R && !v ? (P.push(T.GuildShopTab.GUILD_PRODUCTS), x = T.GuildShopTab.GUILD_PRODUCTS) : !R && v && (P.push(T.GuildShopTab.GUILD_ROLE_SUBSCRIPTIONS), x = T.GuildShopTab.GUILD_ROLE_SUBSCRIPTIONS, M && P.push(T.GuildShopTab.GUILD_PRODUCTS_PREVIEW)), l = null != l ? l : x;
                let [D, y] = a.useState(l), U = M && !(v && O) || D === T.GuildShopTab.GUILD_PRODUCTS_PREVIEW;
                return a.useEffect(() => {
                    y(l)
                }, [l]), (0, s.jsx)(N.Provider, {
                    value: {
                        selectedTab: D,
                        setSelectedTab: y,
                        categoryTabs: P,
                        isPhantomPreview: U,
                        handlePreviewDismiss: e => {
                            (0, d.markDismissibleContentAsDismissed)(u.DismissibleContent.SERVER_SHOP_PHANTOM_PREVIEW);
                            let t = {
                                ...(0, o.collectGuildAnalyticsMetadata)(i)
                            };
                            if (D === T.GuildShopTab.GUILD_PRODUCTS_PREVIEW) e.stopPropagation(), y(T.GuildShopTab.GUILD_ROLE_SUBSCRIPTIONS), t.action_taken = S.GuildShopPreviewClickActions.DISMISS_TAB_PREVIEW;
                            else {
                                var n;
                                (0, E.replaceWith)(A.Routes.CHANNEL(i, null === (n = _.default.getDefaultChannel(i)) || void 0 === n ? void 0 : n.id)), t.action_taken = S.GuildShopPreviewClickActions.DISMISS_FULL_PREVIEW
                            }
                            m.default.track(A.AnalyticEvents.GUILD_SHOP_PREVIEW_CLICK, t)
                        }
                    },
                    children: n
                })
            }
        },
        810044: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return O
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("414456"),
                i = n.n(l),
                r = n("759843"),
                u = n("171210"),
                o = n("446674"),
                d = n("77078"),
                c = n("716241"),
                f = n("428958"),
                E = n("442379"),
                _ = n("537325"),
                I = n("305961"),
                m = n("109024"),
                p = n("191814"),
                h = n("898260"),
                T = n("599110"),
                g = n("741515"),
                S = n("3081"),
                A = n("907038"),
                N = n("49111"),
                C = n("782340"),
                M = n("431607");

            function O(e) {
                var t;
                let {
                    guildId: n
                } = e, l = (0, o.useStateFromStores)([I.default], () => I.default.getGuild(n)), {
                    loading: O,
                    subscriptionsSettings: R
                } = (0, g.useMonetizationSettings)(n), {
                    listingsLoaded: v
                } = (0, E.useFetchGuildProductListingsForGuild)(n), L = (0, E.useGuildProductsForGuild)(n, {
                    publishedOnly: !0
                }), P = a.useCallback(async () => {
                    T.default.track(N.AnalyticEvents.GUILD_SHOP_EMBED_CLICKED, {
                        ...(0, c.collectGuildAnalyticsMetadata)(n)
                    }), await (0, _.default)(N.Routes.SERVER_SHOP(n))
                }, [n]);
                (0, f.default)({
                    type: r.ImpressionTypes.VIEW,
                    name: r.ImpressionNames.GUILD_SHOP_EMBED
                }, {
                    disableTrack: null == l
                });
                let x = L.length > 0 ? new Date(Math.min(...L.map(e => Date.parse(e.published_at)))) : void 0;
                return O || !v ? (0, s.jsx)("div", {
                    className: i(M.guildShopEmbed, M.spinnerContainer),
                    children: (0, s.jsx)(d.Spinner, {})
                }) : null == l || null == R ? null : (0, s.jsxs)("div", {
                    className: M.guildShopEmbed,
                    children: [(0, s.jsx)(S.HeroImage, {
                        coverImageAsset: null !== (t = R.cover_image_asset) && void 0 !== t ? t : null
                    }), (0, s.jsx)(p.default, {
                        size: 16
                    }), (0, s.jsxs)("div", {
                        className: M.serverShopLabel,
                        children: [(0, s.jsx)(A.default, {
                            height: "16px",
                            width: "16px",
                            color: u.default.INTERACTIVE_NORMAL
                        }), (0, s.jsx)(d.Heading, {
                            variant: "heading-sm/semibold",
                            color: "interactive-normal",
                            className: M.serverShopLabelText,
                            children: C.default.Messages.GUILD_SHOP_CHANNEL_LABEL
                        })]
                    }), (0, s.jsx)(p.default, {
                        size: 16
                    }), (0, s.jsx)(d.Heading, {
                        variant: "heading-md/semibold",
                        color: "text-normal",
                        children: C.default.Messages.GUILD_STORE_HERO_TITLE.format({
                            guildName: l.name
                        })
                    }), (0, s.jsx)(p.default, {
                        size: 4
                    }), (0, s.jsx)(d.Text, {
                        variant: "text-sm/normal",
                        color: "text-muted",
                        lineClamp: 2,
                        children: R.description
                    }), (0, s.jsx)(p.default, {
                        size: 16
                    }), (0, s.jsx)(h.default, {}), (0, s.jsx)(p.default, {
                        size: 16
                    }), (0, s.jsxs)("div", {
                        className: M.guildShopEmbedFooter,
                        children: [(0, s.jsx)(m.default, {
                            guild: l
                        }), (0, s.jsxs)("ul", {
                            className: M.guildShopSummary,
                            children: [(0, s.jsx)("li", {
                                children: (0, s.jsx)(d.Text, {
                                    variant: "text-sm/normal",
                                    color: "text-muted",
                                    children: C.default.Messages.GUILD_SHOP_EMBED_LISTINGS_AVAILABLE.format({
                                        listingCount: L.length
                                    })
                                })
                            }), null != x && (0, s.jsx)("li", {
                                children: (0, s.jsx)(d.Text, {
                                    variant: "text-sm/normal",
                                    color: "text-muted",
                                    children: C.default.Messages.GUILD_SHOP_EMBED_SHOP_AGE.format({
                                        createdYear: x.getFullYear()
                                    })
                                })
                            })]
                        }), (0, s.jsx)(d.Button, {
                            className: M.guildShopEmbedCta,
                            onClick: P,
                            children: (0, s.jsxs)("div", {
                                className: M.guildShopEmbedCtaContent,
                                children: [(0, s.jsx)(A.default, {
                                    height: "18px",
                                    width: "18px"
                                }), (0, s.jsx)(d.Text, {
                                    variant: "text-sm/medium",
                                    color: "always-white",
                                    children: C.default.Messages.GUILD_SHOP_EMBED_CTA
                                })]
                            })
                        })]
                    })]
                })
            }
        },
        893399: function(e, t, n) {
            "use strict";
            var s, a;
            n.r(t), n.d(t, {
                GuildShopTab: function() {
                    return s
                }
            }), (a = s || (s = {})).GUILD_PRODUCTS = "guild_products", a.GUILD_ROLE_SUBSCRIPTIONS = "guild_role_subscriptions", a.GUILD_PRODUCTS_PREVIEW = "guild_products_preview", a.GUILD_SHOP_FULL_PREVIEW = "guild_shop_full_preview"
        },
        3081: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                HeroImage: function() {
                    return v
                },
                default: function() {
                    return L
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("627445"),
                i = n.n(l),
                r = n("446674"),
                u = n("77078"),
                o = n("834897"),
                d = n("183137"),
                c = n("132349"),
                f = n("845579"),
                E = n("26989"),
                _ = n("697218"),
                I = n("109024"),
                m = n("191814"),
                p = n("246053"),
                h = n("58608"),
                T = n("158998"),
                g = n("866190"),
                S = n("662960"),
                A = n("634388"),
                N = n("893399"),
                C = n("744917"),
                M = n("782340"),
                O = n("347152");

            function R(e) {
                let {
                    onClick: t
                } = e;
                return (0, s.jsxs)(u.Clickable, {
                    onClick: t,
                    className: O.showMoreButton,
                    children: [(0, s.jsx)(u.Text, {
                        variant: "text-sm/medium",
                        color: "header-primary",
                        children: M.default.Messages.GUILD_STORE_HERO_SHOW_MORE_DESCRIPTION_LABEL
                    }), (0, s.jsx)(m.default, {
                        size: 4,
                        horizontal: !0
                    }), (0, s.jsx)(p.default, {
                        direction: p.default.Directions.RIGHT,
                        className: O.showMoreArrow
                    })]
                })
            }

            function v(e) {
                let {
                    coverImageAsset: t,
                    isPreview: n = !1
                } = e, a = f.GifAutoPlay.useSetting(), l = (0, g.useIsWindowFocused)(), i = l && a, [r, u] = (0, c.default)(t, i), o = i ? (0, s.jsx)(h.default, {
                    autoPlay: !0,
                    loop: !0,
                    className: O.coverImage,
                    width: 655,
                    poster: (0, d.getAssetCDNUrl)("server_products/storefront/default-header.png"),
                    src: (0, d.getAssetCDNUrl)("server_products/storefront/default-header.mov")
                }) : (0, s.jsx)("img", {
                    src: (0, d.getAssetCDNUrl)("server_products/storefront/default-header.png"),
                    alt: "",
                    className: O.coverImage
                });
                return (0, s.jsx)("div", {
                    ref: r,
                    className: O.coverImageContainer,
                    children: null == u || n ? o : (0, s.jsx)("img", {
                        src: u,
                        alt: "",
                        className: O.coverImage
                    })
                })
            }

            function L(e) {
                var t, n, l;
                let {
                    guild: c,
                    subscriptionsSettings: f
                } = e, p = c.id;
                let {
                    nickname: h,
                    nickcolor: g
                } = (l = p, (0, r.useStateFromStoresObject)([E.default, _.default], () => {
                    var e, t;
                    let n = _.default.getCurrentUser();
                    i(null != n, "user cannot be null");
                    let s = E.default.getMember(l, n.id);
                    return {
                        nickname: null !== (e = null == s ? void 0 : s.nick) && void 0 !== e ? e : T.default.getName(n),
                        nickcolor: null !== (t = null == s ? void 0 : s.colorString) && void 0 !== t ? t : void 0
                    }
                }, [l])), {
                    isTruncated: L,
                    ExpandableTextContainer: P
                } = (0, S.useExpandableTextContainer)(), x = (null !== (n = null == f ? void 0 : null === (t = f.description) || void 0 === t ? void 0 : t.trim().length) && void 0 !== n ? n : 0) > 0, [D, y] = a.useState(1), U = (0, o.default)("(max-width: ".concat(O.twoColumnWidth, ")")), {
                    selectedTab: b,
                    isPhantomPreview: j
                } = (0, A.useGuildShopDisplayContext)(), G = b === N.GuildShopTab.GUILD_PRODUCTS_PREVIEW ? M.default.Messages.GUILD_STORE_HERO_PREVIEW_TAB_DESCRIPTION : M.default.Messages.GUILD_STORE_HERO_PREVIEW_PAGE_DESCRIPTION, B = x ? (0, s.jsxs)(s.Fragment, {
                    children: [(0, s.jsx)(P, {
                        lineClamp: U || 2 === D ? 2 : 3,
                        children: (0, s.jsx)(u.Text, {
                            variant: "text-sm/normal",
                            color: "text-normal",
                            children: null == f ? void 0 : f.description
                        })
                    }), L && (0, s.jsxs)(s.Fragment, {
                        children: [(0, s.jsx)(m.default, {
                            size: 4
                        }), (0, s.jsx)(R, {
                            onClick: () => (0, C.default)({
                                guildId: p
                            })
                        })]
                    })]
                }) : (0, s.jsx)(u.Text, {
                    variant: "text-sm/normal",
                    color: "text-normal",
                    children: j ? G : M.default.Messages.GUILD_STORE_HERO_DEFAULT_DESCRIPTION
                });
                return (0, s.jsxs)("div", {
                    className: O.container,
                    children: [(0, s.jsxs)("div", {
                        className: O.infoContainer,
                        children: [(0, s.jsx)("div", {
                            children: (0, s.jsx)(I.default, {
                                guild: c,
                                size: I.default.Sizes.LARGER,
                                iconSrc: null == c.icon || j ? (0, d.getAssetCDNUrl)("server_products/storefront/default-guild-icon.jpg") : void 0
                            })
                        }), (0, s.jsx)(m.default, {
                            size: 16,
                            horizontal: !0
                        }), (0, s.jsxs)("div", {
                            children: [(0, s.jsx)("div", {
                                ref: e => {
                                    null != e && e.clientHeight > 30 && y(2)
                                },
                                children: (0, s.jsx)(u.Heading, {
                                    variant: "heading-xl/semibold",
                                    color: "header-primary",
                                    lineClamp: 2,
                                    children: j ? M.default.Messages.GUILD_STORE_HERO_PREVIEW_TITLE : M.default.Messages.GUILD_STORE_HERO_TITLE.format({
                                        guildName: c.name
                                    })
                                })
                            }), (0, s.jsxs)(s.Fragment, {
                                children: [(0, s.jsx)(m.default, {
                                    size: 8
                                }), (0, s.jsx)(u.Text, {
                                    variant: "text-md/normal",
                                    color: "text-normal",
                                    children: M.default.Messages.GUILD_STORE_HERO_DESCRIPTION_GREETING.format({
                                        username: h,
                                        usernameHook: function(e, t) {
                                            return (0, s.jsx)("span", {
                                                style: {
                                                    color: g
                                                },
                                                children: e
                                            }, t)
                                        }
                                    })
                                }), (0, s.jsx)(m.default, {
                                    size: 9
                                }), B]
                            })]
                        })]
                    }), (0, s.jsx)(v, {
                        coverImageAsset: null == f ? void 0 : f.cover_image_asset,
                        isPreview: j
                    })]
                })
            }
        },
        744917: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return l
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("551042");

            function l(e) {
                (0, a.openModalLazy)(async () => {
                    let {
                        default: t
                    } = await n.el("783165").then(n.bind(n, "783165"));
                    return n => (0, s.jsx)(t, {
                        ...e,
                        ...n
                    })
                })
            }
        },
        907038: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return l
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("75196");

            function l(e) {
                let {
                    width: t = 24,
                    height: n = 24,
                    color: l = "currentColor",
                    ...i
                } = e;
                return (0, s.jsxs)("svg", {
                    ...(0, a.default)(i),
                    xmlns: "http://www.w3.org/2000/svg",
                    width: t,
                    height: n,
                    viewBox: "0 0 20 20",
                    fill: "none",
                    children: [(0, s.jsxs)("g", {
                        "clip-path": "url(#clip0_2645_182555)",
                        children: [(0, s.jsx)("path", {
                            fillRule: "evenodd",
                            clipRule: "evenodd",
                            d: "M13.6698 8.91016C14.5646 10.1567 16.3407 10.3342 17.4866 9.44283C17.4957 9.46624 17.5008 9.49191 17.5008 9.51916V15.8337C17.5008 17.2144 16.3815 18.3337 15.0008 18.3337H12.7092C12.5941 18.3337 12.5008 18.2404 12.5008 18.1253V13.3337C12.5008 12.4132 11.7547 11.667 10.8342 11.667H9.16748C8.24699 11.667 7.5008 12.4132 7.5008 13.3337V18.1253C7.5008 18.2404 7.40753 18.3337 7.29247 18.3337H5.0008C3.62009 18.3337 2.5008 17.2144 2.5008 15.8337V9.51916C2.5008 9.36341 2.66628 9.26158 2.81091 9.31949C3.23542 9.48933 3.70172 9.58366 4.19593 9.58366C5.27336 9.58366 6.24385 9.12583 6.92345 8.39408C7.0135 8.29708 7.17004 8.29679 7.26039 8.39349C7.94479 9.12583 8.91932 9.58366 10.0008 9.58366C11.0823 9.58366 12.0568 9.12583 12.7412 8.39349C12.8316 8.29679 12.9882 8.29708 13.0782 8.39408C13.2565 8.58599 13.4548 8.75916 13.6698 8.91016ZM11.7497 6.67891C9.42957 5.8204 9.4179 2.5511 11.7147 1.6683C11.699 1.66743 11.6833 1.66699 11.6675 1.66699H8.33415C7.87391 1.66699 7.50082 2.04009 7.50082 2.50033V5.83366C7.50082 5.87681 7.50191 5.9197 7.50407 5.96231C7.52181 6.31232 7.61153 6.64333 7.75873 6.94085C7.77282 6.96931 7.78743 6.99747 7.80255 7.02531C8.2259 7.80462 9.05157 8.33366 10.0008 8.33366C10.984 8.33366 11.8346 7.76614 12.2429 6.94084L12.2543 6.91751C12.2613 6.90286 12.2682 6.88812 12.2751 6.87331L11.7497 6.67891ZM15.8231 8.3336C15.4338 8.32949 15.0467 8.10931 14.8853 7.67305L14.4606 6.52524C14.2917 6.06904 13.9321 5.70936 13.4759 5.54055L13.3342 5.4881V2.84588L13.4759 2.79343C13.9321 2.62463 14.2917 2.26494 14.4606 1.80874L14.5131 1.66699H15.2462C16.3397 1.66699 17.3062 2.37762 17.6324 3.42131L18.1647 5.12491C18.2057 5.25598 18.2352 5.38724 18.254 5.51775L18.1924 5.54055C17.7361 5.70936 17.3765 6.06904 17.2077 6.52524L16.783 7.67305C16.627 8.09458 16.2603 8.31438 15.8847 8.33245C15.8642 8.33308 15.8437 8.33346 15.8231 8.3336ZM12.5008 3.15424V5.17974L12.3281 5.11583C11.4472 4.78989 11.4472 3.54409 12.3281 3.21816L12.5008 3.15424ZM4.75546 1.66699C3.662 1.66699 2.69541 2.37762 2.36926 3.4213L1.83688 5.12491C1.52876 6.11092 1.8679 7.1068 2.56708 7.72187C2.99643 8.09957 3.56156 8.33366 4.19593 8.33366C5.13437 8.33366 5.95065 7.81064 6.36917 7.04019C6.38619 7.00888 6.40255 6.97714 6.41823 6.94502C6.57788 6.618 6.66748 6.25052 6.66748 5.86211V2.50033C6.66748 2.04009 6.29438 1.66699 5.83415 1.66699H4.75546Z",
                            fill: l
                        }), (0, s.jsx)("path", {
                            d: "M14.8838 0.660607C15.2097 -0.220202 16.4556 -0.220202 16.7815 0.660607L17.2062 1.80842C17.375 2.26462 17.7347 2.6243 18.1909 2.79311L19.3387 3.21783C20.2195 3.54377 20.2195 4.78957 19.3387 5.1155L18.1909 5.54023C17.7347 5.70903 17.375 6.06872 17.2062 6.52492L16.7815 7.67272C16.4556 8.5535 15.2097 8.5535 14.8838 7.67272L14.4591 6.52492C14.2903 6.06872 13.9306 5.70903 13.4744 5.54023L12.3266 5.1155C11.4458 4.78957 11.4458 3.54377 12.3266 3.21783L13.4744 2.79311C13.9306 2.6243 14.2903 2.26462 14.4591 1.80842L14.8838 0.660607Z",
                            fill: l
                        })]
                    }), (0, s.jsx)("defs", {
                        children: (0, s.jsx)("clipPath", {
                            id: "clip0_2645_182555",
                            children: (0, s.jsx)("rect", {
                                width: "20",
                                height: "20",
                                fill: "white"
                            })
                        })
                    })]
                })
            }
        },
        931164: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var s = n("917351"),
                a = n.n(s),
                l = n("270926"),
                i = n("888198"),
                r = n("367376");
            let u = a.omit(i.default.RULES, ["codeBlock", "heading"]),
                o = {
                    ...l.default,
                    parse: function(e, t, n) {
                        var s;
                        let a = l.default.parse(e, t, n),
                            i = null !== (s = n.initialHeaderLevel) && void 0 !== s ? s : 3,
                            r = Math.min(6, i + a.level);
                        return {
                            ...a,
                            level: r
                        }
                    }
                },
                d = r.default.combineAndInjectMentionRule(u, [r.default.createReactRules(r.default.defaultReactRuleOptions), {
                    header: o
                }]),
                c = r.default.reactParserFor(d);
            var f = c
        },
        228035: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                openGuildShopReportModal: function() {
                    return l
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("77078");

            function l(e) {
                let {
                    listing: t
                } = e;
                (0, a.openModalLazy)(async () => {
                    let {
                        default: e
                    } = await n.el("754559").then(n.bind(n, "754559"));
                    return n => (0, s.jsx)(e, {
                        listing: t,
                        ...n
                    })
                })
            }
        },
        662960: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useExpandableTextContainer: function() {
                    return u
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("414456"),
                i = n.n(l),
                r = n("284427");

            function u() {
                let [e, t] = a.useState(!1);
                return {
                    isTruncated: e,
                    ExpandableTextContainer: a.memo(function(e) {
                        let {
                            showAll: n = !1,
                            className: a,
                            children: l,
                            lineClamp: u = 2
                        } = e;
                        return (0, s.jsx)("div", {
                            ref: e => {
                                if (null != e) {
                                    let n = e.scrollHeight - e.clientHeight > 1;
                                    t(n)
                                }
                            },
                            className: i(r.lineClamp, a),
                            style: n ? void 0 : {
                                lineClamp: u,
                                WebkitLineClamp: u
                            },
                            children: l
                        })
                    })
                }
            }
        },
        17692: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("414456"),
                i = n.n(l),
                r = n("77078"),
                u = n("931164"),
                o = n("289162"),
                d = n("632215");

            function c(e) {
                let {
                    color: t,
                    className: n,
                    variant: l,
                    text: c,
                    lineClamp: f
                } = e, E = (0, r.usePrivateHeadingLevel)(), _ = a.useMemo(() => null == c ? null : (0, u.default)(c, !0, {
                    allowHeading: null == f,
                    allowList: null == f,
                    initialHeaderLevel: E
                }), [c, f, E]);
                return (0, s.jsx)(r.Text, {
                    className: i(n, {
                        [d.markup]: null == f,
                        [o.lineClamp2Plus]: null != f && f > 1,
                        [o.lineClamp1]: 1 === f
                    }),
                    color: t,
                    variant: l,
                    lineClamp: f,
                    children: _
                })
            }
        },
        649486: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return L
                }
            });
            var s, a, l = n("37983"),
                i = n("884691"),
                r = n("414456"),
                u = n.n(r),
                o = n("597755"),
                d = n.n(o),
                c = n("394846"),
                f = n("171718"),
                E = n("446674"),
                _ = n("77078"),
                I = n("774146"),
                m = n("161778"),
                p = n("271938"),
                h = n("697218"),
                T = n("476765"),
                g = n("599110"),
                S = n("98013"),
                A = n("49111"),
                N = n("782340"),
                C = n("777016");
            (s = a || (a = {}))[s.OSX = 0] = "OSX", s[s.WINDOWS = 1] = "WINDOWS", s[s.LINUX = 2] = "LINUX", s[s.IOS = 3] = "IOS", s[s.ANDROID = 4] = "ANDROID";
            let M = [{
                    getOs: () => N.default.Messages.PLATFORM_MACOS,
                    icon: C.apple,
                    url: () => (0, S.makeDesktopDownloadURL)("osx", !1),
                    platformKey: a.OSX
                }, {
                    getOs: () => N.default.Messages.PLATFORM_WINDOWS,
                    icon: C.windows,
                    url: () => (0, S.makeDesktopDownloadURL)("win", !1),
                    platformKey: a.WINDOWS
                }, {
                    getOs: () => N.default.Messages.PLATFORM_LINUX,
                    icon: C.linux,
                    url: [{
                        url: () => (0, S.makeDesktopDownloadURL)("linux", !1, "deb"),
                        getText: () => N.default.Messages.DEB
                    }, {
                        url: () => (0, S.makeDesktopDownloadURL)("linux", !1, "tar.gz"),
                        getText: () => N.default.Messages.TAR_GZ
                    }],
                    platformKey: a.LINUX
                }],
                O = [{
                    getOs: () => N.default.Messages.PLATFORM_IOS,
                    icon: C.ios,
                    url: () => A.DownloadLinks.IOS,
                    platformKey: a.IOS
                }, {
                    getOs: () => N.default.Messages.PLATFORM_ANDROID,
                    icon: C.android,
                    url: () => A.DownloadLinks.ANDROID,
                    platformKey: a.ANDROID
                }],
                R = e => {
                    let {
                        url: t,
                        text: n,
                        onClick: s
                    } = e;
                    return (0, l.jsx)(_.Anchor, {
                        useDefaultUnderlineStyles: !1,
                        href: t,
                        className: C.downloadButton,
                        onClick: s,
                        children: n
                    })
                },
                v = e => {
                    let t, {
                            platform: n,
                            onClick: s,
                            onMouseEnter: a,
                            isActive: i,
                            claimed: r,
                            theme: o
                        } = e,
                        {
                            getOs: d,
                            icon: c,
                            url: f,
                            platformKey: E
                        } = n,
                        I = d(),
                        m = u(C.icon, c, o);
                    if (Array.isArray(f)) t = f.map((e, t) => {
                        let n = r ? e.url() : "";
                        return (0, l.jsx)(R, {
                            url: n,
                            onClick: () => s(I),
                            text: e.getText()
                        }, "".concat(n, "-").concat(t))
                    });
                    else {
                        let e = r ? f() : void 0;
                        t = (0, l.jsx)(R, {
                            url: e,
                            onClick: () => s(I),
                            text: N.default.Messages.DOWNLOAD
                        })
                    }
                    return (0, l.jsx)("li", {
                        className: u(C.platform, {
                            [C.active]: i
                        }),
                        onMouseEnter: () => a(E),
                        children: (0, l.jsxs)("div", {
                            className: C.contentWrapper,
                            children: [(0, l.jsxs)("div", {
                                className: C.iconWrap,
                                children: [(0, l.jsx)("div", {
                                    className: m
                                }), (0, l.jsx)("div", {
                                    className: u(C.active, m)
                                })]
                            }), (0, l.jsxs)("div", {
                                children: [(0, l.jsx)(_.Heading, {
                                    className: C.platformName,
                                    variant: "heading-lg/semibold",
                                    children: I
                                }), (0, l.jsx)("div", {
                                    className: u(C.downloadButtons, {
                                        [C.list]: Array.isArray(t)
                                    }),
                                    children: t
                                })]
                            })]
                        })
                    })
                };

            function L(e) {
                let {
                    source: t,
                    onClose: n,
                    transitionState: s
                } = e, r = (0, E.useStateFromStores)([h.default], () => h.default.getCurrentUser()), u = (0, E.useStateFromStores)([m.default], () => m.default.theme), o = (0, E.useStateFromStores)([p.default], () => p.default.getFingerprint()), S = null == r || r.isClaimed(), [R, L] = i.useState(function() {
                    var e;
                    switch (null === (e = d.os) || void 0 === e ? void 0 : e.family) {
                        case "OS X":
                            return a.OSX;
                        case "Windows":
                            return a.WINDOWS;
                        case "Ubuntu":
                        case "Debian":
                        case "Fedora":
                        case "Red Hat":
                        case "SuSE":
                        case "Linux":
                            return a.LINUX;
                        case "iOS":
                            return a.IOS;
                        case "Android":
                            return a.ANDROID;
                        default:
                            return
                    }
                }());

                function P(e) {
                    (null != f.default.getToken() || null != o) && g.default.track(A.AnalyticEvents.DOWNLOAD_APP, {
                        platform: e,
                        ptb: !1,
                        released: !0,
                        has_e_mail: S,
                        referring_location: t,
                        qr_code: !1
                    }), !S && (n(), I.openClaimAccountModal())
                }

                function x(e) {
                    L(e)
                }
                i.useEffect(() => {
                    g.default.track(A.AnalyticEvents.OPEN_MODAL, {
                        type: "Download App",
                        source: {
                            location: t
                        }
                    })
                }, [t]);
                let D = (0, T.useUID)();
                return (0, l.jsx)(_.ModalRoot, {
                    className: C.downloadApps,
                    transitionState: s,
                    "aria-labelledby": D,
                    children: (0, l.jsx)("div", {
                        className: C.inner,
                        children: (0, l.jsxs)(_.HeadingLevel, {
                            component: (0, l.jsx)(_.HiddenVisually, {
                                children: (0, l.jsx)(_.H, {
                                    id: D,
                                    children: N.default.Messages.DOWNLOAD_APP
                                })
                            }),
                            children: [(0, l.jsx)(_.ModalCloseButton, {
                                onClick: n,
                                className: C.modalCloseButton
                            }), !c.isMobile && (0, l.jsx)("div", {
                                className: C.platformsWrap,
                                children: (0, l.jsx)(_.HeadingLevel, {
                                    component: (0, l.jsx)(_.Heading, {
                                        variant: "heading-lg/semibold",
                                        className: C.header,
                                        children: N.default.Messages.DOWNLOAD_DESKTOP_TITLE
                                    }),
                                    children: (0, l.jsx)("ul", {
                                        className: C.platforms,
                                        children: M.map(e => (0, l.jsx)(v, {
                                            theme: u,
                                            isActive: R === e.platformKey,
                                            platform: e,
                                            onClick: P,
                                            onMouseEnter: x,
                                            claimed: S
                                        }, e.platformKey))
                                    })
                                })
                            }), (0, l.jsx)("div", {
                                className: C.platformsWrap,
                                children: (0, l.jsxs)(_.HeadingLevel, {
                                    component: (0, l.jsx)(l.Fragment, {
                                        children: !c.isMobile && (0, l.jsx)(_.Heading, {
                                            variant: "heading-lg/semibold",
                                            className: C.header,
                                            children: N.default.Messages.DOWNLOAD_MOBILE_TITLE
                                        })
                                    }),
                                    children: [(0, l.jsx)("ul", {
                                        className: C.platforms,
                                        children: O.map(e => (0, l.jsx)(v, {
                                            theme: u,
                                            isActive: R === e.platformKey,
                                            platform: e,
                                            onClick: P,
                                            onMouseEnter: x,
                                            claimed: S
                                        }, e.platformKey))
                                    }), (0, l.jsx)(_.Text, {
                                        className: C.footer,
                                        variant: "text-sm/normal",
                                        children: N.default.Messages.DOWNLOAD_DESKTOP_FOOTER.format()
                                    })]
                                })
                            })]
                        })
                    })
                })
            }
        },
        925685: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("77078"),
                l = n("266926"),
                i = n("782340"),
                r = n("616915");

            function u(e) {
                let {
                    message: t
                } = e;
                return (0, s.jsxs)(a.Clickable, {
                    onClick: () => {
                        (0, a.openModalLazy)(async () => {
                            let {
                                default: e
                            } = await n.el("335678").then(n.bind(n, "335678"));
                            return n => (0, s.jsx)(e, {
                                channelId: t.channel_id,
                                messageId: t.id,
                                ...n
                            })
                        })
                    },
                    className: r.accessory,
                    children: [(0, s.jsx)(l.default, {
                        width: 16,
                        height: 16
                    }), (0, s.jsx)(a.Text, {
                        variant: "text-xs/normal",
                        className: r.accessoryText,
                        children: i.default.Messages.OBSCURED_CONTENT_LEARN_MORE_MESSAGE_LABEL
                    })]
                })
            }
        },
        661579: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return l
                }
            });
            var s = n("153160"),
                a = n("782340");

            function l(e) {
                let t = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1],
                    n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                if (!e.available) return a.default.Messages.GAME_ACTION_BUTTON_UNAVAILABLE;
                if (e.premium && !n) return a.default.Messages.APPLICATION_STORE_FREE_WITH_PREMIUM;
                let l = e.getPrice(null, t);
                if (null != l) return l.amount > 0 ? (0, s.formatPrice)(l.amount, l.currency) : a.default.Messages.APPLICATION_STORE_FREE;
                return a.default.Messages.GAME_ACTION_BUTTON_UNAVAILABLE
            }
        },
        277683: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                getGuildProductPurchaseSystemMessageContentMobile: function() {
                    return a
                }
            });
            var s = n("782340");

            function a(e) {
                let {
                    username: t,
                    usernameOnClickHandler: n,
                    productName: a
                } = e;
                return s.default.Messages.SYSTEM_MESSAGE_GUILD_PRODUCT_PURCHASE_MOBILE.astFormat({
                    username: t,
                    usernameHook: n,
                    productName: a
                })
            }
        },
        153587: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                download: function() {
                    return a
                }
            });
            var s = n("545158");

            function a(e) {
                return (0, s.default)(e)
            }
        },
        158195: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            });
            var s = n("884691"),
                a = n("404118"),
                l = n("448993"),
                i = n("242278"),
                r = n("153587"),
                u = n("782340");

            function o(e, t) {
                let [n, o] = s.useState(!1), d = s.useCallback(async n => {
                    if (null != e && null != t) {
                        o(!0);
                        try {
                            let {
                                url: s
                            } = await i.requestDownloadUrl({
                                guildId: e,
                                productId: t,
                                attachmentId: n
                            });
                            await r.download(s)
                        } catch (t) {
                            let e = t instanceof l.APIError ? t.getAnyErrorMessage() : void 0;
                            a.default.show({
                                title: u.default.Messages.ERROR_GENERIC_TITLE,
                                body: null != e ? e : u.default.Messages.GENERIC_ERROR_BODY
                            })
                        } finally {
                            o(!1)
                        }
                    }
                }, [e, t]);
                return {
                    isLoading: n,
                    downloadAttachment: d
                }
            }
        },
        492724: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("414456"),
                l = n.n(a),
                i = n("77078"),
                r = n("17692"),
                u = n("191814"),
                o = n("476765"),
                d = n("538137"),
                c = n("600785"),
                f = n("246421"),
                E = n("782340"),
                _ = n("767165");

            function I(e) {
                let {
                    hidePurchaseToUnlockBadge: t,
                    className: n,
                    children: a
                } = e;
                return (0, s.jsxs)("div", {
                    className: l(_.productThumbnailContainer, n),
                    children: [a, !t && (0, s.jsxs)("div", {
                        className: _.purchaseToUnlockBadge,
                        children: [(0, s.jsx)(c.default, {
                            className: _.lockIcon,
                            width: 16,
                            height: 16,
                            color: "currentColor",
                            "aria-hidden": !0
                        }), (0, s.jsx)(i.Text, {
                            variant: "text-sm/normal",
                            color: "always-white",
                            className: _.unlockText,
                            children: E.default.Messages.GUILD_PRODUCT_CARD_PURCHASE_TO_UNLOCK
                        })]
                    })]
                })
            }

            function m(e) {
                let {
                    onShowFullDescription: t,
                    variant: n
                } = e, a = (0, s.jsxs)(s.Fragment, {
                    children: [(0, s.jsx)(i.Text, {
                        variant: n,
                        color: null != t ? "text-link" : "interactive-hover",
                        children: E.default.Messages.GUILD_PRODUCT_CARD_SEE_FULL_DESCRIPTION
                    }), (0, s.jsx)(d.default, {
                        className: _.arrowIcon,
                        backgroundColor: "currentColor",
                        width: 16,
                        height: 16
                    })]
                });
                return null == t ? (0, s.jsx)("div", {
                    className: _.showMoreButton,
                    children: a
                }) : (0, s.jsx)(i.Clickable, {
                    className: l(_.showMoreButton, _.hasAction),
                    onClick: e => {
                        e.stopPropagation(), null != t && t()
                    },
                    children: a
                })
            }

            function p(e) {
                let {
                    imageUrl: t,
                    name: n,
                    description: a,
                    formattedPrice: d,
                    role: c,
                    ctaComponent: p,
                    shouldShowFullDescriptionButton: h = !0,
                    onShowFullDescription: T,
                    productType: g,
                    onTapCard: S,
                    actionMenu: A,
                    showOpaqueBackground: N = !1,
                    hideRoleTag: C = !1,
                    lineClamp: M = 1,
                    cardWidth: O = 332,
                    cardHeight: R,
                    thumbnailHeight: v = 187,
                    descriptionTextVariant: L = "text-sm/normal"
                } = e, P = (0, o.uid)(), x = (0, s.jsxs)(s.Fragment, {
                    children: [(0, s.jsx)(I, {
                        hidePurchaseToUnlockBadge: !0,
                        children: (0, s.jsx)("img", {
                            alt: "",
                            src: t,
                            className: _.productThumbnail,
                            style: {
                                height: v
                            }
                        })
                    }), (0, s.jsxs)("div", {
                        className: _.productDetails,
                        children: [(0, s.jsxs)("div", {
                            className: _.productDetailContent,
                            children: [(0, s.jsx)(i.Heading, {
                                variant: "text-md/medium",
                                color: "header-primary",
                                className: _.productName,
                                id: P,
                                children: n
                            }), (0, s.jsx)(i.FocusBlock, {
                                children: (0, s.jsx)(r.default, {
                                    variant: L,
                                    color: "text-muted",
                                    lineClamp: M,
                                    text: a
                                })
                            }), h && (0, s.jsx)(m, {
                                onShowFullDescription: T,
                                variant: L
                            }), C || null == c || "" === c.name ? null : (0, s.jsxs)(s.Fragment, {
                                children: [(0, s.jsx)(u.default, {
                                    size: 16
                                }), (0, s.jsx)(f.default, {
                                    role: c
                                })]
                            })]
                        }), A]
                    }), (0, s.jsxs)("div", {
                        className: _.purchaseDetails,
                        children: [(0, s.jsx)(i.Text, {
                            variant: "text-md/medium",
                            color: "interactive-active",
                            className: _.productPrice,
                            children: null != d ? d : E.default.Messages.GUILD_PRODUCT_CARD_EMPTY_PRICE
                        }), (0, s.jsx)(i.Text, {
                            variant: "text-xxs/normal",
                            color: "text-normal",
                            className: _.productType,
                            children: g
                        }), (0, s.jsx)("div", {
                            className: _.productActionButton,
                            onClick: e => {
                                e.stopPropagation()
                            },
                            children: p
                        })]
                    })]
                });
                return null == S ? (0, s.jsx)("article", {
                    className: l(_.productCard, N ? _.opaqueBackground : _.solidBackground),
                    "aria-labelledby": P,
                    children: x
                }) : (0, s.jsx)("div", {
                    style: {
                        width: O,
                        height: R
                    },
                    children: (0, s.jsx)(i.ClickableContainer, {
                        tag: "article",
                        "aria-label": E.default.Messages.GUILD_SHOP_LISTING_CARD_A11Y_LABEL.format({
                            productName: n
                        }),
                        className: l(_.productCard, N ? _.opaqueBackground : _.solidBackground, _.cardClickableContainer),
                        onClick: S,
                        children: x
                    })
                })
            }
        },
        294519: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("759843"),
                l = n("65597"),
                i = n("812204"),
                r = n("428958"),
                u = n("162771"),
                o = n("442379"),
                d = n("858291"),
                c = n("660516");

            function f(e) {
                let {
                    code: t
                } = e, [n, f] = t.split("-"), E = (0, o.useFetchGuildProductListing)(n, f), _ = (0, l.default)([u.default], () => u.default.getGuildId());
                return ((0, r.default)({
                    type: c.ImpressionTypes.VIEW,
                    name: a.ImpressionNames.GUILD_PRODUCT_LISTING_EMBED,
                    properties: {
                        guild_product_listing_id: f,
                        has_entitlement: (null == E ? void 0 : E.has_entitlement) === !0
                    }
                }, {
                    disableTrack: null == E
                }), null == E || _ !== n) ? null : (0, s.jsx)(d.GuildProductListingPublicCard, {
                    guildProductListing: E,
                    guildId: n,
                    location: i.default.GUILD_PRODUCT_EMBED_CARD,
                    cardWidth: 390,
                    thumbnailHeight: 219
                })
            }
        },
        898998: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("77078"),
                l = n("158195");

            function i(e) {
                let {
                    guildId: t,
                    productId: n,
                    attachmentId: i,
                    ...r
                } = e, {
                    isLoading: u,
                    downloadAttachment: o
                } = (0, l.default)(t, n);
                return (0, s.jsx)(a.Button, {
                    ...r,
                    submitting: u,
                    onClick: function() {
                        o(i)
                    }
                })
            }
        },
        407417: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return m
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("627445"),
                l = n.n(a),
                i = n("65597"),
                r = n("77078"),
                u = n("191814"),
                o = n("246053"),
                d = n("195812"),
                c = n("565559"),
                f = n("35018"),
                E = n("898998"),
                _ = n("782340"),
                I = n("418530");

            function m(e) {
                var t, n, a, m;
                let {
                    guildId: p,
                    productId: h
                } = e, T = (0, i.default)([c.default], () => c.default.getGuildProduct(h)), g = (null !== (m = null == T ? void 0 : null === (t = T.attachments) || void 0 === t ? void 0 : t.length) && void 0 !== m ? m : 0) > 1, S = null == T ? void 0 : null === (a = T.attachments) || void 0 === a ? void 0 : null === (n = a[0]) || void 0 === n ? void 0 : n.id;
                return g ? (0, s.jsxs)(r.Button, {
                    onClick: function() {
                        f.default.open({
                            guildId: p,
                            productId: h
                        })
                    },
                    innerClassName: I.textWithIcon,
                    children: [(0, s.jsx)("div", {
                        children: _.default.Messages.GUILD_PRODUCT_DOWNLOAD_BUTTON_MULTIPLE_FILES
                    }), (0, s.jsx)(u.default, {
                        size: 8,
                        horizontal: !0
                    }), (0, s.jsx)(o.default, {
                        width: 16,
                        height: 16,
                        direction: o.default.Directions.RIGHT
                    })]
                }) : (l(null != S, "No attachment"), (0, s.jsxs)(E.default, {
                    guildId: p,
                    productId: h,
                    attachmentId: S,
                    innerClassName: I.textWithIcon,
                    children: [(0, s.jsx)("div", {
                        children: _.default.Messages.GUILD_PRODUCT_DOWNLOAD_BUTTON_SINGLE_FILE
                    }), (0, s.jsx)(u.default, {
                        size: 8,
                        horizontal: !0
                    }), (0, s.jsx)(d.default, {
                        width: 16,
                        height: 16
                    })]
                }))
            }
        },
        858291: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                GuildProductListingPublicCard: function() {
                    return h
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("65597"),
                l = n("801765"),
                i = n("228035"),
                r = n("465869"),
                u = n("305961"),
                o = n("306160"),
                d = n("442379"),
                c = n("757515"),
                f = n("727411"),
                E = n("492724"),
                _ = n("928576"),
                I = n("739726"),
                m = n("358404"),
                p = n("875746");

            function h(e) {
                var t;
                let {
                    guildProductListing: n,
                    guildId: h,
                    location: T,
                    shouldShowFullDescriptionButton: g = !0,
                    hideRoleTag: S = !1,
                    lineClamp: A = 1,
                    cardWidth: N,
                    cardHeight: C,
                    thumbnailHeight: M,
                    descriptionTextVariant: O = "text-sm/normal",
                    showOpaqueBackground: R = !1
                } = e, v = (0, a.default)([u.default], () => u.default.getGuild(h), [h]), L = null == v ? void 0 : v.roles[null !== (t = null == n ? void 0 : n.role_id) && void 0 !== t ? t : ""], P = (0, l.useListingThumbnailUrl)(n, 600), x = (0, _.useProductType)(n), D = (0, d.useCanManageGuildProduct)(v), {
                    shouldHideGuildPurchaseEntryPoints: y
                } = (0, r.useShouldHideGuildPurchaseEntryPoints)(h), U = (0, _.usePrice)(n);
                if (null == v || y) return null;
                let b = () => (0, m.openGuildProductInfoModal)({
                        guildId: h,
                        guildProductListingId: n.id,
                        analyticsLocation: T
                    }),
                    j = (0, s.jsx)(I.GuildProductListingPopout, {
                        product: n,
                        guildId: h,
                        showEditProduct: D,
                        showUnpublishProduct: !1,
                        showCopyLink: !0,
                        showTestDownload: !1,
                        showDeleteProduct: !1,
                        showReportProduct: !0,
                        onEditProduct: D ? () => {
                            f.openModal(v.id, n.id)
                        } : () => {},
                        onUnpublishProduct: () => {},
                        onDeleteProduct: () => {},
                        onReportProduct: () => {
                            (0, i.openGuildShopReportModal)({
                                listing: n
                            })
                        },
                        onCopyProductLink: () => {
                            (0, o.copy)((0, c.getGuildProductListingUrl)(h, n.id))
                        },
                        onTestDownload: () => {}
                    });
                return (0, s.jsx)(E.default, {
                    imageUrl: P,
                    name: n.name,
                    description: n.description,
                    formattedPrice: U,
                    role: L,
                    ctaComponent: (0, s.jsx)(p.default, {
                        guildId: h,
                        guildProductListingId: n.id,
                        sourceAnalyticsLocations: T
                    }),
                    productType: x,
                    shouldShowFullDescriptionButton: g,
                    onShowFullDescription: b,
                    onTapCard: b,
                    actionMenu: j,
                    showOpaqueBackground: R,
                    hideRoleTag: S,
                    lineClamp: A,
                    cardWidth: N,
                    cardHeight: C,
                    thumbnailHeight: M,
                    descriptionTextVariant: O
                }, n.id)
            }
        },
        875746: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("627445"),
                l = n.n(a),
                i = n("65597"),
                r = n("77078"),
                u = n("206230"),
                o = n("305961"),
                d = n("181114"),
                c = n("866190"),
                f = n("442379"),
                E = n("565559"),
                _ = n("777133"),
                I = n("407417"),
                m = n("782340");

            function p(e) {
                let {
                    guildId: t,
                    guildProductListingId: n,
                    sourceAnalyticsLocations: a
                } = e, p = (0, i.default)([E.default], () => E.default.getGuildProduct(n)), h = (0, i.default)([o.default], () => o.default.getGuild(t), [t]), T = (0, i.default)([u.default], () => u.default.useReducedMotion), g = (0, c.useIsWindowFocused)();
                l(null != h, "guild cannot be null"), l(null != p, "guildProductListing cannot be null");
                let S = (0, f.useCanManageGuildProduct)(h);
                if (S) return (0, s.jsx)(r.Tooltip, {
                    text: m.default.Messages.GUILD_PRODUCT_PURCHASE_DISABLED_TOOLTIP,
                    children: e => (0, s.jsx)(r.Button, {
                        ...e,
                        color: r.Button.Colors.BRAND,
                        disabled: !0,
                        children: m.default.Messages.GUILD_PRODUCT_CARD_PURCHASE_BUTTON
                    })
                });
                if (!p.has_entitlement) return (0, s.jsx)(d.default, {
                    shineSize: d.default.ShineSizes.SMALL,
                    pauseAnimation: T || !g,
                    onClick: () => (0, _.openGuildProductPurchaseModal)({
                        guildProductListing: p,
                        guildId: h.id,
                        sourceAnalyticsLocations: a
                    }),
                    children: m.default.Messages.GUILD_PRODUCT_CARD_PURCHASE_BUTTON
                });
                {
                    let e = null != p.attachments;
                    return e ? (0, s.jsx)(I.default, {
                        guildId: h.id,
                        productId: p.id
                    }) : (0, s.jsx)(r.Button, {
                        color: r.Button.Colors.PRIMARY,
                        disabled: !0,
                        children: m.default.Messages.GUILD_PRODUCT_CARD_PURCHASED
                    })
                }
            }
        },
        246421: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("509043"),
                l = n("77078"),
                i = n("191814"),
                r = n("45029"),
                u = n("782340"),
                o = n("411531");

            function d(e) {
                let {
                    locked: t,
                    role: n,
                    textVariant: d = "text-xs/medium"
                } = e, c = (0, l.useToken)(l.tokens.colors.INTERACTIVE_NORMAL).hex();
                return (0, s.jsx)("div", {
                    className: o.roleTagContainer,
                    children: (0, s.jsxs)("div", {
                        className: o.roleTag,
                        children: [(0, s.jsx)("div", {
                            className: o.roleColor,
                            style: {
                                backgroundColor: (0, a.int2hex)(n.color)
                            }
                        }), (0, s.jsx)(i.default, {
                            size: 8,
                            horizontal: !0
                        }), (0, s.jsxs)(l.Text, {
                            variant: d,
                            color: "text-normal",
                            children: [(0, s.jsx)(l.HiddenVisually, {
                                children: u.default.Messages.GUILD_PRODUCT_CARD_HIDDEN_ROLE_SCREEN_READER
                            }), n.name]
                        }), !0 === t && (0, s.jsxs)(s.Fragment, {
                            children: [(0, s.jsx)(i.default, {
                                size: 8,
                                horizontal: !0
                            }), (0, s.jsx)(r.default, {
                                color: c
                            })]
                        })]
                    })
                })
            }
        },
        358404: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                openGuildProductInfoModal: function() {
                    return l
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("77078");

            function l(e) {
                (0, a.openModalLazy)(async () => {
                    let {
                        default: t
                    } = await n.el("962276").then(n.bind(n, "962276"));
                    return n => (0, s.jsx)(t, {
                        ...e,
                        ...n
                    })
                })
            }
        },
        777133: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                openGuildProductPurchaseModal: function() {
                    return d
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("748820"),
                l = n("77078"),
                i = n("112679"),
                r = n("55689"),
                u = n("599110"),
                o = n("49111");

            function d(e) {
                let {
                    guildProductListing: t,
                    guildId: d,
                    sourceAnalyticsLocations: c
                } = e, f = !1, E = (0, a.v4)(), _ = () => {
                    f = !0
                };
                (0, l.openModalLazy)(async () => {
                    let {
                        default: e
                    } = await n.el("191131").then(n.bind(n, "191131"));
                    return n => (0, s.jsx)(e, {
                        ...n,
                        applicationId: t.application_id,
                        skuId: t.id,
                        sourceAnalyticsLocations: c,
                        guildProductContext: {
                            guildProductListingId: t.id,
                            guildId: d
                        },
                        loadId: E,
                        onComplete: _
                    })
                }, {
                    onCloseCallback: () => {
                        !f && u.default.track(o.AnalyticEvents.PAYMENT_FLOW_CANCELED, {
                            load_id: E,
                            payment_type: o.PurchaseTypeToAnalyticsPaymentType[o.PurchaseTypes.ONE_TIME],
                            is_gift: !1,
                            location_stack: Array.isArray(c) ? c : [c]
                        }), (0, i.clearError)(), (0, r.clearPurchaseTokenAuthState)()
                    },
                    onCloseRequest: o.NOOP
                })
            }
        },
        790369: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return l
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("75196");

            function l(e) {
                let {
                    width: t = 440,
                    height: n = 200,
                    avatar: l,
                    ...i
                } = e;
                return (0, s.jsxs)("svg", {
                    ...(0, a.default)(i),
                    width: t,
                    height: n,
                    viewBox: "0 0 ".concat(t, " ").concat(n),
                    fill: "none",
                    xmlns: "http://www.w3.org/2000/svg",
                    ...i,
                    children: [(0, s.jsx)("rect", {
                        y: "12",
                        width: "440",
                        height: "176",
                        rx: "4",
                        fill: "url(#paint0_linear_0_1)"
                    }), (0, s.jsx)("path", {
                        d: "M4 12C1.79086 12 0 13.7909 0 16V87.7111C0 89.0292 0.644578 90.2711 1.75757 90.9773C19.6029 102.3 40.6908 102.01 54.593 95.3775C74.7698 85.8079 78.9758 61.6391 58.8478 45.7384C50.2069 38.7483 44.7223 29.0027 45.9176 20.7172C46.434 17.1376 44.0823 12 40.4657 12H4Z",
                        fill: "#3442D9"
                    }), (0, s.jsx)("path", {
                        d: "M440 44.2244C440 42.4907 438.885 40.9507 437.228 40.4399C387.67 25.1621 330.882 28.8097 301.274 66.4895C271.113 104.874 240.425 106.271 206.014 93.988C172.008 81.8488 55.3406 98.3422 74.0098 184.887C74.3973 186.683 76.0228 188 77.8605 188H436C438.209 188 440 186.209 440 184V44.2244Z",
                        fill: "#3442D9"
                    }), (0, s.jsx)("path", {
                        d: "M397.403 63.2537C395.463 62.0597 394.269 60.2687 393.97 58.0299L393.373 54.2985C393.373 54.1493 393.224 54 392.925 54C392.776 54 392.627 54.1493 392.627 54.2985L392.03 58.0299C391.731 60.2687 390.537 62.0597 388.597 63.2537L388.149 63.5522C388 63.7015 388 63.8507 388 64C388 64.1493 388 64.1493 388.149 64.2985L388.597 64.597C390.537 65.791 391.731 67.5821 392.03 69.8209L392.627 73.5522C392.627 73.8507 392.776 74 392.925 74C393.224 74 393.373 73.8507 393.373 73.5522L393.97 69.8209C394.269 67.5821 395.463 65.791 397.403 64.597L397.851 64.2985C398 64.1493 398 64.1493 398 64C398 63.8507 398 63.7015 397.851 63.5522L397.403 63.2537Z",
                        fill: "#57F287"
                    }), (0, s.jsx)("path", {
                        d: "M300.628 164.106C299.09 163.2 298.013 161.691 297.705 159.879L297.244 156.86C297.244 156.71 297.09 156.559 296.936 156.559C296.782 156.559 296.628 156.71 296.628 156.86L296.167 159.879C296.013 161.691 294.936 163.2 293.398 164.106L292.936 164.408C292.782 164.559 292.782 164.559 292.782 164.71V165.011H293.244C294.782 165.917 295.859 167.577 296.013 169.389L296.475 172.408C296.475 172.559 296.628 172.559 296.782 172.559C296.936 172.559 297.09 172.559 297.09 172.408L297.551 169.389C297.859 167.577 298.936 166.068 300.475 165.011H300.782V164.71C300.782 164.559 300.782 164.408 300.628 164.408V164.106Z",
                        fill: "#808AFF"
                    }), (0, s.jsx)("path", {
                        d: "M232.642 35.4003C231.478 34.6839 230.761 33.5197 230.582 32.1765L230.224 30.0272C230.224 29.8481 230.134 29.7585 229.955 29.7585C229.866 29.7585 229.776 29.8481 229.776 30.0272L229.418 32.1765C229.239 33.5197 228.522 34.6839 227.358 35.4003L227.09 35.5794C227 35.669 227 35.669 227 35.7585C227 35.8481 227 35.9376 227.09 35.9376L227.358 36.2063C228.522 36.9227 229.239 37.9974 229.418 39.3406L229.776 41.5794C229.776 41.669 229.866 41.7585 229.955 41.7585C230.134 41.7585 230.224 41.669 230.224 41.5794L230.582 39.3406C230.761 37.9974 231.478 36.9227 232.642 36.2063L232.91 35.9376C233 35.8481 233 35.8481 233 35.7585C233 35.669 232.91 35.669 232.91 35.5794L232.642 35.4003Z",
                        fill: "#FFE75C"
                    }), (0, s.jsx)("defs", {
                        children: (0, s.jsxs)("linearGradient", {
                            id: "paint0_linear_0_1",
                            x1: "220",
                            y1: "12",
                            x2: "220",
                            y2: "188",
                            gradientUnits: "userSpaceOnUse",
                            children: [(0, s.jsx)("stop", {
                                "stop-color": "#686bff"
                            }), (0, s.jsx)("stop", {
                                offset: "1",
                                "stop-color": "#c356fd"
                            })]
                        })
                    }), (0, s.jsx)("svg", {
                        width: 100,
                        height: 100,
                        viewBox: "-2 -15 50 50",
                        fill: "none",
                        xmlns: "http://www.w3.org/2000/svg",
                        children: (0, s.jsxs)("g", {
                            "clip-path": "url(#clip0_2645_182555)",
                            children: [(0, s.jsx)("path", {
                                fillRule: "evenodd",
                                clipRule: "evenodd",
                                d: "M13.6698 8.91016C14.5646 10.1567 16.3407 10.3342 17.4866 9.44283C17.4957 9.46624 17.5008 9.49191 17.5008 9.51916V15.8337C17.5008 17.2144 16.3815 18.3337 15.0008 18.3337H12.7092C12.5941 18.3337 12.5008 18.2404 12.5008 18.1253V13.3337C12.5008 12.4132 11.7547 11.667 10.8342 11.667H9.16748C8.24699 11.667 7.5008 12.4132 7.5008 13.3337V18.1253C7.5008 18.2404 7.40753 18.3337 7.29247 18.3337H5.0008C3.62009 18.3337 2.5008 17.2144 2.5008 15.8337V9.51916C2.5008 9.36341 2.66628 9.26158 2.81091 9.31949C3.23542 9.48933 3.70172 9.58366 4.19593 9.58366C5.27336 9.58366 6.24385 9.12583 6.92345 8.39408C7.0135 8.29708 7.17004 8.29679 7.26039 8.39349C7.94479 9.12583 8.91932 9.58366 10.0008 9.58366C11.0823 9.58366 12.0568 9.12583 12.7412 8.39349C12.8316 8.29679 12.9882 8.29708 13.0782 8.39408C13.2565 8.58599 13.4548 8.75916 13.6698 8.91016ZM11.7497 6.67891C9.42957 5.8204 9.4179 2.5511 11.7147 1.6683C11.699 1.66743 11.6833 1.66699 11.6675 1.66699H8.33415C7.87391 1.66699 7.50082 2.04009 7.50082 2.50033V5.83366C7.50082 5.87681 7.50191 5.9197 7.50407 5.96231C7.52181 6.31232 7.61153 6.64333 7.75873 6.94085C7.77282 6.96931 7.78743 6.99747 7.80255 7.02531C8.2259 7.80462 9.05157 8.33366 10.0008 8.33366C10.984 8.33366 11.8346 7.76614 12.2429 6.94084L12.2543 6.91751C12.2613 6.90286 12.2682 6.88812 12.2751 6.87331L11.7497 6.67891ZM15.8231 8.3336C15.4338 8.32949 15.0467 8.10931 14.8853 7.67305L14.4606 6.52524C14.2917 6.06904 13.9321 5.70936 13.4759 5.54055L13.3342 5.4881V2.84588L13.4759 2.79343C13.9321 2.62463 14.2917 2.26494 14.4606 1.80874L14.5131 1.66699H15.2462C16.3397 1.66699 17.3062 2.37762 17.6324 3.42131L18.1647 5.12491C18.2057 5.25598 18.2352 5.38724 18.254 5.51775L18.1924 5.54055C17.7361 5.70936 17.3765 6.06904 17.2077 6.52524L16.783 7.67305C16.627 8.09458 16.2603 8.31438 15.8847 8.33245C15.8642 8.33308 15.8437 8.33346 15.8231 8.3336ZM12.5008 3.15424V5.17974L12.3281 5.11583C11.4472 4.78989 11.4472 3.54409 12.3281 3.21816L12.5008 3.15424ZM4.75546 1.66699C3.662 1.66699 2.69541 2.37762 2.36926 3.4213L1.83688 5.12491C1.52876 6.11092 1.8679 7.1068 2.56708 7.72187C2.99643 8.09957 3.56156 8.33366 4.19593 8.33366C5.13437 8.33366 5.95065 7.81064 6.36917 7.04019C6.38619 7.00888 6.40255 6.97714 6.41823 6.94502C6.57788 6.618 6.66748 6.25052 6.66748 5.86211V2.50033C6.66748 2.04009 6.29438 1.66699 5.83415 1.66699H4.75546Z",
                                fill: "white"
                            }), (0, s.jsx)("path", {
                                d: "M14.8838 0.660607C15.2097 -0.220202 16.4556 -0.220202 16.7815 0.660607L17.2062 1.80842C17.375 2.26462 17.7347 2.6243 18.1909 2.79311L19.3387 3.21783C20.2195 3.54377 20.2195 4.78957 19.3387 5.1155L18.1909 5.54023C17.7347 5.70903 17.375 6.06872 17.2062 6.52492L16.7815 7.67272C16.4556 8.5535 15.2097 8.5535 14.8838 7.67272L14.4591 6.52492C14.2903 6.06872 13.9306 5.70903 13.4744 5.54023L12.3266 5.1155C11.4458 4.78957 11.4458 3.54377 12.3266 3.21783L13.4744 2.79311C13.9306 2.6243 14.2903 2.26462 14.4591 1.80842L14.8838 0.660607Z",
                                fill: "white"
                            })]
                        })
                    }), (0, s.jsx)("foreignObject", {
                        x: "30",
                        y: "100",
                        width: "56",
                        height: "56",
                        children: l
                    })]
                })
            }
        },
        289967: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return m
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("65597"),
                l = n("77078"),
                i = n("206230"),
                r = n("574073"),
                u = n("232259"),
                o = n("393414"),
                d = n("304198"),
                c = n("790369"),
                f = n("49111"),
                E = n("782340"),
                _ = n("910444");

            function I(e) {
                let {
                    guildId: t,
                    user: n,
                    username: r
                } = e, u = (0, a.default)([i.default], () => !i.default.useReducedMotion), o = n.getAvatarURL(t, 56, u), d = (0, s.jsx)("img", {
                    src: o,
                    className: _.userAvatar,
                    alt: ""
                });
                return (0, s.jsxs)("div", {
                    className: _.thankYouCard,
                    role: "img",
                    "aria-label": E.default.Messages.ROLE_SUBSCRIPTION_WELCOME_CARD_ARIA_LABEL.format({
                        username: r
                    }),
                    children: [(0, s.jsx)(c.default, {
                        avatar: d
                    }), (0, s.jsx)(l.Text, {
                        className: _.thankYouText,
                        tag: "p",
                        color: "status-positive-text",
                        variant: "heading-xl/medium",
                        children: E.default.Messages.GUILD_PRODUCT_PURCHASE_THANK_YOU_CARD_TEXT.format({
                            username: r,
                            usernameHook: (e, t) => (0, s.jsx)(l.Text, {
                                tag: "span",
                                color: "status-positive-text",
                                variant: "heading-xxl/extrabold",
                                lineClamp: 3,
                                children: e
                            }, t)
                        })
                    })]
                })
            }

            function m(e) {
                var t, a, l;
                let {
                    channel: i,
                    message: c,
                    compact: _
                } = e, m = (0, r.default)(c), p = (0, u.useUsernameHook)(c.author, i.id, i.guild_id)(m), h = E.default.Messages.SYSTEM_MESSAGE_GUILD_PRODUCT_PURCHASE.format({
                    username: m.nick,
                    usernameHook: p,
                    productName: null !== (l = null === (a = c.purchaseNotification) || void 0 === a ? void 0 : null === (t = a.guild_product_purchase) || void 0 === t ? void 0 : t.product_name) && void 0 !== l ? l : "",
                    handleProductListingClick: () => {
                        var e, t, n;
                        (0, o.transitionTo)(f.Routes.GUILD_PRODUCT(i.guild_id, null !== (n = null === (t = c.purchaseNotification) || void 0 === t ? void 0 : null === (e = t.guild_product_purchase) || void 0 === e ? void 0 : e.listing_id) && void 0 !== n ? n : ""))
                    }
                });
                return (0, s.jsxs)(s.Fragment, {
                    children: [(0, s.jsx)(d.default, {
                        icon: n("127067"),
                        timestamp: c.timestamp,
                        compact: _,
                        children: h
                    }), (0, s.jsx)(I, {
                        username: m.nick,
                        guildId: i.guild_id,
                        user: c.author
                    })]
                })
            }
        },
        132349: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return l
                }
            });
            var s = n("876927"),
                a = n("271560");

            function l(e) {
                let t = !(arguments.length > 1) || void 0 === arguments[1] || arguments[1],
                    [n, l] = (0, s.default)(),
                    i = (null == e ? void 0 : e.application_id) != null && null != l ? (0, a.getAssetURL)(e.application_id, e, l, t ? void 0 : "webp") : void 0;
                return [n, i]
            }
        },
        721629: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("446674"),
                i = n("305961"),
                r = n("105017"),
                u = n("568734"),
                o = n("843257"),
                d = n("531034"),
                c = n("49111");

            function f(e) {
                var t, n;
                let {
                    channel: f,
                    message: E
                } = e, _ = null !== (n = null === (t = E.roleSubscriptionData) || void 0 === t ? void 0 : t.is_renewal) && void 0 !== n && n, I = _ ? (0, d.getRenewButtonLabels)() : (0, d.getJoinButtonLabels)(), m = f.guild_id, p = (0, l.useStateFromStores)([i.default], () => {
                    var e;
                    return null === (e = i.default.getGuild(m)) || void 0 === e ? void 0 : e.systemChannelFlags
                }, [m]), h = null != p && (0, u.hasFlag)(p, c.SystemChannelFlags.SUPPRESS_ROLE_SUBSCRIPTION_PURCHASE_NOTIFICATION_REPLIES), T = a.useMemo(() => (0, o.getRoleSubscriptionPurchaseSystemMessageEventProperties)(f, E), [f, E]);
                return h ? null : (0, s.jsx)(r.default, {
                    channel: f,
                    message: E,
                    buttonLabels: I,
                    stickers: d.STICKERS,
                    event: c.AnalyticEvents.ROLE_SUBSCRIPTION_PURCHASE_SYSTEM_MESSAGE_CTA_CLICKED,
                    eventProperties: T
                })
            }
        },
        866027: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return S
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("77078"),
                i = n("812204"),
                r = n("685665"),
                u = n("574073"),
                o = n("232259"),
                d = n("393414"),
                c = n("304198"),
                f = n("843257"),
                E = n("721629"),
                _ = n("988521"),
                I = n("49111"),
                m = n("724210"),
                p = n("782340"),
                h = n("158404");

            function T(e) {
                let {
                    username: t
                } = e;
                return (0, s.jsx)("div", {
                    className: h.welcomeCardText,
                    children: (0, s.jsx)(l.Text, {
                        tag: "p",
                        className: h.welcomeCardText,
                        color: "status-positive-text",
                        variant: "heading-xl/medium",
                        children: p.default.Messages.ROLE_SUBSCRIPTION_WELCOME_CARD_TEXT.format({
                            username: t,
                            usernameHook: (e, t) => (0, s.jsx)(l.Text, {
                                tag: "span",
                                color: "status-positive-text",
                                variant: "heading-xxl/extrabold",
                                lineClamp: 3,
                                children: e
                            }, t)
                        })
                    })
                })
            }

            function g(e) {
                let {
                    guildId: t,
                    user: n,
                    username: a
                } = e;
                return (0, s.jsxs)("div", {
                    className: h.welcomeCard,
                    role: "img",
                    "aria-label": p.default.Messages.ROLE_SUBSCRIPTION_WELCOME_CARD_ARIA_LABEL.format({
                        username: a
                    }),
                    children: [(0, s.jsx)(_.default, {
                        guildId: t,
                        user: n,
                        className: h.welcomeCardBadge
                    }), (0, s.jsx)(T, {
                        username: a
                    })]
                })
            }

            function S(e) {
                var t, l;
                let {
                    channel: _,
                    message: p,
                    compact: h
                } = e, T = (0, u.default)(p), S = function(e) {
                    let {
                        author: t,
                        channel: n,
                        message: s
                    } = e, l = n.guild_id, u = (0, o.useUsernameHook)(s.author, n.id, l)(t), {
                        analyticsLocations: c
                    } = (0, r.default)(i.default.GUILD_ROLE_SUBSCRIPTION_PURCHASE_SYSTEM_MESSAGE), E = s.roleSubscriptionData, _ = a.useCallback(() => {
                        (0, d.transitionTo)(I.Routes.CHANNEL(l, m.StaticChannelRoute.ROLE_SUBSCRIPTIONS), null, null, c), (null == E ? void 0 : E.role_subscription_listing_id) != null && (0, f.trackRoleSubscriptionPurchaseMessageTierClick)(l, n.id, s.id, E.role_subscription_listing_id)
                    }, [l, n, s, E, c]);
                    return null == E ? null : (0, f.getRoleSubscriptionPurchaseSystemMessageFormattedContent)({
                        username: t.nick,
                        usernameOnClickHandler: u,
                        roleSubscriptionOnClickHandler: _,
                        guildId: l,
                        roleSubscriptionData: s.roleSubscriptionData
                    })
                }({
                    channel: _,
                    message: p,
                    author: T
                }), A = (null === (t = p.roleSubscriptionData) || void 0 === t ? void 0 : t.total_months_subscribed) != null && (null === (l = p.roleSubscriptionData) || void 0 === l ? void 0 : l.total_months_subscribed) <= 1;
                return null == S ? null : (0, s.jsxs)(s.Fragment, {
                    children: [(0, s.jsx)(c.default, {
                        icon: n("127067"),
                        timestamp: p.timestamp,
                        compact: h,
                        children: S
                    }), A && (0, s.jsx)(g, {
                        guildId: _.guild_id,
                        user: p.author,
                        username: T.nick
                    }), (0, s.jsx)(E.default, {
                        channel: _,
                        message: p
                    })]
                })
            }
        },
        988521: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("446674"),
                l = n("206230"),
                i = n("967799");

            function r(e) {
                let {
                    guildId: t,
                    user: n,
                    className: r
                } = e, u = (0, a.useStateFromStores)([l.default], () => !l.default.useReducedMotion), o = n.getAvatarURL(t, 56, u), d = (0, s.jsx)("foreignObject", {
                    x: "30",
                    y: "68",
                    width: "56",
                    height: "56",
                    transform: "skewX(12)",
                    children: (0, s.jsx)("img", {
                        src: o,
                        className: i.userAvatar,
                        alt: ""
                    })
                });
                return (0, s.jsx)("div", {
                    className: r,
                    children: (0, s.jsxs)("svg", {
                        width: "128",
                        height: "200",
                        viewBox: "0 0 128 200",
                        fill: "none",
                        xmlns: "http://www.w3.org/2000/svg",
                        className: i.svg,
                        children: [(0, s.jsx)("path", {
                            fillRule: "evenodd",
                            clipRule: "evenodd",
                            d: "M41.6475 3.07525C42.2166 3.01705 42.7941 2.98723 43.3787 2.98723H44.0149C51.1639 2.98723 57.3812 8.03091 58.5312 14.9582L58.5326 14.9664L71.1297 85.803L74.1529 85.2934L61.5601 14.4815C61.5597 14.4786 61.5592 14.4758 61.5587 14.4729C60.1604 6.07701 52.6392 0 44.0149 0H42.997C42.4189 0 41.8467 0.037182 41.283 0.10879C31.6239 1.11743 24.0326 9.0199 24.0326 18.799C24.0326 21.3525 24.5847 23.8942 25.5481 26.1672L25.5512 26.1745L25.5543 26.1817C30.6753 37.9136 33.7197 47.8651 33.2106 58.7186C32.7013 69.5731 28.6272 81.5075 19.156 97.1507C9.58001 112.967 1.96875 129.323 0.328288 144.93C-1.32267 160.636 3.084 175.549 17.4069 188.258C44.018 211.936 78.8775 196.708 84.4502 170.024C87.2081 156.818 84.3006 145.78 79.001 135.687C75.0979 128.255 69.8387 121.246 64.61 114.277C62.8057 111.873 61.0052 109.473 59.2652 107.063C52.5319 97.7348 49.6357 89.4917 48.5724 81.9158C47.538 74.5461 48.2262 67.7588 48.9086 61.0273C48.9314 60.803 48.9541 60.5787 48.9768 60.3545C50.4158 46.1192 45.9689 34.8772 40.4143 27.5533L40.4092 27.5466L34.5424 19.988L34.533 19.9764C30.8561 15.4298 31.6398 8.83644 36.3021 5.27079C37.8665 4.11054 39.7105 3.32756 41.6475 3.07525ZM29.4797 10.5429C27.9714 12.9383 27.1008 15.7614 27.1008 18.799C27.1008 20.9399 27.5653 23.0928 28.3813 25.0206C33.564 36.8951 36.8159 47.3374 36.2756 58.8549C35.7352 70.3737 31.4122 82.7904 21.7991 98.6677C12.2907 114.372 4.95262 130.278 3.38056 145.234C1.81906 160.089 5.93633 174.039 19.4752 186.051L19.4768 186.053C44.2662 208.11 76.329 193.919 81.4435 169.429C84.0293 157.047 81.3387 146.702 76.2691 137.047C72.4865 129.844 67.4387 123.116 62.2536 116.205C60.4212 113.762 58.5717 111.297 56.7549 108.78C49.7474 99.0725 46.6638 90.3811 45.5325 82.3203C44.4482 74.5953 45.1687 67.4973 45.8457 60.8276C45.8717 60.5718 45.8976 60.3165 45.9233 60.0619C47.2829 46.613 43.0814 36.1022 37.951 29.3343L32.1127 21.8124C29.4463 18.5078 28.6103 14.3561 29.4797 10.5429Z",
                            fill: "#57F287"
                        }), (0, s.jsx)("path", {
                            d: "M59.282 31.4071C56.8646 29.0585 57.1191 27.3279 58.0097 24.7321C58.1369 24.2377 58.6458 23.9905 59.1548 23.9905H62.9716V31.4071H59.282Z",
                            fill: "#57F287"
                        }), (0, s.jsx)("path", {
                            d: "M125.569 155.388L122.388 158.601C120.734 160.332 118.317 161.321 115.899 161.321H101.268V135.486H125.569L127.859 147.971C128.368 150.69 127.477 153.41 125.569 155.388Z",
                            fill: "#8CD9FF"
                        }), (0, s.jsx)("path", {
                            d: "M29.2561 45.6221L25.8209 49.0832C23.9125 51.0609 23.0219 53.9039 23.5308 56.6233L26.7115 74.6704H45.4142V45.6221H29.2561Z",
                            fill: "#8CD9FF"
                        }), (0, s.jsx)("path", {
                            d: "M124.551 151.061C125.568 155.635 122.515 160.208 117.68 161.197C117.044 161.321 116.281 161.445 115.645 161.321H52.7936C46.6867 161.074 41.4703 156.871 40.198 151.061L23.531 56.7471C22.5132 52.1735 25.5667 47.6 30.4014 46.6111C31.0375 46.4875 31.8009 46.3639 32.437 46.4875H95.288C101.395 46.7347 106.611 50.9374 107.884 56.7471L124.551 151.061Z",
                            fill: "#8CD9FF"
                        }), (0, s.jsx)("path", {
                            d: "M127.732 147.724C128.749 152.297 125.823 156.747 121.243 157.736C120.479 157.86 119.716 157.984 118.826 157.984H55.9745C49.8676 157.86 44.6512 153.534 43.3789 147.724L26.7119 53.5333C25.6941 48.9598 28.7476 44.3862 33.5823 43.3973C34.2184 43.2737 34.9818 43.1501 35.6179 43.2737H98.5962C104.703 43.3973 109.92 47.7237 111.065 53.5333L127.732 147.724Z",
                            fill: "white"
                        }), (0, s.jsx)("path", {
                            d: "M78.7482 52.1736C79.2571 54.893 77.4759 57.6124 74.6769 58.1068C74.2952 58.2304 73.7863 58.2304 73.4046 58.2304H66.0253C62.4629 58.1068 59.4094 55.6346 58.6461 52.1736L55.3381 33.7557C54.8292 31.0363 56.6104 28.3169 59.4094 27.8225C59.7911 27.6989 60.3 27.6989 60.6817 27.6989H68.061C71.6234 27.8225 74.6769 30.2947 75.4402 33.7557L78.7482 52.1736Z",
                            fill: "black"
                        }), (0, s.jsx)("path", {
                            d: "M115.39 139.071C115.899 142.285 113.736 145.375 110.428 145.87C109.919 145.993 109.537 145.993 109.028 145.993H62.7172C58.5186 145.87 54.829 143.027 53.9384 139.071C53.3022 135.857 55.4651 132.767 58.7731 132.149C59.282 132.025 59.7909 132.025 60.2998 132.025H106.611C110.81 132.149 114.499 134.992 115.39 139.071Z",
                            fill: "#FFC619"
                        }), (0, s.jsx)("path", {
                            d: "M71.4152 52.8176C72.7444 51.4082 72.394 48.9945 70.6325 47.4264C68.8711 45.8582 66.3656 45.7295 65.0364 47.1389C63.7072 48.5482 64.0576 50.9619 65.819 52.5301C67.5805 54.0982 70.086 54.2269 71.4152 52.8176Z",
                            fill: "#5865F2"
                        }), (0, s.jsx)("path", {
                            d: "M68.5697 30.9126C68.4425 31.1598 68.188 31.4071 67.9336 31.4071H60.8088C60.4271 31.4071 60.2998 31.1598 60.2998 31.0362C60.2998 30.9126 60.2998 30.9126 60.1726 30.9126V30.6654C60.1726 30.5418 60.1726 30.2946 60.2998 30.171C61.5721 27.0807 60.6815 25.5974 59.1548 24.4849V23.9905H64.3712C64.7529 23.9905 65.1345 23.9905 65.389 24.2377C67.9336 25.5974 70.0965 26.7099 68.5697 30.9126Z",
                            fill: "#57F287"
                        }), (0, s.jsx)("path", {
                            d: "M63.4808 19.4171H59.155C58.7734 19.4171 58.5189 19.788 58.6461 20.0352L59.2823 23.9907H64.2442L63.4808 19.4171Z",
                            fill: "black"
                        }), (0, s.jsx)("path", {
                            d: "M61.1485 21.3944C62.4818 21.3286 63.5224 20.5015 63.4728 19.547C63.4231 18.5925 62.302 17.872 60.9686 17.9378C59.6353 18.0035 58.5947 18.8306 58.6444 19.7851C58.694 20.7396 59.8152 21.4601 61.1485 21.3944Z",
                            fill: "black"
                        }), d]
                    })
                })
            }
        },
        882550: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var s = n("884691"),
                a = n("446674"),
                l = n("851387"),
                i = n("697218");

            function r(e) {
                let t = (0, a.useStateFromStores)([i.default], () => i.default.getUser(null == e ? void 0 : e.creator_id), [e]);
                return s.useEffect(() => {
                    null == t && (null == e ? void 0 : e.creator_id) != null && l.default.requestMembersById(e.guild_id, e.creator_id)
                }, [e, t]), t
            }
        },
        93550: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return l
                }
            });
            var s = n("407063"),
                a = n("49111");

            function l(e, t) {
                let n;
                if (null == e.image) return null;
                null == t && (t = window.screen.width * (0, s.getDevicePixelRatio)()), t = (0, s.getBestMediaProxySize)(t);
                let l = window.GLOBAL_ENV.CDN_HOST;
                if (null != l) {
                    var i;
                    n = "".concat((i = "https:", "https:"), "//").concat(l, "/guild-events/").concat(e.id, "/").concat(e.image)
                } else n = location.protocol + window.GLOBAL_ENV.API_ENDPOINT + a.Endpoints.GUILD_EVENT_IMAGE(e.id, e.image, "png");
                return n += "?size=".concat(t)
            }
        },
        477558: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return h
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("446674"),
                i = n("233322"),
                r = n("157186"),
                u = n("716214"),
                o = n("42203"),
                d = n("26989"),
                c = n("305961"),
                f = n("697218"),
                E = n("933326"),
                _ = n("398604"),
                I = n("322224"),
                m = n("914169"),
                p = n("843455");

            function h(e) {
                let {
                    code: t
                } = e, [n, h, T] = t.split("-"), {
                    guildScheduledEvent: g,
                    guild: S,
                    channel: A,
                    isMember: N
                } = (0, l.useStateFromStoresObject)([_.default, c.default, o.default, d.default, f.default], () => {
                    var e, t;
                    let s = null !== (t = _.default.getGuildScheduledEvent(h)) && void 0 !== t ? t : void 0,
                        a = c.default.getGuild(n),
                        l = o.default.getChannel(null == s ? void 0 : s.channel_id),
                        i = d.default.isMember(n, null === (e = f.default.getCurrentUser()) || void 0 === e ? void 0 : e.id);
                    return {
                        guildScheduledEvent: s,
                        guild: a,
                        channel: l,
                        isMember: i
                    }
                }, [n, h]);
                return a.useEffect(() => {
                    E.default.getGuildEventUserCounts(n), E.default.getGuildEventsForCurrentUser(n)
                }, [n]), (0, s.jsx)(m.default, {
                    guild: S,
                    channel: A,
                    guildScheduledEvent: g,
                    isMember: N,
                    onAcceptInstantInvite: p.NOOP,
                    onTransitionToInviteChannel: function() {
                        if ((0, r.shouldShowMembershipVerificationGate)(n)) {
                            (0, i.openMemberVerificationModal)(n);
                            return
                        }(null == A ? void 0 : A.isGuildStageVoice()) ? (0, u.connectAndOpen)(A) : (null == A ? void 0 : A.isGuildVoice()) && I.default.joinVoiceEvent(A.guild_id, A.id)
                    },
                    recurrenceId: T
                })
            }
        },
        914169: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                createEventLocationClickHandler: function() {
                    return y
                },
                default: function() {
                    return B
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("414456"),
                i = n.n(l),
                r = n("446674"),
                u = n("77078"),
                o = n("970728"),
                d = n("987317"),
                c = n("716214"),
                f = n("813006"),
                E = n("42203"),
                _ = n("305961"),
                I = n("580357"),
                m = n("174622"),
                p = n("660279"),
                h = n("36694"),
                T = n("374021"),
                g = n("398604"),
                S = n("322224"),
                A = n("1339"),
                N = n("882550"),
                C = n("93550"),
                M = n("255050"),
                O = n("400271"),
                R = n("931874"),
                v = n("745049"),
                L = n("782340"),
                P = n("336179");
            let x = (e, t) => n => {
                    n.stopPropagation(), d.default.selectVoiceChannel(e.channel_id, !1), null == t || t(n)
                },
                D = (e, t) => n => {
                    let s = E.default.getChannel(e.channel_id);
                    if (null != s) n.stopPropagation(), (0, c.connectAndOpen)(s), null == t || t(n)
                },
                y = (e, t) => {
                    switch (null == e ? void 0 : e.entity_type) {
                        case v.GuildScheduledEventEntityTypes.STAGE_INSTANCE:
                            return D(e, t);
                        case v.GuildScheduledEventEntityTypes.VOICE:
                            return x(e, t)
                    }
                    return () => {}
                },
                U = (e, t) => t && [v.GuildScheduledEventEntityTypes.STAGE_INSTANCE, v.GuildScheduledEventEntityTypes.VOICE].includes(null == e ? void 0 : e.entity_type),
                b = a.memo(function(e) {
                    var t;
                    let {
                        guild: n,
                        guildScheduledEvent: l,
                        channel: i,
                        isMember: d
                    } = e, c = (0, r.useStateFromStores)([_.default], () => {
                        var e;
                        return null == n ? null : null !== (e = _.default.getGuild(n.id)) && void 0 !== e ? e : new f.default(n)
                    }, [n]), E = (0, R.getLocationDataForEvent)(l, i), p = a.useCallback(e => {
                        d && null != l && (e.stopPropagation(), (0, o.transitionToGuildFromEventInvite)(l))
                    }, [d, l]), h = a.useCallback(e => {
                        y(l)(e)
                    }, [l]);
                    if (null == c) return null;
                    let T = null == E ? void 0 : E.IconComponent,
                        g = (0, s.jsxs)(s.Fragment, {
                            children: [null != T && (0, s.jsx)(T, {
                                width: 16,
                                height: 16,
                                className: P.channelIcon
                            }), (0, s.jsx)(u.Text, {
                                className: P.channelDescription,
                                variant: "text-xs/normal",
                                children: (0, A.guildEventDetailsParser)(null !== (t = null == E ? void 0 : E.locationName) && void 0 !== t ? t : "", !0)
                            })]
                        });
                    return (0, s.jsxs)("div", {
                        className: P.inviteDetailsContainer,
                        children: [(0, s.jsx)(m.default.Icon, {
                            guild: c,
                            onClick: p
                        }), (0, s.jsxs)("div", {
                            className: P.verticalContainer,
                            children: [(0, s.jsxs)("div", {
                                className: P.guildChannelInfoContainer,
                                children: [(0, s.jsx)(I.default, {
                                    guild: c,
                                    tooltipPosition: "top",
                                    tooltipColor: u.Tooltip.Colors.PRIMARY,
                                    size: 16,
                                    className: P.guildBadge
                                }), (0, s.jsx)(u.Clickable, {
                                    className: P.guildNameClickable,
                                    onClick: p,
                                    children: (0, s.jsx)(u.Heading, {
                                        className: d ? P.guildNameLinkable : P.guildName,
                                        variant: "text-sm/medium",
                                        children: c.name
                                    })
                                })]
                            }), (0, s.jsx)("div", {
                                className: P.channelInfoContainer,
                                children: U(l, d) ? (0, s.jsx)(u.Clickable, {
                                    className: P.channelLocationLink,
                                    onClick: h,
                                    children: g
                                }) : g
                            })]
                        })]
                    })
                }),
                j = a.memo(function(e) {
                    let {
                        guildId: t,
                        guildScheduledEventId: n,
                        isActive: a,
                        isEnded: l,
                        isMember: i,
                        isExternal: o,
                        onAcceptInstantInvite: d,
                        onTransitionToInviteChannel: c
                    } = e, f = (0, r.useStateFromStores)([g.default], () => g.default.hasRsvp(n, t), [t, n]), E = e => {
                        e.stopPropagation(), i ? a && c() : d()
                    };
                    return i ? a ? (0, s.jsx)(u.Button, {
                        className: P.button,
                        size: u.Button.Sizes.SMALL,
                        onClick: e => {
                            !o && E(e)
                        },
                        color: o ? u.Button.Colors.TRANSPARENT : u.Button.Colors.GREEN,
                        children: o ? L.default.Messages.GUILD_SCHEDULED_EVENT_VIEW_DETAIL : L.default.Messages.JOIN_GUILD
                    }) : l ? (0, s.jsx)(u.Button, {
                        className: P.button,
                        size: u.Button.Sizes.SMALL,
                        disabled: !0,
                        color: u.Button.Colors.PRIMARY,
                        look: u.Button.Looks.OUTLINED,
                        children: L.default.Messages.GUILD_EVENT_INVITE_COMPLETED
                    }) : (0, s.jsxs)(u.Button, {
                        className: P.button,
                        innerClassName: P.innerButton,
                        size: u.Button.Sizes.SMALL,
                        color: u.Button.Colors.PRIMARY,
                        look: f ? u.Button.Looks.OUTLINED : u.Button.Looks.FILLED,
                        onClick: e => {
                            e.stopPropagation(), f ? S.default.deleteRsvpForGuildEvent(n, t) : S.default.createRsvpForGuildEvent(n, t)
                        },
                        children: [f ? (0, s.jsx)(h.default, {
                            width: 16,
                            height: 16,
                            className: P.buttonIcon
                        }) : (0, s.jsx)(p.default, {
                            width: 16,
                            height: 16,
                            className: P.buttonIcon
                        }), L.default.Messages.INDICATE_RSVP]
                    }) : (0, s.jsx)(u.Button, {
                        className: P.button,
                        size: u.Button.Sizes.SMALL,
                        onClick: E,
                        color: u.Button.Colors.GREEN,
                        children: L.default.Messages.JOIN_GUILD
                    })
                }),
                G = a.memo(function(e) {
                    var t;
                    let {
                        guildScheduledEvent: n,
                        guild: l,
                        channel: r,
                        isMember: o,
                        recurrenceId: d,
                        onAcceptInstantInvite: c,
                        onTransitionToInviteChannel: f
                    } = e, E = (0, N.default)(n), _ = a.useCallback(() => {
                        o && null != n && (0, T.openGuildEventDetails)({
                            eventId: n.id,
                            recurrenceId: d
                        })
                    }, [o, n, d]);
                    if (null == n) return null;
                    let I = (0, g.isGuildScheduledEventActive)(n),
                        p = (0, g.isGuildEventEnded)(n),
                        h = n.entity_type === v.GuildScheduledEventEntityTypes.EXTERNAL;
                    return (0, s.jsx)(m.default, {
                        className: i({
                            [P.clickable]: o
                        }),
                        children: (0, s.jsxs)(u.Clickable, {
                            onClick: _,
                            children: [null != n.image && (0, s.jsx)(M.default, {
                                source: (0, C.default)(n),
                                className: P.banner
                            }), (0, s.jsx)(O.default, {
                                name: n.name,
                                description: null !== (t = n.description) && void 0 !== t ? t : void 0,
                                descriptionClassName: P.eventDescription,
                                guildId: n.guild_id,
                                creator: E,
                                guildEventId: n.id,
                                eventPreview: n,
                                recurrenceId: d
                            }), (0, s.jsxs)("div", {
                                className: P.footerContainer,
                                children: [(0, s.jsx)(b, {
                                    guild: l,
                                    channel: r,
                                    guildScheduledEvent: n,
                                    isMember: o
                                }), (0, s.jsx)(j, {
                                    isActive: I,
                                    isEnded: p,
                                    isMember: o,
                                    guildId: n.guild_id,
                                    guildScheduledEventId: n.id,
                                    onAcceptInstantInvite: c,
                                    onTransitionToInviteChannel: f,
                                    isExternal: h
                                })]
                            })]
                        })
                    })
                });
            var B = G
        },
        931874: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                getLocationDataForEvent: function() {
                    return i
                }
            });
            var s = n("419830"),
                a = n("718550"),
                l = n("841363");

            function i(e, t) {
                let n, i;
                if (null == e) return null;
                let r = (0, l.getLocationFromEvent)(e);
                if (null != r) n = a.default, i = r;
                else {
                    if (null == t) return null;
                    n = (0, s.getSimpleChannelIconComponent)(t.type), i = t.name
                }
                return {
                    IconComponent: n,
                    locationName: i
                }
            }
        },
        812224: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("446674"),
                l = n("77078"),
                i = n("174622"),
                r = n("478895"),
                u = n("569808"),
                o = n("579033"),
                d = n("782340"),
                c = n("349934"),
                f = n("18978");

            function E(e) {
                var t;
                let {
                    code: E
                } = e, _ = (0, a.useStateFromStores)([u.default], () => u.default.getGuildTemplate(E));
                if (null == _ || _.state === o.GuildTemplateStates.RESOLVING) return (0, s.jsxs)(i.default, {
                    children: [(0, s.jsx)(i.default.Header, {
                        text: d.default.Messages.GUILD_TEMPLATE_RESOLVING_TITLE
                    }), (0, s.jsx)(i.default.Body, {
                        resolving: !0
                    })]
                });
                if (_.state === o.GuildTemplateStates.EXPIRED) return (0, s.jsxs)(i.default, {
                    children: [(0, s.jsx)(i.default.Header, {
                        text: d.default.Messages.GUILD_TEMPLATE_INVALID_TITLE
                    }), (0, s.jsxs)(i.default.Body, {
                        children: [(0, s.jsx)(i.default.Icon, {
                            expired: !0
                        }), (0, s.jsx)(i.default.Info, {
                            expired: !0,
                            title: d.default.Messages.GUILD_TEMPLATE_INVALID_SUBTITLE
                        })]
                    })]
                });
                let I = __OVERLAY__ ? (0, s.jsx)(i.default.Button, {
                    isDisabled: !0,
                    color: i.default.Button.Colors.PRIMARY,
                    children: d.default.Messages.GUILD_TEMPLATE_EMBED_VIEW_IN_APP
                }) : (0, s.jsx)(i.default.Button, {
                    onClick: () => {
                        (0, l.openModalLazy)(async () => {
                            let {
                                default: e
                            } = await n.el("843456").then(n.bind(n, "843456"));
                            return t => (0, s.jsx)(e, {
                                ...t,
                                guildTemplate: _
                            })
                        })
                    },
                    submitting: _.state === o.GuildTemplateStates.ACCEPTING,
                    color: i.default.Button.Colors.GREEN,
                    children: d.default.Messages.GUILD_TEMPLATE_OPEN
                });
                return (0, s.jsxs)(i.default, {
                    children: [(0, s.jsx)(i.default.Header, {
                        text: d.default.Messages.GUILD_TEMPLATE_RESOLVED_EMBED_TITLE
                    }), (0, s.jsxs)(i.default.Body, {
                        children: [(0, s.jsxs)("div", {
                            className: f.headerLine,
                            children: [(0, s.jsx)(r.default, {
                                className: c.icon
                            }), (0, s.jsx)(i.default.Info, {
                                title: _.name,
                                children: d.default.Messages.GUILD_TEMPLATE_USAGES.format({
                                    usageCount: String(null !== (t = _.usageCount) && void 0 !== t ? t : 0)
                                })
                            })]
                        }), I]
                    })]
                })
            }
        },
        639440: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                dismissMediaPostSharePrompt: function() {
                    return r
                },
                fetchMediaPostEmbed: function() {
                    return u
                },
                unfurlEmbedUrl: function() {
                    return o
                }
            });
            var s = n("872717"),
                a = n("913144"),
                l = n("448993"),
                i = n("49111");

            function r(e) {
                a.default.dispatch({
                    type: "DISMISS_MEDIA_POST_SHARE_PROMPT",
                    threadId: e
                })
            }
            async function u(e) {
                a.default.dispatch({
                    type: "MEDIA_POST_EMBED_FETCH",
                    threadId: e
                });
                try {
                    let t = await s.default.get({
                            url: i.Endpoints.MEDIA_POST_RESHARE_GET_PREVIEW(e)
                        }),
                        n = t.body;
                    a.default.dispatch({
                        type: "MEDIA_POST_EMBED_FETCH_SUCCESS",
                        threadId: e,
                        mediaPostEmbed: n
                    })
                } catch (t) {
                    a.default.dispatch({
                        type: "MEDIA_POST_EMBED_FETCH_FAILURE",
                        threadId: e
                    })
                }
            }
            async function o(e) {
                try {
                    let t = await s.default.post({
                        url: i.Endpoints.UNFURL_EMBED_URLS,
                        body: {
                            urls: e
                        }
                    });
                    return t.body
                } catch (e) {
                    throw new l.APIError(e)
                }
            }
        },
        690563: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useGuildEligibleForMediaChannels: function() {
                    return l
                },
                useEligibleForGuildMediaChannelPostPreviewEmbed: function() {
                    return r
                }
            });
            var s = n("862205");
            let a = (0, s.createExperiment)({
                kind: "guild",
                id: "2023-03_guild_media_channel",
                label: "Media Channel",
                defaultConfig: {
                    enabled: !1
                },
                treatments: [{
                    id: 1,
                    label: "Enables guild to create a media channel",
                    config: {
                        enabled: !0
                    }
                }]
            });

            function l(e) {
                var t;
                let {
                    enabled: n
                } = a.useExperiment({
                    guildId: null !== (t = null == e ? void 0 : e.id) && void 0 !== t ? t : "",
                    location: "96e84c_1"
                }, {
                    autoTrackExposure: !0
                });
                return (null == e ? void 0 : e.id) != null && n
            }
            let i = (0, s.createExperiment)({
                kind: "user",
                id: "2023-04_guild_media_channel_post_preview_embed_users",
                label: "Guild Role Subscription Users",
                defaultConfig: {
                    enabledForUser: !1
                },
                treatments: [{
                    id: 1,
                    label: "Enables for users Guild Media Post Preview Embeds",
                    config: {
                        enabledForUser: !0
                    }
                }]
            });

            function r() {
                let {
                    enabledForUser: e
                } = i.useExperiment({
                    location: "96e84c_2"
                }, {
                    autoTrackExposure: !0
                });
                return e
            }
        },
        921387: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                FetchState: function() {
                    return a
                },
                default: function() {
                    return d
                }
            });
            var s, a, l = n("35092"),
                i = n("913144");
            (s = a || (a = {}))[s.NOT_FETCHED = 0] = "NOT_FETCHED", s[s.FETCHING = 1] = "FETCHING", s[s.FETCHED = 2] = "FETCHED", s[s.FAILED = 3] = "FAILED";
            let r = {},
                u = {};
            class o extends l.default.Store {
                getMediaPostEmbed(e) {
                    if (null != e) return r[e]
                }
                getEmbedFetchState(e) {
                    var t;
                    return null !== (t = u[e]) && void 0 !== t ? t : a.NOT_FETCHED
                }
                getMediaPostEmbeds() {
                    return r
                }
            }
            o.displayName = "MediaPostEmbedStore";
            var d = new o(i.default, {
                CONNECTION_OPEN: function() {
                    r = {}, u = {}
                },
                MEDIA_POST_EMBED_FETCH: function(e) {
                    let {
                        threadId: t
                    } = e;
                    u[t] = a.FETCHING
                },
                MEDIA_POST_EMBED_FETCH_SUCCESS: function(e) {
                    let {
                        threadId: t,
                        mediaPostEmbed: n
                    } = e;
                    r = {
                        ...r,
                        [t]: n
                    }, u[t] = a.FETCHED
                },
                MEDIA_POST_EMBED_FETCH_FAILURE: function(e) {
                    let {
                        threadId: t
                    } = e;
                    u[t] = a.FAILED
                },
                LOGOUT: function(e) {
                    !e.isSwitchingAccount && (r = {}, u = {})
                }
            })
        },
        467475: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var s = n("65597"),
                a = n("42203"),
                l = n("724210");

            function i(e) {
                let t = (0, s.default)([a.default], () => {
                    let t = a.default.getChannel(e);
                    return (null == t ? void 0 : t.parent_id) != null && t.isForumPost() ? a.default.getChannel(null == t ? void 0 : t.parent_id) : null
                });
                return (null == t ? void 0 : t.hasFlag(l.ChannelFlags.HIDE_MEDIA_DOWNLOAD_OPTIONS)) === !0
            }
        },
        781083: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return l
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("75196");

            function l(e) {
                let {
                    width: t = 14,
                    height: n = 18,
                    color: l = "currentColor",
                    ...i
                } = e;
                return (0, s.jsx)("svg", {
                    ...(0, a.default)(i),
                    width: t,
                    height: n,
                    viewBox: "0 0 10 14",
                    fill: "none",
                    children: (0, s.jsx)("path", {
                        d: "M8.33325 6.33301V3.66634C8.33325 1.82834 6.83725 0.333008 4.99992 0.333008C3.16125 0.333008 1.66659 1.82834 1.66659 3.66634V6.33301C0.931252 6.33301 0.333252 6.93034 0.333252 7.66634V12.333C0.333252 13.0683 0.931252 13.6663 1.66659 13.6663H8.33325C9.06859 13.6663 9.66659 13.0683 9.66659 12.333V7.66634C9.66659 6.93034 9.06859 6.33301 8.33325 6.33301ZM4.99992 10.9997C4.44792 10.9997 3.99992 10.5517 3.99992 9.99967C3.99992 9.44767 4.44792 8.99967 4.99992 8.99967C5.55192 8.99967 5.99992 9.44767 5.99992 9.99967C5.99992 10.5517 5.55192 10.9997 4.99992 10.9997ZM6.99992 6.33301H2.99992V3.66634C2.99992 2.56367 3.89725 1.66634 4.99992 1.66634C6.10259 1.66634 6.99992 2.56367 6.99992 3.66634V6.33301Z",
                        fill: l
                    })
                })
            }
        },
        801177: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return B
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("414456"),
                i = n.n(l),
                r = n("627445"),
                u = n.n(r),
                o = n("748820"),
                d = n("171210"),
                c = n("65597"),
                f = n("77078"),
                E = n("206230"),
                _ = n("716241"),
                I = n("606292"),
                m = n("955735"),
                p = n("537325"),
                h = n("651693"),
                T = n("380986"),
                g = n("969706"),
                S = n("506885"),
                A = n("981601"),
                N = n("845579"),
                C = n("26989"),
                M = n("697218"),
                O = n("181114"),
                R = n("752531"),
                v = n("315102"),
                L = n("794818"),
                P = n("866190"),
                x = n("781083"),
                D = n("159938"),
                y = n("49111"),
                U = n("894488"),
                b = n("782340"),
                j = n("177785"),
                G = n("760238");

            function B(e) {
                var t, n, l;
                let {
                    embedUrl: r,
                    message: B,
                    channel: k
                } = e, F = (0, D.useMediaPostEmbedData)(r, B), {
                    setPopout: w
                } = (0, g.default)(B.id, U.DEFAULT_POPOUTS), H = (0, T.useContextMenuMessage)(B, k, w, !0), V = N.GifAutoPlay.useSetting(), Y = (0, P.useIsWindowFocused)(), [K, W] = a.useState(!1), [z, J] = a.useState((null == F ? void 0 : F.coverImage) == null), X = (0, c.default)([E.default], () => E.default.useReducedMotion), Z = (0, c.default)([C.default, M.default], () => {
                    var e;
                    return C.default.isMember(null == F ? void 0 : F.guildId, null === (e = M.default.getCurrentUser()) || void 0 === e ? void 0 : e.id)
                }, [F]), q = (0, c.default)([C.default], () => {
                    var e, t;
                    return (null == F ? void 0 : F.authorId) == null ? "inherit" : null !== (t = null === (e = C.default.getMember(F.guildId, F.authorId)) || void 0 === e ? void 0 : e.colorString) && void 0 !== t ? t : "inherit"
                }), {
                    reducedMotion: Q
                } = a.useContext(f.AccessibilityPreferencesContext), [$, ee] = a.useState(!1), et = a.useCallback(() => {
                    W(!0)
                }, [W]), en = a.useCallback(() => {
                    W(!1)
                }, [W]), es = a.useCallback(async () => {
                    null != F && ((0, _.trackWithMetadata)(y.AnalyticEvents.MEDIA_POST_PREVIEW_EMBED_CLICKED, {
                        media_post_id: F.threadId,
                        channel_id: k.id,
                        can_access: F.canAccess,
                        is_member: Z
                    }), F.canAccess ? (0, p.default)(y.Routes.CHANNEL(F.guildId, F.threadId, F.messageId)) : Z ? (0, p.default)(y.Routes.CHANNEL(F.guildId, F.parentChannelId)) : await L.startLurking(F.guildId, {}, {
                        channelId: F.parentChannelId
                    }))
                }, [F, k, Z]), ea = a.useCallback(() => (u((null == F ? void 0 : F.authorId) != null, "Author Id cannot be null when loading user profile"), (0, S.default)(F.authorId, F.avatarUrl, {
                    guildId: F.guildId,
                    channelId: k.id
                })), [F, k]);
                if (null == F) return null;
                let el = e => (u(null != F.authorId, "Author Id cannot be null when rendering user popout"), (0, s.jsx)(A.default, {
                        ...e,
                        userId: F.authorId,
                        guildId: F.guildId,
                        channelId: k.id
                    })),
                    ei = (0, v.getAvatarDecorationURL)({
                        avatarDecoration: null === (t = F.user) || void 0 === t ? void 0 : t.avatarDecoration,
                        size: (0, I.getDecorationSizeForAvatarSize)(f.AvatarSizes.SIZE_40),
                        canAnimate: $
                    }),
                    er = null === (n = F.user) || void 0 === n ? void 0 : n.getAvatarURL(F.guildId, 40, $),
                    eu = () => {
                        !Q.enabled && ee(e => !e)
                    },
                    eo = F.coverImage,
                    ed = null != eo && (0, h.isAnimatedImageUrl)(eo);
                return (0, s.jsxs)("div", {
                    className: j.postPreviewContainer,
                    children: [(0, s.jsxs)("div", {
                        className: j.thumbnailContainer,
                        onMouseEnter: et,
                        onMouseLeave: en,
                        children: [!z && (!0 === F.shouldShowBlurredThumbnailImage ? (0, s.jsx)("img", {
                            src: G,
                            alt: b.default.Messages.MEDIA_POST_EMBED_THUMBNAIL_ALT,
                            className: i(j.thumbnail, {
                                [j.spoiler]: F.shouldSpoiler
                            }),
                            onContextMenu: H,
                            onError: () => J(!0)
                        }) : (0, s.jsx)(m.default, {
                            src: !(Y && (V || K)) && ed ? "".concat(eo, "?format=png") : eo,
                            backgroundSrc: "".concat(eo, "?format=png"),
                            alt: b.default.Messages.MEDIA_POST_EMBED_THUMBNAIL_ALT,
                            aspectRatio: 16 / 9,
                            className: i(j.thumbnail, {
                                [j.spoiler]: F.shouldSpoiler
                            }),
                            imageChildClassName: j.thumbnailImage,
                            onContextMenu: H,
                            onError: () => J(!0)
                        })), null != F.coverImageOverlayText && (0, s.jsx)(f.Clickable, {
                            onClick: es,
                            children: (0, s.jsx)("div", {
                                className: j.thumbnailOverlay,
                                children: (0, s.jsxs)("div", {
                                    className: j.thumbnailOverlayCta,
                                    children: [(0, s.jsx)(x.default, {
                                        color: d.default.WHITE
                                    }), (0, s.jsx)(f.Text, {
                                        variant: "text-sm/semibold",
                                        color: "always-white",
                                        children: F.coverImageOverlayText
                                    })]
                                })
                            })
                        })]
                    }), (0, s.jsxs)("div", {
                        className: j.descriptionContainer,
                        children: [(0, s.jsxs)("div", {
                            className: j.descriptionHeader,
                            children: [(0, s.jsx)(f.Text, {
                                variant: "text-md/semibold",
                                color: "text-normal",
                                className: j.descriptionHeaderText,
                                children: F.title
                            }), (0, s.jsx)(f.Text, {
                                variant: "text-sm/normal",
                                color: "text-muted",
                                className: i(j.descriptionHeaderText, j.descriptionSubtitle),
                                children: F.subtitle
                            })]
                        }), (0, s.jsxs)("div", {
                            className: j.descriptionFooter,
                            children: [null != er && (0, s.jsx)(f.Popout, {
                                renderPopout: el,
                                position: "right",
                                spacing: 12,
                                preload: null == F.authorId ? void 0 : ea,
                                children: e => (0, s.jsx)("div", {
                                    onMouseEnter: eu,
                                    onMouseLeave: eu,
                                    children: (0, s.jsx)(f.Avatar, {
                                        ...e,
                                        size: f.AvatarSizes.SIZE_40,
                                        src: er,
                                        "aria-label": b.default.Messages.MEDIA_POST_EMBED_AUTHOR_AVATAR_ALT,
                                        avatarDecoration: ei
                                    })
                                })
                            }), (0, s.jsxs)("div", {
                                className: j.descriptionFooterContainer,
                                children: [(0, s.jsxs)("div", {
                                    className: j.descriptionFooterChannelName,
                                    children: [null != F.channelName && (0, s.jsx)(R.default, {
                                        className: j.mediaChannelIcon
                                    }), (0, s.jsx)(f.Clickable, {
                                        onClick: es,
                                        className: j.channelName,
                                        children: (0, s.jsx)(f.Heading, {
                                            variant: "heading-md/semibold",
                                            color: "header-primary",
                                            children: null !== (l = F.channelName) && void 0 !== l ? l : F.guildName
                                        })
                                    })]
                                }), null != F.authorName && (0, s.jsx)(f.Text, {
                                    variant: "text-sm/medium",
                                    color: "text-muted",
                                    className: j.descriptionFooterAuthorContainer,
                                    children: b.default.Messages.MEDIA_POST_EMBED_FOOTER_WEB.format({
                                        authorName: F.authorName,
                                        authorNameHook: () => (0, s.jsx)(f.Popout, {
                                            renderPopout: el,
                                            position: "right",
                                            preload: null == F.authorId ? void 0 : ea,
                                            children: e => (0, s.jsx)(f.NameWithRoleAnchor, {
                                                ...e,
                                                name: F.authorName,
                                                color: q,
                                                className: j.authorName
                                            })
                                        }, (0, o.v4)())
                                    })
                                })]
                            }), F.canAccess ? (0, s.jsx)(f.Button, {
                                color: f.ButtonColors.BRAND,
                                onClick: es,
                                children: (0, s.jsx)(f.Text, {
                                    variant: "text-sm/medium",
                                    color: "always-white",
                                    children: F.ctaText
                                })
                            }) : (0, s.jsx)(O.default, {
                                pauseAnimation: X,
                                onClick: es,
                                className: i(j.ctaButtonContent, j.subscribeButton),
                                color: f.Button.Colors.CUSTOM,
                                children: (0, s.jsx)(f.Text, {
                                    variant: "text-sm/medium",
                                    color: "always-white",
                                    children: F.ctaText
                                })
                            })]
                        })]
                    })]
                })
            }
        },
        159938: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useMediaPostEmbedData: function() {
                    return h
                }
            });
            var s = n("884691"),
                a = n("65597"),
                l = n("203288"),
                i = n("361572"),
                r = n("271938"),
                u = n("42203"),
                o = n("26989"),
                d = n("305961"),
                c = n("162771"),
                f = n("697218"),
                E = n("639440"),
                _ = n("690563"),
                I = n("921387"),
                m = n("711326"),
                p = n("49111");

            function h(e, t) {
                let n = (0, _.useEligibleForGuildMediaChannelPostPreviewEmbed)(),
                    h = (0, m.getMediaPostEmbedChannelPath)(e),
                    T = (0, a.default)([o.default, r.default], () => {
                        let e = r.default.getId();
                        return o.default.isMember(null == h ? void 0 : h.guildId, e)
                    }, [h]),
                    g = (0, a.default)([l.default], () => null != h && (null == h ? void 0 : h.channelId) != null && l.default.isChannelGated(h.guildId, h.channelId), [h]),
                    S = t.hasFlag(p.MessageFlags.IS_CROSSPOST),
                    {
                        rawMediaPostEmbedData: A,
                        guild: N,
                        parentChannel: C,
                        user: M,
                        selectedGuildId: O,
                        canAccess: R
                    } = (0, a.useStateFromStoresObject)([I.default, d.default, u.default, f.default, c.default], () => {
                        var e;
                        let t = null === (e = I.default.getMediaPostEmbed(null == h ? void 0 : h.threadId)) || void 0 === e ? void 0 : e.media,
                            n = d.default.getGuild(null == h ? void 0 : h.guildId),
                            s = u.default.getChannel(null == h ? void 0 : h.channelId),
                            a = f.default.getUser(null == t ? void 0 : t.author_id),
                            l = c.default.getGuildId(),
                            r = null != s && (0, i.canViewChannel)(s);
                        return {
                            rawMediaPostEmbedData: t,
                            guild: n,
                            parentChannel: s,
                            user: a,
                            selectedGuildId: l,
                            canAccess: r
                        }
                    }, [h]),
                    v = s.useMemo(() => {
                        let e = (0, m.getMediaPostEmbedCommonData)({
                            mediaPostEmbedData: A,
                            guild: N,
                            parentChannel: C,
                            user: M,
                            selectedGuildId: O,
                            canAccess: R
                        });
                        return null == e ? null : {
                            ...e,
                            user: M
                        }
                    }, [A, N, C, M, O, R]);
                return s.useEffect(() => {
                    if ((null == h ? void 0 : h.threadId) != null) {
                        let e = I.default.getEmbedFetchState(h.threadId);
                        if (!0 === n && e === I.FetchState.NOT_FETCHED && (!T || !1 !== g) && (!!T || !S))(0, E.fetchMediaPostEmbed)(null == h ? void 0 : h.threadId)
                    }
                }, [h, n, T, g, S]), v
            }
        },
        327467: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                startMediaViewerSession: function() {
                    return u
                },
                endMediaViewerSession: function() {
                    return o
                },
                incrementSelectedItemChanges: function() {
                    return d
                }
            });
            var s = n("308503"),
                a = n("599110"),
                l = n("49111");
            let i = {
                    guildId: void 0,
                    channelId: void 0,
                    channelType: void 0,
                    viewerSwipes: 0,
                    thumbnailSwipes: 0,
                    selectedItemChanges: 0,
                    numMediaItems: 0
                },
                r = (0, s.default)(() => i);

            function u(e, t, n, s) {
                r.setState({
                    ...i,
                    guildId: e,
                    channelId: t,
                    channelType: n,
                    numMediaItems: s
                })
            }

            function o() {
                let e = r.getState();
                a.default.track(l.AnalyticEvents.MEDIA_VIEWER_SESSION_COMPLETED, {
                    guild_id: e.guildId,
                    channel_id: e.channelId,
                    channel_type: e.channelType,
                    number_viewer_swipes: e.viewerSwipes,
                    number_thumbnail_swipes: e.thumbnailSwipes,
                    number_selected_item_changes: e.selectedItemChanges,
                    number_media_items: e.numMediaItems
                }), r.setState({
                    ...i
                })
            }

            function d() {
                r.setState(e => ({
                    selectedItemChanges: e.selectedItemChanges + 1
                }))
            }
        },
        333363: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return l
                }
            });
            var s = n("862205");
            let a = (0, s.createExperiment)({
                kind: "user",
                id: "2023-07_announcement_views",
                label: "Announcement Views",
                defaultConfig: {
                    enabled: !1
                },
                treatments: [{
                    id: 1,
                    label: "Enabled",
                    config: {
                        enabled: !0
                    }
                }]
            });
            var l = a
        },
        865446: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                shouldShowNitroUpsell: function() {
                    return l
                }
            });
            var s = n("862205");
            let a = (0, s.createExperiment)({
                kind: "user",
                id: "2023-10_social_proofing_file_size",
                label: "Social Proofing File Size",
                defaultConfig: {
                    enabled: !1
                },
                treatments: [{
                    id: 1,
                    label: "Should show nitro upsell for large files",
                    config: {
                        enabled: !0
                    }
                }]
            });

            function l(e) {
                let t = a.getCurrentConfig({
                    location: e
                });
                return t.enabled
            }
        },
        605953: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                getHeaderTextForInvite: function() {
                    return a
                }
            });
            var s = n("782340");

            function a(e) {
                let {
                    isVoiceChannel: t,
                    isHubGuild: n,
                    isOwnInvite: a,
                    isGuest: l,
                    isStage: i,
                    isStream: r
                } = e;
                if (t) {
                    if (a) {
                        if (r) return s.default.Messages.INVITE_BUTTON_TITLE_INVITER_STREAM;
                        if (i) return s.default.Messages.INVITE_BUTTON_TITLE_INVITER_STAGE_CHANNEL;
                        else if (l) return s.default.Messages.GUEST_INVITE_EMBED_TITLE_SENDER;
                        else return s.default.Messages.INVITE_BUTTON_TITLE_INVITER_VOICE_CHANNEL
                    }
                    if (r) return s.default.Messages.INVITE_BUTTON_TITLE_INVITED_STREAM;
                    if (i) return s.default.Messages.INVITE_BUTTON_TITLE_INVITED_STAGE_CHANNEL;
                    else if (l) return s.default.Messages.GUEST_INVITE_EMBED_TITLE_RECEIVER;
                    else return s.default.Messages.INVITE_BUTTON_TITLE_INVITED_VOICE_CHANNEL
                }
                return n ? a ? s.default.Messages.INVITE_BUTTON_TITLE_INVITER_HUB : s.default.Messages.INVITE_BUTTON_TITLE_INVITED_HUB : a ? s.default.Messages.INVITE_BUTTON_TITLE_INVITER : s.default.Messages.INVITE_BUTTON_TITLE_INVITED
            }
        },
        243375: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var s = n("872717"),
                a = n("794818"),
                l = n("49111"),
                i = e => s.default.get({
                    url: l.Endpoints.STICKER_GUILD_DATA(e),
                    oldFormErrors: !0
                }).then(e => (null == e ? void 0 : e.body) != null ? (0, a.makeDiscoverableGuild)(e.body) : null).catch(() => null)
        },
        383667: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return a
                }
            });
            var s = n("49111");

            function a(e, t) {
                return e.type === s.MessageTypes.GUILD_INVITE_REMINDER && !t
            }
        },
        456936: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var s = n("872717"),
                a = n("755624"),
                l = n("263024"),
                i = n("42203"),
                r = n("377253"),
                u = n("660478"),
                o = n("697218"),
                d = n("299039"),
                c = n("49111");
            async function f(e, t) {
                let n = o.default.getCurrentUser();
                if (null == n) return;
                let f = r.default.getMessages(e),
                    E = f.toArray().filter(e => 0 > d.default.compare(e.id, t)).sort((e, t) => d.default.compare(e.id, t.id)).reverse()[0],
                    _ = null == E ? d.default.atPreviousMillisecond(t) : E.id,
                    I = 0;
                f.forAll(e => {
                    d.default.compare(e.id, _) > 0 && (0, u.shouldBadgeMessage)(e, n) && I++
                });
                let m = i.default.getChannel(e);
                null != m && m.isThread() && (m.isArchivedThread() && await l.default.unarchiveThread(m, !1), !a.default.hasJoined(e) && await l.default.joinThread(m, "Mark Unread")), s.default.post({
                    url: c.Endpoints.MESSAGE_ACK(e, _),
                    body: {
                        manual: !0,
                        mention_count: I
                    },
                    oldFormErrors: !0
                })
            }
        },
        836943: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                ButtonAddReaction: function() {
                    return x
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("414456"),
                i = n.n(l),
                r = n("483366"),
                u = n.n(r),
                o = n("130969"),
                d = n("77078"),
                c = n("765969"),
                f = n("557562"),
                E = n("62587"),
                _ = n("85589"),
                I = n("166257"),
                m = n("432173"),
                p = n("219013"),
                h = n("697218"),
                T = n("79945"),
                g = n("790950"),
                S = n("568734"),
                A = n("719923"),
                N = n("590527"),
                C = n("875978"),
                M = n("255135"),
                O = n("49111"),
                R = n("646718"),
                v = n("782340"),
                L = n("550244"),
                P = n("314934");
            class x extends a.Component {
                render() {
                    let {
                        type: e,
                        message: t,
                        className: n,
                        children: a,
                        useChatFontScaling: l
                    } = this.props, {
                        isReactionPickerActive: r
                    } = this.state, u = t.state === O.MessageStates.SENDING, o = e === C.ReactionTypes.BURST;
                    if (u || (0, S.hasFlag)(t.flags, O.MessageFlags.EPHEMERAL)) return null;
                    let _ = h.default.getCurrentUser(),
                        I = (0, A.isPremium)(_),
                        m = o ? v.default.Messages.ADD_BURST_REACTION : v.default.Messages.ADD_REACTION;
                    !I && o && (m = (0, s.jsx)(E.NitroTooltipLabel, {
                        tooltipText: v.default.Messages.ADD_BURST_REACTION
                    }));
                    let p = l ? P : L;
                    return (0, s.jsx)(d.Popout, {
                        shouldShow: r,
                        onRequestClose: this.handleReactionPickerToggle,
                        renderPopout: this.renderReactionPopout,
                        position: "right",
                        children: (e, t) => {
                            let {
                                isShown: l
                            } = t;
                            return (0, s.jsx)(d.TooltipContainer, {
                                text: m,
                                color: d.TooltipColors.PRIMARY,
                                "aria-label": o ? v.default.Messages.ADD_BURST_REACTION : v.default.Messages.ADD_REACTION,
                                tooltipClassName: p.addReactionTooltip,
                                children: (0, s.jsxs)(d.Clickable, {
                                    ...e,
                                    onClick: e => {
                                        (0, N.toggleBurstReactionPicker)(o), this.handleAddReactionClick(e)
                                    },
                                    onMouseEnter: () => {
                                        (0, f.maybeGetPacksForUser)("add reaction popout on mouse enter"), (0, c.maybeGetEmojiCaptionsForUser)("add reaction popout on mouse enter")
                                    },
                                    onFocus: () => {
                                        (0, f.maybeGetPacksForUser)("add reaction popout on focus"), (0, c.maybeGetEmojiCaptionsForUser)("add reaction popout on focus")
                                    },
                                    className: i(p.reactionBtn, {
                                        [p.active]: l
                                    }, n),
                                    children: [o ? (0, s.jsx)(s.Fragment, {
                                        children: (0, s.jsx)(g.default, {
                                            className: p.icon
                                        })
                                    }) : (0, s.jsx)(s.Fragment, {
                                        children: (0, s.jsx)(T.default, {
                                            className: p.icon
                                        })
                                    }), a]
                                })
                            })
                        }
                    })
                }
                constructor(...e) {
                    super(...e), this.state = {
                        isReactionPickerActive: !1
                    }, this.onAddReaction = (e, t) => {
                        if (null == e) return;
                        let {
                            channel: n,
                            message: s,
                            isForumToolbar: a
                        } = this.props;
                        (0, I.addReaction)(n.id, s.id, (0, m.toReactionEmoji)(e), a ? I.ReactionLocations.FORUM_TOOLBAR : I.ReactionLocations.MESSAGE, {
                            burst: t
                        })
                    }, this.handleReactionPickerToggle = () => {
                        this.setState(e => ({
                            isReactionPickerActive: !e.isReactionPickerActive
                        }))
                    }, this.handleAddReactionClick = e => {
                        let {
                            type: t,
                            channel: n,
                            remainingBurstCurrency: s
                        } = this.props;
                        if (e.stopPropagation(), t === C.ReactionTypes.BURST && null != s && s < 1) {
                            let e = h.default.getCurrentUser();
                            if ((0, A.isPremium)(e)) {
                                (0, M.openOutOfBurstsModal)();
                                return
                            }(0, _.openBurstReactionsUpsellModal)({
                                analytics: {
                                    type: R.PremiumUpsellTypes.BURST_REACTION_UPSELL,
                                    page: null != n.getGuildId() ? O.AnalyticsPages.GUILD_CHANNEL : O.AnalyticsPages.DM_CHANNEL,
                                    section: (0, m.getBurstAnalyticsSection)(n),
                                    object: O.AnalyticsObjects.INLINE_REACTION_PICKER_UPSELL
                                }
                            });
                            return
                        }
                        this.handleReactionPickerToggle()
                    }, this.renderReactionPopout = e => {
                        let {
                            closePopout: t
                        } = e, {
                            type: n,
                            channel: a,
                            message: l
                        } = this.props, i = n === C.ReactionTypes.BURST, r = {
                            openPopoutType: "message_reaction_emoji_picker",
                            ...i && {
                                openPopoutType: "message_super_reaction_emoji_picker",
                                page: null != a.getGuildId() ? O.AnalyticsPages.GUILD_CHANNEL : O.AnalyticsPages.DM_CHANNEL,
                                section: (0, m.getBurstAnalyticsSection)(a),
                                object: O.AnalyticsObjects.REACTION_RAIL
                            }
                        }, c = (0, s.jsx)(p.ReactionPicker, {
                            closePopout: t,
                            channel: a,
                            onSelectEmoji: (e, n, s) => {
                                this.onAddReaction(e, s), n && (s ? u(t, 150)() : t())
                            },
                            analyticsOverride: r,
                            isBurstReaction: i,
                            messageId: l.id
                        });
                        return (0, s.jsx)(o.DialogContext.Consumer, {
                            children: e => e ? (0, s.jsx)(d.Dialog, {
                                "aria-label": v.default.Messages.REACTION_PICKER,
                                children: c
                            }) : c
                        })
                    }
                }
            }
        },
        125247: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("42203"),
                l = n("305961"),
                i = n("957255"),
                r = n("67541"),
                u = n("49111");

            function o(e) {
                let {
                    code: t,
                    messageData: n
                } = e, [o, d] = t.split("/"), c = a.default.getChannel(d), f = l.default.getGuild(o);
                return null != c && c.isGuildVocal() && null != f && i.default.can(u.Permissions.VIEW_CHANNEL, c) && i.default.can(u.Permissions.CONNECT, c) ? (0, s.jsx)(r.default, {
                    guild: f,
                    channel: c,
                    messageData: n
                }) : null
            }
        },
        699473: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return L
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("414456"),
                i = n.n(l),
                r = n("974667"),
                u = n("446674"),
                o = n("193865"),
                d = n("405645"),
                c = n("256572"),
                f = n("42203"),
                E = n("957255"),
                _ = n("780571"),
                I = n("568734"),
                m = n("383667"),
                p = n("574073"),
                h = n("865343"),
                T = n("39331"),
                g = n("68480"),
                S = n("115859"),
                A = n("596368"),
                N = n("227439"),
                C = n("702905"),
                M = n("611792"),
                O = n("554372"),
                R = n("49111"),
                v = n("877671"),
                L = a.memo(function(e) {
                    var t, n;
                    let {
                        message: a,
                        compact: l = !1,
                        className: L,
                        onContextMenu: P,
                        onClick: x,
                        disableInteraction: D = !1,
                        hideSimpleEmbedContent: y = !0,
                        channel: U,
                        isGroupStart: b,
                        animateAvatar: j,
                        subscribeToComponentDispatch: G,
                        renderThreadAccessory: B,
                        trackAnnouncementViews: k = !1,
                        ...F
                    } = e, w = a.isFirstMessageInForumPost(U), H = (0, o.useShowImprovedMarkdownUserExperimentConfig)((null !== (t = a.editedTimestamp) && void 0 !== t ? t : a.timestamp).valueOf()), V = (0, o.useShowImprovedMarkdownGuildExperimentConfig)(U.guild_id, (null !== (n = a.editedTimestamp) && void 0 !== n ? n : a.timestamp).valueOf()), {
                        content: Y,
                        hasSpoilerEmbeds: K
                    } = (0, T.default)(a, {
                        hideSimpleEmbedContent: y,
                        allowList: w || H.showListsAndHeaders || V.showListsAndHeaders,
                        allowHeading: w || H.showListsAndHeaders || V.showListsAndHeaders,
                        allowLinks: H.showMaskedLinks || V.showMaskedLinks,
                        previewLinkTarget: H.showMaskedLinks || V.showMaskedLinks
                    }), W = a.type === R.MessageTypes.REPLY ? a.messageReference : void 0, z = (0, u.useStateFromStores)([c.default], () => c.default.getMessageByReference(W)), J = (0, r.useListItem)(a.id), X = (0, p.default)(a), Z = (0, u.useStateFromStores)([f.default], () => a.hasFlag(R.MessageFlags.HAS_THREAD) && f.default.getChannel(a.id)), q = (0, d.useRoleIcon)({
                        guildId: U.guild_id,
                        roleId: X.iconRoleId
                    }), Q = (0, u.useStateFromStores)([E.default], () => E.default.can(R.Permissions.CREATE_INSTANT_INVITE, U)), $ = (0, g.default)({
                        message: a,
                        channel: U,
                        enabled: k
                    });
                    if ((0, m.default)(a, Q)) return null;
                    let ee = (0, h.getMessageAriaLabelledBy)(a),
                        et = (0, h.getMessageAriaDescribedBy)(a);
                    return (0, s.jsx)(_.default, {
                        compact: l,
                        className: i(L, {
                            [v.ephemeral]: (0, I.hasFlag)(a.flags, R.MessageFlags.EPHEMERAL),
                            [v.disableInteraction]: D
                        }),
                        disableInteraction: D,
                        childrenRepliedMessage: (0, O.default)(a, U, W, z, l),
                        childrenExecutedCommand: (0, M.default)(a, U, l),
                        childrenHeader: (0, N.default)({
                            ...e,
                            guildId: U.guild_id,
                            author: X,
                            roleIcon: q
                        }),
                        childrenAccessories: (0, S.renderSimpleAccessories)(e, K),
                        childrenMessageContent: (0, A.default)(e, Y),
                        childrenSystemMessage: (0, C.default)(e),
                        onContextMenu: P,
                        onClick: x,
                        hasThread: B && null != Z && a.hasFlag(R.MessageFlags.HAS_THREAD),
                        hasReply: a.type === R.MessageTypes.REPLY,
                        "aria-labelledby": ee,
                        "aria-describedby": et,
                        messageRef: $,
                        ...J,
                        ...F
                    })
                })
        },
        808440: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return R
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("446674"),
                i = n("970728"),
                r = n("901582"),
                u = n("685665"),
                o = n("398604"),
                d = n("914169"),
                c = n("42793"),
                f = n("141254"),
                E = n("116616"),
                _ = n("271938"),
                I = n("305961"),
                m = n("337543"),
                p = n("430625"),
                h = n("740589"),
                T = n("472315"),
                g = n("783940"),
                S = n("530078"),
                A = n("649112"),
                N = n("793079"),
                C = n("135666"),
                M = n("158783"),
                O = n("49111");

            function R(e) {
                let {
                    code: t,
                    author: n,
                    getAcceptInviteContext: R
                } = e, {
                    invite: v,
                    inviteError: L
                } = (0, l.useStateFromStoresObject)([m.default], () => ({
                    invite: m.default.getInvite(t),
                    inviteError: m.default.getInviteError(t)
                }), [t]);
                a.useEffect(() => {
                    null == v && i.default.resolveInvite(t)
                }, [t]);
                let P = null != v ? v : {
                        state: O.InviteStates.RESOLVING,
                        code: ""
                    },
                    {
                        analyticsLocations: x
                    } = (0, u.default)(),
                    D = (0, l.useStateFromStores)([I.default], () => (null == v ? void 0 : v.guild) != null ? I.default.getGuild(v.guild.id) : null, [v]),
                    y = (0, l.useStateFromStores)([_.default], () => _.default.getId()),
                    U = (0, l.useStateFromStores)([o.default], () => {
                        var e;
                        return o.default.getGuildScheduledEvent(null === (e = P.guild_scheduled_event) || void 0 === e ? void 0 : e.id)
                    }, [P]),
                    b = () => {
                        null != P.channel && i.default.transitionToInviteSync(P)
                    },
                    j = () => {
                        (0, f.isAtGuildCapAndNonPremium)() ? (0, E.default)({
                            analyticsSource: {
                                page: O.AnalyticsPages.INVITE_EMBED
                            },
                            analyticsLocation: {
                                page: O.AnalyticsPages.INVITE_EMBED,
                                section: O.AnalyticsSections.GUILD_CAP_UPSELL_MODAL
                            },
                            analyticsLocations: x
                        }) : i.default.acceptInviteAndTransitionToInviteChannel({
                            inviteKey: t,
                            context: R("Invite Button Embed")
                        })
                    },
                    G = (0, s.jsx)(S.default, {
                        onTransitionToInviteChannel: b,
                        onAcceptInstantInvite: j,
                        currentUserId: y,
                        guild: D,
                        invite: P,
                        author: n
                    });
                switch (P.state) {
                    case O.InviteStates.RESOLVING:
                        G = (0, s.jsx)(N.default, {});
                        break;
                    case O.InviteStates.EXPIRED:
                    case O.InviteStates.BANNED:
                        G = (0, s.jsx)(A.default, {
                            banned: P.state === O.InviteStates.BANNED,
                            author: n
                        });
                        break;
                    case O.InviteStates.ERROR:
                        G = (0, s.jsx)(h.default, {
                            author: n,
                            inviteError: L
                        });
                        break;
                    default:
                        switch ((0, c.getInviteType)(P)) {
                            case c.InviteTypes.GROUP_DM:
                                G = (0, s.jsx)(g.default, {
                                    onTransitionToInviteChannel: b,
                                    onAcceptInstantInvite: j,
                                    currentUserId: y,
                                    invite: P,
                                    author: n
                                });
                                break;
                            case c.InviteTypes.FRIEND:
                                G = (0, s.jsx)(T.default, {
                                    invite: P,
                                    author: n,
                                    getAcceptInviteContext: R
                                });
                                break;
                            default:
                                if ((0, c.isStreamInvite)(P)) {
                                    G = (0, s.jsx)(M.default, {
                                        onTransitionToInviteChannel: b,
                                        onAcceptInstantInvite: j,
                                        currentUserId: y,
                                        guild: D,
                                        invite: P
                                    });
                                    break
                                }
                                if ((0, c.isGuildScheduledEventInviteEmbed)(P)) {
                                    G = (0, s.jsx)(d.default, {
                                        guildScheduledEvent: U,
                                        guild: P.guild,
                                        channel: P.channel,
                                        isMember: null != D,
                                        onAcceptInstantInvite: j,
                                        onTransitionToInviteChannel: b
                                    });
                                    break
                                }
                                if ((0, c.isStageInviteEmbed)(P)) {
                                    G = (0, s.jsx)(C.default, {
                                        stageInstance: P.stage_instance,
                                        guild: P.guild,
                                        isMember: null != D,
                                        onTransitionToInviteChannel: b,
                                        onAcceptInstantInvite: j
                                    });
                                    break
                                }(0, c.isEmbeddedApplicationInvite)(P) && (G = (0, s.jsx)(p.default, {
                                    invite: P,
                                    getAcceptInviteContext: R
                                }))
                        }
                }
                return (0, s.jsx)(r.default, {
                    section: O.AnalyticsSections.INVITE_LINK,
                    children: G
                })
            }
        },
        723931: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                MessageAccessories: function() {
                    return eL
                },
                default: function() {
                    return eP
                },
                SimpleMessageAccessories: function() {
                    return ex
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("414456"),
                i = n.n(l),
                r = n("637612"),
                u = n("446674"),
                o = n("713349"),
                d = n("233736"),
                c = n("77078"),
                f = n("819689"),
                E = n("710306"),
                _ = n("501076"),
                I = n("627697"),
                m = n("527088"),
                p = n("193865"),
                h = n("222650"),
                T = n("576060"),
                g = n("139514"),
                S = n("810044"),
                A = n("793441"),
                N = n("925685"),
                C = n("406043"),
                M = n("294519"),
                O = n("477558"),
                R = n("812224"),
                v = n("383247"),
                L = n("267567"),
                P = n("367376"),
                x = n("467475"),
                D = n("801177"),
                y = n("985883"),
                U = n("311830"),
                b = n("626301"),
                j = n("428786"),
                G = n("705423"),
                B = n("24373"),
                k = n("943508"),
                F = n("300322"),
                w = n("415829"),
                H = n("845579"),
                V = n("271938"),
                Y = n("26989"),
                K = n("88093"),
                W = n("957255"),
                z = n("697218"),
                J = n("560176"),
                X = n("952368"),
                Z = n("328620"),
                q = n("688622"),
                Q = n("124297"),
                $ = n("377502"),
                ee = n("323273"),
                et = n("599110"),
                en = n("240873"),
                es = n("568734"),
                ea = n("449008"),
                el = n("299039"),
                ei = n("253981"),
                er = n("605160"),
                eu = n("865446"),
                eo = n("913491"),
                ed = n("583022"),
                ec = n("125247"),
                ef = n("476714"),
                eE = n("808440"),
                e_ = n("865343"),
                eI = n("5982"),
                em = n("933629"),
                ep = n("600536"),
                eh = n("592707"),
                eT = n("49111"),
                eg = n("646718"),
                eS = n("782340"),
                eA = n("30554"),
                eN = n("872364");

            function eC() {
                return (0, s.jsxs)("div", {
                    className: eA.nitroFileSizeUpsell,
                    children: [(0, s.jsx)("img", {
                        src: eN,
                        className: eA.nitroBadgeSvg,
                        alt: ""
                    }), (0, s.jsx)(c.Text, {
                        variant: "text-xs/normal",
                        color: "text-muted",
                        className: eA.nitroFileSizeUpsellText,
                        children: eS.default.Messages.LARGE_FILE_UPLOAD_POWERED_BY_NITRO.format({
                            onClick: () => (0, b.navigateToPremiumMarketingPage)()
                        })
                    })]
                })
            }
            let eM = new Set([eT.MessageEmbedTypes.AUTO_MODERATION_MESSAGE, eT.MessageEmbedTypes.AUTO_MODERATION_NOTIFICATION, eT.MessageEmbedTypes.APPLICATION_NEWS, eT.MessageEmbedTypes.POST_PREVIEW, eT.MessageEmbedTypes.SAFETY_POLICY_NOTICE]),
                eO = new Set(["discord-developers", "discord-testers", "discord-townhall", "discordgameslab"]),
                eR = (e, t, n) => () => {
                    let a = null != t ? t : n;
                    if (null == a) return null;
                    let {
                        url: l,
                        proxyURL: i,
                        width: r,
                        height: u
                    } = a;
                    return (0, s.jsx)(ef.default, {
                        width: r,
                        height: u,
                        src: null != i && "" !== i ? i : l,
                        url: null != e && "" !== e ? e : null != i && "" !== i ? i : l,
                        format: null != n ? o.GIFType.VIDEO : o.GIFType.IMAGE,
                        className: eA.gifFavoriteButton
                    })
                },
                ev = e => () => {
                    let {
                        proxy_url: t,
                        width: n,
                        height: a
                    } = e;
                    return X.IMAGE_GIF_RE.test(e.filename) && null != n && null != a ? (0, s.jsx)(ef.default, {
                        width: n,
                        height: a,
                        src: t,
                        url: t,
                        format: o.GIFType.IMAGE,
                        className: eA.gifFavoriteButton
                    }) : null
                };
            class eL extends a.Component {
                shouldRenderInvite(e) {
                    let {
                        channel: t
                    } = this.props;
                    return !(t.isDM() && !t.isSystemDM() && !t.isGroupDM() && eO.has(e))
                }
                shouldComponentUpdate(e, t) {
                    var n, s;
                    let {
                        channel: a,
                        message: l,
                        poll: i
                    } = this.props, {
                        channel: r,
                        message: u,
                        poll: o
                    } = e;
                    return !(0, d.default)(this.state, t) || !(0, d.default)(this.props, e, ["message", "channel"]) || a.type !== r.type || o !== i || u.codedLinks !== l.codedLinks || u.flags !== l.flags || u.giftCodes !== l.giftCodes || u.attachments !== l.attachments || u.embeds !== l.embeds || u.components !== l.components || u.activity !== l.activity || (n = u.reactions, n !== (s = l.reactions) && (n.length !== s.length || !!n.some((e, t) => {
                        let {
                            emoji: n,
                            count: a,
                            burst_count: l
                        } = e, {
                            emoji: i,
                            count: r,
                            burst_count: u
                        } = s[t];
                        return l !== u || a !== r || n.id !== i.id || n.name !== i.name
                    })))
                }
                renderSocialProofingFileSizeNitroUpsell(e) {
                    let t = e.attachments.some(e => e.size > eg.MAX_PREMIUM_TIER_0_ATTACHMENT_SIZE);
                    return (0, eu.shouldShowNitroUpsell)("attachment") && t ? (0, s.jsx)(eC, {}) : null
                }
                renderCodedLinks(e) {
                    return 0 === e.codedLinks.length ? null : e.codedLinks.map(t => {
                        let {
                            type: n,
                            code: a
                        } = t;
                        if (n === g.CodedLinkType.INVITE) return this.shouldRenderInvite(a) ? (0, s.jsx)(eE.default, {
                            code: a,
                            author: e.author,
                            getAcceptInviteContext: this.getAcceptInviteContext
                        }, a) : null;
                        if (n === g.CodedLinkType.TEMPLATE) return (0, s.jsx)(R.default, {
                            code: a
                        }, a);
                        if (n === g.CodedLinkType.EVENT) return (0, s.jsx)(O.default, {
                            code: a
                        }, a);
                        else if (n === g.CodedLinkType.CHANNEL_LINK) return (0, s.jsx)(ec.default, {
                            code: a,
                            messageData: e
                        }, a);
                        else if (n === g.CodedLinkType.APP_DIRECTORY_PROFILE) return (0, s.jsx)(m.default, {
                            code: a,
                            message: e
                        }, a);
                        else if (n === g.CodedLinkType.CLYDE_PROFILE) return (0, s.jsx)(T.default, {
                            code: a
                        }, a);
                        else if (n === g.CodedLinkType.ACTIVITY_BOOKMARK) return (0, s.jsx)(I.default, {
                            applicationId: a,
                            message: e
                        }, a);
                        else if (n === g.CodedLinkType.GUILD_PRODUCT) return (0, s.jsx)(M.default, {
                            code: a
                        }, a);
                        else if (n === g.CodedLinkType.SERVER_SHOP) return (0, s.jsx)(S.default, {
                            guildId: a
                        }, a);
                        else throw Error("Unknown coded link type: ".concat(n))
                    })
                }
                renderGiftCodes(e) {
                    let {
                        giftCodes: t,
                        author: n,
                        channel_id: a,
                        type: l,
                        content: i,
                        giftInfo: r
                    } = e, u = z.default.getCurrentUser();
                    return null != u && t.length > 0 ? t.map(e => (0, s.jsx)("div", {
                        className: eA.giftCodeContainer,
                        children: (0, s.jsx)(E.default, {
                            code: e,
                            author: n,
                            channelId: a,
                            currentUser: u,
                            type: l,
                            content: i,
                            giftInfo: r
                        })
                    }, e)) : null
                }
                renderReferralTrial(e) {
                    let {
                        referralTrialOfferId: t,
                        type: n
                    } = e, {
                        canRenderReferralEmbed: a
                    } = this.props;
                    return n !== r.MessageTypes.PREMIUM_REFERRAL || null == t ? null : (0, s.jsx)("div", {
                        className: eA.referralContainer,
                        children: (0, s.jsx)(j.default, {
                            userTrialOfferId: t,
                            canRenderReferralEmbed: null != a && a
                        })
                    }, t)
                }
                renderReactions(e) {
                    let {
                        disableReactionCreates: t,
                        disableReactionReads: n,
                        disableReactionUpdates: a,
                        isLurking: l,
                        isGuest: i,
                        isPendingMember: r,
                        channel: u,
                        forceAddReactions: o
                    } = this.props;
                    return n ? null : (0, s.jsx)(eh.default, {
                        message: e,
                        channel: u,
                        disableReactionCreates: t,
                        disableReactionUpdates: a,
                        isLurking: l,
                        isGuest: i,
                        isPendingMember: r,
                        forceAddReactions: o,
                        useChatFontScaling: !0
                    })
                }
                renderAttachments(e) {
                    let {
                        attachments: t,
                        flags: n
                    } = e, {
                        channel: a
                    } = this.props;
                    if (0 === t.length || e.isPoll()) return null;
                    let l = t.filter(e => null == e.flags || !(0, es.hasFlag)(e.flags, eT.MessageAttachmentFlags.IS_THUMBNAIL)),
                        {
                            gifAutoPlay: i,
                            canDeleteAttachments: r,
                            inlineAttachmentMedia: u,
                            onAttachmentContextMenu: o,
                            shouldHideMediaOptions: d
                        } = this.props,
                        c = (0, A.shouldRedactExplicitContent)(e),
                        f = l.map(e => (0, ee.carouselAssetFromAttachment)(e, d, c)).filter(ea.isNotNullish),
                        E = {
                            source: "Media Mosaic",
                            guild_id: a.guild_id,
                            channel_id: a.id,
                            channel_type: a.type
                        },
                        _ = f.length > 1 ? (0, ee.createMediaOnClickOverrides)(f, E) : {},
                        I = (0, es.hasFlag)(n, eT.MessageFlags.IS_VOICE_MESSAGE),
                        m = l.map(t => {
                            let n = {
                                    message: e,
                                    attachment: t,
                                    autoPlayGif: i,
                                    canRemoveAttachment: r && (l.length > 1 || "" !== e.content),
                                    className: eA.embedWrapper,
                                    inlineMedia: u,
                                    onContextMenu: null != o ? e => {
                                        e.stopPropagation(), e.preventDefault(), o(e, t)
                                    } : void 0,
                                    onRemoveAttachment: this.handleRemoveAttachment,
                                    renderAudioComponent: I ? em.renderVoiceMessageAudioComponent : em.renderAudioComponent,
                                    renderImageComponent: em.renderImageComponent,
                                    renderPlaintextFilePreview: em.renderPlaintextFilePreview,
                                    renderVideoComponent: em.renderVideoComponent,
                                    onPlay: (e, n, s) => {
                                        et.default.track(eT.AnalyticEvents.MEDIA_ATTACHMENT_PLAYBACK_STARTED, {
                                            guild_id: a.guild_id,
                                            channel_id: a.id,
                                            channel_type: a.type,
                                            type: t.content_type,
                                            flags: t.flags,
                                            size: t.size,
                                            duration: s
                                        })
                                    },
                                    gifFavoriteButton: ev(t)
                                },
                                s = (0, q.getBestEffortSrcUrl)({
                                    proxyURL: t.proxy_url,
                                    url: t.url
                                });
                            return s in _ && (n.onClick = _[s]), n
                        });
                    return (0, s.jsx)($.default, {
                        attachments: m
                    })
                }
                renderEmbeds(e) {
                    let {
                        renderEmbeds: t,
                        showClydeAiEmbeds: n
                    } = this.props;
                    return 0 !== e.embeds.length && t ? e.embeds.map(t => {
                        if (eM.has(t.type) || !n && (0, en.isClydeAiThoughtsEmbed)(t) || (0, en.isServerShopArticleEmbed)(t)) return null;
                        let a = {
                            renderImageComponent: em.renderImageComponent,
                            renderVideoComponent: em.renderVideoComponent,
                            renderLinkComponent: em.renderMaskedLinkComponent
                        };
                        if (t.type === eT.MessageEmbedTypes.ARTICLE && null != t.url && /^https?:\/\/(?:canary|ptb|www)?\.discord(?:app)?\.com\/store\/skus\/(?:[0-9]+)/.test(t.url) && null != t.provider && "Discord" === t.provider.name) {
                            let n = ei.default.safeParseWithQuery(t.url);
                            if (null != n && null != n.pathname) {
                                let l = n.pathname.split("/")[3];
                                if (null != l) return (0, s.jsx)(_.default, {
                                    skuId: l,
                                    renderFallback: () => this.renderEmbed(t, a, e.id, e.channel_id)
                                }, t.id)
                            }
                        }
                        return this.renderEmbed(t, a, e.id, e.channel_id)
                    }) : null
                }
                renderComponentAccessories(e) {
                    return null == e.components || 0 === e.components.length || !1 === this.props.renderComponentAccessory ? null : (0, s.jsx)(v.default, {
                        message: e
                    })
                }
                renderActivityInvite(e) {
                    if (null == e.activity) return null;
                    let {
                        channel: t
                    } = this.props;
                    return (0, s.jsx)(eI.default, {
                        channel: t,
                        message: e,
                        hideParty: !1
                    })
                }
                renderPublishBump(e) {
                    let {
                        channel: t
                    } = this.props;
                    return t.type !== eT.ChannelTypes.GUILD_ANNOUNCEMENT || (0, es.hasFlag)(e.flags, eT.MessageFlags.EPHEMERAL) ? null : (0, s.jsx)(h.default, {
                        channelId: e.channel_id,
                        messageId: e.id
                    })
                }
                renderEphemeralAccessories(e) {
                    return (0, es.hasFlag)(e.flags, eT.MessageFlags.EPHEMERAL) ? (0, s.jsx)(Q.default, {
                        message: e,
                        onDeleteMessage: () => {
                            f.default.dismissAutomatedMessage(e)
                        }
                    }) : null
                }
                renderStickersAccessories(e) {
                    let t = (0, B.getMessageStickers)(e),
                        {
                            channel: n,
                            isInteracting: a
                        } = this.props;
                    return 0 === t.length ? null : t.map(e => (0, s.jsx)(k.default, {
                        channel: n,
                        isInteracting: a,
                        renderableSticker: e
                    }, e.id))
                }
                renderThreadAccessories(e) {
                    if (e.hasFlag(eT.MessageFlags.HAS_THREAD) && !1 !== this.props.renderThreadAccessory) return (0, s.jsx)(w.default, {
                        message: e,
                        compact: this.props.compact
                    })
                }
                renderThreadRoleMentionWarning(e) {
                    if (!e.hasFlag(eT.MessageFlags.FAILED_TO_MENTION_SOME_ROLES_IN_THREAD) || !this.props.isCurrentUser) return;
                    let t = Date.now() - el.default.extractTimestamp(e.id);
                    if (!(t >= 9e5)) return (0, s.jsx)("div", {
                        className: eA.threadRoleMentionFailure,
                        children: eS.default.Messages.THREAD_ROLE_MENTION_FAILURE
                    })
                }
                renderSuppressConfirmModal() {
                    let {
                        channel: e,
                        message: t
                    } = this.props;
                    return (0, s.jsxs)(c.DeclarativeConfirmModal, {
                        dismissable: !0,
                        header: eS.default.Messages.SUPPRESS_EMBED_TITLE,
                        confirmText: eS.default.Messages.SUPPRESS_EMBED_CONFIRM,
                        cancelText: eS.default.Messages.CANCEL,
                        onCancel: () => this.setState({
                            showSuppressModal: !1
                        }),
                        onConfirm: () => {
                            f.default.suppressEmbeds(e.id, t.id), this.setState({
                                showSuppressModal: !1
                            })
                        },
                        children: [(0, s.jsx)(c.Text, {
                            variant: "text-md/normal",
                            color: "text-normal",
                            className: eA.confirmText,
                            children: eS.default.Messages.SUPPRESS_EMBED_BODY
                        }), (0, s.jsx)(c.Text, {
                            variant: "text-md/normal",
                            color: "text-muted",
                            children: eS.default.Messages.SUPPRESS_EMBED_TIP
                        })]
                    })
                }
                renderRemoveAttachmentConfirmModal() {
                    let {
                        channel: e,
                        message: t
                    } = this.props, {
                        attachmentToDelete: n
                    } = this.state;
                    if (null == n) {
                        this.setState({
                            showRemoveAttachmentModal: !1
                        });
                        return
                    }
                    return (0, s.jsx)(c.DeclarativeConfirmModal, {
                        dismissable: !0,
                        header: eS.default.Messages.REMOVE_ATTACHMENT_TITLE,
                        confirmText: eS.default.Messages.REMOVE_ATTACHMENT_CONFIRM,
                        cancelText: eS.default.Messages.CANCEL,
                        onCancel: () => this.setState({
                            showRemoveAttachmentModal: !1,
                            attachmentToDelete: null
                        }),
                        onConfirm: () => {
                            let s = t.attachments.filter(e => e.id !== n.id);
                            f.default.patchMessageAttachments(e.id, t.id, s), this.setState({
                                showRemoveAttachmentModal: !1,
                                attachmentToDelete: null
                            })
                        },
                        children: (0, s.jsx)(c.Text, {
                            variant: "text-md/normal",
                            color: "text-normal",
                            className: eA.confirmText,
                            children: eS.default.Messages.REMOVE_ATTACHMENT_BODY
                        })
                    })
                }
                renderInteractionPremiumUpsell(e) {
                    let t = e.applicationId;
                    return e.type !== r.MessageTypes.INTERACTION_PREMIUM_UPSELL || null == t ? null : (0, s.jsx)(ep.default, {
                        applicationId: t,
                        guildId: this.props.channel.guild_id
                    })
                }
                renderMediaPostEmbeds(e) {
                    return e.embeds.flatMap(t => t.type !== eT.MessageEmbedTypes.POST_PREVIEW || null == t.url ? [] : (0, s.jsx)(D.default, {
                        embedUrl: t.url,
                        message: e,
                        channel: this.props.channel
                    }, t.id))
                }
                renderSafetyPolicyNotice(e) {
                    return 1 === e.embeds.length && e.embeds[0].type === eT.MessageEmbedTypes.SAFETY_POLICY_NOTICE ? (0, s.jsx)(G.SafetyPolicyNotice, {
                        message: e
                    }) : null
                }
                renderMediaObscureNotice(e) {
                    if (0 === e.attachments.length && 0 === e.embeds.length) return null;
                    let {
                        obscuredAttachments: t,
                        obscuredEmbeds: n
                    } = (0, A.getObscuredMediaForMessage)(e);
                    return 0 === t.length && 0 === n.length ? null : (0, s.jsx)(N.default, {
                        message: e
                    })
                }
                renderPoll(e, t) {
                    if (null != t) return (0, s.jsx)(U.default, {
                        message: e,
                        poll: t
                    })
                }
                render() {
                    let {
                        className: e,
                        message: t,
                        poll: n
                    } = this.props, {
                        showSuppressModal: a,
                        showRemoveAttachmentModal: l
                    } = this.state, r = this.renderCodedLinks(t), u = this.renderGiftCodes(t), o = this.renderReferralTrial(t), d = this.renderAttachments(t), c = this.renderSocialProofingFileSizeNitroUpsell(t), f = this.renderEmbeds(t), E = this.renderActivityInvite(t), _ = this.renderReactions(t), I = this.renderPublishBump(t), m = this.renderEphemeralAccessories(t), p = this.renderStickersAccessories(t), h = this.renderThreadAccessories(t), T = this.renderComponentAccessories(t), g = this.renderThreadRoleMentionWarning(t), S = this.renderInteractionPremiumUpsell(t), A = this.renderMediaPostEmbeds(t), N = this.renderSafetyPolicyNotice(t), C = this.renderMediaObscureNotice(t), M = this.renderPoll(t, n);
                    return null == r && null == d && null == f && null == E && null == _ && null == u && null == o && null == I && null == m && null == p && null == h && null == T && null == g && null == A && null == N && null != S && null == M ? null : (0, s.jsxs)("div", {
                        id: (0, e_.getMessageAccessoriesId)(t),
                        className: i(e, eA.container),
                        children: [g, M, r, u, o, A, d, f, C, E, p, T, S, c, _, I, m, a && this.renderSuppressConfirmModal(), l && this.renderRemoveAttachmentConfirmModal(), h, N]
                    })
                }
                constructor(...e) {
                    super(...e), this.state = {
                        showSuppressModal: !1,
                        showRemoveAttachmentModal: !1,
                        attachmentToDelete: null
                    }, this.getAcceptInviteContext = e => {
                        let {
                            channel: t,
                            message: n
                        } = this.props;
                        return {
                            location: e,
                            location_guild_id: t.getGuildId(),
                            location_channel_id: t.id,
                            location_channel_type: t.type,
                            location_message_id: n.id
                        }
                    }, this.renderEmbed = (e, t, n, a) => {
                        let {
                            gifAutoPlay: l,
                            inlineEmbedMedia: i,
                            canSuppressEmbeds: r,
                            hasSpoilerEmbeds: u
                        } = this.props, o = (0, er.getObscureReasonForEmbed)(e, a, n, u);
                        return e.type === eT.MessageEmbedTypes.GIFT ? null : (0, s.jsx)(Z.GIFAccessoryContext.Provider, {
                            value: eR(e.url, e.image, e.video),
                            children: (0, s.jsx)(J.default, {
                                className: eA.embedWrapper,
                                embed: e,
                                obscureReason: null != o ? o : void 0,
                                autoPlayGif: l,
                                hideMedia: !i,
                                onSuppressEmbed: r ? this.handleEmbedSuppressed : void 0,
                                renderTitle: this.renderEmbedTitle,
                                renderDescription: this.renderEmbedDescription,
                                messageId: n,
                                channelId: a,
                                ...t
                            })
                        }, e.id)
                    }, this.renderEmbedTitle = (e, t) => e.type === eT.MessageEmbedTypes.RICH ? P.default.parseEmbedTitle(t, !0, {
                        channelId: this.props.channel.id
                    }) : t, this.renderEmbedDescription = (e, t, n) => e.type === eT.MessageEmbedTypes.RICH ? P.default.parse(t, !0, {
                        channelId: this.props.channel.id,
                        allowLinks: !0,
                        allowEmojiLinks: !0,
                        allowList: this.props.showListsAndHeaders,
                        allowHeading: !n && this.props.showListsAndHeaders,
                        previewLinkTarget: this.props.showMaskedLinks
                    }) : t, this.handleEmbedSuppressed = e => {
                        let {
                            channel: t,
                            message: n
                        } = this.props;
                        e.shiftKey ? f.default.suppressEmbeds(t.id, n.id) : this.setState({
                            showSuppressModal: !0
                        })
                    }, this.handleRemoveAttachment = e => {
                        this.setState({
                            showRemoveAttachmentModal: !0,
                            attachmentToDelete: e
                        })
                    }
                }
            }

            function eP(e) {
                var t, n, a;
                let {
                    channel: l,
                    message: i,
                    renderSuppressEmbeds: r
                } = e, o = (0, u.useStateFromStores)([V.default], () => V.default.getId()), d = H.InlineAttachmentMedia.useSetting(), c = H.InlineEmbedMedia.useSetting(), f = H.RenderEmbeds.useSetting(), E = f && !(0, eo.default)(e.message), _ = H.RenderReactions.useSetting(), I = H.GifAutoPlay.useSetting(), m = (0, u.useStateFromStores)([K.default], () => null == l.guild_id || K.default.canChatInGuild(l.guild_id), [l]), h = (0, u.useStateFromStores)([L.default], () => null != l.guild_id && L.default.isLurking(l.guild_id), [l]), T = (0, u.useStateFromStores)([Y.default], () => Y.default.isCurrentUserGuest(l.guild_id), [l]), g = (0, u.useStateFromStores)([Y.default, z.default], () => {
                    var e, t;
                    let n = z.default.getCurrentUser();
                    return null !== (t = null != l.guild_id && null != n ? null === (e = Y.default.getMember(l.guild_id, n.id)) || void 0 === e ? void 0 : e.isPending : null) && void 0 !== t && t
                }), {
                    canAddNewReactions: S,
                    canManageMessages: A
                } = (0, u.useStateFromStoresObject)([W.default], () => ({
                    canAddNewReactions: m && W.default.can(eT.Permissions.ADD_REACTIONS, l),
                    canManageMessages: W.default.can(eT.Permissions.MANAGE_MESSAGES, l)
                }), [m, l]), [, N] = (0, C.useCurrentUserCommunicationDisabled)(l.guild_id), M = (0, F.useIsActiveChannelOrUnarchivableThread)(l), O = (o === i.author.id || A) && i.author.id !== eT.LOCAL_BOT_ID && !i.author.isClyde() && !1 !== r && !(0, es.hasFlag)(i.flags, eT.MessageFlags.EPHEMERAL) && M, R = o === i.author.id && M, v = i.author.id === o, P = i.isFirstMessageInForumPost(l), D = (0, ed.default)({
                    channel: l,
                    canChat: m,
                    renderReactions: _,
                    canAddNewReactions: S,
                    isLurking: h,
                    isGuest: T,
                    communicationDisabled: N,
                    isActiveChannelOrUnarchivableThread: M
                }), U = (0, p.useShowImprovedMarkdownUserExperimentConfig)((null !== (t = i.editedTimestamp) && void 0 !== t ? t : i.timestamp).valueOf()), b = (0, p.useShowImprovedMarkdownGuildExperimentConfig)(null !== (n = l.guild_id) && void 0 !== n ? n : "", (null !== (a = i.editedTimestamp) && void 0 !== a ? a : i.timestamp).valueOf()), j = (0, x.default)(null == l ? void 0 : l.id), G = (0, y.default)(i);
                return (0, s.jsx)(eL, {
                    canSuppressEmbeds: O,
                    canDeleteAttachments: R,
                    ...D,
                    disableReactionReads: !!P || D.disableReactionReads,
                    ...e,
                    isLurking: h && m,
                    isGuest: T && m,
                    isPendingMember: g && m,
                    isCurrentUser: v,
                    inlineAttachmentMedia: d,
                    inlineEmbedMedia: c,
                    renderEmbeds: E,
                    gifAutoPlay: I,
                    canRenderReferralEmbed: l.isDM(),
                    poll: G,
                    showListsAndHeaders: U.showListsAndHeaders || b.showListsAndHeaders,
                    showMaskedLinks: U.showMaskedLinks || b.showMaskedLinks,
                    shouldHideMediaOptions: j,
                    showClydeAiEmbeds: !!(0, ea.isNotNullish)(e.showClydeAiEmbeds) && e.showClydeAiEmbeds
                })
            }
            eL.defaultProps = {
                renderEmbeds: !0,
                compact: !1
            };
            let ex = e => {
                var t, n, a;
                let {
                    message: l,
                    channel: i,
                    disableReactionReads: r = !1,
                    renderComponentAccessory: u = !1,
                    renderThreadAccessory: o = !1,
                    disableReactionCreates: d = !0,
                    disableReactionUpdates: c = !0,
                    ...f
                } = e, E = H.InlineAttachmentMedia.useSetting(), _ = H.InlineEmbedMedia.useSetting(), I = H.RenderEmbeds.useSetting() && !l.author.isClyde(), m = H.GifAutoPlay.useSetting(), h = (0, p.useShowImprovedMarkdownUserExperimentConfig)((null !== (t = l.editedTimestamp) && void 0 !== t ? t : l.timestamp).valueOf()), T = (0, p.useShowImprovedMarkdownGuildExperimentConfig)(null !== (n = i.guild_id) && void 0 !== n ? n : "", (null !== (a = l.editedTimestamp) && void 0 !== a ? a : l.timestamp).valueOf()), g = (0, x.default)(null == i ? void 0 : i.id);
                return (0, s.jsx)(eL, {
                    ...f,
                    message: l,
                    channel: i,
                    disableReactionReads: r,
                    disableReactionCreates: d,
                    disableReactionUpdates: c,
                    canSuppressEmbeds: !1,
                    canDeleteAttachments: !1,
                    renderComponentAccessory: u,
                    renderThreadAccessory: o,
                    inlineAttachmentMedia: E,
                    inlineEmbedMedia: _,
                    renderEmbeds: I,
                    gifAutoPlay: m,
                    showListsAndHeaders: h.showListsAndHeaders || T.showListsAndHeaders,
                    showMaskedLinks: h.showMaskedLinks || T.showMaskedLinks,
                    shouldHideMediaOptions: g,
                    showClydeAiEmbeds: !1
                })
            }
        },
        5982: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return _
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("446674"),
                l = n("803816"),
                i = n("685665"),
                r = n("653047"),
                u = n("671071"),
                o = n("271938"),
                d = n("824563"),
                c = n("49111"),
                f = n("450484"),
                E = n("738766"),
                _ = e => {
                    var t;
                    let {
                        channel: n,
                        message: _,
                        hideParty: I
                    } = e, {
                        analyticsLocations: m
                    } = (0, i.default)(), p = (0, a.useStateFromStores)([o.default], () => o.default.getId()), h = (0, a.useStateFromStores)([d.default], () => {
                        if (null == _.application) return d.default.findActivity(_.author.id, e => e.type === c.ActivityTypes.LISTENING);
                        {
                            var e;
                            let t = _.author.id;
                            return (null === (e = _.activity) || void 0 === e ? void 0 : e.type) === c.ActivityActionTypes.JOIN_REQUEST && (t = t === p && n.isPrivate() ? n.getRecipientId() : p), d.default.getApplicationActivity(t, _.application.id)
                        }
                    }, [_, n, p]);
                    return (0, s.jsx)(l.default, {
                        className: E.container,
                        activity: h,
                        activityActionType: null != _.activity ? _.activity.type : null,
                        partyId: null != _.activity ? _.activity.party_id : null,
                        userId: _.author.id,
                        application: null != (t = _).application ? r.default.createFromServer(t.application) : null != t.activity && null != t.activity.party_id && (0, f.isSpotifyParty)(t.activity.party_id) ? u.SpotifyApplication : void 0,
                        message: _,
                        channelId: n.id,
                        guildId: n.getGuildId(),
                        hideParty: I,
                        isSender: _.author.id === p,
                        analyticsLocations: m
                    })
                }
        },
        600536: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("446674"),
                l = n("77078"),
                i = n("650509"),
                r = n("186211"),
                u = n("90592"),
                o = n("910861"),
                d = n("153335"),
                c = n("49111"),
                f = n("782340");

            function E(e) {
                let {
                    applicationId: t,
                    guildId: n
                } = e, E = (0, i.useApplication)(t), {
                    listingsLoaded: _
                } = (0, i.useFetchListingsForApplication)(t, null == E ? void 0 : E.primarySkuId), I = (0, a.useStateFromStores)([r.default], () => r.default.getSubscriptionGroupListingForApplication(t), [t]), m = null != I ? (0, u.getPayableSubscriptionListing)(I) : null, {
                    openModal: p,
                    canOpenModal: h
                } = (0, d.default)({
                    listing: m,
                    guildId: n,
                    groupListingId: null == I ? void 0 : I.id,
                    showBenefitsFirst: !0,
                    analyticsLocation: c.AnalyticsLocations.INTERACTION_RESPONSE
                });
                return (0, s.jsx)(o.default, {
                    size: l.Button.Sizes.MEDIUM,
                    onClick: () => p(),
                    disabled: !h || !_,
                    children: f.default.Messages.INTERACTION_PREMIUM_UPSELL_CTA
                })
            }
        },
        592707: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                findReactionIndex: function() {
                    return S
                },
                default: function() {
                    return C
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("414456"),
                i = n.n(l),
                r = n("446674"),
                u = n("266491"),
                o = n("77078"),
                d = n("225664"),
                c = n("692171"),
                f = n("875978"),
                E = n("836943"),
                _ = n("865343"),
                I = n("621698"),
                m = n("350134"),
                p = n("782340"),
                h = n("550244"),
                T = n("314934");
            let g = (e, t) => null == e && null == t || e === t,
                S = (e, t) => e.findIndex(e => g(e.emoji.id, null == t ? void 0 : t.id) && g(e.emoji.name, null == t ? void 0 : t.name)),
                A = (e, t) => {
                    if (null == t) return e;
                    let n = S(e, t);
                    return n < 0 ? e : [e[n], ...e.slice(0, n), ...e.slice(n + 1)]
                };
            class N extends a.PureComponent {
                static getDerivedStateFromProps(e, t) {
                    let n = e.message.reactions.length;
                    return 0 === t.reactionsCount && n > 0 ? {
                        disableTransitionAppear: !1,
                        reactionsCount: n
                    } : t.reactionsCount !== n ? {
                        reactionsCount: n
                    } : null
                }
                render() {
                    let {
                        message: e,
                        disableReactionCreates: t,
                        disableReactionUpdates: n,
                        isLurking: a,
                        isGuest: l,
                        isPendingMember: r,
                        isForumToolbar: d,
                        channel: c,
                        className: g,
                        forceAddReactions: S,
                        reactionClassName: A,
                        useChatFontScaling: N,
                        burstReactionsEnabled: C,
                        hasBurstTabUI: M,
                        hasTwoButtonBurstUI: O,
                        remainingBurstCurrency: R,
                        forceHideReactionCreates: v,
                        remainingReactions: L,
                        combinedReactions: P
                    } = this.props, {
                        disableTransitionAppear: x
                    } = this.state, D = N ? T : h, y = e.reactions.length > 0;
                    return y || S ? (0, s.jsxs)(u.default, {
                        component: "div",
                        className: i(D.reactions, g),
                        transitionAppear: !x,
                        role: "group",
                        transitionLeave: !1,
                        id: (0, _.getMessageReactionsId)(e),
                        onMouseEnter: () => this.setState({
                            isHovered: !0
                        }),
                        onMouseLeave: () => this.setState({
                            isHovered: !1
                        }),
                        children: [(0, s.jsx)(I.MessageReactionsGroupWrapper, {
                            reactions: P,
                            message: e,
                            readOnly: n,
                            isLurking: a,
                            isGuest: l,
                            isPendingMember: r,
                            isForumToolbar: d,
                            useChatFontScaling: N,
                            className: A
                        }), L > 0 && (0, s.jsx)(o.Clickable, {
                            onClick: t => {
                                t.stopPropagation(), (0, m.showReactionsModal)(c, e)
                            },
                            className: i(D.reaction, A, D.remainingReactions),
                            "aria-label": p.default.Messages.ADD_REACTION,
                            children: (0, s.jsxs)(o.Text, {
                                className: D.reactionInner,
                                variant: "text-sm/normal",
                                children: ["+", L]
                            })
                        }), !t && !v && (0, s.jsx)(E.ButtonAddReaction, {
                            type: f.ReactionTypes.NORMAL,
                            message: e,
                            channel: c,
                            useChatFontScaling: N,
                            isHovered: this.state.isHovered,
                            className: i({
                                [D.forceShow]: S && !y,
                                [D.forceShowLook]: S
                            }),
                            hasBurstTabUI: M,
                            hasTwoButtonBurstUI: O
                        }), !t && C && O && !v && (0, s.jsx)(E.ButtonAddReaction, {
                            type: f.ReactionTypes.BURST,
                            remainingBurstCurrency: R,
                            message: e,
                            channel: c,
                            useChatFontScaling: N,
                            isHovered: this.state.isHovered,
                            className: i({
                                [D.forceShow]: S && !y,
                                [D.forceShowLook]: S
                            })
                        })]
                    }) : null
                }
                constructor(...e) {
                    super(...e), this.state = {
                        disableTransitionAppear: !0,
                        reactionsCount: this.props.message.reactions.length,
                        isHovered: !1
                    }
                }
            }
            var C = e => {
                var t;
                let {
                    message: n,
                    maxReactions: l,
                    hoistReaction: i,
                    channel: u
                } = e, o = null !== (t = null == u ? void 0 : u.guild_id) && void 0 !== t ? t : null, {
                    enabled: E,
                    hasTabUI: _,
                    hasTwoButtonEntryPoint: I
                } = (0, d.useBurstReactionsExperiment)(o), m = (0, r.useStateFromStores)([c.default], () => c.default.remainingBurstCurrency), {
                    combinedReactions: p,
                    remainingReactions: h
                } = a.useMemo(() => {
                    let e = [],
                        t = A(n.reactions, i),
                        s = null != l && l < t.length,
                        a = s ? t.slice(0, l) : t,
                        r = t.length - a.length;
                    return a.forEach(t => {
                        t.burst_count > 0 && e.push({
                            ...t,
                            type: f.ReactionTypes.BURST
                        }), t.count > 0 && e.push({
                            ...t,
                            type: f.ReactionTypes.NORMAL
                        })
                    }), {
                        combinedReactions: e,
                        remainingReactions: r
                    }
                }, [i, l, n.reactions]);
                return (0, s.jsx)(N, {
                    ...e,
                    combinedReactions: p,
                    remainingReactions: h,
                    burstReactionsEnabled: E,
                    hasBurstTabUI: _,
                    hasTwoButtonBurstUI: I,
                    remainingBurstCurrency: m
                })
            }
        },
        621698: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                MessageReactionsGroupWrapper: function() {
                    return p
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("414456"),
                i = n.n(l),
                r = n("509043"),
                u = n("430568"),
                o = n("811425"),
                d = n("738107"),
                c = n("875978"),
                f = n("463617"),
                E = n("350134"),
                _ = n("550244"),
                I = n("314934");
            let m = a.memo(function(e) {
                    let t, n, {
                            useChatFontScaling: a,
                            hideEmoji: l,
                            emoji: o,
                            className: m,
                            count: p,
                            me: h,
                            me_burst: T,
                            burst_count: g,
                            burst_colors: S,
                            readOnly: A,
                            isLurking: N,
                            isGuest: C,
                            isPendingMember: M,
                            type: O
                        } = e,
                        R = O === c.ReactionTypes.BURST,
                        v = (0, E.isMeReaction)(h, T, O),
                        L = (0, f.default)(R && null != S ? S : []),
                        P = a ? I : _,
                        x = R ? g : p,
                        D = (0, d.getMinCounterWidth)(x, E.REACTION_MIN_WIDTH_DIGITS),
                        y = {};
                    if (R && null != L) {
                        var U;
                        let {
                            accentColor: e,
                            backgroundColor: s,
                            opacity: a
                        } = L, l = null !== (U = (0, r.hex2rgb)(null != s ? s : "", a)) && void 0 !== U ? U : "";
                        v && (y.borderColor = s), y.background = l, t = e, n = e
                    }
                    let b = {
                        minWidth: D,
                        color: t,
                        borderColor: n
                    };
                    return (0, s.jsxs)("div", {
                        className: i(P.reaction, P.reactionInner, m, {
                            [P.reactionMe]: v,
                            [P.reactionReadOnly]: A && !N && !M && !C
                        }),
                        style: y,
                        children: [(0, s.jsx)(u.default, {
                            className: i({
                                [P.hideEmoji]: l
                            }),
                            emojiId: o.id,
                            emojiName: o.name,
                            size: "reaction",
                            animated: R && o.animated
                        }), (0, s.jsx)("div", {
                            className: P.reactionCount,
                            style: b,
                            children: x
                        })]
                    })
                }),
                p = a.memo(function(e) {
                    let {
                        showImmediate: t,
                        reactions: n,
                        ...l
                    } = e, [i, r] = a.useState(!1), [u, d] = a.useTransition(), f = a.useCallback(e => {
                        e && !i && !u && d(() => {
                            r(!0)
                        })
                    }, [i, u]), _ = (0, o.useIsVisible)(f), I = (!i || u) && !t, p = I ? m : E.Reaction;
                    return (0, s.jsxs)(s.Fragment, {
                        children: [(0, s.jsx)("div", {
                            ref: _
                        }), n.map(e => {
                            var t, n;
                            return (0, s.jsx)(p, {
                                ...l,
                                ...e
                            }, (t = e, "".concat(t.type === c.ReactionTypes.BURST ? "burst:" : "").concat(null !== (n = t.emoji.id) && void 0 !== n ? n : 0, ":").concat(t.emoji.name)))
                        })]
                    })
                })
        },
        844061: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return eO
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("446674"),
                i = n("77078"),
                r = n("272030"),
                u = n("819689"),
                o = n("987317"),
                d = n("990766"),
                c = n("798609"),
                f = n("63522"),
                E = n("881536"),
                _ = n("441979"),
                I = n("605250"),
                m = n("201131"),
                p = n("95039"),
                h = n("289967"),
                T = n("866027"),
                g = n("398604"),
                S = n("477558"),
                A = n("592407"),
                N = n("86456"),
                C = n("393414"),
                M = n("244480"),
                O = n("488464"),
                R = n("808422"),
                v = n("120252"),
                L = n("967241"),
                P = n("936436"),
                x = n("271938"),
                D = n("950104"),
                y = n("42203"),
                U = n("305961"),
                b = n("957255"),
                j = n("824563"),
                G = n("18494"),
                B = n("697218"),
                k = n("800762"),
                F = n("277174"),
                w = n("497880"),
                H = n("944662"),
                V = n("748880"),
                Y = n("888393"),
                K = n("548703"),
                W = n("859316"),
                z = n("427655"),
                J = n("161225"),
                X = n("41163"),
                Z = n("108984"),
                q = n("924399"),
                Q = n("954060"),
                $ = n("178889"),
                ee = n("52538"),
                et = n("879033"),
                en = n("523257"),
                es = n("14733"),
                ea = n("513448"),
                el = n("606099"),
                ei = n("151218"),
                er = n("423509"),
                eu = n("80301"),
                eo = n("210977"),
                ed = n("512622"),
                ec = n("874612"),
                ef = n("703712"),
                eE = n("659500"),
                e_ = n("387111"),
                eI = n("286235"),
                em = n("299039"),
                ep = n("95045"),
                eh = n("232259"),
                eT = n("49111"),
                eg = n("706530"),
                eS = n("782340"),
                eA = n("896393");

            function eN(e) {
                let {
                    message: t,
                    channel: n,
                    compact: i
                } = e, {
                    author: r
                } = t, {
                    guild_id: u
                } = n, o = t.getChannelId(), d = (0, l.useStateFromStores)([U.default], () => U.default.getGuild(u), [u]), c = a.useCallback(() => {
                    null != d && (0, p.openGuildBoostingMarketingModal)({
                        guildId: d.id,
                        location: {
                            section: eT.AnalyticsSections.CHANNEL_TEXT_AREA,
                            object: eT.AnalyticsObjects.BOOST_ANNOUNCEMENT_UPSELL
                        }
                    })
                }, [d]), f = (0, eh.useUsernameHook)(r, o, n.guild_id, !0);
                return (0, s.jsx)(ef.default, {
                    message: t,
                    compact: i,
                    guild: d,
                    usernameHook: f,
                    onClickMessage: c
                })
            }

            function eC(e) {
                let {
                    message: t,
                    compact: n,
                    channel: a
                } = e, l = (0, eh.useUsernameHook)(t.author, a.id, a.guild_id);
                return (0, s.jsx)(J.default, {
                    message: t,
                    compact: n,
                    usernameHook: l
                })
            }
            let eM = Object.freeze({
                [eT.MessageTypes.DEFAULT]: void 0,
                [eT.MessageTypes.REPLY]: void 0,
                [eT.MessageTypes.CHAT_INPUT_COMMAND]: void 0,
                [eT.MessageTypes.CONTEXT_MENU_COMMAND]: void 0,
                [eT.MessageTypes.RECIPIENT_ADD]: function(e) {
                    let {
                        message: t,
                        channel: n,
                        compact: a
                    } = e, {
                        author: i
                    } = t, r = t.getChannelId(), u = (0, l.useStateFromStores)([B.default], () => B.default.getUser(t.mentions[0]), [t]), o = e_.default.getName(null, r, u), d = (0, eh.useUsernameHook)(i, r, n.guild_id), c = (0, eh.useUsernameHook)(u, r, n.guild_id);
                    return n.isThread() ? (0, s.jsx)(eu.default, {
                        message: t,
                        channel: n,
                        compact: a,
                        targetUser: u,
                        actorUsernameHook: d,
                        targetUsernameHook: c
                    }) : (0, s.jsx)(ee.default, {
                        message: t,
                        compact: a,
                        otherUsername: o,
                        usernameHook: d,
                        otherUsernameHook: c
                    })
                },
                [eT.MessageTypes.RECIPIENT_REMOVE]: function(e) {
                    let {
                        message: t,
                        channel: n,
                        compact: a
                    } = e, {
                        author: i
                    } = t, r = t.getChannelId(), u = (0, l.useStateFromStores)([B.default], () => B.default.getUser(t.mentions[0]), [t]), o = (0, eh.useUsernameHook)(i, r, n.guild_id), d = (0, eh.useUsernameHook)(u, r, n.guild_id);
                    return n.isThread() ? (0, s.jsx)(eo.default, {
                        message: t,
                        channel: n,
                        compact: a,
                        targetUser: u,
                        actorUsernameHook: o,
                        targetUsernameHook: d
                    }) : null != u && u.id !== i.id ? (0, s.jsx)(et.default, {
                        message: t,
                        channel: n,
                        compact: a,
                        usernameHook: o,
                        otherUser: u,
                        otherUsernameHook: d
                    }) : (0, s.jsx)(et.default, {
                        message: t,
                        channel: n,
                        usernameHook: o
                    })
                },
                [eT.MessageTypes.CALL]: function(e) {
                    let {
                        message: t,
                        compact: n,
                        channel: i
                    } = e, {
                        id: r,
                        author: u
                    } = t, d = x.default.getId(), c = t.getChannelId(), f = (0, l.useStateFromStores)([D.default], () => D.default.isCallActive(c, r), [c, r]), E = (0, l.useStateFromStores)([k.default], () => k.default.getVoiceState(eT.ME, d)), _ = !f && null != t.call && !t.call.participants.includes(d), I = f && (null == E || E.channelId !== c), m = a.useCallback(() => o.default.selectVoiceChannel(c), [c]), p = (0, eh.useUsernameHook)(u, c, i.guild_id);
                    return (0, s.jsx)(V.default, {
                        compact: n,
                        message: t,
                        missed: _,
                        joinable: I,
                        usernameHook: p,
                        onClickJoinCall: m
                    })
                },
                [eT.MessageTypes.CHANNEL_NAME_CHANGE]: function(e) {
                    let {
                        message: t,
                        compact: n,
                        channel: a
                    } = e, {
                        author: l
                    } = t, i = t.getChannelId(), r = (0, eh.useUsernameHook)(l, i, a.guild_id);
                    return (0, s.jsx)(W.default, {
                        compact: n,
                        message: t,
                        usernameHook: r,
                        isForumPost: a.isForumPost()
                    })
                },
                [eT.MessageTypes.CHANNEL_ICON_CHANGE]: function(e) {
                    let {
                        message: t,
                        compact: n,
                        channel: a
                    } = e, {
                        author: l
                    } = t, i = t.getChannelId(), r = (0, eh.useUsernameHook)(l, i, a.guild_id);
                    return (0, s.jsx)(K.default, {
                        compact: n,
                        message: t,
                        usernameHook: r
                    })
                },
                [eT.MessageTypes.CHANNEL_PINNED_MESSAGE]: function(e) {
                    let {
                        message: t,
                        compact: n,
                        channel: l
                    } = e, {
                        author: i
                    } = t, r = t.getChannelId(), u = a.useCallback(() => {
                        if (G.default.getChannelId() !== r) {
                            let e = y.default.getChannel(r);
                            null != e && (0, C.transitionToGuild)(e.guild_id, e.id)
                        }
                        setTimeout(() => eE.ComponentDispatch.dispatch(eT.ComponentActions.TOGGLE_CHANNEL_PINS), 0)
                    }, [r]), o = (0, eh.useUsernameHook)(i, r, l.guild_id);
                    return (0, s.jsx)(z.default, {
                        message: t,
                        compact: n,
                        usernameHook: o,
                        onClickPins: __OVERLAY__ ? null : u
                    })
                },
                [eT.MessageTypes.USER_JOIN]: function(e) {
                    let {
                        message: t,
                        compact: n,
                        channel: a
                    } = e, {
                        author: l
                    } = t, i = t.getChannelId(), r = (0, eh.useUsernameHook)(l, i, a.guild_id);
                    return (0, s.jsxs)(s.Fragment, {
                        children: [(0, s.jsx)(ec.default, {
                            message: t,
                            compact: n,
                            usernameHook: r
                        }), (0, s.jsx)(P.WelcomeCTAContainer, {
                            channel: a,
                            message: t
                        })]
                    })
                },
                [eT.MessageTypes.GUILD_BOOST]: eN,
                [eT.MessageTypes.GUILD_BOOST_TIER_1]: eN,
                [eT.MessageTypes.GUILD_BOOST_TIER_2]: eN,
                [eT.MessageTypes.GUILD_BOOST_TIER_3]: eN,
                [eT.MessageTypes.CHANNEL_FOLLOW_ADD]: function(e) {
                    let {
                        message: t,
                        compact: n,
                        channel: a
                    } = e, {
                        author: l
                    } = t, i = t.getChannelId(), r = (0, eh.useUsernameHook)(l, i, a.guild_id);
                    return (0, s.jsx)(Y.default, {
                        message: t,
                        compact: n,
                        usernameHook: r
                    })
                },
                [eT.MessageTypes.GUILD_STREAM]: function(e) {
                    let {
                        message: t,
                        compact: n,
                        channel: i
                    } = e, {
                        author: r,
                        author: {
                            id: u
                        },
                        messageReference: o
                    } = t, c = t.getChannelId(), f = (0, l.useStateFromStores)([j.default], () => j.default.findActivity(u, e => e.type === eT.ActivityTypes.PLAYING), [u]), E = (0, l.useStateFromStores)([y.default], () => null != o ? y.default.getChannel(o.channel_id) : null, [o]), _ = null == o ? void 0 : o.guild_id, I = (0, eh.useUsernameHook)(r, c, i.guild_id), m = a.useCallback(() => {
                        null != E && null != _ && (0, d.watchStreamAndTransitionToStream)({
                            streamType: eg.StreamTypes.GUILD,
                            ownerId: u,
                            channelId: E.id,
                            guildId: _
                        })
                    }, [u, E, _]);
                    return null != o && null != E && null != o.guild_id ? (0, s.jsx)(Q.default, {
                        message: t,
                        compact: n,
                        channel: E,
                        playingActivity: f,
                        onJoinStream: m,
                        usernameHook: I
                    }) : null
                },
                [eT.MessageTypes.GUILD_DISCOVERY_DISQUALIFIED]: function(e) {
                    let {
                        message: t,
                        compact: n
                    } = e, a = t.getChannelId(), i = (0, l.useStateFromStores)([y.default], () => y.default.getChannel(a), [a]), r = null != i ? i.getGuildId() : null;
                    return (0, s.jsx)(X.UIKitGuildDiscoveryDisqualified, {
                        message: t,
                        compact: n,
                        onClick: () => {
                            null != r && A.default.open(r, eT.GuildSettingsSections.DISCOVERY)
                        }
                    })
                },
                [eT.MessageTypes.GUILD_DISCOVERY_REQUALIFIED]: X.UIKitGuildDiscoveryRequalified,
                [eT.MessageTypes.GUILD_DISCOVERY_GRACE_PERIOD_INITIAL_WARNING]: X.UIKitGuildDiscoveryGracePeriodInitialWarning,
                [eT.MessageTypes.GUILD_DISCOVERY_GRACE_PERIOD_FINAL_WARNING]: X.UIKitGuildDiscoveryGracePeriodFinalWarning,
                [eT.MessageTypes.THREAD_CREATED]: function(e) {
                    let {
                        message: t,
                        channel: l,
                        compact: u
                    } = e, o = (0, eh.useUsernameHook)(t.author, t.channel_id, l.guild_id), d = a.useCallback(async e => {
                        var n;
                        let s = null === (n = t.messageReference) || void 0 === n ? void 0 : n.channel_id;
                        if (null != s) {
                            await v.default.loadThread(s);
                            let t = y.default.getChannel(s);
                            null != t && (0, L.openThreadSidebarForViewing)(t, e.shiftKey)
                        }
                    }, [t]), c = a.useCallback(() => {
                        (0, i.openModalLazy)(async () => {
                            let {
                                default: e
                            } = await n.el("33250").then(n.bind(n, "33250"));
                            return t => (0, s.jsx)(e, {
                                channel: l,
                                ...t
                            })
                        })
                    }, [l]), f = a.useCallback(e => {
                        var a;
                        let l = y.default.getChannel(null === (a = t.messageReference) || void 0 === a ? void 0 : a.channel_id);
                        null != l && (0, r.openContextMenuLazy)(e, async () => {
                            let {
                                default: e
                            } = await n.el("994827").then(n.bind(n, "994827"));
                            return t => (0, s.jsx)(e, {
                                ...t,
                                channel: l
                            })
                        })
                    }, [t]);
                    return (0, s.jsx)(er.default, {
                        message: t,
                        compact: u,
                        usernameHook: o,
                        onClickThread: d,
                        onClickViewThreads: c,
                        onContextMenuThread: f
                    })
                },
                [eT.MessageTypes.THREAD_STARTER_MESSAGE]: ed.default,
                [eT.MessageTypes.GUILD_INVITE_REMINDER]: function(e) {
                    var t;
                    let {
                        message: n,
                        channel: a,
                        compact: i
                    } = e, r = (0, l.useStateFromStores)([B.default], () => B.default.getCurrentUser()), u = (0, l.useStateFromStores)([U.default], () => {
                        var e;
                        return null !== (t = null === (e = U.default.getGuild(a.getGuildId())) || void 0 === e ? void 0 : e.isOwner(r)) && void 0 !== t && t
                    });
                    return (0, s.jsx)($.default, {
                        message: n,
                        compact: i,
                        isOwner: u,
                        channel: a
                    })
                },
                [eT.MessageTypes.AUTO_MODERATION_ACTION]: function(e) {
                    let {
                        message: t,
                        compact: n,
                        channel: a
                    } = e;
                    return (0, m.isAutomodMessageRecord)(t) ? (0, s.jsx)(H.default, {
                        message: t,
                        compact: n,
                        channel: a
                    }) : null
                },
                [eT.MessageTypes.GUILD_INCIDENT_ALERT_MODE_ENABLED]: eC,
                [eT.MessageTypes.GUILD_INCIDENT_ALERT_MODE_DISABLED]: eC,
                [eT.MessageTypes.GUILD_INCIDENT_REPORT_RAID]: function(e) {
                    let {
                        message: t,
                        compact: n,
                        channel: a
                    } = e, l = (0, eh.useUsernameHook)(t.author, a.id, a.guild_id);
                    return (0, s.jsx)(q.default, {
                        message: t,
                        compact: n,
                        channel: a,
                        usernameHook: l
                    })
                },
                [eT.MessageTypes.GUILD_INCIDENT_REPORT_FALSE_ALARM]: function(e) {
                    let {
                        message: t,
                        compact: n,
                        channel: a
                    } = e, l = (0, eh.useUsernameHook)(t.author, a.id, a.guild_id);
                    return (0, s.jsx)(Z.default, {
                        message: t,
                        compact: n,
                        channel: a,
                        usernameHook: l
                    })
                },
                [eT.MessageTypes.ROLE_SUBSCRIPTION_PURCHASE]: T.default,
                [eT.MessageTypes.PURCHASE_NOTIFICATION]: function(e) {
                    var t;
                    let {
                        message: n,
                        channel: a,
                        compact: l
                    } = e;
                    return (null === (t = n.purchaseNotification) || void 0 === t ? void 0 : t.type) === c.PurchaseNotificationType.GUILD_PRODUCT ? (0, s.jsx)(h.default, {
                        message: n,
                        channel: a,
                        compact: l
                    }) : null
                },
                [eT.MessageTypes.INTERACTION_PREMIUM_UPSELL]: void 0,
                [eT.MessageTypes.STAGE_START]: function(e) {
                    let {
                        message: t,
                        channel: n,
                        compact: a
                    } = e, i = (0, eh.useUsernameHook)(t.author, n.id, n.guild_id), r = (0, l.useStateFromStores)([g.default], () => g.default.getActiveEventByChannel(n.id), [n.id]);
                    return (0, s.jsxs)(s.Fragment, {
                        children: [(0, s.jsx)(el.default, {
                            message: t,
                            compact: a,
                            usernameHook: i
                        }), null != r && r.name === t.content ? (0, s.jsx)(S.default, {
                            code: "".concat(n.guild_id, "-").concat(r.id)
                        }) : null]
                    })
                },
                [eT.MessageTypes.STAGE_END]: function(e) {
                    let {
                        message: t,
                        channel: n,
                        compact: a
                    } = e, l = (0, eh.useUsernameHook)(t.author, n.id, n.guild_id);
                    return (0, s.jsx)(en.default, {
                        message: t,
                        compact: a,
                        usernameHook: l
                    })
                },
                [eT.MessageTypes.STAGE_SPEAKER]: function(e) {
                    let {
                        message: t,
                        channel: n,
                        compact: a
                    } = e, l = (0, eh.useUsernameHook)(t.author, n.id, n.guild_id);
                    return (0, s.jsx)(ea.default, {
                        message: t,
                        compact: a,
                        usernameHook: l
                    })
                },
                [eT.MessageTypes.STAGE_RAISE_HAND]: function(e) {
                    var t, n;
                    let {
                        message: a,
                        channel: r,
                        compact: o
                    } = e, d = (0, eh.useUsernameHook)(a.author, r.id, r.guild_id), c = (0, l.useStateFromStores)([b.default], () => b.default.can(eT.Permissions.MUTE_MEMBERS, r)), f = (0, l.useStateFromStores)([O.default], () => O.default.getParticipant(r.id, a.author.id)), E = new Date(em.default.extractTimestamp(a.id)).toISOString() === new Date(null !== (n = null == f ? void 0 : null === (t = f.voiceState) || void 0 === t ? void 0 : t.requestToSpeakTimestamp) && void 0 !== n ? n : 0).toISOString(), _ = c && (null == f ? void 0 : f.rtsState) === R.RequestToSpeakStates.REQUESTED_TO_SPEAK && E;
                    return (0, s.jsxs)(s.Fragment, {
                        children: [(0, s.jsx)(es.default, {
                            message: a,
                            compact: o,
                            usernameHook: d
                        }), _ ? (0, s.jsxs)(i.Button, {
                            wrapperClassName: eA.inviteToSpeakButtonWrapper,
                            innerClassName: eA.inviteToSpeakButtonInner,
                            look: i.Button.Looks.FILLED,
                            color: i.Button.Colors.PRIMARY,
                            onClick: () => {
                                (0, M.setUserSuppress)(r, a.author.id, !1), u.default.deleteMessage(r.id, a.id, !0)
                            },
                            children: [(0, s.jsx)(F.default, {
                                height: 20,
                                width: 20
                            }), eS.default.Messages.REQUEST_TO_SPEAK_ACCEPT]
                        }) : null]
                    })
                },
                [eT.MessageTypes.STAGE_TOPIC]: function(e) {
                    let {
                        message: t,
                        channel: n,
                        compact: a
                    } = e, l = (0, eh.useUsernameHook)(t.author, n.id, n.guild_id);
                    return (0, s.jsx)(ei.default, {
                        message: t,
                        compact: a,
                        usernameHook: l
                    })
                },
                [eT.MessageTypes.GUILD_APPLICATION_PREMIUM_SUBSCRIPTION]: f.default,
                [eT.MessageTypes.PRIVATE_CHANNEL_INTEGRATION_ADDED]: N.PrivateChannelIntegrationAddedSystemMessage,
                [eT.MessageTypes.PRIVATE_CHANNEL_INTEGRATION_REMOVED]: N.PrivateChannelIntegrationRemovedSystemMessage,
                [eT.MessageTypes.PREMIUM_REFERRAL]: void 0,
                [eT.MessageTypes.GUILD_DEADCHAT_REVIVE_PROMPT]: function(e) {
                    let {
                        message: t,
                        channel: n,
                        compact: a
                    } = e;
                    return (0, s.jsx)(_.default, {
                        message: t,
                        channel: n,
                        compact: a
                    })
                },
                [eT.MessageTypes.CUSTOM_GIFT]: void 0,
                [eT.MessageTypes.GUILD_GAMING_STATS_PROMPT]: function(e) {
                    let {
                        message: t,
                        channel: n,
                        compact: a
                    } = e;
                    return (0, s.jsx)(E.default, {
                        message: t,
                        channel: n,
                        compact: a
                    })
                },
                [eT.MessageTypes.POLL]: void 0
            });
            var eO = a.memo(function(e) {
                let {
                    message: t,
                    channel: n,
                    compact: a
                } = e, {
                    type: l
                } = t, i = eM[l];
                if (null == i) {
                    var r;
                    return r = Error("unknown message type ".concat(t.type)), eI.default.captureException(r), new(0, I.default)("SystemMessage").error("", r), null
                }
                return (0, s.jsx)(w.default, {
                    message: t,
                    content: (0, ep.default)(t).content,
                    children: (0, s.jsx)(i, {
                        message: t,
                        channel: n,
                        compact: a
                    })
                })
            })
        },
        909917: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("627445"),
                l = n.n(a),
                i = n("246060"),
                r = n("730541"),
                u = n("407972"),
                o = n("981601"),
                d = n("42203"),
                c = n("25116");

            function f(e, t) {
                if ((0, r.isPublicSystemMessage)(t)) return (0, s.jsx)(u.default, {});
                if ((0, c.default)(t)) {
                    let {
                        guild_id: e,
                        channel_id: n,
                        message_id: a
                    } = t.messageReference;
                    if (null != e) return (0, s.jsx)(i.default, {
                        guildId: e,
                        channelId: n,
                        messageId: a
                    })
                }
                if (null != t.interaction && "SENDING" === t.state) return (0, s.jsx)(s.Fragment, {});
                let n = d.default.getChannel(t.channel_id);
                return l(null != n, "renderUserGuildPopout: channel should never be null"), (0, s.jsx)(o.default, {
                    ...e,
                    channelId: t.channel_id,
                    guildId: n.guild_id,
                    userId: t.author.id,
                    user: null != t.webhookId ? t.author : void 0
                })
            }
        },
        380986: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useClickMessageAuthorUsername: function() {
                    return O
                },
                useClickReferencedMessageAuthorUsername: function() {
                    return R
                },
                useClickInteractionUserUsername: function() {
                    return v
                },
                useClickMessageAuthorAvatar: function() {
                    return P
                },
                useClickReferencedMessageAuthorAvatar: function() {
                    return x
                },
                useClickInteractionUserAvatar: function() {
                    return D
                },
                useContextMenuMessage: function() {
                    return y
                },
                useContextMenuUser: function() {
                    return U
                },
                useContextMenuModerateUser: function() {
                    return b
                },
                useContextMenuRaidAlert: function() {
                    return j
                },
                useClickMessage: function() {
                    return G
                },
                useHoveredMessage: function() {
                    return B
                },
                useFocusInside: function() {
                    return k
                },
                useClickReply: function() {
                    return F
                },
                useClickInteractionCommandName: function() {
                    return w
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("404118"),
                i = n("272030"),
                r = n("819689"),
                u = n("352674"),
                o = n("244201"),
                d = n("42203"),
                c = n("836417"),
                f = n("377253"),
                E = n("697218"),
                _ = n("659500"),
                I = n("791776"),
                m = n("568734"),
                p = n("773336"),
                h = n("158998"),
                T = n("441823"),
                g = n("913491"),
                S = n("456936"),
                A = n("49111"),
                N = n("782340");

            function C(e, t, n) {
                return a.useCallback(() => {
                    n({
                        [e]: !t
                    })
                }, [e, n, t])
            }

            function M(e, t, n) {
                return a.useCallback(s => {
                    let a = E.default.getUser(e);
                    if (null == a) return;
                    if (s.preventDefault(), s.stopPropagation(), !s.shiftKey) {
                        n();
                        return
                    }
                    let l = "@".concat(h.default.getUserTag(a, {
                            decoration: "never"
                        })),
                        i = "<@".concat(e, ">");
                    _.ComponentDispatch.dispatchToLastSubscribed(A.ComponentActions.INSERT_TEXT, {
                        plainText: l,
                        rawText: i
                    }), u.default.startTyping(t)
                }, [e, t, n])
            }

            function O(e, t, n, s) {
                let a = C("usernameProfile", n, s);
                return M(e.author.id, t.id, a)
            }

            function R(e, t, n, s) {
                let a = C("referencedUsernameProfile", n, s);
                return M(null == e ? void 0 : e.author.id, t.id, a)
            }

            function v(e, t, n, s) {
                let a = C("interactionUsernameProfile", n, s);
                return M(null == e ? void 0 : e.user.id, t.id, a)
            }

            function L(e) {
                return a.useCallback(t => {
                    t.preventDefault(), t.stopPropagation(), e()
                }, [e])
            }

            function P(e, t) {
                let n = C("avatarProfile", e, t);
                return L(n)
            }

            function x(e, t) {
                let n = C("referencedAvatarProfile", e, t);
                return L(n)
            }

            function D(e, t) {
                let n = C("interactionAvatarProfile", e, t);
                return L(n)
            }

            function y(e, t, l, r) {
                let {
                    id: u
                } = t, {
                    id: E,
                    flags: _
                } = e, I = (0, m.hasFlag)(_, A.MessageFlags.EPHEMERAL), h = (0, g.default)(e), T = (0, o.useAppContext)();
                return a.useCallback((e, t) => {
                    if (I) return;
                    if (!p.isPlatformEmbedded) {
                        let t = e.target;
                        if ("A" === t.tagName && "" !== t.textContent || null == window.getSelection) return;
                        let n = window.getSelection();
                        if (null != n && !n.isCollapsed && (n.focusNode === e.target || t.contains(n.focusNode))) return
                    }
                    let a = d.default.getChannel(u),
                        o = f.default.getMessage(u, E),
                        _ = c.default.isEditing(u, E);
                    null != a && null != o && !_ && (l({
                        contextMenu: !0
                    }), (0, i.openContextMenuLazy)(e, async () => {
                        if (h) {
                            let {
                                default: e
                            } = await n.el("385065").then(n.bind(n, "385065"));
                            return n => (0, s.jsx)(e, {
                                ...n,
                                message: o,
                                channel: a,
                                attachment: t
                            })
                        } {
                            let {
                                default: e
                            } = await n.el("261649").then(n.bind(n, "261649"));
                            return n => (0, s.jsx)(e, {
                                ...n,
                                message: o,
                                channel: a,
                                attachment: t,
                                shouldHideMediaOptions: r
                            })
                        }
                    }, {
                        onClose: () => l({
                            contextMenu: !1
                        }),
                        context: T
                    }))
                }, [I, u, E, l, T, h, r])
            }

            function U(e, t) {
                return a.useCallback(n => {
                    let s = E.default.getUser(e),
                        a = d.default.getChannel(t);
                    null != s && null != a && (n.stopPropagation(), (0, T.openUserContextMenu)(n, s, a))
                }, [e, t])
            }

            function b(e, t, n) {
                return a.useCallback(s => {
                    let a = E.default.getUser(e),
                        l = d.default.getChannel(t);
                    null != a && null != l && (s.stopPropagation(), (0, T.openModerateUserContextMenu)(s, {
                        user: a,
                        channel: l,
                        moderationAlertId: n
                    }))
                }, [e, t, n])
            }

            function j(e, t) {
                return a.useCallback(n => {
                    let s = E.default.getUser(e),
                        a = d.default.getChannel(t);
                    null != s && null != a && (n.stopPropagation(), (0, T.openModerationRaidContextMenu)(n, s, a.guild_id))
                }, [e, t])
            }

            function G(e, t) {
                let {
                    id: n
                } = e, {
                    id: s
                } = t;
                return a.useCallback(e => {
                    e.altKey && (e.preventDefault(), (0, S.default)(s, n))
                }, [s, n])
            }

            function B(e, t, n) {
                let s = "".concat(e, ":").concat(t),
                    l = a.useRef(n),
                    [i, r] = a.useState(n);
                l.current = i || l.current;
                let u = a.useCallback(() => {
                        !i && (_.ComponentDispatch.dispatchKeyed(A.ComponentActionsKeyed.ANIMATE_CHAT_AVATAR, s, !0), r(!0))
                    }, [i, s]),
                    o = a.useCallback(() => {
                        _.ComponentDispatch.dispatchKeyed(A.ComponentActionsKeyed.ANIMATE_CHAT_AVATAR, s, !1), r(!1)
                    }, [s]);
                return {
                    hasHovered: l.current,
                    isHovered: i,
                    handleMouseEnter: u,
                    handleMouseLeave: o
                }
            }

            function k(e, t) {
                let [n, s] = a.useState(!1), [l, i] = a.useState(!1), r = a.useCallback(t => {
                    var n, a;
                    let l = null !== (a = null === (n = (0, I.eventOwnerDocument)(t)) || void 0 === n ? void 0 : n.activeElement) && void 0 !== a ? a : null;
                    (t.target === t.currentTarget || t.currentTarget.contains(l)) && (i(!0), s(!0)), null != e && e(t)
                }, [e]), u = a.useCallback(e => {
                    var n, a;
                    let l = null !== (a = null === (n = (0, I.eventOwnerDocument)(e)) || void 0 === n ? void 0 : n.activeElement) && void 0 !== a ? a : null;
                    (e.target === e.currentTarget || !e.currentTarget.contains(l)) && s(!1), null != t && t(e)
                }, [t]);
                return {
                    handleFocus: r,
                    handleBlur: u,
                    isFocused: n,
                    hasFocused: l
                }
            }

            function F(e, t) {
                let n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                return a.useCallback(() => {
                    null != t && (n ? l.default.show({
                        title: N.default.Messages.UNBLOCK_TO_JUMP_TITLE,
                        body: N.default.Messages.UNBLOCK_TO_JUMP_BODY.format({
                            name: t.author.username
                        }),
                        confirmText: N.default.Messages.OKAY
                    }) : r.default.jumpToMessage({
                        channelId: t.channel_id,
                        messageId: t.id,
                        flash: !0,
                        returnMessageId: e.id
                    }))
                }, [n, e.id, t])
            }

            function w(e, t) {
                let n = C("interactionData", e, t);
                return a.useCallback(e => {
                    e.preventDefault(), e.stopPropagation(), n()
                }, [n])
            }
        },
        969706: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var s = n("884691"),
                a = n("659500"),
                l = n("49111");

            function i(e) {
                return Object.keys(e).some(t => e[t])
            }

            function r(e, t) {
                let [n, r] = s.useState(t), [u, o] = s.useState(i(n)), d = s.useRef(u), c = s.useRef(null), f = s.useCallback(e => {
                    r(t => {
                        let n = {
                                ...t,
                                ...e
                            },
                            s = i(n);
                        return s !== d.current && (d.current = s, null != c.current && (cancelAnimationFrame(c.current), c.current = null), s ? o(!0) : c.current = requestAnimationFrame(() => o(!1))), n
                    })
                }, []);
                return s.useEffect(() => {
                    let t = e => {
                        let {
                            emojiPicker: t,
                            emojiBurstPicker: n
                        } = e;
                        return f({
                            emojiPicker: t,
                            emojiBurstPicker: n
                        })
                    };
                    return a.ComponentDispatch.subscribeKeyed(l.ComponentActionsKeyed.TOGGLE_REACTION_POPOUT, e, t), () => void a.ComponentDispatch.unsubscribeKeyed(l.ComponentActionsKeyed.TOGGLE_REACTION_POPOUT, e, t)
                }, [e, f]), {
                    popouts: n,
                    setPopout: f,
                    selected: u
                }
            }
        },
        68480: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var s = n("884691"),
                a = n("298386"),
                l = n("446674"),
                i = n("811425"),
                r = n("305961"),
                u = n("333363"),
                o = n("596512"),
                d = n("49111");

            function c(e) {
                var t, n;
                let {
                    message: c,
                    channel: f,
                    enabled: E = !0
                } = e, _ = (0, l.useStateFromStores)([r.default], () => {
                    var e;
                    let t = r.default.getGuild(f.guild_id);
                    return null !== (e = null == t ? void 0 : t.hasFeature(d.GuildFeatures.COMMUNITY)) && void 0 !== e && e
                }, [f.guild_id]), I = (null === (t = c.messageReference) || void 0 === t ? void 0 : t.guild_id) != null && null != c.webhookId && c.hasFlag(d.MessageFlags.IS_CROSSPOST) && null != f.guild_id, m = f.type === a.ChannelTypes.GUILD_ANNOUNCEMENT && _, p = !c.hasFlag(d.MessageFlags.EPHEMERAL) && (I || m), h = I && null != c.messageReference ? c.messageReference.message_id : c.id, T = I && null != c.messageReference ? c.messageReference.channel_id : f.id, g = I && (null === (n = c.messageReference) || void 0 === n ? void 0 : n.guild_id) != null ? c.messageReference.guild_id : f.guild_id, S = s.useCallback(e => {
                    e ? o.default.handleMessageBecameVisible({
                        messageId: h,
                        channelId: f.id,
                        guildId: f.guild_id,
                        sourceChannelId: T,
                        sourceGuildId: g
                    }) : o.default.handleMessageLostVisibility(h)
                }, [h, f.id, f.guild_id, T, g]), A = u.default.useExperiment({
                    location: "836a4b_1"
                }, {
                    disable: !p || !E,
                    autoTrackExposure: !0
                }).enabled, N = (0, i.useIsVisible)(S, 0, A);
                return s.useEffect(() => () => {
                    o.default.handleMessageLostVisibility(h)
                }, [h]), N
            }
        },
        430625: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return k
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("414456"),
                i = n.n(l),
                r = n("627445"),
                u = n.n(r),
                o = n("446674"),
                d = n("769846"),
                c = n("77078"),
                f = n("970728"),
                E = n("191225"),
                _ = n("969380"),
                I = n("817039"),
                m = n("812204"),
                p = n("685665"),
                h = n("442939"),
                T = n("419830"),
                g = n("813006"),
                S = n("42203"),
                A = n("305961"),
                N = n("957255"),
                C = n("697218"),
                M = n("174622"),
                O = n("98292"),
                R = n("811305"),
                v = n("159885"),
                L = n("793079"),
                P = n("49111"),
                x = n("91366"),
                D = n("782340"),
                y = n("420515");
            let U = (0, v.cssValueToNumber)(d.default.EMBEDDED_APPLICATION_INVITE_IMAGE_WIDTH_LARGE),
                b = (0, v.cssValueToNumber)(d.default.EMBEDDED_APPLICATION_INVITE_IMAGE_WIDTH_SMALL),
                j = (0, v.cssValueToNumber)(d.default.EMBEDDED_APPLICATION_INVITE_CONTENT_WIDTH);

            function G(e) {
                let {
                    members: t,
                    membersOnline: n,
                    isLarge: a,
                    isStacked: l
                } = e, r = [];
                return null != n && n > 0 && r.push((0, s.jsxs)("div", {
                    className: y.statusWrapper,
                    children: [(0, s.jsx)("i", {
                        className: y.statusOnline
                    }), (0, s.jsx)(c.Text, {
                        variant: "text-xs/normal",
                        className: y.count,
                        children: D.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({
                            membersOnline: n
                        })
                    })]
                }, "onlineCount")), null != t && r.push((0, s.jsxs)("div", {
                    className: y.statusWrapper,
                    children: [(0, s.jsx)("i", {
                        className: y.statusOffline
                    }), (0, s.jsx)(c.Text, {
                        variant: "text-xs/normal",
                        className: y.count,
                        children: D.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({
                            count: t
                        })
                    })]
                }, "memberCount")), (0, s.jsx)("div", {
                    className: i(y.statusCounts, {
                        [y.large]: a,
                        [y.stacked]: l
                    }),
                    children: r
                })
            }

            function B(e) {
                let {
                    channel: t,
                    guild: n,
                    isStacked: a,
                    hasEnded: l
                } = e;
                if (null != t && null != n) {
                    let e = (0, T.getChannelIconComponent)(t, n);
                    return (0, s.jsxs)("div", {
                        className: i(y.channel, {
                            [y.stacked]: a,
                            [y.ended]: l
                        }),
                        children: [null != e ? (0, s.jsx)(e, {
                            className: y.channelIcon,
                            width: 16,
                            height: 16
                        }) : null, (0, s.jsx)(O.default, {
                            children: (0, s.jsx)(c.Text, {
                                variant: "text-xs/normal",
                                children: D.default.Messages.EMBEDDED_ACTIVITIES_INVITE_CHANNEL_IN_SERVER.format({
                                    channelName: t.name,
                                    serverName: n.name
                                })
                            })
                        })]
                    })
                }
                return null != n ? (0, s.jsx)("div", {
                    className: i(y.channel, {
                        [y.stacked]: a,
                        [y.ended]: l
                    }),
                    children: (0, s.jsx)(O.default, {
                        children: (0, s.jsx)(c.Text, {
                            variant: "text-xs/normal",
                            children: D.default.Messages.INVITE_BUTTON_STREAMING_SUBTEXT.format({
                                guildName: n.name
                            })
                        })
                    })
                }) : null
            }

            function k(e) {
                var t, n;
                let l, r, {
                        invite: d,
                        getAcceptInviteContext: T
                    } = e,
                    {
                        approximate_member_count: O,
                        approximate_presence_count: v,
                        target_type: k,
                        target_application: F
                    } = d;
                u(k === x.InviteTargetTypes.EMBEDDED_APPLICATION && null != F, "invalid application invite");
                let w = a.useRef(null),
                    [H, V] = a.useState(!1),
                    [Y, K] = a.useState(!1);
                a.useEffect(() => {
                    let e = new ResizeObserver(() => (function() {
                            var e;
                            let t = null === (e = w.current) || void 0 === e ? void 0 : e.offsetWidth;
                            null != t && (V(t < j + b), K(t <= 2 * U))
                        })()),
                        t = w.current;
                    return null != t && e.observe(t), () => {
                        e.disconnect()
                    }
                }, [w, V, K]);
                let W = (0, o.useStateFromStores)([A.default], () => null != d.guild ? A.default.getGuild(d.guild.id) : null, [d]),
                    z = (0, h.default)([F.id])[0],
                    J = (0, o.useStateFromStores)([E.default], () => {
                        var e;
                        return (null == d ? void 0 : d.channel) != null && (null === (e = E.default.getSelfEmbeddedActivityForChannel(d.channel.id)) || void 0 === e ? void 0 : e.application_id) === F.id
                    }),
                    X = (0, o.useStateFromStores)([E.default], () => {
                        var e;
                        let t = (null === (e = d.channel) || void 0 === e ? void 0 : e.id) != null ? E.default.getEmbeddedActivitiesForChannel(d.channel.id) : [];
                        return t.some(e => {
                            let {
                                application_id: t
                            } = e;
                            return F.id === t
                        })
                    }),
                    Z = S.default.getChannel(null === (t = d.channel) || void 0 === t ? void 0 : t.id),
                    q = (0, o.useStateFromStores)([N.default], () => null != Z && N.default.can(P.Permissions.USE_EMBEDDED_ACTIVITIES, Z), [Z]),
                    {
                        analyticsLocations: Q
                    } = (0, p.default)(m.default.INVITE_EMBED),
                    $ = (0, _.default)({
                        applicationId: F.id,
                        size: U
                    }),
                    ee = (0, o.useStateFromStoresArray)([E.default], () => null != Z ? E.default.getEmbeddedActivitiesForChannel(Z.id).filter(e => e.application_id === F.id).flatMap(e => Array.from(e.connections.keys())) : [], [Z, F.id]),
                    et = (0, o.useStateFromStoresArray)([C.default], () => ee.map(e => C.default.getUser(e)), [ee]),
                    en = d.state === P.InviteStates.ACCEPTING,
                    es = null != W;
                if (null == W) {
                    if (null == d.guild) return (0, s.jsx)(L.default, {});
                    W = new g.default(d.guild)
                }
                let ea = es && !q || es && J,
                    el = () => {
                        f.default.acceptInviteAndTransitionToInviteChannel({
                            inviteKey: d.code,
                            context: T("Invite Button Embed"),
                            analyticsLocations: Q
                        })
                    };
                return (es && J && (l = D.default.Messages.EMBEDDED_ACTIVITIES_ALREADY_IN_ACTIVITY), !q && (l = D.default.Messages.EMBEDDED_ACTIVITIES_INVALID_PERMISSIONS), r = J ? D.default.Messages.INVITE_EMBED_JOINED : X || !es ? D.default.Messages.JOIN : D.default.Messages.START, null == d.code || "" === d.code) ? null : (0, s.jsxs)("div", {
                    className: y.container,
                    ref: w,
                    children: [(0, s.jsx)("div", {
                        className: i(y.imgContainer, {
                            [y.large]: H,
                            [y.stacked]: Y
                        }),
                        children: (0, s.jsx)(I.default, {
                            imageBackground: $,
                            applicationName: null !== (n = null == z ? void 0 : z.name) && void 0 !== n ? n : "",
                            imageClassName: i(y.img, {
                                [y.large]: H,
                                [y.stacked]: Y
                            }),
                            imageNotFoundClassName: i(y.brokenImg, {
                                [y.large]: H,
                                [y.stacked]: Y
                            })
                        })
                    }), (0, s.jsxs)(M.default, {
                        className: i(y.content, {
                            [y.large]: H,
                            [y.stacked]: Y
                        }),
                        children: [(0, s.jsxs)("div", {
                            className: y.info,
                            children: [(0, s.jsx)(c.FormTitle, {
                                children: es ? D.default.Messages.EMBEDDED_ACTIVITIES_EMBED_TITLE_INVITED_TO_JOIN : D.default.Messages.INVITE_BUTTON_TITLE_INVITED
                            }), (0, s.jsx)(c.Heading, {
                                className: y.heading,
                                variant: "heading-xl/semibold",
                                children: null == z ? void 0 : z.name
                            }), (0, s.jsx)(B, {
                                channel: Z,
                                guild: W,
                                isStacked: Y,
                                hasEnded: !X
                            })]
                        }), (0, s.jsxs)("div", {
                            className: i(y.currentState, {
                                [y.large]: H,
                                [y.split]: !X && Y
                            }),
                            children: [!X && es ? (0, s.jsxs)("div", {
                                className: i(y.endedNote, {
                                    [y.large]: H
                                }),
                                children: [(0, s.jsx)(c.Text, {
                                    variant: "text-xs/medium",
                                    children: D.default.Messages.EMBEDDED_ACTIVITIES_EMBED_ENDED
                                }), (0, s.jsx)(c.Text, {
                                    variant: "text-xs/medium",
                                    children: D.default.Messages.EMBEDDED_ACTIVITIES_EMBED_START
                                })]
                            }) : null, es ? null : (0, s.jsx)(G, {
                                members: O,
                                membersOnline: v,
                                isLarge: H,
                                isStacked: Y
                            }), (0, s.jsxs)("div", {
                                className: y.cta,
                                children: [null != W && X ? (0, s.jsx)("div", {
                                    className: y.avatars,
                                    children: (0, s.jsx)(R.default, {
                                        guildId: W.id,
                                        users: et,
                                        max: 4
                                    })
                                }) : null, (0, s.jsx)(c.Tooltip, {
                                    text: l,
                                    children: e => {
                                        let {
                                            onClick: t,
                                            ...n
                                        } = e;
                                        return (0, s.jsx)(c.Button, {
                                            className: y.actionButton,
                                            onClick: () => {
                                                el(), null == t || t()
                                            },
                                            wrapperClassName: y.tooltipButtonWrapper,
                                            ...n,
                                            submitting: en,
                                            disabled: ea,
                                            color: c.ButtonColors.GREEN,
                                            children: r
                                        })
                                    }
                                })]
                            })]
                        })]
                    })]
                })
            }
        },
        740589: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("446674"),
                l = n("271938"),
                i = n("174622"),
                r = n("883029"),
                u = n("782340");

            function o(e) {
                var t, n;
                let {
                    author: o,
                    inviteError: d
                } = e, c = (0, a.useStateFromStores)([l.default], () => l.default.getId()), f = c === o.id, E = f ? u.default.Messages.INVITE_BUTTON_TITLE_INVITER_INVALID : u.default.Messages.INVITE_BUTTON_TITLE_INVITED_INVALID, _ = (0, r.getDescriptiveInviteError)(null == d ? void 0 : d.code);
                return (0, s.jsxs)(i.default, {
                    children: [(0, s.jsx)(i.default.Header, {
                        text: E
                    }), (0, s.jsxs)(i.default.Body, {
                        children: [(0, s.jsx)(i.default.Icon, {
                            expired: !0
                        }), (0, s.jsx)(i.default.Info, {
                            expired: !0,
                            title: null !== (t = null == _ ? void 0 : _.title) && void 0 !== t ? t : u.default.Messages.INVITE_BUTTON_INVALID,
                            children: null !== (n = null == _ ? void 0 : _.description) && void 0 !== n ? n : null == d ? void 0 : d.message
                        })]
                    })]
                })
            }
        },
        472315: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("446674"),
                i = n("450911"),
                r = n("970728"),
                u = n("766274"),
                o = n("271938"),
                d = n("42203"),
                c = n("27618"),
                f = n("174622"),
                E = n("158998"),
                _ = n("49111"),
                I = n("782340"),
                m = n("18978");

            function p(e) {
                var t;
                let {
                    invite: n,
                    getAcceptInviteContext: p
                } = e, h = (0, l.useStateFromStores)([o.default], () => o.default.getId()), T = (null === (t = n.inviter) || void 0 === t ? void 0 : t.id) === h, g = n.state === _.InviteStates.ACCEPTING, S = (0, l.useStateFromStores)([c.default], () => {
                    var e;
                    return null != n.inviter && c.default.isFriend(null === (e = n.inviter) || void 0 === e ? void 0 : e.id)
                }), A = a.useCallback(() => {
                    if (null != n.inviter) {
                        let e = d.default.getDMFromUserId(n.inviter.id);
                        null != e && i.default.openPrivateChannel([n.inviter.id])
                    }
                }, [n.inviter]), N = a.useCallback(() => {
                    let e = p("Invite Button Embed");
                    r.default.acceptInviteAndTransitionToInviteChannel({
                        inviteKey: n.code,
                        context: e
                    })
                }, [n.code, p]);
                if (null == n.inviter) return null;
                let C = S ? A : N,
                    M = I.default.Messages.INVITE_BUTTON_ADD_FRIEND,
                    O = f.default.Button.Colors.GREEN;
                S ? (M = I.default.Messages.INVITE_BUTTON_ALREADY_FRIENDS, O = f.default.Button.Colors.PRIMARY) : T && (M = I.default.Messages.INVITE_BUTTON_ADD_FRIEND, O = f.default.Button.Colors.PRIMARY);
                let R = T ? I.default.Messages.INVITE_BUTTON_TITLE_INVITER_FRIEND : I.default.Messages.INVITE_BUTTON_TITLE_INVITED_FRIEND,
                    v = null != n.inviter ? "".concat(n.inviter.username) : "",
                    L = null != n.inviter ? E.default.getUserTag(n.inviter) : "";
                return (0, s.jsxs)(f.default, {
                    children: [(0, s.jsx)(f.default.Header, {
                        text: R
                    }), (0, s.jsxs)(f.default.Body, {
                        children: [(0, s.jsxs)("div", {
                            className: m.headerLine,
                            children: [(0, s.jsx)(f.default.Icon, {
                                user: new u.default(n.inviter),
                                onClick: S ? C : void 0
                            }), (0, s.jsx)(f.default.Info, {
                                title: v,
                                onClick: S ? C : void 0,
                                children: L
                            })]
                        }), (0, s.jsx)(f.default.Button, {
                            onClick: C,
                            submitting: g,
                            isDisabled: T,
                            color: O,
                            children: M
                        })]
                    })]
                })
            }
        },
        783940: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return m
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("627445"),
                l = n.n(a),
                i = n("446674"),
                r = n("233069"),
                u = n("42203"),
                o = n("697218"),
                d = n("174622"),
                c = n("449008"),
                f = n("793079"),
                E = n("49111"),
                _ = n("782340"),
                I = n("18978");

            function m(e) {
                let t, {
                        invite: n,
                        author: a,
                        currentUserId: m,
                        onTransitionToInviteChannel: p,
                        onAcceptInstantInvite: h
                    } = e,
                    T = m === a.id,
                    g = n.state === E.InviteStates.ACCEPTING,
                    S = (0, i.useStateFromStores)([u.default], () => null != n.channel ? u.default.getChannel(n.channel.id) : null, [n]);
                l(null == S || S.isPrivate(), "must be a private channel");
                let A = null != S;
                if (null == S) {
                    if (null == n.channel) return (0, s.jsx)(f.default, {});
                    S = (0, r.createChannelRecordFromInvite)(n.channel), t = null != n.channel && null != n.channel.recipients ? n.channel.recipients : []
                } else {
                    t = S.recipients.reduce((e, t) => {
                        let n = o.default.getUser(t);
                        return null != n && e.push(n), e
                    }, []);
                    let e = o.default.getCurrentUser();
                    A && null != e && t.push(e)
                }
                let N = S.name;
                (null == N || "" === N) && (N = t.length > 0 ? t.filter(c.isNotNullish).map(e => e.username).join(", ") : _.default.Messages.UNNAMED);
                let C = A ? p : h,
                    M = _.default.Messages.JOIN_GUILD,
                    O = d.default.Button.Colors.GREEN;
                A && (M = _.default.Messages.JOINED_GUILD, O = d.default.Button.Colors.PRIMARY);
                let R = _.default.Messages.INVITE_BUTTON_TITLE_INVITED_GROUP_DM;
                return T && (R = _.default.Messages.INVITE_BUTTON_TITLE_INVITER_GROUP_DM), (0, s.jsxs)(d.default, {
                    children: [(0, s.jsx)(d.default.Header, {
                        text: R
                    }), (0, s.jsxs)(d.default.Body, {
                        children: [(0, s.jsxs)("div", {
                            className: I.headerLine,
                            children: [(0, s.jsx)(d.default.Icon, {
                                channel: S,
                                onClick: A ? C : void 0
                            }), (0, s.jsx)(d.default.Info, {
                                title: N,
                                onClick: A ? C : void 0,
                                children: (0, s.jsx)(d.default.Data, {
                                    members: t.length
                                })
                            })]
                        }), (0, s.jsx)(d.default.Button, {
                            onClick: C,
                            submitting: g,
                            isDisabled: A,
                            color: O,
                            children: M
                        })]
                    })]
                })
            }
        },
        530078: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return h
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("498574"),
                l = n("77078"),
                i = n("974755"),
                r = n("233069"),
                u = n("174622"),
                o = n("266926"),
                d = n("568734"),
                c = n("427459"),
                f = n("665618"),
                E = n("605953"),
                _ = n("793079"),
                I = n("49111"),
                m = n("782340"),
                p = n("18978");

            function h(e) {
                var t, h, T;
                let g, S, A, {
                        onTransitionToInviteChannel: N,
                        onAcceptInstantInvite: C,
                        guild: M,
                        invite: O,
                        author: R,
                        currentUserId: v
                    } = e,
                    L = v === R.id,
                    {
                        channel: P,
                        approximate_member_count: x,
                        approximate_presence_count: D
                    } = O,
                    y = O.state === I.InviteStates.ACCEPTING,
                    U = null != P ? (0, r.createChannelRecordFromInvite)(P) : null,
                    b = null != M,
                    j = null != U && U.isGuildVocal(),
                    G = null != U && U.isGuildStageVoice(),
                    B = (0, d.hasFlag)(null !== (h = O.flags) && void 0 !== h ? h : 0, a.GuildInviteFlags.IS_GUEST_INVITE),
                    k = null !== (T = null === (t = M) || void 0 === t ? void 0 : t.hasFeature(I.GuildFeatures.HUB)) && void 0 !== T && T;
                if (null == M) {
                    if (null == O.guild) return (0, s.jsx)(_.default, {});
                    M = f.fromInviteGuild(O.guild);
                    let e = (0, c.getGuildTierFromAppliedBoostCount)(O.guild.premium_subscription_count, O.guild.id);
                    M.premiumTier = e
                }
                let F = b ? N : C,
                    w = (0, E.getHeaderTextForInvite)({
                        isVoiceChannel: j,
                        isOwnInvite: L,
                        isGuest: B,
                        isHubGuild: k,
                        isStage: G,
                        isStream: !1
                    });
                return S = (0, s.jsxs)("span", {
                    className: p.infoTitle,
                    children: [(0, s.jsx)(u.default.GuildName, {
                        guild: M
                    }), (0, s.jsx)("span", {
                        className: p.infoBadge,
                        children: (0, s.jsx)(i.default, {
                            guild: M,
                            isBannerVisible: !1,
                            disableBoostClick: !0
                        })
                    })]
                }), B && (A = (0, s.jsx)(l.TooltipContainer, {
                    className: p.tooltipContainer,
                    text: m.default.Messages.GUEST_MEMBERSHIP_EXPLANATION,
                    children: (0, s.jsx)(o.default, {
                        className: p.infoIcon
                    })
                })), j ? (S = (0, s.jsx)(u.default.Channel, {
                    channel: U
                }), g = (0, s.jsxs)("span", {
                    className: p.infoTitle,
                    children: [m.default.Messages.INVITE_BUTTON_BODY_IN_GUILD.format({
                        guildName: M.name
                    }), (0, s.jsx)("span", {
                        className: p.infoBadge,
                        children: (0, s.jsx)(i.default, {
                            guild: M,
                            isBannerVisible: !1
                        })
                    })]
                })) : null != x && x >= 5 || null != D && D > 0 ? g = (0, s.jsx)(u.default.Data, {
                    members: x,
                    membersOnline: D
                }) : null != U && (g = (0, s.jsx)(u.default.Channel, {
                    channel: U,
                    guild: M
                })), (0, s.jsxs)(u.default, {
                    children: [(0, s.jsx)(u.default.GuildSplash, {
                        guild: M
                    }), (0, s.jsx)(u.default.Header, {
                        text: w,
                        extra: A
                    }), (0, s.jsxs)(u.default.Body, {
                        children: [(0, s.jsxs)("div", {
                            className: p.headerLine,
                            children: [(0, s.jsx)(u.default.Icon, {
                                guild: M
                            }), (0, s.jsx)(u.default.Info, {
                                title: S,
                                onClick: b ? F : null,
                                children: g
                            })]
                        }), (0, s.jsx)(u.default.Button, {
                            onClick: F,
                            submitting: y,
                            color: u.default.Button.Colors.GREEN,
                            children: j ? G ? m.default.Messages.STAGE_CHANNEL_JOIN : m.default.Messages.INVITE_VOICE_CHANNEL_JOIN : b ? m.default.Messages.JOINED_GUILD : m.default.Messages.JOIN_GUILD
                        })]
                    }), M.hasFeature(I.GuildFeatures.HUB) && (0, s.jsxs)(s.Fragment, {
                        children: [(0, s.jsx)("div", {
                            className: p.separator
                        }), (0, s.jsx)(l.Text, {
                            variant: "text-sm/normal",
                            color: "header-secondary",
                            children: m.default.Messages.HUB_INVITE_ANOTHER_SCHOOL_LINK.format({
                                onClick: () => (0, l.openModalLazy)(async () => {
                                    let {
                                        default: e
                                    } = await n.el("927475").then(n.bind(n, "927475"));
                                    return t => (0, s.jsx)(e, {
                                        ...t
                                    })
                                })
                            })
                        })]
                    })]
                })
            }
        },
        649112: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return _
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("446674"),
                l = n("352674"),
                i = n("271938"),
                r = n("18494"),
                u = n("174622"),
                o = n("659500"),
                d = n("158998"),
                c = n("49111"),
                f = n("782340"),
                E = n("18978");

            function _(e) {
                let t, n, _, {
                        author: I,
                        banned: m
                    } = e,
                    p = (0, a.useStateFromStores)([i.default], () => i.default.getId()),
                    h = (0, a.useStateFromStores)([r.default], () => r.default.getChannelId()),
                    T = d.default.useName(I),
                    g = p === I.id;
                return g ? (t = f.default.Messages.INVITE_BUTTON_INVALID_OWNER, _ = f.default.Messages.INVITE_BUTTON_TITLE_INVITER_INVALID) : (_ = f.default.Messages.INVITE_BUTTON_TITLE_INVITED_INVALID, m ? t = f.default.Messages.INSTANT_INVITE_BANNED_INFO : null != T ? (t = f.default.Messages.INSTANT_INVITE_ASK_USER_FOR_NEW_INVITE.format({
                    username: T
                }), n = (0, s.jsx)(u.default.Button, {
                    onClick: function() {
                        let {
                            id: e
                        } = I, t = "@".concat(d.default.getUserTag(I, {
                            decoration: "never"
                        })), n = "<@".concat(e, ">");
                        o.ComponentDispatch.dispatchToLastSubscribed(c.ComponentActions.INSERT_TEXT, {
                            plainText: t,
                            rawText: n
                        }), null != h && l.default.startTyping(h)
                    },
                    children: f.default.Messages.MENTION
                })) : t = f.default.Messages.INSTANT_INVITE_ASK_FOR_NEW_INVITE), (0, s.jsxs)(u.default, {
                    children: [(0, s.jsx)(u.default.Header, {
                        text: _
                    }), (0, s.jsxs)(u.default.Body, {
                        children: [(0, s.jsxs)("div", {
                            className: E.headerLine,
                            children: [(0, s.jsx)(u.default.Icon, {
                                expired: !0
                            }), (0, s.jsx)(u.default.Info, {
                                expired: !0,
                                title: f.default.Messages.INVITE_BUTTON_INVALID,
                                children: t
                            })]
                        }), n]
                    })]
                })
            }
        },
        793079: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("174622"),
                l = n("782340");

            function i() {
                return (0, s.jsxs)(a.default, {
                    children: [(0, s.jsx)(a.default.Header, {
                        text: l.default.Messages.INVITE_BUTTON_RESOLVING
                    }), (0, s.jsx)(a.default.Body, {
                        resolving: !0
                    })]
                })
            }
        },
        135666: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("534438"),
                l = n("174622"),
                i = e => {
                    let {
                        stageInstance: t,
                        guild: n,
                        isMember: i,
                        onTransitionToInviteChannel: r,
                        onAcceptInstantInvite: u
                    } = e;
                    return (0, s.jsx)(l.default, {
                        children: (0, s.jsx)(a.default, {
                            isEmbed: !0,
                            stageInstance: t,
                            guild: n,
                            onClick: i ? r : u
                        })
                    })
                }
        },
        158783: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("627445"),
                l = n.n(a),
                i = n("446674"),
                r = n("233069"),
                u = n("813006"),
                o = n("373469"),
                d = n("162771"),
                c = n("174622"),
                f = n("793079"),
                E = n("49111"),
                _ = n("91366"),
                I = n("782340"),
                m = n("18978");

            function p(e) {
                var t;
                let n, a, p, {
                        invite: h,
                        currentUserId: T,
                        guild: g,
                        onTransitionToInviteChannel: S,
                        onAcceptInstantInvite: A
                    } = e,
                    N = null === (t = g) || void 0 === t ? void 0 : t.id,
                    C = (0, i.useStateFromStores)([d.default], () => d.default.getGuildId()),
                    M = (0, i.useStateFromStores)([o.default], () => null != h && null != h.target_user ? o.default.getActiveStreamForUser(h.target_user.id, N) : null, [h, N]),
                    O = (0, i.useStateFromStores)([o.default], () => null != h && null != h.target_user ? o.default.getStreamForUser(h.target_user.id, N) : null, [h, N]),
                    R = null != h && h.target_type === _.InviteTargetTypes.STREAM && null != h.target_user && null != M,
                    v = null != h && null != O && null != h.channel && null != h.guild && O.channelId === h.channel.id && O.guildId === h.guild.id;
                l(null != h, "Invite cannot be null");
                let {
                    target_type: L,
                    target_user: P
                } = h;
                l(L === _.InviteTargetTypes.STREAM && null != P, "invalid streaming invite");
                let x = T === P.id,
                    D = h.state === E.InviteStates.ACCEPTING,
                    y = null != g;
                if (null == g) {
                    if (null == h.guild) return (0, s.jsx)(f.default, {});
                    g = new u.default(h.guild)
                }
                let U = null != h.channel ? (0, r.createChannelRecordFromInvite)(h.channel) : null,
                    b = R ? S : A;
                y && !v ? p = x ? I.default.Messages.INVITE_BUTTON_STREAM_ENDED_STREAMER : I.default.Messages.INVITE_BUTTON_STREAM_ENDED.format({
                    name: P.username
                }) : (n = I.default.Messages.WATCH, a = c.default.Button.Colors.GREEN, R && (n = I.default.Messages.INVITE_BUTTON_STREAM_WATCHING, a = c.default.Button.Colors.PRIMARY), p = x ? I.default.Messages.INVITE_BUTTON_STREAMER : I.default.Messages.INVITE_BUTTON_STREAMING.format({
                    name: P.username
                }));
                let j = C === g.id && null != U ? (0, s.jsx)(c.default.Channel, {
                    channel: U
                }) : I.default.Messages.INVITE_BUTTON_STREAMING_SUBTEXT.format({
                    guildName: g.name
                });
                return (0, s.jsxs)(c.default, {
                    children: [(0, s.jsx)(c.default.Header, {
                        text: I.default.Messages.INVITE_BUTTON_TITLE_STREAMING
                    }), (0, s.jsxs)(c.default.Body, {
                        children: [(0, s.jsxs)("div", {
                            className: m.headerLine,
                            children: [(0, s.jsx)(c.default.Icon, {
                                guild: g,
                                onClick: y && v ? b : void 0
                            }), (0, s.jsx)(c.default.Info, {
                                title: p,
                                onClick: y && v ? b : void 0,
                                children: j
                            })]
                        }), v ? (0, s.jsx)(c.default.Button, {
                            disabled: y && !v,
                            onClick: b,
                            submitting: D,
                            isDisabled: R && v,
                            color: a,
                            children: n
                        }) : null]
                    })]
                })
            }
        },
        67541: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return I
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("987317"),
                i = n("722525"),
                r = n("974755"),
                u = n("18494"),
                o = n("162771"),
                d = n("174622"),
                c = n("599110"),
                f = n("49111"),
                E = n("782340"),
                _ = n("18978");

            function I(e) {
                var t;
                let {
                    guild: n,
                    channel: I,
                    messageData: m
                } = e, p = o.default.getGuildId(), h = u.default.getChannelId(p), T = a.useCallback(() => {
                    var e;
                    c.default.track(f.AnalyticEvents.CHANNEL_LINK_PREVIEW_JOINED, {
                        author_id: null === (e = m.author) || void 0 === e ? void 0 : e.id,
                        link_guild_id: n.id,
                        link_channel_id: I.id,
                        link_channel_type: I.type,
                        guild_id: p,
                        channel_id: h
                    }), (0, i.transitionToChannel)(n.id, I.id), l.default.selectVoiceChannel(I.id)
                }, [null === (t = m.author) || void 0 === t ? void 0 : t.id, n.id, I.id, I.type, p, h]), g = (0, s.jsx)(d.default.Channel, {
                    channel: I
                });
                return (0, s.jsx)(d.default, {
                    children: (0, s.jsxs)(d.default.Body, {
                        children: [(0, s.jsxs)("div", {
                            className: _.headerLine,
                            children: [(0, s.jsx)(d.default.Icon, {
                                guild: n
                            }), (0, s.jsx)(d.default.Info, {
                                title: g,
                                onClick: T,
                                children: (0, s.jsxs)("span", {
                                    className: _.infoTitle,
                                    children: [E.default.Messages.INVITE_BUTTON_BODY_IN_GUILD.format({
                                        guildName: n.name
                                    }), (0, s.jsx)("span", {
                                        className: _.infoBadge,
                                        children: (0, s.jsx)(r.default, {
                                            guild: n,
                                            isBannerVisible: !1
                                        })
                                    })]
                                })
                            })]
                        }), (0, s.jsx)(d.default.Button, {
                            onClick: T,
                            color: d.default.Button.Colors.GREEN,
                            children: I.isGuildStageVoice() ? E.default.Messages.STAGE_CHANNEL_JOIN : E.default.Messages.JOIN_VOICE
                        })]
                    })
                })
            }
        },
        115859: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return l
                },
                renderSimpleAccessories: function() {
                    return i
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("723931");

            function l(e) {
                let {
                    channelMessageProps: {
                        message: t,
                        channel: n,
                        compact: l = !1
                    },
                    hasSpoilerEmbeds: i,
                    handleContextMenu: r,
                    isInteracting: u,
                    isAutomodBlockedMessage: o,
                    renderThreadAccessory: d,
                    renderComponentAccessory: c,
                    renderSuppressEmbeds: f,
                    showClydeAiEmbeds: E,
                    forceAddReactions: _,
                    className: I
                } = e;
                return o ? null : (0, s.jsx)(a.default, {
                    className: I,
                    isInteracting: u,
                    message: t,
                    channel: n,
                    compact: l,
                    hasSpoilerEmbeds: i,
                    onAttachmentContextMenu: r,
                    renderThreadAccessory: d,
                    renderComponentAccessory: c,
                    renderSuppressEmbeds: f,
                    showClydeAiEmbeds: E,
                    forceAddReactions: _
                })
            }

            function i(e, t) {
                let {
                    message: n,
                    channel: l,
                    compact: i = !1,
                    renderThreadAccessory: r,
                    disableReactionCreates: u,
                    disableReactionUpdates: o
                } = e;
                return (0, s.jsx)(a.SimpleMessageAccessories, {
                    message: n,
                    channel: l,
                    compact: i,
                    hasSpoilerEmbeds: t,
                    renderThreadAccessory: r,
                    disableReactionCreates: u,
                    disableReactionUpdates: o
                })
            }
        },
        702905: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("913491"),
                l = n("844061");

            function i(e) {
                let {
                    message: t,
                    channel: n,
                    compact: i
                } = e;
                return (0, a.default)(t) ? (0, s.jsx)(l.default, {
                    message: t,
                    channel: n,
                    compact: i
                }) : null
            }
        },
        611792: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("446674"),
                l = n("27618"),
                i = n("341716");

            function r(e) {
                let {
                    message: t,
                    channel: n,
                    compact: r
                } = e, u = (0, a.useStateFromStores)([l.default], () => null != t.interaction && l.default.isBlocked(t.interaction.user.id), [t.interaction]);
                return (0, s.jsx)(i.default, {
                    message: t,
                    channel: n,
                    compact: r,
                    isInteractionUserBlocked: u
                })
            }

            function u(e, t, n) {
                return null != e.interaction && "" !== e.interaction.displayName ? (0, s.jsx)(r, {
                    message: e,
                    channel: t,
                    compact: n
                }) : null
            }
        },
        554372: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("446674"),
                i = n("256572"),
                r = n("27618"),
                u = n("93427"),
                o = n("95045"),
                d = n("574073"),
                c = n("49111");
            let f = a.memo(function(e) {
                let {
                    baseMessage: t,
                    channel: n,
                    referencedMessage: c,
                    compact: f = !1
                } = e, E = c.state === i.ReferencedMessageState.LOADED ? c.message : void 0, _ = a.useMemo(() => (null == E ? void 0 : E.content) != null && "" !== E.content ? (0, o.default)(E, {
                    formatInline: !0
                }).content : null, [E]), I = (0, l.useStateFromStores)([r.default], () => null != E && r.default.isBlocked(E.author.id), [E]), m = (0, d.useNullableMessageAuthor)(E), p = (0, d.useNullableMessageAuthor)(t);
                return (0, s.jsx)(u.default, {
                    repliedAuthor: m,
                    baseAuthor: p,
                    baseMessage: t,
                    channel: n,
                    referencedMessage: c,
                    content: _,
                    compact: f,
                    isReplyAuthorBlocked: I
                })
            });

            function E(e, t, n, a, l) {
                return e.type !== c.MessageTypes.REPLY || null == n ? null : (0, s.jsx)(f, {
                    baseMessage: e,
                    channel: t,
                    referencedMessage: a,
                    compact: l
                })
            }
        },
        314058: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return l
                }
            });
            var s = n("862205");
            let a = (0, s.createExperiment)({
                id: "2023-06_new_activity_one_time_purchase_modal",
                label: "New Activity One Time Purchase Modal",
                kind: "user",
                defaultConfig: {
                    enabled: !1
                },
                treatments: [{
                    id: 1,
                    label: "enabled",
                    config: {
                        enabled: !0
                    }
                }]
            });
            var l = a
        },
        509167: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("748820"),
                l = n("77078"),
                i = n("112679"),
                r = n("55689"),
                u = n("599110"),
                o = n("49111");

            function d(e) {
                let {
                    applicationId: t,
                    skuId: d,
                    onClose: c,
                    onComplete: f,
                    analyticsLocations: E,
                    analyticsObject: _,
                    contextKey: I
                } = e, m = !1, p = (0, a.v4)();
                (0, l.openModalLazy)(async () => {
                    let {
                        default: e
                    } = await n.el("405314").then(n.bind(n, "405314"));
                    return n => {
                        let {
                            onClose: a,
                            ...l
                        } = n;
                        return (0, s.jsx)(e, {
                            ...l,
                            loadId: p,
                            applicationId: t,
                            skuId: d,
                            analyticsLocations: E,
                            onClose: e => {
                                a(), null == c || c(e)
                            },
                            onComplete: e => {
                                m = !0, null == f || f(e)
                            }
                        })
                    }
                }, {
                    contextKey: I,
                    onCloseCallback: () => {
                        !m && u.default.track(o.AnalyticEvents.PAYMENT_FLOW_CANCELED, {
                            load_id: p,
                            payment_type: o.PurchaseTypeToAnalyticsPaymentType[o.PurchaseTypes.ONE_TIME],
                            location: _,
                            is_gift: !1,
                            application_id: t,
                            location_stack: E
                        }), (0, i.clearError)(), (0, r.clearPurchaseTokenAuthState)(), null == c || c(m)
                    },
                    onCloseRequest: o.NOOP
                })
            }
        },
        847511: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var s = n("627445"),
                a = n.n(s),
                l = n("404118"),
                i = n("377253"),
                r = n("690714"),
                u = n("641126"),
                o = n("782340"),
                d = {
                    handlePollAnswerTapped: function(e) {
                        var t;
                        let {
                            channelId: n,
                            messageId: s,
                            answerId: l
                        } = e, r = i.default.getMessage(n, s);
                        a(null != r, "Tapped on a non-existent poll message");
                        let o = null === (t = r.poll) || void 0 === t ? void 0 : t.allow_multiselect;
                        (0, u.updatePollState)(n, s, e => {
                            if (null == e) return {
                                channelId: n,
                                selectedAnswerIds: new Set([l]),
                                submitting: !1
                            };
                            let t = {
                                    ...e
                                },
                                s = new Set(t.selectedAnswerIds);
                            if (t.selectedAnswerIds = s, s.has(l)) s.delete(l);
                            else {
                                if (!o)
                                    for (let e of s) s.delete(e);
                                s.add(l)
                            }
                            return t
                        })
                    },
                    handlePollSubmitVote: async function e(e) {
                        let {
                            channelId: t,
                            messageId: n
                        } = e, s = (0, u.getPollState)(t, n);
                        a(null != s, "Must not be able to vote without existing state!"), (0, u.updatePollState)(t, n, e => (a(null != e, "Must not be able to vote without existing state!"), {
                            ...e,
                            submitting: !0
                        }));
                        try {
                            let e = [...s.selectedAnswerIds.values()];
                            await r.submitPollVote({
                                channelId: t,
                                messageId: n,
                                answerIds: e
                            }), (0, u.updatePollState)(t, n, () => void 0)
                        } catch (e) {
                            var i, d, c;
                            l.default.show({
                                title: o.default.Messages.GENERIC_ERROR_TITLE,
                                body: null !== (c = null !== (d = null === (i = e.getAnyErrorMessage) || void 0 === i ? void 0 : i.call(e)) && void 0 !== d ? d : e.message) && void 0 !== c ? c : o.default.Messages.GENERIC_ERROR_BODY
                            }), (0, u.updatePollState)(t, n, e => {
                                if (null != e) return {
                                    ...e,
                                    submitting: !1
                                }
                            })
                        }
                    }
                }
        },
        690714: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                submitPollVote: function() {
                    return i
                }
            });
            var s = n("872717"),
                a = n("448993"),
                l = n("49111");
            async function i(e) {
                let {
                    channelId: t,
                    messageId: n,
                    answerIds: i
                } = e;
                try {
                    await s.default.put({
                        url: l.Endpoints.POLL_ANSWERS(t, n),
                        body: {
                            answer_ids: i
                        }
                    })
                } catch (e) {
                    throw new a.APIError(e)
                }
            }
        },
        641126: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useChannelPollInteractions: function() {
                    return r
                },
                updatePollState: function() {
                    return u
                },
                getPollState: function() {
                    return o
                }
            });
            var s = n("308503"),
                a = n("233736");
            let l = {},
                i = (0, s.default)(e => ({
                    polls: {},
                    updatePollState(t, n, s) {
                        e(e => {
                            var a;
                            return {
                                polls: {
                                    ...e.polls,
                                    [t]: {
                                        ...e.polls[t],
                                        [n]: s(null === (a = e.polls[t]) || void 0 === a ? void 0 : a[n])
                                    }
                                }
                            }
                        })
                    }
                }));

            function r(e) {
                return i(t => {
                    var n;
                    return null !== (n = t.polls[e]) && void 0 !== n ? n : l
                }, a.default)
            }

            function u(e, t, n) {
                i.getState().updatePollState(e, t, n)
            }

            function o(e, t) {
                var n;
                return null === (n = i.getState().polls[e]) || void 0 === n ? void 0 : n[t]
            }
        },
        410328: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                buildPlatformPollResources: function() {
                    return u
                },
                getAvatarUrl: function() {
                    return o
                }
            });
            var s = n("414456"),
                a = n.n(s),
                l = n("506838"),
                i = n("418009"),
                r = n("944313");

            function u(e, t) {
                let n = (0, l.match)(t).with(i.PollLayoutTypes.IMAGE_ONLY_ANSWERS, () => r.normalStylesImageOnlyAnswers).otherwise(() => r.normalStylesDefault),
                    s = {
                        styles: {
                            normal: n,
                            selected: a(n, r.selectedMixinStyles),
                            voted: r.votedStyles,
                            victor: r.victorStyles
                        }
                    };
                return s
            }

            function o(e, t) {
                return e.getAvatarURL(t, 20, !1)
            }
        },
        868586: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return l
                }
            });
            var s = n("917351"),
                a = n("410328"),
                l = (0, s.memoize)(function(e) {
                    let {
                        theme: t,
                        layoutType: n
                    } = e;
                    return (0, a.buildPlatformPollResources)(t, n)
                }, e => {
                    let {
                        theme: t,
                        layoutType: n
                    } = e;
                    return "".concat(t, ":").concat(n)
                })
        },
        905206: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return T
                }
            });
            var s = n("506838"),
                a = n("418009"),
                l = n("385976"),
                i = n("867805"),
                r = n("42203"),
                u = n("697218"),
                o = n("315102"),
                d = n("402671"),
                c = n("641126"),
                f = n("410328"),
                E = n("868586"),
                _ = n("973799"),
                I = n("782340");
            let m = {
                    channelId: "",
                    selectedAnswerIds: new Set,
                    submitting: !1
                },
                p = e => (0, s.match)(e).with({
                    isVictor: !0
                }, () => "victor").with({
                    didSelfVote: !0,
                    isExpired: !1
                }, () => "voted").with({
                    isSelected: !0
                }, () => "selected").otherwise(() => "normal"),
                h = {
                    [a.PollLayoutTypes.DEFAULT]: e => (0, s.match)(e).with({
                        isExpired: !1,
                        hasVoted: !0
                    }, () => "voted").otherwise(() => p(e)),
                    [a.PollLayoutTypes.IMAGE_ONLY_ANSWERS]: p,
                    [a.PollLayoutTypes.UNKNOWN]: p
                };

            function T(e, t) {
                var n, p, T;
                let {
                    animateEmoji: g = !1,
                    theme: S = "dark",
                    formattedExpirationLabel: A
                } = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, {
                    poll: N
                } = e;
                if (null == N) return;
                let C = u.default.getCurrentUser();
                if (null == C) return;
                let M = null === (p = r.default.getChannel(e.getChannelId())) || void 0 === p ? void 0 : null === (n = p.getGuildId) || void 0 === n ? void 0 : n.call(p),
                    O = (0, f.getAvatarUrl)(C, M),
                    R = null != A ? A : (0, _.formatExpirationLabel)(N.expiry),
                    v = null == R,
                    {
                        selectedAnswerIds: L,
                        submitting: P
                    } = null !== (T = null != t ? t : (0, c.getPollState)(e.getChannelId(), e.id)) && void 0 !== T ? T : m,
                    x = N.answers,
                    D = N.layout_type,
                    y = e.reactions.reduce((e, t) => {
                        var n, s;
                        return e + (null !== (s = null === (n = t.count_details) || void 0 === n ? void 0 : n.vote) && void 0 !== s ? s : 0)
                    }, 0),
                    U = 1 / x.length,
                    b = L.size > 0,
                    j = e.reactions.some(e => !0 === e.me_vote),
                    G = j && b,
                    B = !G && j,
                    k = x.map(t => {
                        var n, r, u;
                        let c = "".concat(t.answer_id),
                            f = function(e, t) {
                                for (let n of e.reactions) {
                                    let e = "number" == typeof n.emoji.id ? "".concat(n.emoji.id) : n.emoji.id;
                                    if (e === t) return n
                                }
                            }(e, c),
                            E = null !== (r = null == f ? void 0 : null === (n = f.count_details) || void 0 === n ? void 0 : n.vote) && void 0 !== r ? r : 0,
                            _ = 0 === y ? 0 : E / y,
                            m = L.has(c),
                            p = v ? _ >= U : void 0,
                            T = B && null !== (u = null == f ? void 0 : f.me_vote) && void 0 !== u && u,
                            S = h[D]({
                                didSelfVote: T,
                                hasVoted: B,
                                isExpired: v,
                                isSelected: m,
                                isVictor: p
                            });
                        return {
                            answerId: c,
                            pollMedia: {
                                text: t.poll_media.text,
                                emoji: function(e) {
                                    let {
                                        animateEmoji: t = !1,
                                        size: n = 48
                                    } = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                                    if (null == e) return;
                                    let s = !1;
                                    if (null != e.id) {
                                        var a, r;
                                        s = null !== (r = null === (a = l.default.getCustomEmojiById(e.id)) || void 0 === a ? void 0 : a.animated) && void 0 !== r && r
                                    }
                                    let u = s && t;
                                    return {
                                        id: null == e.id ? null : "".concat(e.id),
                                        name: e.name,
                                        displayName: null == e.id ? i.default.convertSurrogateToName(e.name) : e.name,
                                        src: null == e.id ? d.default.getURL(e.name) : o.default.getEmojiURL({
                                            id: e.id,
                                            animated: u,
                                            size: n
                                        }),
                                        animated: u
                                    }
                                }(t.poll_media.emoji, {
                                    animateEmoji: g
                                }),
                                stickerId: t.poll_media.sticker_id,
                                attachmentIds: t.poll_media.attachment_ids
                            },
                            isSelected: m,
                            isVictor: p,
                            didSelfVote: T,
                            style: S,
                            votesPercentage: Math.round(100 * _),
                            votes: (0, s.match)(D).with(a.PollLayoutTypes.IMAGE_ONLY_ANSWERS, () => "(".concat(E, ")")).otherwise(() => I.default.Messages.POLL_VOTES_COUNT.format({
                                count: E
                            }))
                        }
                    }),
                    F = !v,
                    w = !P && b && !B,
                    H = (0, s.match)({
                        canSubmitVote: w,
                        hasVoted: B,
                        isEditingVote: G
                    }).with({
                        hasVoted: !0
                    }, () => I.default.Messages.POLL_ALREADY_VOTED).with({
                        canSubmitVote: !0,
                        isEditingVote: !0
                    }, () => I.default.Messages.POLL_SUBMIT_VOTE_EDIT).with({
                        canSubmitVote: !0
                    }, () => I.default.Messages.POLL_SUBMIT_VOTE).otherwise(() => I.default.Messages.POLL_CHOOSE_SINGLE_ANSWER_PROMPT),
                    V = "normal";
                return v ? V = "victor" : B && (V = "voted"), {
                    question: N.question,
                    answers: k,
                    layoutType: D,
                    resources: (0, E.default)({
                        theme: S,
                        layoutType: D
                    }),
                    containerStyle: V,
                    submitVoteLabel: H,
                    canSubmitVote: w,
                    canTapAnswers: F,
                    canShowVoteCounts: B,
                    hasVoted: B,
                    expirationLabel: null != R ? R : I.default.Messages.POLL_EXPIRED,
                    isExpired: v,
                    myAvatarUrl: O
                }
            }
        },
        973799: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                formatExpirationLabel: function() {
                    return i
                },
                default: function() {
                    return r
                }
            });
            var s = n("866227"),
                a = n.n(s),
                l = n("782340");

            function i(e) {
                let t = a();
                if (e <= t) return;
                let n = e.diff(t, "days");
                if (n > 1) return l.default.Messages.POLL_EXPIRY_DAYS_REMAINING.format({
                    days: n
                });
                let s = e.diff(t, "hours");
                if (s > 1) return l.default.Messages.POLL_EXPIRY_HOURS_REMAINING.format({
                    hours: s
                });
                let i = e.diff(t, "minutes");
                return l.default.Messages.POLL_EXPIRY_MINUTES_REMAINING.format({
                    minutes: i
                })
            }

            function r(e) {
                if (null != e) return i(e)
            }
        },
        985883: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            });
            var s = n("884691"),
                a = n("841098"),
                l = n("845579"),
                i = n("641126"),
                r = n("905206"),
                u = n("973799");

            function o(e, t) {
                var n;
                let o = (0, i.useChannelPollInteractions)(e.getChannelId()),
                    d = o[e.id],
                    c = (0, u.default)(null === (n = e.poll) || void 0 === n ? void 0 : n.expiry),
                    f = l.AnimateEmoji.useSetting(),
                    E = (0, a.default)(),
                    _ = null != t ? t : E;
                return s.useMemo(() => (0, r.default)(e, d, {
                    animateEmoji: f,
                    theme: _,
                    formattedExpirationLabel: c
                }), [f, e, d, c, _])
            }
        },
        426490: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                PollAnswerClickable: function() {
                    return I
                },
                PollMediaView: function() {
                    return T
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("414456"),
                i = n.n(l),
                r = n("65597"),
                u = n("77078"),
                o = n("430568"),
                d = n("385976"),
                c = n("952368"),
                f = n("847511"),
                E = n("74232"),
                _ = n("652886");

            function I(e) {
                let {
                    className: t,
                    answer: n,
                    children: l,
                    disabled: r
                } = e, {
                    channelId: o,
                    messageId: d
                } = (0, E.useMessageIds)(), c = a.useCallback(() => {
                    f.default.handlePollAnswerTapped({
                        channelId: o,
                        messageId: d,
                        answerId: n.answerId
                    })
                }, [o, d, n.answerId]);
                return (0, s.jsx)(u.Clickable, {
                    className: i(t, {
                        [_.enabled]: !0 !== r
                    }),
                    tag: "li",
                    onClick: !0 === r ? void 0 : c,
                    "aria-disabled": r,
                    children: l
                })
            }

            function m(e) {
                var t, n;
                let {
                    attachment: a,
                    alt: l,
                    className: i
                } = e;
                return (0, s.jsx)(c.default, {
                    className: i,
                    src: a.url,
                    alt: l,
                    responsive: !0,
                    width: null !== (t = a.width) && void 0 !== t ? t : 1,
                    height: null !== (n = a.height) && void 0 !== n ? n : 1
                })
            }

            function p(e) {
                var t;
                let {
                    alt: n,
                    className: a,
                    emoji: l
                } = e, i = (0, r.default)([d.default], () => {
                    var e;
                    return null === (e = d.default.getCustomEmojiById(null !== (t = null == l ? void 0 : l.id) && void 0 !== t ? t : "")) || void 0 === e ? void 0 : e.animated
                }, [l.id]);
                return (0, s.jsx)(o.default, {
                    className: a,
                    emojiId: null == l ? void 0 : l.id,
                    emojiName: null == l ? void 0 : l.name,
                    alt: n,
                    animated: i
                })
            }

            function h(e, t) {
                return null != e ? (0, s.jsx)("div", {
                    className: e,
                    children: t
                }) : (0, s.jsx)(s.Fragment, {
                    children: t
                })
            }

            function T(e) {
                var t;
                let {
                    media: n,
                    className: a,
                    containerClassName: l,
                    emojiClassName: r,
                    fallback: u,
                    alt: o
                } = e, {
                    message: d
                } = (0, E.usePollContext)(), c = null !== (t = null != o ? o : n.text) && void 0 !== t ? t : "";
                if (n.attachmentIds.length > 0) {
                    let e = d.attachments.find(e => e.id === n.attachmentIds[0]);
                    if (null != e) return h(l, (0, s.jsx)(m, {
                        className: a,
                        attachment: e,
                        alt: c
                    }))
                }
                return null != n.emoji ? h(l, (0, s.jsx)(p, {
                    className: i(a, r),
                    emoji: n.emoji,
                    alt: c
                })) : void 0 !== u ? (0, s.jsx)(s.Fragment, {
                    children: u
                }) : null
            }
        },
        619544: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return _
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("414456"),
                l = n.n(a),
                i = n("77078"),
                r = n("426490"),
                u = n("74232"),
                o = n("782340"),
                d = n("314164"),
                c = n("26511");

            function f(e) {
                let {
                    didSelfVote: t,
                    label: n,
                    myAvatarUrl: a,
                    percentage: r
                } = e;
                return (0, s.jsxs)("div", {
                    className: l(d.votesData, {
                        [d.didSelfVote]: t
                    }),
                    children: [null != a && (0, s.jsx)(i.Avatar, {
                        className: d.avatarForSelected,
                        size: i.AvatarSizes.SIZE_16,
                        src: a,
                        "aria-label": o.default.Messages.POLL_ANSWER_SELECTED_ARIA
                    }), (0, s.jsxs)(i.Text, {
                        variant: "text-xs/semibold",
                        color: "none",
                        children: [r, "%"]
                    }), (0, s.jsx)(i.Text, {
                        variant: "text-xxs/semibold",
                        color: "none",
                        children: n
                    })]
                })
            }

            function E(e) {
                let {
                    answer: t,
                    canShowVoteCounts: n,
                    disabled: a,
                    hasVoted: i,
                    myAvatarUrl: E
                } = e, _ = (0, u.useStyleClass)(t.style);
                return (0, s.jsxs)(r.PollAnswerClickable, {
                    className: l(_, d.answer, {
                        [d.didSelfVote]: t.didSelfVote,
                        [d.hasVoted]: i
                    }),
                    answer: t,
                    disabled: a,
                    children: [(0, s.jsx)(r.PollMediaView, {
                        className: d.media,
                        emojiClassName: d.emoji,
                        media: t.pollMedia,
                        fallback: (0, s.jsx)("div", {
                            className: l(d.media, d.mediaMissing)
                        })
                    }), t.isSelected && (0, s.jsx)("img", {
                        className: d.selectedIcon,
                        src: c,
                        alt: o.default.Messages.POLL_ANSWER_SELECTED_ARIA
                    }), n && (0, s.jsx)(f, {
                        didSelfVote: t.didSelfVote,
                        percentage: t.votesPercentage,
                        label: t.votes,
                        myAvatarUrl: t.didSelfVote ? E : void 0
                    })]
                })
            }

            function _(e) {
                let {
                    answers: t,
                    ...n
                } = e;
                return (0, s.jsx)("ul", {
                    className: d.answersContainer,
                    children: t.map(e => (0, s.jsx)(E, {
                        ...n,
                        answer: e
                    }, e.answerId))
                })
            }
        },
        74232: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                usePollContext: function() {
                    return i
                },
                PollContextProvider: function() {
                    return r
                },
                useStyleClass: function() {
                    return u
                },
                useMessageIds: function() {
                    return o
                }
            });
            var s = n("37983"),
                a = n("884691");
            let l = a.createContext(void 0);

            function i() {
                let e = a.useContext(l);
                if (null == e) throw Error("No PollContextProvider found");
                return e
            }

            function r(e) {
                let {
                    children: t,
                    message: n,
                    poll: i
                } = e, r = a.useMemo(() => ({
                    message: n,
                    poll: i
                }), [n, i]);
                return (0, s.jsx)(l.Provider, {
                    value: r,
                    children: t
                })
            }

            function u(e) {
                let t = function() {
                    let {
                        poll: e
                    } = i();
                    return e.resources
                }();
                return t.styles[e]
            }

            function o() {
                let {
                    message: e
                } = i(), t = e.getChannelId();
                return a.useMemo(() => ({
                    channelId: t,
                    messageId: e.id
                }), [e.id, t])
            }
        },
        311830: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return h
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("414456"),
                i = n.n(l),
                r = n("506838"),
                u = n("418009"),
                o = n("77078"),
                d = n("847511"),
                c = n("619544"),
                f = n("74232"),
                E = n("909366"),
                _ = n("879958");

            function I(e) {
                let {
                    media: t
                } = e;
                return (0, s.jsx)(o.Text, {
                    variant: "text-md/medium",
                    children: t.text
                })
            }

            function m(e) {
                let {
                    children: t
                } = e;
                return (0, s.jsx)(o.Text, {
                    variant: "text-md/normal",
                    children: t
                })
            }

            function p(e) {
                let {
                    message: t,
                    poll: n
                } = e, l = a.useCallback(() => {
                    d.default.handlePollSubmitVote({
                        channelId: t.getChannelId(),
                        messageId: t.id
                    })
                }, [t]), p = (0, f.useStyleClass)(n.containerStyle), h = function(e, t) {
                    let n = {
                        answers: t.answers,
                        canShowVoteCounts: t.canShowVoteCounts,
                        hasVoted: t.hasVoted,
                        myAvatarUrl: t.myAvatarUrl,
                        disabled: !t.canTapAnswers
                    };
                    return (0, r.match)(t.layoutType).with(u.PollLayoutTypes.DEFAULT, () => (0, s.jsx)(E.TextAndImageAnswers, {
                        ...n
                    })).with(u.PollLayoutTypes.IMAGE_ONLY_ANSWERS, () => (0, s.jsx)(c.default, {
                        ...n
                    })).otherwise(() => null)
                }(0, n);
                return null == h ? null : (0, s.jsxs)("div", {
                    className: i(_.container, p),
                    children: [(0, s.jsx)(I, {
                        media: n.question
                    }), h, (0, s.jsxs)("div", {
                        className: _.bottomBar,
                        children: [(0, s.jsx)(m, {
                            children: n.expirationLabel
                        }), (0, s.jsx)(o.Button, {
                            onClick: l,
                            disabled: !n.canSubmitVote,
                            children: n.submitVoteLabel
                        })]
                    })]
                })
            }

            function h(e) {
                let {
                    message: t,
                    poll: n
                } = e;
                return (0, s.jsx)(f.PollContextProvider, {
                    message: t,
                    poll: n,
                    children: (0, s.jsx)(p, {
                        message: t,
                        poll: n
                    })
                })
            }
        },
        909366: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                TextAndImageAnswers: function() {
                    return E
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("414456"),
                l = n.n(a),
                i = n("77078"),
                r = n("426490"),
                u = n("74232"),
                o = n("782340"),
                d = n("139583");

            function c(e) {
                let {
                    percentage: t,
                    label: n
                } = e;
                return (0, s.jsxs)("div", {
                    className: d.votesData,
                    children: [(0, s.jsxs)(i.Text, {
                        variant: "text-xs/semibold",
                        color: "none",
                        children: [t, "%"]
                    }), (0, s.jsx)(i.Text, {
                        variant: "text-xxs/semibold",
                        color: "none",
                        children: n
                    })]
                })
            }

            function f(e) {
                let {
                    answer: t,
                    canShowVoteCounts: n,
                    hasVoted: a,
                    myAvatarUrl: f,
                    disabled: E
                } = e, _ = !0 === t.isSelected, I = (0, u.useStyleClass)(t.style);
                return (0, s.jsx)(r.PollAnswerClickable, {
                    answer: t,
                    disabled: E,
                    children: (0, s.jsxs)("div", {
                        className: l(d.answer, I, {
                            [d.hasVoted]: a,
                            [d.didSelfVote]: t.didSelfVote
                        }),
                        children: [n && (0, s.jsx)("span", {
                            className: d.votePercentageBar,
                            style: {
                                width: "".concat(t.votesPercentage, "%")
                            },
                            "aria-hidden": !0
                        }), (0, s.jsxs)("div", {
                            className: d.answerContent,
                            children: [(0, s.jsx)(r.PollMediaView, {
                                className: d.media,
                                containerClassName: d.mediaContainer,
                                media: t.pollMedia,
                                fallback: null,
                                alt: ""
                            }), (0, s.jsx)(i.Text, {
                                className: d.label,
                                variant: "text-sm/semibold",
                                color: "none",
                                children: t.pollMedia.text
                            }), (_ || t.didSelfVote) && (0, s.jsx)(i.Avatar, {
                                className: d.avatarForSelected,
                                size: i.AvatarSizes.SIZE_20,
                                src: f,
                                "aria-label": o.default.Messages.POLL_ANSWER_SELECTED_ARIA
                            }), n && (0, s.jsx)(c, {
                                percentage: t.votesPercentage,
                                label: t.votes
                            })]
                        })]
                    })
                })
            }

            function E(e) {
                let {
                    answers: t,
                    ...n
                } = e;
                return (0, s.jsx)("ul", {
                    className: d.answersContainer,
                    children: t.map(e => (0, s.jsx)(f, {
                        ...n,
                        answer: e
                    }, e.answerId))
                })
            }
        },
        141254: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                isAtGuildCapAndNonPremium: function() {
                    return r
                }
            }), n("446674"), n("139321");
            var s = n("305961"),
                a = n("697218"),
                l = n("719923"),
                i = n("49111");

            function r() {
                let e = s.default.getGuildCount() >= i.MAX_USER_GUILDS,
                    t = l.default.canUseIncreasedGuildCap(a.default.getCurrentUser());
                return e && !t
            }
        },
        428786: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return v
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("414456"),
                i = n.n(l),
                r = n("866227"),
                u = n.n(r),
                o = n("394846"),
                d = n("446674"),
                c = n("77078"),
                f = n("4919"),
                E = n("812204"),
                _ = n("685665"),
                I = n("649844"),
                m = n("697218"),
                p = n("521012"),
                h = n("888400"),
                T = n("719923"),
                g = n("158998"),
                S = n("540692"),
                A = n("166960"),
                N = n("833516"),
                C = n("646718"),
                M = n("782340"),
                O = n("668524");
            class R extends a.Component {
                renderTitle(e, t) {
                    let {
                        trialOffer: n
                    } = this.props, s = m.default.getUser(n.user_id), a = null != s ? s.username : "???";
                    return e && void 0 === n.redeemed_at ? M.default.Messages.SHARE_NITRO_EMBEDDED_MESSAGE_DISABLED_HEADER.format({
                        username: a
                    }) : t ? M.default.Messages.SHARE_NITRO_EMBEDDED_MESSAGE_EXPIRED_HEADER : M.default.Messages.SHARE_NITRO_EMBEDDED_MESSAGE_HEADER.format({
                        username: a
                    })
                }
                renderBody(e, t, n) {
                    let {
                        trialOffer: s
                    } = this.props, a = m.default.getUser(s.referrer_id);
                    return (e || t) && n && void 0 === s.redeemed_at ? M.default.Messages.SHARE_NITRO_EMBEDDED_MESSAGE_EXPIRED_BODY : e && !n && void 0 === s.redeemed_at ? M.default.Messages.SHARE_NITRO_EMBEDDED_MESSAGE_DISABLED_BODY : M.default.Messages.SHARE_NITRO_EMBEDDED_MESSAGE_BODY.format({
                        username: null != a ? g.default.getName(a) : "???"
                    })
                }
                renderActions(e, t, n) {
                    let {
                        trialOffer: a,
                        currentUser: l,
                        analyticsLocations: i
                    } = this.props, r = {
                        onClick: () => {
                            this.handleStartTrial(a, i)
                        },
                        color: c.Button.Colors.BRAND
                    }, u = l.id !== a.user_id || (0, T.isPremium)(l) || !l.verified || (0, N.hasUserTrialOfferExpired)(a), o = this.renderExpirationDate(e, t, n);
                    return r.disabled = u, (0, s.jsxs)("div", {
                        className: O.buttonContainer,
                        children: [(0, s.jsx)("div", {
                            children: (0, s.jsx)(c.Button, {
                                ...r,
                                size: c.Button.Sizes.SMALL,
                                onClick: () => {
                                    (0, I.default)({
                                        initialPlanId: null,
                                        subscriptionTier: C.PremiumSubscriptionSKUs.TIER_2,
                                        analyticsLocations: i,
                                        trialId: a.trial_id,
                                        referralTrialOfferId: a.id
                                    })
                                },
                                children: M.default.Messages.START_TRIAL
                            })
                        }), (0, s.jsx)("div", {
                            className: O.metadata,
                            children: o
                        })]
                    })
                }
                renderExpirationDate(e, t, n) {
                    let {
                        trialOffer: s,
                        trialEndsAt: a
                    } = this.props;
                    if (void 0 !== s.redeemed_at && !n && null !== a) return M.default.Messages.TRIAL_EXPIRES.format({
                        date: (0, h.dateFormat)(u(a), "LL")
                    });
                    if (e || void 0 === s.expires_at) return null;
                    let l = u(s.expires_at);
                    if (t) return M.default.Messages.EXPIRED_DATE.format({
                        date: (0, h.dateFormat)(u(l), "LL")
                    });
                    let i = l.diff(u(), "h");
                    if (i > 48) {
                        let e = l.diff(u(), "d");
                        return M.default.Messages.EXPIRES_DAYS.format({
                            numDays: e
                        })
                    }
                    if (i > 1) return M.default.Messages.EXPIRES_HOURS.format({
                        numHours: i
                    });
                    let r = l.diff(u(), "minutes");
                    return M.default.Messages.EXPIRES_MINUTES.format({
                        numMinutes: r
                    })
                }
                renderMedia(e) {
                    return (0, s.jsx)("div", {
                        className: i({
                            [O.referral]: !e,
                            [O.birthdayReferral]: e
                        })
                    })
                }
                render() {
                    let {
                        trialOffer: e,
                        currentUser: t,
                        recipientHasNitro: n,
                        shouldShowBirthdayUX: a
                    } = this.props, l = (0, N.hasUserTrialOfferExpired)(e), r = t.id === e.referrer_id;
                    return (0, s.jsxs)("div", {
                        className: i(O.tile, O.container),
                        children: [(0, s.jsx)("div", {
                            className: O.media,
                            children: this.renderMedia(a)
                        }), (0, s.jsxs)("div", {
                            className: O.description,
                            children: [(0, s.jsx)(c.H, {
                                className: O.title,
                                children: this.renderTitle(n, l)
                            }), (0, s.jsx)("div", {
                                className: O.tagline,
                                children: this.renderBody(n, l, r)
                            }), (0, s.jsx)("div", {
                                className: O.actions,
                                children: this.renderActions(n, l, r)
                            })]
                        })]
                    })
                }
                constructor(...e) {
                    super(...e), this.handleStartTrial = (e, t) => {
                        (0, I.default)({
                            initialPlanId: null,
                            subscriptionTier: C.PremiumSubscriptionSKUs.TIER_2,
                            analyticsLocations: t,
                            trialId: e.trial_id
                        })
                    }
                }
            }

            function v(e) {
                let {
                    userTrialOfferId: t,
                    canRenderReferralEmbed: n
                } = e, {
                    trialOffer: a,
                    isResolving: l
                } = (0, d.useStateFromStoresObject)([S.default], () => ({
                    trialOffer: n ? S.default.getRelevantUserTrialOffer(t) : null,
                    isResolving: !!n && S.default.isResolving(t)
                }), [n, t]), i = m.default.getCurrentUser(), r = (0, d.useStateFromStores)([m.default], () => null != a && (0, T.isPremium)(void 0 !== i && a.user_id === i.id ? i : m.default.getUser(a.user_id))), u = (0, d.useStateFromStores)([p.default], () => {
                    var e;
                    return r ? null === (e = p.default.getPremiumTypeSubscription()) || void 0 === e ? void 0 : e.trialEndsAt : null
                }), {
                    analyticsLocations: c
                } = (0, _.default)(E.default.SHARE_NITRO_EMBED), {
                    enabled: I
                } = A.default.useExperiment({
                    location: "f4ff1d_1"
                }, {
                    autoTrackExposure: !0
                });
                return l ? (0, s.jsx)(f.ResponsiveLoadingEmbedTile, {
                    isHorizontal: !o.isMobile
                }) : n && null != a && void 0 !== i ? (0, s.jsx)(R, {
                    trialOffer: a,
                    currentUser: i,
                    recipientHasNitro: r,
                    trialEndsAt: u,
                    analyticsLocations: c,
                    shouldShowBirthdayUX: I,
                    ...e
                }) : (0, s.jsx)("div", {
                    className: O.invalidWrapper,
                    children: (0, s.jsx)("div", {
                        className: O.invalid
                    })
                })
            }
        },
        456015: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                fetchUserOffer: function() {
                    return i
                },
                acknowledgeUserOffer: function() {
                    return r
                }
            });
            var s = n("872717"),
                a = n("913144"),
                l = n("49111");
            async function i() {
                a.default.dispatch({
                    type: "BILLING_USER_OFFER_FETCH_START"
                });
                try {
                    var e, t;
                    let n = await s.default.post({
                            url: l.Endpoints.USER_OFFER
                        }),
                        i = null !== (e = n.body.user_trial_offer) && void 0 !== e ? e : null,
                        r = null !== (t = n.body.user_discount) && void 0 !== t ? t : null;
                    return a.default.dispatch({
                        type: "BILLING_USER_OFFER_FETCH_SUCCESS",
                        userTrialOffer: i,
                        userDiscount: r
                    }), {
                        userTrialOffer: i,
                        userDiscount: r
                    }
                } catch (e) {
                    a.default.dispatch({
                        type: "BILLING_USER_OFFER_FETCH_FAIL"
                    })
                }
            }

            function r(e, t) {
                let n = null != e && null == e.expires_at ? e.id : void 0,
                    i = null != t && null == t.expires_at ? t.id : void 0;
                if (void 0 !== n || void 0 !== i) return s.default.post({
                    url: l.Endpoints.USER_OFFER_ACKNOWLEDGED,
                    body: {
                        user_trial_offer_id: n,
                        user_discount_id: i
                    },
                    oldFormErrors: !0
                }).then(e => {
                    var t, n;
                    a.default.dispatch({
                        type: "BILLING_USER_OFFER_ACKNOWLEDGED_SUCCESS",
                        userTrialOffer: null !== (t = e.body.user_trial_offer) && void 0 !== t ? t : null,
                        userDiscount: null !== (n = e.body.user_discount) && void 0 !== n ? n : null
                    })
                })
            }
        },
        781084: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return l
                }
            });
            var s = n("862205");
            let a = (0, s.createExperiment)({
                kind: "user",
                id: "2023-09_premium_likelihood_discount_offers",
                label: "Premium Likelihood Discount Offers",
                defaultConfig: {
                    enabled: !1
                },
                treatments: [{
                    id: 0,
                    label: "Control group. Users will only get trial offers",
                    config: {
                        enabled: !0
                    }
                }, {
                    id: 1,
                    label: "Premium likelihood discount enabled for user.",
                    config: {
                        enabled: !0
                    }
                }, {
                    id: 2,
                    label: "Holdout. No trial or discount offers",
                    config: {
                        enabled: !0
                    }
                }]
            });
            var l = a
        },
        141565: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return l
                }
            });
            var s = n("862205");
            let a = (0, s.createExperiment)({
                kind: "user",
                id: "2023-10_trial_for_everyone_trial_creation",
                label: "Trial for everyone",
                defaultConfig: {
                    enabled: !1
                },
                treatments: [{
                    id: 1,
                    label: "Enabled",
                    config: {
                        enabled: !0
                    }
                }]
            });
            var l = a
        },
        367594: function(e, t, n) {
            "use strict";

            function s(e) {
                let t = Number(e.content);
                return isNaN(t) || 0 === t ? 1 : t
            }
            n.r(t), n.d(t, {
                default: function() {
                    return s
                }
            })
        },
        583711: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                openGiftCodeAcceptModal: function() {
                    return o
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("77078"),
                l = n("521012"),
                i = n("659500"),
                r = n("855133"),
                u = n("49111");

            function o(e) {
                let {
                    processedCode: t,
                    channelContext: o,
                    customGiftMessage: d,
                    giftInfo: c
                } = e, f = !1, E = null;
                (0, a.openModalLazy)(async () => {
                    let {
                        default: e
                    } = await n.el("669146").then(n.bind(n, "669146"));
                    return n => {
                        var a, i;
                        return (0, s.jsx)(e, {
                            code: t,
                            channelContext: o,
                            customGiftMessage: d,
                            emojiName: null == c ? void 0 : null === (a = c.emoji) || void 0 === a ? void 0 : a.name,
                            soundId: null == c ? void 0 : null === (i = c.sound) || void 0 === i ? void 0 : i.id,
                            onComplete: (e, t) => {
                                E = e, t && (f = t, e.isSubscription && null == l.default.getPremiumSubscription(!1) && ((0, r.setCanPlayWowMoment)(!0), (0, r.setIsPersistentHelperHidden)(!0)))
                            },
                            ...n
                        })
                    }
                }, {
                    onCloseCallback: () => {
                        f && null != E && E.isSubscription && i.ComponentDispatch.dispatch(u.ComponentActions.PREMIUM_SUBSCRIPTION_CREATED)
                    }
                })
            }
        },
        62587: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                NitroTooltipLabel: function() {
                    return r
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("77078"),
                l = n("216422"),
                i = n("560354");

            function r(e) {
                let {
                    tooltipText: t,
                    textColor: n
                } = e;
                return (0, s.jsxs)("span", {
                    className: i.tooltipTextContainer,
                    children: [(0, s.jsx)(l.default, {
                        className: i.nitroWheel
                    }), (0, s.jsx)(a.Text, {
                        className: i.tooltipText,
                        variant: "text-sm/medium",
                        color: null != n ? n : "text-normal",
                        children: t
                    })]
                })
            }
        },
        929479: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return A
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("151426"),
                l = n("77078"),
                i = n("913144"),
                r = n("316272"),
                u = n("812204"),
                o = n("10641"),
                d = n("649844"),
                c = n("697218"),
                f = n("340412"),
                E = n("719923"),
                _ = n("540692"),
                I = n("456015"),
                m = n("982457"),
                p = n("781084"),
                h = n("1607"),
                T = n("141565"),
                g = n("646718");
            class S extends r.default {
                _initialize() {
                    __OVERLAY__ ? i.default.subscribe("PREMIUM_PAYMENT_MODAL_OPEN", this._handlePremiumPaymentModalOpen) : (i.default.subscribe("PREMIUM_PAYMENT_MODAL_CLOSE", this._handlePremiumPaymentModalClose), i.default.subscribe("MESSAGE_LENGTH_UPSELL", this.handleMessageLengthUpsell), i.default.subscribe("POST_CONNECTION_OPEN", this._maybeFetchPremiumOffer), i.default.subscribe("POST_CONNECTION_OPEN", this._maybeFetchReferralsRemaining))
                }
                _terminate() {
                    __OVERLAY__ ? i.default.unsubscribe("PREMIUM_PAYMENT_MODAL_OPEN", this._handlePremiumPaymentModalOpen) : (i.default.unsubscribe("PREMIUM_PAYMENT_MODAL_CLOSE", this._handlePremiumPaymentModalClose), i.default.unsubscribe("MESSAGE_LENGTH_UPSELL", this.handleMessageLengthUpsell), i.default.unsubscribe("POST_CONNECTION_OPEN", this._maybeFetchPremiumOffer), i.default.unsubscribe("POST_CONNECTION_OPEN", this._maybeFetchReferralsRemaining))
                }
                handleMessageLengthUpsell(e) {
                    let {
                        channel: t,
                        content: a
                    } = e;
                    (0, l.openModalLazy)(async () => {
                        let {
                            default: e
                        } = await n.el("571034").then(n.bind(n, "571034"));
                        return n => (0, s.jsx)(e, {
                            channel: t,
                            content: a,
                            ...n
                        })
                    })
                }
                openPremiumPaymentModalInApp(e) {
                    if (__OVERLAY__) throw Error("Should not use this function from the overlay, use ModalAPI.openModal instead");
                    return new Promise((t, n) => {
                        (0, d.default)({
                            ...e,
                            onClose: e => {
                                e ? t() : n()
                            }
                        })
                    })
                }
                openPremiumPaymentModalInOverlay(e) {
                    if (__OVERLAY__) throw Error("Should not use this function from the overlay, use ModalAPI.openModal instead");
                    let {
                        initialPlanId: t,
                        subscriptionTier: n,
                        followupSKUInfo: s,
                        analyticsObject: a
                    } = null != e ? e : {};
                    return new Promise((e, l) => {
                        this._premiumPaymentModalCloseResolve = e, this._premiumPaymentModalCloseReject = l, i.default.dispatch({
                            type: "PREMIUM_PAYMENT_MODAL_OPEN",
                            initialPlanId: t,
                            subscriptionTier: n,
                            followupSKUInfo: s,
                            analyticsObject: a
                        })
                    })
                }
                constructor(...e) {
                    super(...e), this._premiumPaymentModalCloseResolve = null, this._premiumPaymentModalCloseReject = null, this._maybeFetchPremiumOffer = () => {
                        let e = c.default.getCurrentUser(),
                            {
                                enabled: t
                            } = T.default.getCurrentConfig({
                                location: "PremiumManager"
                            }),
                            n = (0, o.isDismissibleContentDismissed)(a.DismissibleContent.FORCE_USER_TRIAL_OFFER_FETCH),
                            s = t && !n,
                            l = f.default.shouldFetchOffer() || s;
                        if (null != e && e.verified && !(0, E.isPremium)(e) && l) {
                            let {
                                enabled: e
                            } = p.default.getCurrentConfig({
                                location: "PremiumManager"
                            }, {
                                autoTrackExposure: !1
                            });
                            s && (0, o.markDismissibleContentAsDismissed)(a.DismissibleContent.FORCE_USER_TRIAL_OFFER_FETCH), e ? (0, I.fetchUserOffer)() : m.default.fetchUserTrialOffer()
                        }
                    }, this._maybeFetchReferralsRemaining = () => {
                        let e = c.default.getCurrentUser(),
                            {
                                enabled: t
                            } = h.default.getCurrentConfig({
                                location: "16261f_1"
                            }, {
                                autoTrackExposure: !1
                            });
                        t && null != e && e.verified && (0, E.isPremiumExactly)(e, g.PremiumTypes.TIER_2) && _.default.checkAndFetchReferralsRemaining()
                    }, this._handlePremiumPaymentModalOpen = e => {
                        (0, d.default)({
                            ...e,
                            analyticsLocations: [u.default.OVERLAY],
                            onClose: e => {
                                i.default.dispatch({
                                    type: "PREMIUM_PAYMENT_MODAL_CLOSE",
                                    didSucceed: e
                                })
                            }
                        })
                    }, this._handlePremiumPaymentModalClose = e => {
                        let {
                            didSucceed: t
                        } = e;
                        t && null != this._premiumPaymentModalCloseResolve ? this._premiumPaymentModalCloseResolve() : null != this._premiumPaymentModalCloseReject && this._premiumPaymentModalCloseReject(), this._premiumPaymentModalCloseResolve = null, this._premiumPaymentModalCloseReject = null
                    }
                }
            }
            var A = new S
        },
        116616: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("77078"),
                l = n("305961");

            function i(e) {
                let {
                    onCloseCallback: t,
                    analyticsLocations: i,
                    ...r
                } = e;
                (0, a.openModalLazy)(async () => {
                    let {
                        default: e
                    } = await n.el("341334").then(n.bind(n, "341334"));
                    return t => (0, s.jsx)(e, {
                        ...t,
                        ...r,
                        analyticsLocations: i,
                        guildCount: l.default.getGuildCount(),
                        "aria-labelledby": "nitro-guild-cap-upsell"
                    })
                }, {
                    onCloseCallback: t
                })
            }
        },
        950576: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                getPrivateChannelIntegrationAddedSystemMessageContent: function() {
                    return i
                },
                getPrivateChannelIntegrationRemovedSystemMessageContent: function() {
                    return r
                },
                getPrivateChannelIntegrationAddedSystemMessageASTContent: function() {
                    return u
                },
                getPrivateChannelIntegrationRemovedSystemMessageASTContent: function() {
                    return o
                }
            });
            var s = n("701909"),
                a = n("49111"),
                l = n("782340");

            function i(e) {
                let {
                    application: t,
                    username: n,
                    usernameHook: i = a.NOOP,
                    applicationNameHook: r = a.NOOP
                } = e;
                return null != t ? l.default.Messages.PRIVATE_CHANNEL_INTEGRATION_ADDED.format({
                    username: n,
                    otherUsername: t.name,
                    usernameHook: i,
                    otherUsernameHook: r,
                    helpCenterLink: s.default.getArticleURL(a.HelpdeskArticles.PRIVATE_CHANNEL_INTEGRATIONS)
                }) : l.default.Messages.PRIVATE_CHANNEL_INTEGRATION_ADDED_DELETED_APPLICATION.format({
                    username: n,
                    usernameHook: i,
                    helpCenterLink: s.default.getArticleURL(a.HelpdeskArticles.PRIVATE_CHANNEL_INTEGRATIONS)
                })
            }

            function r(e) {
                let {
                    application: t,
                    username: n,
                    usernameHook: i = a.NOOP,
                    applicationNameHook: r = a.NOOP
                } = e;
                return null != t ? l.default.Messages.PRIVATE_CHANNEL_INTEGRATION_REMOVED.format({
                    username: n,
                    otherUsername: t.name,
                    usernameHook: i,
                    otherUsernameHook: r,
                    helpCenterLink: s.default.getArticleURL(a.HelpdeskArticles.PRIVATE_CHANNEL_INTEGRATIONS)
                }) : l.default.Messages.PRIVATE_CHANNEL_INTEGRATION_REMOVED_DELETED_APPLICATION.format({
                    username: n,
                    usernameHook: i,
                    helpCenterLink: s.default.getArticleURL(a.HelpdeskArticles.PRIVATE_CHANNEL_INTEGRATIONS)
                })
            }

            function u(e) {
                let {
                    application: t,
                    username: n,
                    usernameOnClick: i,
                    applicationNameOnClick: r,
                    medium: u
                } = e;
                return null != t ? l.default.Messages.PRIVATE_CHANNEL_INTEGRATION_ADDED_MOBILE.astFormat({
                    username: n,
                    otherUsername: t.name,
                    usernameOnClick: i,
                    otherUsernameOnClick: r,
                    medium: u,
                    helpCenterLink: {
                        url: s.default.getArticleURL(a.HelpdeskArticles.PRIVATE_CHANNEL_INTEGRATIONS)
                    }
                }) : l.default.Messages.PRIVATE_CHANNEL_INTEGRATION_ADDED_DELETED_APPLICATION_MOBILE.astFormat({
                    username: n,
                    usernameOnClick: i,
                    medium: u,
                    helpCenterLink: {
                        url: s.default.getArticleURL(a.HelpdeskArticles.PRIVATE_CHANNEL_INTEGRATIONS)
                    }
                })
            }

            function o(e) {
                let {
                    application: t,
                    username: n,
                    usernameOnClick: i,
                    applicationNameOnClick: r,
                    medium: u
                } = e;
                return null != t ? l.default.Messages.PRIVATE_CHANNEL_INTEGRATION_REMOVED_MOBILE.astFormat({
                    username: n,
                    otherUsername: t.name,
                    usernameOnClick: i,
                    otherUsernameOnClick: r,
                    medium: u,
                    helpCenterLink: {
                        url: s.default.getArticleURL(a.HelpdeskArticles.PRIVATE_CHANNEL_INTEGRATIONS)
                    }
                }) : l.default.Messages.PRIVATE_CHANNEL_INTEGRATION_REMOVED_DELETED_APPLICATION_MOBILE.astFormat({
                    username: n,
                    usernameOnClick: i,
                    medium: u,
                    helpCenterLink: {
                        url: s.default.getArticleURL(a.HelpdeskArticles.PRIVATE_CHANNEL_INTEGRATIONS)
                    }
                })
            }
        },
        86456: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                PrivateChannelIntegrationAddedSystemMessage: function() {
                    return T
                },
                PrivateChannelIntegrationRemovedSystemMessage: function() {
                    return g
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("77078"),
                i = n("272030"),
                r = n("574073"),
                u = n("232259"),
                o = n("506885"),
                d = n("981601"),
                c = n("697218"),
                f = n("304198"),
                E = n("315102"),
                _ = n("441823"),
                I = n("140596"),
                m = n("950576"),
                p = n("49111");

            function h(e) {
                return a.useCallback(t => (a, r) => {
                    var u;
                    let f = E.default.getApplicationIconURL({
                            id: t.id,
                            icon: t.icon,
                            bot: t.bot,
                            botIconFirst: !0
                        }),
                        m = c.default.getUser(null === (u = t.bot) || void 0 === u ? void 0 : u.id),
                        p = I.default.getIntegration(e.id, t.id),
                        h = e.isPrivate() && null != p ? t => {
                            (0, i.openContextMenuLazy)(t, async () => {
                                let {
                                    default: t
                                } = await n.el("348866").then(n.bind(n, "348866"));
                                return n => (0, s.jsx)(t, {
                                    ...n,
                                    channel: e,
                                    integration: p
                                })
                            })
                        } : null != m ? t => (0, _.openUserContextMenu)(t, m, e) : void 0,
                        {
                            bot: T
                        } = t;
                    return null == T ? a : (0, s.jsx)(l.Popout, {
                        position: "right",
                        preload: () => (0, o.default)(T.id, f, {
                            guildId: e.guild_id,
                            channelId: e.id
                        }),
                        renderPopout: t => (0, s.jsx)(d.default, {
                            ...t,
                            userId: T.id,
                            guildId: e.guild_id,
                            channelId: e.id
                        }),
                        children: e => (0, s.jsx)(l.Anchor, {
                            ...e,
                            onContextMenu: h,
                            children: a
                        })
                    }, r)
                }, [e])
            }

            function T(e) {
                let {
                    message: t,
                    channel: a,
                    compact: l
                } = e, i = (0, r.default)(t), o = t.application, d = (0, u.useUsernameHook)(t.author, a.id, a.guild_id), c = h(a);
                return (0, s.jsx)(f.default, {
                    icon: n("127067"),
                    timestamp: t.timestamp,
                    compact: l,
                    children: (0, m.getPrivateChannelIntegrationAddedSystemMessageContent)({
                        application: o,
                        username: i.nick,
                        usernameHook: d(i),
                        applicationNameHook: null != o ? c(o) : p.NOOP
                    })
                })
            }

            function g(e) {
                let {
                    message: t,
                    channel: a,
                    compact: l
                } = e, i = (0, r.default)(t), o = t.application, d = (0, u.useUsernameHook)(t.author, a.id, a.guild_id), c = h(a);
                return (0, s.jsx)(f.default, {
                    icon: n("226315"),
                    timestamp: t.timestamp,
                    compact: l,
                    children: (0, m.getPrivateChannelIntegrationRemovedSystemMessageContent)({
                        application: o,
                        username: i.nick,
                        usernameHook: d(i),
                        applicationNameHook: null != o ? c(o) : p.NOOP
                    })
                })
            }
        },
        407972: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("77078"),
                l = n("145131"),
                i = n("730541"),
                r = n("782340"),
                u = n("175333"),
                o = () => (0, s.jsxs)(l.default, {
                    align: l.default.Align.CENTER,
                    justify: l.default.Justify.CENTER,
                    direction: l.default.Direction.VERTICAL,
                    className: u.popout,
                    children: [(0, s.jsx)("img", {
                        alt: "",
                        src: (0, i.getPublicSystemMessageAvatar)(),
                        className: u.avatar
                    }), (0, s.jsxs)(l.default, {
                        align: l.default.Align.CENTER,
                        justify: l.default.Justify.CENTER,
                        className: u.nameWrapper,
                        children: [(0, s.jsx)(a.Tooltip, {
                            text: r.default.Messages.STAFF_BADGE_TOOLTIP,
                            children: e => (0, s.jsx)("div", {
                                ...e,
                                className: u.staffBadge
                            })
                        }), (0, s.jsx)(a.Heading, {
                            className: u.header,
                            variant: "heading-md/semibold",
                            children: r.default.Messages.ANNOUNCEMENT_GUILD_POPOUT_NAME
                        })]
                    }), (0, s.jsx)(a.Text, {
                        className: u.description,
                        color: "header-secondary",
                        variant: "text-sm/normal",
                        children: r.default.Messages.ANNOUNCEMENT_GUILD_DESCRIPTION
                    }), (0, s.jsx)(a.Text, {
                        className: u.description,
                        color: "header-secondary",
                        variant: "text-sm/normal",
                        children: r.default.Messages.ANNOUNCEMENT_GUILD_HERE_TO_HELP
                    })]
                })
        },
        219013: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                ReactionPicker: function() {
                    return M
                }
            });
            var s, a, l = n("37983");
            n("884691");
            var i = n("414456"),
                r = n.n(i),
                u = n("446674"),
                o = n("77078"),
                d = n("225664"),
                c = n("716241"),
                f = n("86678"),
                E = n("298878"),
                _ = n("590527"),
                I = n("692171"),
                m = n("62587"),
                p = n("697218"),
                h = n("719923"),
                T = n("432173"),
                g = n("49111"),
                S = n("115279"),
                A = n("958706"),
                N = n("782340"),
                C = n("46111");

            function M(e) {
                let {
                    channel: t,
                    closePopout: n,
                    analyticsOverride: s,
                    onSelectEmoji: a,
                    isBurstReaction: i,
                    messageId: M
                } = e, {
                    isBurstReactionPicker: O,
                    burstCredits: R
                } = (0, u.useStateFromStoresObject)([I.default], () => ({
                    isBurstReactionPicker: I.default.isReactionPickerBurstToggled,
                    burstCredits: I.default.remainingBurstCurrency
                })), {
                    enabled: v,
                    hasTabUI: L
                } = (0, d.useBurstReactionsExperiment)(t.guild_id), P = p.default.getCurrentUser(), x = null != P && (0, h.isPremium)(P), D = (0, T.useTooltipReplenishmentMessage)(), y = o.TooltipColors.PRIMARY, U = R > 0 ? N.default.Messages.SUPER_REACTIONS_LEFT_WITH_PLURAL.format({
                    count: R
                }) : D, b = (0, l.jsx)(o.Button, {
                    look: o.Button.Looks.BLANK,
                    size: o.Button.Sizes.NONE,
                    role: "tab",
                    className: r(C.navButton, C.navItem, {
                        [C.navButtonSuperReactActive]: O
                    }),
                    id: S.SUPER_REACTION_PICKER_TAB_ID,
                    "aria-controls": S.REACTION_PICKER_TAB_PANEL_ID,
                    "aria-selected": O,
                    onClick: () => {
                        c.default.trackWithMetadata(g.AnalyticEvents.REACTION_PICKER_TAB_CLICKED, {
                            tab: S.SUPER_REACTION_PICKER_TAB_ID,
                            super_reaction_balance: R
                        }), (0, _.toggleBurstReactionPicker)(!0)
                    },
                    children: N.default.Messages.REACTION_PICKER_SUPER_REACTIONS
                });
                return (!x && L && R > 0 && (U = N.default.Messages.SUPER_REACTIONS_LEFT_WITH_PLURAL.format({
                    count: R
                })), v && L) ? (0, l.jsxs)("section", {
                    role: "dialog",
                    className: r(C.contentWrapper, {
                        [C.isBurstReactionPicker]: O
                    }),
                    children: [(0, l.jsx)("nav", {
                        className: C.nav,
                        children: (0, l.jsxs)("div", {
                            className: C.navList,
                            role: "tablist",
                            "aria-label": N.default.Messages.REACTION_PICKER_CATEGORIES_A11Y_LABEL,
                            children: [(0, l.jsx)(o.Button, {
                                look: o.Button.Looks.BLANK,
                                size: o.Button.Sizes.NONE,
                                role: "tab",
                                className: r(C.navButton, C.navItem, {
                                    [C.navButtonActive]: !O
                                }),
                                id: S.REACTION_PICKER_TAB_ID,
                                "aria-controls": S.REACTION_PICKER_TAB_PANEL_ID,
                                "aria-selected": !O,
                                onClick: () => {
                                    (0, _.toggleBurstReactionPicker)(!0), c.default.trackWithMetadata(g.AnalyticEvents.REACTION_PICKER_TAB_CLICKED, {
                                        tab: S.REACTION_PICKER_TAB_ID,
                                        super_reaction_balance: R
                                    }), (0, _.toggleBurstReactionPicker)(!1)
                                },
                                children: N.default.Messages.REACTION_PICKER_REACTIONS
                            }), x || R > 0 ? (0, l.jsx)(o.TooltipContainer, {
                                text: (0, l.jsx)(m.NitroTooltipLabel, {
                                    tooltipText: U
                                }),
                                position: "top",
                                "aria-label": U,
                                color: y,
                                tooltipClassName: C.burstReactionTabTooltip,
                                disableTooltipPointerEvents: !1,
                                onTooltipShow: () => c.default.trackWithMetadata(g.AnalyticEvents.SUPER_REACTION_BALANCE_VIEWED, {
                                    type: S.SuperReactionBalanceLocations.TOOLTIP,
                                    balance: R
                                }),
                                children: b
                            }) : b, O && (0, l.jsx)(E.default, {
                                className: C.betaTag
                            })]
                        })
                    }), (0, l.jsx)(f.default, {
                        hasTabWrapper: !0,
                        closePopout: n,
                        channel: t,
                        onSelectEmoji: a,
                        pickerIntention: A.EmojiIntention.REACTION,
                        analyticsOverride: s,
                        isBurstEmoji: O,
                        messageId: M
                    })]
                }) : (0, l.jsx)(f.default, {
                    closePopout: n,
                    channel: t,
                    onSelectEmoji: a,
                    pickerIntention: A.EmojiIntention.REACTION,
                    analyticsOverride: s,
                    isBurstEmoji: i
                })
            }(s = a || (a = {})).REACTION = "reaction", s.SUPER_REACTION = "super_reaction"
        },
        170213: function(e, t, n) {
            "use strict";
            var s, a, l, i, r, u;
            n.r(t), n.d(t, {
                SafetyHubView: function() {
                    return s
                },
                SafetyHubLinks: function() {
                    return o
                },
                SafetyHubPolicyNoticeKeys: function() {
                    return d
                },
                SafetyHubAnalyticsActions: function() {
                    return a
                },
                SafetyHubAnalyticsActionSource: function() {
                    return l
                }
            }), (i = s || (s = {})).SETTINGS = "SETTINGS", i.ACCOUNT_STANDING = "ACCOUNT_STANDING", s.SETTINGS, s.ACCOUNT_STANDING;
            class o {}
            o.TOS_LINK = "https://discord.com/terms", o.COMMUNITY_GUIDELINES = "https://discord.com/guidelines", o.APPEALS_LINK = "https://support.discord.com/hc/requests/new";
            class d {}
            d.CLASSIFICATION_ID = "classification_id", d.INCIDENT_TIMESTAMP = "incident_time", (r = a || (a = {}))[r.ViewViolationDetail = 0] = "ViewViolationDetail", r[r.ViewViolationsDropdown = 1] = "ViewViolationsDropdown", r[r.ClickLetUsKnow = 2] = "ClickLetUsKnow", (u = l || (l = {}))[u.SystemDM = 0] = "SystemDM", u[u.StandingTab = 1] = "StandingTab"
        },
        705423: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                SafetyPolicyNotice: function() {
                    return E
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("866227"),
                l = n.n(a),
                i = n("669491"),
                r = n("779807"),
                u = n("77078"),
                o = n("170213"),
                d = n("782340"),
                c = n("881733");
            let f = e => l().diff(l.unix(e), "days");

            function E(e) {
                var t, a, l, E, _;
                if (null == e.message.embeds || null == e.message.embeds[0].fields) return null;
                let I = e.message.embeds[0],
                    m = null !== (l = null === (t = I.fields) || void 0 === t ? void 0 : t.find(e => e.rawName === o.SafetyHubPolicyNoticeKeys.CLASSIFICATION_ID)) && void 0 !== l ? l : void 0,
                    p = null !== (E = null == m ? void 0 : m.rawValue) && void 0 !== E ? E : void 0,
                    h = null !== (_ = null === (a = I.fields) || void 0 === a ? void 0 : a.find(e => e.rawName === o.SafetyHubPolicyNoticeKeys.INCIDENT_TIMESTAMP)) && void 0 !== _ ? _ : void 0,
                    T = null == h || null == h.rawValue ? void 0 : parseFloat(h.rawValue);
                return null == p || null == T ? null : (0, s.jsxs)(u.Clickable, {
                    onClick: () => {
                        (0, u.openModalLazy)(async () => {
                            let {
                                default: e
                            } = await n.el("825138").then(n.bind(n, "825138"));
                            return t => (0, s.jsx)(e, {
                                classificationId: p,
                                source: o.SafetyHubAnalyticsActionSource.SystemDM,
                                transitionState: t.transitionState,
                                onClose: t.onClose
                            })
                        })
                    },
                    className: c.safetyPolicyNoticeContainer,
                    children: [(0, s.jsxs)("div", {
                        className: c.noticeContent,
                        children: [(0, s.jsxs)("div", {
                            className: c.headerRow,
                            children: [(0, s.jsx)(r.WarningIcon, {
                                className: c.warningIcon,
                                color: i.default.colors.STATUS_DANGER
                            }), (0, s.jsx)(u.Text, {
                                variant: "text-md/semibold",
                                children: d.default.Messages.SAFETY_POLICY_NOTICE_HEADER
                            })]
                        }), (0, s.jsx)("div", {
                            className: c.incidentTiming,
                            children: (0, s.jsx)(u.Text, {
                                variant: "text-xs/medium",
                                children: d.default.Messages.SAFETY_POLICY_NOTICE_DAYS_AGO.format({
                                    daysAgo: f(T)
                                })
                            })
                        }), (0, s.jsx)("div", {
                            className: c.noticeBody,
                            children: (0, s.jsx)(u.Text, {
                                variant: "text-md/normal",
                                color: "text-muted",
                                children: d.default.Messages.SAFETY_POLICY_NOTICE_BODY
                            })
                        })]
                    }), (0, s.jsx)("div", {
                        className: c.footerContainer,
                        children: (0, s.jsx)(u.Button, {
                            look: u.Button.Looks.LINK,
                            className: c.detailsButton,
                            color: u.Button.Colors.WHITE,
                            children: d.default.Messages.SAFETY_POLICY_NOTICE_BUTTON
                        })
                    })]
                })
            }
        },
        866253: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("77078"),
                l = n("996866");

            function i(e) {
                let {
                    activity: t,
                    user: n,
                    source: i,
                    ...r
                } = e, {
                    label: u,
                    tooltip: o,
                    loading: d,
                    disabled: c,
                    onClick: f
                } = (0, l.useSpotifyJoinAction)(t, n, i);
                return (0, s.jsx)(a.Tooltip, {
                    text: o,
                    children: e => {
                        let {
                            onMouseEnter: t,
                            onMouseLeave: n
                        } = e;
                        return (0, s.jsx)(a.Button, {
                            ...r,
                            color: c ? a.Button.Colors.PRIMARY : a.Button.Colors.GREEN,
                            onClick: f,
                            onMouseEnter: t,
                            onMouseLeave: n,
                            disabled: !d && c,
                            submitting: d,
                            children: u
                        })
                    }
                })
            }
        },
        943508: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return A
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("769846"),
                i = n("77078"),
                r = n("812204"),
                u = n("716241"),
                o = n("685665"),
                d = n("933629"),
                c = n("437472"),
                f = n("159885"),
                E = n("256860"),
                _ = n("161585"),
                I = n("41170"),
                m = n("139185"),
                p = n("49111"),
                h = n("646718"),
                T = n("814809");
            let g = (0, f.cssValueToNumber)(l.default.STICKERS_CONSTANTS_STICKER_DIMENSION),
                S = e => {
                    null != e && u.default.trackWithMetadata(p.AnalyticEvents.EXPRESSION_TOOLTIP_VIEWED, {
                        type: h.PremiumUpsellTypes.STICKER_IN_MESSAGE_HOVER,
                        expression_id: e.id,
                        expression_name: e.name,
                        is_animated: (0, _.isAnimatedSticker)(e.format_type),
                        is_custom: (0, _.isCustomSticker)(e.type)
                    })
                };
            var A = e => {
                let {
                    renderableSticker: t,
                    channel: n,
                    isInteracting: l
                } = e, [u, f] = a.useState(!0), [_, p] = a.useState(String(Date.now())), [h] = (0, E.useStickerForRenderableSticker)(t, l), {
                    AnalyticsLocationProvider: A
                } = (0, o.default)(r.default.STICKER_MESSAGE), N = (0, s.jsxs)("span", {
                    className: T.stickerName,
                    children: [(0, s.jsx)(c.default, {
                        className: T.stickerIcon
                    }), (null != h ? h : t).name]
                });
                return (0, s.jsx)(A, {
                    children: (0, s.jsx)(i.Popout, {
                        align: "center",
                        animation: i.Popout.Animation.TRANSLATE,
                        positionKey: _,
                        onRequestClose: () => {
                            f(!0)
                        },
                        renderPopout: e => (0, s.jsx)(m.default, {
                            ...e,
                            renderableSticker: t,
                            channel: n,
                            refreshPositionKey: () => p(String(Date.now()))
                        }),
                        children: e => {
                            let {
                                onClick: n
                            } = e;
                            return (0, s.jsx)(i.Tooltip, {
                                ...d.EXPRESSION_TOOLTIP_PROPS,
                                shouldShow: u,
                                text: (0, d.renderClickableTooltipNode)(N),
                                "aria-label": !1,
                                onTooltipShow: () => {
                                    S(h)
                                },
                                children: e => (0, s.jsx)(i.Clickable, {
                                    ...e,
                                    className: T.clickableSticker,
                                    onClick: e => {
                                        f(!u), n(e)
                                    },
                                    tag: "span",
                                    children: (0, s.jsx)(I.default, {
                                        isInteracting: l,
                                        size: g,
                                        sticker: null != h ? h : t
                                    })
                                })
                            })
                        }
                    })
                })
            }
        },
        139185: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return Y
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("414456"),
                i = n.n(l),
                r = n("446674"),
                u = n("77078"),
                o = n("851387"),
                d = n("716241"),
                c = n("446066"),
                f = n("243375"),
                E = n("459698"),
                _ = n("933629"),
                I = n("626301"),
                m = n("716849"),
                p = n("552917"),
                h = n("635956"),
                T = n("305961"),
                g = n("697218"),
                S = n("145131"),
                A = n("98292"),
                N = n("256170"),
                C = n("599110"),
                M = n("719923"),
                O = n("4233"),
                R = n("256860"),
                v = n("364685"),
                L = n("24373"),
                P = n("41170"),
                x = n("730723"),
                D = n("49111"),
                y = n("646718"),
                U = n("782340"),
                b = n("347826"),
                j = n("154403");
            let G = (e, t) => t ? U.default.Messages.STICKER_POPOUT_PACK_INFO_PREMIUM.format({
                    stickerPackName: e.name
                }) : U.default.Messages.STICKER_POPOUT_PACK_INFO_UNAVAILABLE.format({
                    stickerPackName: e.name
                }),
                B = e => {
                    let {
                        sticker: t,
                        stickerPack: n
                    } = e;
                    return a.useMemo(() => null == n ? [] : n.stickers.slice(0, 4).reduce((e, n) => 3 !== e.length && n.id !== t.id ? e.concat(n) : e, []), [t, n])
                };

            function k(e) {
                C.default.track(D.AnalyticEvents.PREMIUM_PROMOTION_OPENED, {
                    location_page: null != e.guild_id ? D.AnalyticsPages.GUILD_CHANNEL : D.AnalyticsPages.DM_CHANNEL,
                    location_section: D.AnalyticsSections.STICKER_POPOUT
                }), (0, I.navigateToPremiumMarketingPage)()
            }

            function F(e) {
                let {
                    sticker: t,
                    description: n
                } = e;
                return (0, s.jsxs)(S.default, {
                    children: [(0, s.jsx)(P.default, {
                        sticker: t,
                        size: 48,
                        isInteracting: !0
                    }), (0, s.jsxs)(S.default, {
                        direction: S.default.Direction.VERTICAL,
                        justify: S.default.Justify.CENTER,
                        className: j.truncatingText,
                        children: [(0, s.jsx)(u.Text, {
                            className: j.emojiName,
                            variant: "text-md/semibold",
                            children: (0, s.jsx)(A.default, {
                                children: t.name
                            })
                        }), null != n && (0, s.jsx)(u.Text, {
                            variant: "text-sm/normal",
                            children: n
                        })]
                    })]
                })
            }
            let w = e => {
                    let {
                        closePopout: t,
                        sticker: n,
                        channel: l,
                        refreshPositionKey: i
                    } = e, [o, c, f] = (0, r.useStateFromStoresArray)([v.default], () => [v.default.getStickerPack(n.pack_id), !v.default.hasLoadedStickerPacks, v.default.isPremiumPack(n.pack_id)], [n]), E = (0, r.useStateFromStores)([g.default], () => g.default.getCurrentUser(), []), I = B({
                        sticker: n,
                        stickerPack: o
                    });
                    (0, R.useFetchStickerPack)(n.pack_id);
                    let h = (0, R.useFilteredStickerPackCategories)(l),
                        {
                            freeStickersEnabled: T
                        } = O.default.useExperiment({
                            location: "e882b8_1"
                        }, {
                            autoTrackExposure: !1
                        });
                    if ((0, m.useMaybeFetchPremiumLikelihood)(p.default), a.useEffect(() => {
                            i()
                        }, [c]), a.useEffect(() => {
                            C.default.track(D.AnalyticEvents.OPEN_POPOUT, {
                                type: D.AnalyticsSections.STICKER_POPOUT,
                                guild_id: l.getGuildId(),
                                sticker_pack_id: n.pack_id,
                                ...(0, d.collectChannelAnalyticsMetadata)(l)
                            })
                        }, [n.pack_id]), c || null == o) return (0, s.jsx)(_.PopoutLoadingAnimation, {
                        className: b.popoutLoader
                    });
                    let S = M.default.canUseStickersEverywhere(E),
                        A = f && (S || T);
                    return (0, s.jsxs)(_.MessagePopoutContent, {
                        className: b.popoutContent,
                        children: [(0, s.jsx)(u.Heading, {
                            variant: "heading-md/semibold",
                            children: n.name
                        }), (0, s.jsx)(u.Text, {
                            variant: "text-sm/normal",
                            children: G(o, f)
                        }), (0, s.jsx)("ul", {
                            className: b.stickersList,
                            children: I.map(e => (0, s.jsx)(P.default, {
                                isInteracting: !0,
                                size: 80,
                                sticker: e
                            }, e.id))
                        }), f && (0, s.jsx)("div", {
                            className: b.packActions,
                            children: (0, s.jsx)(u.Button, {
                                color: u.Button.Colors.PRIMARY,
                                size: u.Button.Sizes.SMALL,
                                onClick: () => {
                                    A && (0, x.navigateToOwnedStickerPack)({
                                        stickerPack: o,
                                        stickerPickerCategories: h
                                    }), t()
                                },
                                children: U.default.Messages.STICKER_VIEW_MORE_STICKERS
                            }, "view-sticker-pack")
                        })]
                    })
                },
                H = e => {
                    let t, {
                            sticker: n,
                            channel: l,
                            closePopout: I,
                            refreshPositionKey: m
                        } = e,
                        [p, A] = a.useState(null),
                        [O, R] = a.useState(!1),
                        v = g.default.getCurrentUser(),
                        L = M.default.canUseStickersEverywhere(v),
                        x = (0, r.useStateFromStores)([T.default], () => T.default.getGuild(n.guild_id)),
                        G = null != x,
                        [B, w] = a.useState(!1),
                        [H, V] = a.useState(null),
                        Y = a.useMemo(() => ({
                            page: null != l.guild_id ? D.AnalyticsPages.GUILD_CHANNEL : D.AnalyticsPages.DM_CHANNEL,
                            section: D.AnalyticsSections.STICKER_POPOUT
                        }), [l.guild_id]),
                        {
                            current: K
                        } = a.useRef({
                            guild_id: l.getGuildId(),
                            ...(0, d.collectChannelAnalyticsMetadata)(l)
                        });
                    a.useEffect(() => {
                        let e = async () => {
                            let e = null == x || x.hasFeature(D.GuildFeatures.DISCOVERABLE);
                            if (e) {
                                let e = await (0, f.default)(n.id);
                                A(e)
                            }
                            R(!0)
                        };
                        e()
                    }, [n.id, G]);
                    let W = n.guild_id === l.getGuildId(),
                        z = null != p,
                        J = !1,
                        X = "Custom Sticker Popout";
                    L ? t = G ? W ? U.default.Messages.STICKER_POPOUT_PREMIUM_CURRENT_GUILD_DESCRIPTION : U.default.Messages.STICKER_POPOUT_PREMIUM_JOINED_GUILD_DESCRIPTION : z ? U.default.Messages.STICKER_POPOUT_PREMIUM_UNJOINED_DISCOVERABLE_GUILD_DESCRIPTION : U.default.Messages.STICKER_POPOUT_PREMIUM_UNJOINED_PRIVATE_GUILD_DESCRIPTION : G ? (W ? t = U.default.Messages.STICKER_POPOUT_CURRENT_GUILD_DESCRIPTION : t = U.default.Messages.STICKER_POPOUT_JOINED_GUILD_DESCRIPTION, J = !0, X = "Custom Sticker Popout (Upsell)") : z ? (t = U.default.Messages.STICKER_POPOUT_UNJOINED_DISCOVERABLE_GUILD_DESCRIPTION, J = !0, X = "Custom Sticker Popout (Upsell)") : (t = U.default.Messages.STICKER_POPOUT_UNJOINED_PRIVATE_GUILD_DESCRIPTION.format({
                        openPremiumSettings: () => {
                            k(l), I()
                        }
                    }), X = "Custom Sticker Popout (Soft Upsell)");
                    let Z = !J && !G && z && L;
                    return (a.useEffect(() => {
                        m()
                    }, [O, p]), a.useEffect(() => {
                        C.default.track(D.AnalyticEvents.OPEN_POPOUT, {
                            type: X,
                            ...K
                        })
                    }, []), O) ? (0, s.jsxs)(_.MessagePopoutContent, {
                        className: j.popoutContent,
                        children: [(() => {
                            let e = async () => {
                                if (null == p || G) return;
                                I();
                                let e = p.id;
                                try {
                                    await o.default.joinGuild(e), o.default.transitionToGuildSync(e)
                                } catch {}
                            };
                            return (0, s.jsxs)("div", {
                                className: j.emojiSection,
                                children: [(0, s.jsx)(F, {
                                    description: t,
                                    sticker: n
                                }), J && (0, s.jsx)(h.default, {
                                    className: j.ctaButton,
                                    subscriptionTier: y.PremiumSubscriptionSKUs.TIER_2,
                                    size: u.Button.Sizes.SMALL,
                                    fullWidth: !0,
                                    buttonText: U.default.Messages.EMOJI_POPOUT_PREMIUM_CTA,
                                    onSubscribeModalClose: t => t ? e() : I(),
                                    postSuccessGuild: G || null == p ? void 0 : p,
                                    premiumModalAnalyticsLocation: Y
                                }), Z && (0, s.jsx)(u.Button, {
                                    size: u.Button.Sizes.SMALL,
                                    className: j.ctaButton,
                                    fullWidth: !0,
                                    onClick: e,
                                    children: U.default.Messages.GUILD_PROFILE_JOIN_SERVER_BUTTON
                                })]
                            })
                        })(), (null != x || null != p) && (() => {
                            var e;
                            if (!z && !G) return;
                            let t = (null !== (e = null == p ? void 0 : p.stickers) && void 0 !== e ? e : []).slice(0, 13).filter(e => e.id !== n.id).slice(0, 12),
                                a = null != p ? c.default.createFromDiscoverableGuild(p) : c.default.createFromGuildRecord(x);
                            return (0, s.jsxs)("div", {
                                className: j.guildSection,
                                children: [(0, s.jsx)(u.FormTitle, {
                                    className: j.guildTitle,
                                    children: G ? U.default.Messages.STICKER_POPOUT_JOINED_GUILD_EMOJI_DESCRIPTION : U.default.Messages.STICKER_POPOUT_UNJOINED_GUILD_EMOJI_DESCRIPTION
                                }), (0, s.jsx)(E.GuildDetails, {
                                    expressionSourceGuild: a,
                                    hasJoinedExpressionSourceGuild: G,
                                    isDisplayingJoinGuildButtonInPopout: Z
                                }), !G && (0, s.jsxs)(s.Fragment, {
                                    children: [(0, s.jsx)(u.Clickable, {
                                        onClick: () => {
                                            m(), w(!B)
                                        },
                                        className: j.showMoreEmojis,
                                        children: (0, s.jsxs)(S.default, {
                                            children: [(0, s.jsx)(u.Text, {
                                                className: j.showMoreEmojisLabel,
                                                variant: "text-xs/normal",
                                                color: "none",
                                                children: U.default.Messages.STICKER_POPOUT_SHOW_MORE_STICKERS
                                            }), (0, s.jsx)(N.default, {
                                                className: i(j.showMoreEmojisArrow, {
                                                    [j.showMoreEmojisArrowCollapsed]: !B
                                                })
                                            })]
                                        })
                                    }), B && (0, s.jsx)(S.default, {
                                        wrap: S.default.Wrap.WRAP,
                                        align: S.default.Align.START,
                                        justify: S.default.Justify.START,
                                        className: j.otherEmojisContainer,
                                        children: t.map(e => (0, s.jsx)(u.Tooltip, {
                                            text: e.name,
                                            ..._.EXPRESSION_TOOLTIP_PROPS,
                                            children: t => {
                                                let {
                                                    onMouseEnter: n,
                                                    onMouseLeave: a,
                                                    ...l
                                                } = t;
                                                return (0, s.jsx)("div", {
                                                    className: i(j.otherEmoji, {
                                                        [b.nonInteractingSticker]: null != H && H !== e.id
                                                    }),
                                                    onMouseEnter: () => {
                                                        null == n || n(), V(e.id)
                                                    },
                                                    onMouseLeave: () => {
                                                        null == a || a(), V(null)
                                                    },
                                                    ...l,
                                                    children: (0, s.jsx)(P.default, {
                                                        size: 32,
                                                        enlargeOnInteraction: !0,
                                                        enlargeWithName: !1,
                                                        enlargeScaleFactor: 2,
                                                        isInteracting: H === e.id,
                                                        sticker: e
                                                    })
                                                }, e.id)
                                            }
                                        }, e.id))
                                    })]
                                })]
                            })
                        })()]
                    }) : (0, s.jsx)(_.PopoutLoadingAnimation, {
                        className: b.popoutLoader
                    })
                };

            function V(e) {
                let {
                    channel: t,
                    closePopout: n,
                    sticker: a
                } = e;
                return (0, s.jsx)(_.MessagePopoutContent, {
                    className: b.popoutContent,
                    children: (0, s.jsx)(F, {
                        sticker: a,
                        description: U.default.Messages.STICKER_POPOUT_UNJOINED_PRIVATE_GUILD_DESCRIPTION.format({
                            openPremiumSettings: () => {
                                n(), k(t)
                            }
                        })
                    })
                })
            }
            var Y = e => {
                let {
                    renderableSticker: t,
                    channel: n,
                    closePopout: a,
                    refreshPositionKey: l
                } = e, [i, r] = (0, R.useStickerForRenderableSticker)(t, !0);
                if (null != i && (0, L.isStandardSticker)(i)) return (0, s.jsx)(w, {
                    sticker: i,
                    closePopout: a,
                    channel: n,
                    refreshPositionKey: l
                });
                if (null != i && (0, L.isGuildSticker)(i)) return (0, s.jsx)(H, {
                    sticker: i,
                    channel: n,
                    closePopout: a,
                    refreshPositionKey: l
                });
                if (!r) return (0, s.jsx)(_.PopoutLoadingAnimation, {});
                else if (r && null == i) return (0, s.jsx)(V, {
                    channel: n,
                    closePopout: a,
                    sticker: t
                });
                return a(), null
            }
        },
        730723: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                navigateToOwnedStickerPack: function() {
                    return r
                }
            });
            var s = n("986632"),
                a = n("659500"),
                l = n("49111"),
                i = n("13030");

            function r(e) {
                let {
                    stickerPack: t,
                    stickerPickerCategories: n
                } = e;
                a.ComponentDispatch.dispatchToLastSubscribed(l.ComponentActions.OPEN_EXPRESSION_PICKER, {
                    activeView: i.ExpressionPickerViewType.STICKER
                });
                let r = n.findIndex(e => e.id === t.id); - 1 !== r && s.StickerPickerStore.setActiveCategoryIndex(r)
            }
        },
        415829: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return T
                }
            });
            var s = n("37983");
            n("884691");
            var a = n("414456"),
                l = n.n(a),
                i = n("446674"),
                r = n("77078"),
                u = n("272030"),
                o = n("913491"),
                d = n("42203"),
                c = n("69890"),
                f = n("610730"),
                E = n("487269"),
                _ = n("292657"),
                I = n("967241"),
                m = n("49111"),
                p = n("782340"),
                h = n("758179");

            function T(e) {
                let {
                    message: t,
                    compact: n
                } = e, a = (0, i.useStateFromStores)([d.default], () => d.default.getChannel(t.id));
                return null == a ? null : (0, s.jsx)(g, {
                    channel: a,
                    compact: n,
                    isSystemMessage: (0, o.default)(t)
                })
            }

            function g(e) {
                let {
                    channel: t,
                    compact: a,
                    isSystemMessage: o
                } = e, d = (0, i.useStateFromStores)([f.default], () => f.default.getCount(t.id)), T = function(e) {
                    var t;
                    let n = (0, i.useStateFromStores)([f.default], () => f.default.getMostRecentMessage(e.id)),
                        a = (0, i.useStateFromStores)([f.default], () => f.default.getCount(e.id)),
                        l = (0, E.useLastMessageTimestamp)(e);
                    return (null === (t = e.threadMetadata) || void 0 === t ? void 0 : t.archived) ? p.default.Messages.NO_RECENT_THREAD_MESSAGES : null == a || 0 === a ? p.default.Messages.NO_THREAD_MESSAGES : null == n ? (0, s.jsxs)(s.Fragment, {
                        children: [(0, s.jsx)("span", {
                            children: p.default.Messages.NO_RECENT_THREAD_MESSAGES
                        }), (0, s.jsx)("span", {
                            className: h.timestamp,
                            children: (0, E.getTimestampString)(l)
                        })]
                    }) : (0, s.jsxs)(s.Fragment, {
                        children: [(0, s.jsx)(_.default, {
                            message: n,
                            channel: e
                        }), (0, s.jsx)("span", {
                            className: h.timestamp,
                            children: (0, E.getTimestampString)(l)
                        })]
                    })
                }(t), g = null != d && d > 0;
                return (0, s.jsxs)(s.Fragment, {
                    children: [(0, s.jsx)("div", {
                        className: l(h.spine, {
                            [h.cozy]: !a,
                            [h.systemMessageSpine]: o
                        })
                    }), (0, s.jsx)(r.Clickable, {
                        onClick: function(e) {
                            e.stopPropagation(), (0, I.openThreadSidebarForViewing)(t, e.shiftKey)
                        },
                        onKeyDown: function(e) {
                            e.stopPropagation();
                            let n = !e.altKey && !e.ctrlKey && !e.metaKey && !e.shiftKey,
                                s = e.shiftKey && !(e.altKey || e.ctrlKey || e.metaKey);
                            (e.which === m.KeyboardKeys.SPACE || e.which === m.KeyboardKeys.ENTER) && (e.preventDefault(), (n || s) && (0, I.openThreadSidebarForViewing)(t, s))
                        },
                        onContextMenu: function(e) {
                            (0, u.openContextMenuLazy)(e, async () => {
                                let {
                                    default: e
                                } = await n.el("994827").then(n.bind(n, "994827"));
                                return n => (0, s.jsx)(e, {
                                    channel: t,
                                    ...n
                                })
                            })
                        },
                        "aria-roledescription": p.default.Messages.THREAD_MESSAGE_ROLE_DESCRIPTION,
                        className: l(h.container, {
                            [h.systemMessageContainer]: o
                        }),
                        children: (0, s.jsxs)(r.BlockInteractions, {
                            children: [(0, s.jsxs)("div", {
                                className: h.topLine,
                                children: [(0, s.jsx)(r.HiddenVisually, {
                                    children: p.default.Messages.THREAD
                                }), (0, s.jsx)("span", {
                                    className: h.name,
                                    children: t.name
                                }), (0, s.jsx)("span", {
                                    className: h.cta,
                                    "aria-hidden": !g,
                                    children: (0, c.formatMessageCountLabel)(d, t.id)
                                })]
                            }), (0, s.jsx)("span", {
                                "aria-hidden": !0,
                                className: l(h.bottomLine),
                                children: T
                            })]
                        })
                    })]
                })
            }
        },
        292657: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("446674"),
                i = n("750560"),
                r = n("95045"),
                u = n("14526"),
                o = n("27618"),
                d = n("93427"),
                c = n("719347"),
                f = n("741566");

            function E(e) {
                let {
                    message: t,
                    channel: n
                } = e, E = (0, l.useStateFromStores)([o.default], () => o.default.isBlocked(t.author.id)), _ = a.useMemo(() => ({
                    [n.guild_id]: [t.author.id]
                }), [n.guild_id, t.author.id]);
                (0, i.useSubscribeGuildMembers)(_);
                let I = a.useMemo(() => null != t.content && "" !== t.content ? (0, r.default)(t, {
                    formatInline: !0
                }).content : null, [t]);
                return (0, s.jsxs)("div", {
                    className: f.threadMessageAccessory,
                    children: [(0, s.jsx)("img", {
                        alt: "",
                        src: t.author.getAvatarURL(n.guild_id, 16),
                        className: f.threadMessageAccessoryAvatar
                    }), (0, s.jsx)(u.default, {
                        message: t,
                        channel: n,
                        compact: !0
                    }), (0, s.jsx)("div", {
                        className: f.threadMessageAccessoryPreview,
                        children: function(e, t, n) {
                            let {
                                contentPlaceholder: a,
                                renderedContent: l,
                                icon: i
                            } = (0, d.renderSingleLineMessage)(e, t, n, f.threadMessageAccessoryContent, {
                                iconClass: f.threadMessageAccessoryContentIcon,
                                iconSize: c.SINGLE_LINE_MESSAGE_DEFAULT_ICON_SIZE
                            });
                            return (0, s.jsxs)(s.Fragment, {
                                children: [null != l ? l : (0, s.jsx)("span", {
                                    className: f.threadMessageAccessoryPlaceholder,
                                    children: a
                                }), i]
                            })
                        }(t, I, E)
                    })]
                })
            }
        },
        923873: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return l
                }
            });
            var s = n("862205");
            let a = (0, s.createExperiment)({
                kind: "user",
                id: "2023-10_thumbhash_messages",
                label: "Display thumbhash placeholders when loading message images",
                defaultConfig: {
                    enabled: !1
                },
                treatments: [{
                    id: 1,
                    label: "Display thumbhashes",
                    config: {
                        enabled: !0
                    }
                }]
            });
            var l = a
        },
        165405: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                logVoiceMessagePlaybackStarted: function() {
                    return r
                },
                logVoiceMessagePlaybackEnded: function() {
                    return u
                },
                logVoiceMessagePlaybackFailed: function() {
                    return o
                }
            });
            var s, a, l = n("599110"),
                i = n("49111");

            function r(e, t, n, s) {
                l.default.track(i.AnalyticEvents.VOICE_MESSAGE_PLAYBACK_STARTED, {
                    message_id: e,
                    total_duration_secs: t,
                    start_duration_secs: Math.min(null != t ? t : n, n),
                    sender_user_id: s
                })
            }

            function u(e, t, n, s, a) {
                l.default.track(i.AnalyticEvents.VOICE_MESSAGE_PLAYBACK_ENDED, {
                    message_id: e,
                    total_duration_secs: t,
                    end_duration_secs: Math.min(null != t ? t : n, n),
                    sender_user_id: s,
                    duration_listening_secs: a
                })
            }

            function o(e, t) {
                l.default.track(i.AnalyticEvents.VOICE_MESSAGE_PLAYBACK_FAILED, {
                    message_id: e,
                    error_message: t
                })
            }(s = a || (a = {})).SENT = "sent", s.CANCELLED_DURATION = "cancelled_duration", s.CANCELLED_USER_REQUESTED = "cancelled_user_requested", s.CANCELLED_GESTURE_CONFLICT = "cancelled_gesture_conflict", s.CANCELLED_ON_BACKGROUND = "cancelled_on_background"
        },
        417256: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                WELCOME_STICKERS: function() {
                    return s
                }
            });
            let s = [{
                id: "749054660769218631",
                format_type: 3,
                description: "Wumpus waves hello",
                name: "Wave"
            }, {
                id: "751606379340365864",
                format_type: 3,
                description: "Nelly peeks around a wall and waves hello",
                name: "Wave"
            }, {
                id: "754108890559283200",
                format_type: 3,
                description: "Clyde cheerfully waving",
                name: "Wave"
            }, {
                id: "781291131828699156",
                format_type: 2,
                description: "Choco waves in greeting",
                name: "Wave"
            }, {
                id: "816087792291282944",
                format_type: 3,
                description: "Doggo spins and greets you",
                name: "Sup"
            }, {
                id: "819128604311027752",
                format_type: 3,
                description: "Peach raising her arms in distress",
                name: "Scream"
            }]
        },
        825150: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                pickWelcomeSticker: function() {
                    return o
                },
                handleWelcomeCtaClicked: function() {
                    return d
                }
            });
            var s = n("819689"),
                a = n("697218"),
                l = n("599110"),
                i = n("299039"),
                r = n("417256"),
                u = n("49111");
            let o = e => {
                    var t;
                    let n = null === (t = a.default.getCurrentUser()) || void 0 === t ? void 0 : t.id,
                        s = null != n ? i.default.extractTimestamp(n) : 0,
                        l = (s + i.default.extractTimestamp(e)) % r.WELCOME_STICKERS.length;
                    return r.WELCOME_STICKERS[l]
                },
                d = (e, t, n) => {
                    var i;
                    s.default.sendGreetMessage(e.id, n, s.default.getSendMessageOptionsForReply({
                        channel: e,
                        message: t,
                        shouldMention: !0,
                        showMentionToggle: !0
                    })), l.default.track(u.AnalyticEvents.WELCOME_CTA_CLICKED, {
                        is_reply: !0,
                        sticker_id: n,
                        target_user: t.author.id,
                        sender: null === (i = a.default.getCurrentUser()) || void 0 === i ? void 0 : i.id
                    })
                }
        },
        936436: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                WelcomeCTAContainer: function() {
                    return g
                }
            });
            var s = n("37983"),
                a = n("884691"),
                l = n("446674"),
                i = n("77078"),
                r = n("850391"),
                u = n("41170"),
                o = n("300322"),
                d = n("26989"),
                c = n("305961"),
                f = n("957255"),
                E = n("697218"),
                _ = n("718422"),
                I = n("825150"),
                m = n("49111"),
                p = n("782340"),
                h = n("727171");
            let T = e => {
                    let {
                        channel: t,
                        message: n
                    } = e, [l, o] = a.useState(!1), d = (0, I.pickWelcomeSticker)(n.id), c = a.useCallback(() => {
                        (0, _.applyChatRestrictions)({
                            type: r.ChatInputTypes.FORM,
                            content: "",
                            channel: t
                        }).then(e => {
                            let {
                                valid: s
                            } = e;
                            s && (0, I.handleWelcomeCtaClicked)(t, n, d.id)
                        })
                    }, [t, n, d]);
                    return (0, s.jsx)("div", {
                        className: h.welcomeCTA,
                        children: (0, s.jsxs)(i.Button, {
                            className: h.welcomeCTAButtonOuter,
                            innerClassName: h.welcomeCTAButton,
                            color: i.ButtonColors.PRIMARY,
                            onMouseEnter: () => o(!0),
                            onMouseLeave: () => o(!1),
                            onClick: c,
                            children: [(0, s.jsx)(u.default, {
                                className: h.welcomeCTASticker,
                                isInteracting: l,
                                sticker: d,
                                size: 28
                            }), p.default.Messages.WELCOME_CTA_LABEL]
                        })
                    })
                },
                g = e => {
                    let {
                        message: t,
                        channel: n
                    } = e, a = n.getGuildId(), i = (0, l.useStateFromStores)([E.default, f.default, c.default, d.default], () => {
                        var e;
                        let s = E.default.getCurrentUser(),
                            l = (0, o.computeIsReadOnlyThread)(n),
                            i = f.default.can(m.Permissions.SEND_MESSAGES, n),
                            r = null != a && null != s && (null === (e = d.default.getMember(a, s.id)) || void 0 === e ? void 0 : e.isPending),
                            u = t.author.bot,
                            _ = c.default.getGuild(a),
                            I = null != _ && (_.systemChannelFlags & m.SystemChannelFlags.SUPPRESS_JOIN_NOTIFICATION_REPLIES) == 0;
                        return i && !l && !r && !u && I
                    });
                    return null != a && i ? (0, s.jsx)(T, {
                        message: t,
                        channel: n
                    }) : null
                }
        },
        671071: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                SPOTIFY_APPLICATION_ID: function() {
                    return l
                },
                default: function() {
                    return r
                },
                SpotifyApplication: function() {
                    return u
                }
            });
            var s = n("376556"),
                a = n("653047");
            let l = "spotify",
                i = s.default.get(l);
            class r extends a.default {
                getIconURL(e) {
                    return i.icon.lightPNG
                }
                constructor() {
                    super({}), this.id = l, this.name = i.name
                }
            }
            let u = new r
        },
        836417: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var s = n("446674"),
                a = n("913144"),
                l = n("149022"),
                i = n("884351"),
                r = n("845579"),
                u = n("377253");
            let o = {};
            class d extends s.default.Store {
                isEditing(e, t) {
                    var n;
                    return (null === (n = o[e]) || void 0 === n ? void 0 : n.messageId) === t
                }
                isEditingAny(e) {
                    return null != o[e]
                }
                getEditingTextValue(e) {
                    var t;
                    return null === (t = o[e]) || void 0 === t ? void 0 : t.textValue
                }
                getEditingRichValue(e) {
                    var t;
                    return null === (t = o[e]) || void 0 === t ? void 0 : t.richValue
                }
                getEditingMessageId(e) {
                    var t;
                    return null === (t = o[e]) || void 0 === t ? void 0 : t.messageId
                }
                getEditingMessage(e) {
                    let t = o[e];
                    return null != t && null != t.messageId ? u.default.getMessage(e, t.messageId) : null
                }
            }
            d.displayName = "EditMessageStore";
            var c = new d(a.default, {
                MESSAGE_START_EDIT: function(e) {
                    let {
                        channelId: t,
                        messageId: n,
                        content: s
                    } = e, a = r.UseLegacyChatInput.getSetting(), u = i.default.unparse(s, t);
                    o[t] = {
                        channelId: t,
                        messageId: n,
                        textValue: u,
                        richValue: (0, l.toRichValue)(a ? u : s)
                    }
                },
                MESSAGE_UPDATE_EDIT: function(e) {
                    let {
                        channelId: t,
                        textValue: n,
                        richValue: s
                    } = e, a = o[t];
                    if (null == a) return !1;
                    o[t] = {
                        ...a,
                        textValue: n,
                        richValue: s
                    }
                },
                MESSAGE_END_EDIT: function(e) {
                    let {
                        channelId: t
                    } = e;
                    if (null == t || null == o[t]) return !1;
                    delete o[t]
                }
            })
        },
        925758: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return g
                }
            });
            var s = n("917351"),
                a = n.n(s),
                l = n("446674"),
                i = n("913144"),
                r = n("271938"),
                u = n("27618"),
                o = n("101125"),
                d = n("49111");
            let c = {},
                f = {};

            function E(e, t) {
                var n;
                let s = null !== (n = c[e]) && void 0 !== n ? n : {};
                return s[t]
            }

            function _(e, t) {
                let n = E(e, t);
                if (null == n) return;
                let s = c[e];
                delete s[t], a.isEmpty(s) && delete c[e];
                let l = f[n];
                null != l && (l.delete(e), 0 === l.size && delete f[n])
            }

            function I(e, t, n, s) {
                let a = n.find(e => null != e.party && e.party.id),
                    l = null != a && null != a.party ? a.party.id : null,
                    i = E(t, e);
                if (null == l || s === d.StatusTypes.OFFLINE) return null != i && (_(t, e), void 0);
                if (null != i) {
                    if (i === l) return !1;
                    _(t, e)
                }! function(e, t, n) {
                    var s;
                    let a = c[e];
                    if (null == a && (a = c[e] = {}), a[t] = n, u.default.isBlocked(e)) return;
                    let l = null !== (s = f[n]) && void 0 !== s ? s : new Set;
                    f[n] = l, l.add(e)
                }(t, e, l)
            }

            function m(e) {
                let {
                    guild: t
                } = e, n = !1;
                for (let {
                        user: e,
                        status: s,
                        activities: a
                    }
                    of t.presences) !1 !== I(t.id, e.id, a, s) && (n = !0);
                return n
            }

            function p(e, t) {
                let n = !1;
                return t.forEach(t => {
                    null != t && I(e, t.user.id, t.activities, t.status) && (n = !0)
                }), n
            }

            function h() {
                let e = r.default.getId(),
                    t = o.default.getActivities();
                return I(d.ME, e, t)
            }
            class T extends l.default.Store {
                initialize() {
                    this.syncWith([o.default], h), this.waitFor(o.default, u.default)
                }
                getParty(e) {
                    return null != e && null != f[e] ? f[e] : null
                }
                getUserParties() {
                    return c
                }
                getParties() {
                    return f
                }
            }
            T.displayName = "GamePartyStore";
            var g = new T(i.default, {
                CONNECTION_OPEN_SUPPLEMENTAL: function(e) {
                    let {
                        guilds: t,
                        presences: n
                    } = e, s = !1;
                    for (let {
                            user: e,
                            status: t,
                            activities: a
                        }
                        of n) null != e && !1 !== I(d.ME, e.id, a, t) && (s = !0);
                    for (let e of t) !1 !== m({
                        guild: e
                    }) && (s = !0);
                    return s
                },
                OVERLAY_INITIALIZE: function(e) {
                    let {
                        parties: t,
                        userParties: n
                    } = e;
                    f = {}, c = {
                        ...n
                    }, Object.keys(t).forEach(e => f[e] = new Set(t[e]))
                },
                GUILD_CREATE: m,
                PRESENCES_REPLACE: function(e) {
                    let {
                        presences: t
                    } = e, n = !1;
                    for (let {
                            user: e,
                            activities: s
                        }
                        of t) null != e && !1 !== I(d.ME, e.id, s) && (n = !0);
                    return n
                },
                PRESENCE_UPDATES: function(e) {
                    let {
                        updates: t
                    } = e;
                    return t.map(e => {
                        let {
                            guildId: t,
                            user: n,
                            status: s,
                            activities: a
                        } = e;
                        return I(null != t ? t : d.ME, n.id, a, s)
                    }).some(e => e)
                },
                THREAD_MEMBER_LIST_UPDATE: function(e) {
                    let {
                        guildId: t,
                        members: n
                    } = e;
                    return p(t, n.map(e => e.presence))
                },
                THREAD_MEMBERS_UPDATE: function(e) {
                    let {
                        guildId: t,
                        addedMembers: n
                    } = e;
                    return null != n && p(t, n.map(e => e.presence))
                },
                RELATIONSHIP_ADD: function(e) {
                    let {
                        relationship: t
                    } = e;
                    if (!u.default.isBlocked(t.id)) return !1;
                    let n = c[t.id];
                    if (null == n) return !1;
                    for (let e of a.values(n)) {
                        let n = f[e];
                        null != n && n.delete(t.id)
                    }
                },
                RELATIONSHIP_REMOVE: function(e) {
                    let {
                        relationship: t
                    } = e, n = c[t.id];
                    if (null == n) return !1;
                    for (let e of a.values(n)) {
                        let n = f[e];
                        null != n && n.add(t.id)
                    }
                }
            })
        },
        290877: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var s = n("446674"),
                a = n("913144");
            let l = {
                matureAgree: !1,
                muted: !0
            };
            class i extends s.default.Store {
                get didMatureAgree() {
                    return l.matureAgree
                }
                get isDirectoryMuted() {
                    return l.muted
                }
            }
            i.displayName = "ApplicationStoreSettingsStore";
            var r = new i(a.default, {
                APPLICATION_STORE_MATURE_AGREE: function() {
                    l.matureAgree = !0
                },
                APPLICATION_STORE_DIRECTORY_MUTE: function() {
                    l.muted = !0
                },
                APPLICATION_STORE_DIRECTORY_UNMUTE: function() {
                    l.muted = !1
                }
            })
        },
        883029: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                getDescriptiveInviteError: function() {
                    return u
                },
                getInviteError: function() {
                    return o
                }
            });
            var s = n("697218"),
                a = n("701909"),
                l = n("719923"),
                i = n("49111"),
                r = n("782340");

            function u(e) {
                switch (e) {
                    case i.AbortCodes.TOO_MANY_USER_GUILDS:
                        let t = s.default.getCurrentUser(),
                            n = l.default.canUseIncreasedGuildCap(t) || (null == t ? void 0 : t.isStaff()),
                            a = n ? i.MAX_USER_GUILDS_PREMIUM : i.MAX_USER_GUILDS;
                        return {
                            title: r.default.Messages.TOO_MANY_USER_GUILDS_TITLE_2.format({
                                quantity: a
                            }), description: r.default.Messages.TOO_MANY_USER_GUILDS_DESCRIPTION
                        };
                    case i.AbortCodes.GUILD_AT_CAPACITY:
                        return {
                            title: r.default.Messages.SERVER_IS_CURRENTLY_FULL, description: r.default.Messages.PLEASE_TRY_AGAIN_LATER
                        };
                    case i.AbortCodes.GUILD_JOIN_INVITE_LIMITED_ACCESS:
                        return {
                            title: r.default.Messages.GUILD_LIMITED_ACCESS_INFO_MODAL_HEADING, description: r.default.Messages.PLEASE_TRY_AGAIN_LATER
                        };
                    default:
                        return null
                }
            }

            function o(e) {
                switch (e) {
                    case i.AbortCodes.TOO_MANY_USER_GUILDS:
                        return r.default.Messages.TOO_MANY_USER_GUILDS_DESCRIPTION;
                    case i.AbortCodes.GUILD_AT_CAPACITY:
                        return r.default.Messages.MAX_GUILD_MEMBERS_REACHED_ERROR;
                    case i.AbortCodes.INVALID_COUNTRY_CODE:
                        return r.default.Messages.INVALID_COUNTRY_CODE;
                    case i.AbortCodes.INVALID_CANNOT_FRIEND_SELF:
                        return r.default.Messages.INVALID_CANNOT_FRIEND_SELF;
                    case i.AbortCodes.INVITES_DISABLED:
                        return r.default.Messages.INVITES_DISABLED_MODAL_DESCRIPTION.format({
                            articleLink: a.default.getArticleURL(i.HelpdeskArticles.INVITE_DISABLED)
                        });
                    default:
                        return r.default.Messages.INVITE_MODAL_ERROR_DEFAULT
                }
            }
        },
        882941: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                getSKUIdFromURL: function() {
                    return E
                },
                getGenreText: function() {
                    return _
                },
                canUserInstall: function() {
                    return I
                },
                getReadablePreorderReleaseDate: function() {
                    return p
                }
            });
            var s = n("866227"),
                a = n.n(s),
                l = n("803182"),
                i = n("773336"),
                r = n("271560"),
                u = n("49111"),
                o = n("782340");
            let d = {},
                c = {},
                f = Object.freeze({
                    ALL: -1,
                    ...u.SKUGenres
                });

            function E(e) {
                let t = (0, l.matchPath)(e, {
                    path: u.Routes.APPLICATION_STORE_LISTING_SKU(":skuId", ":slug")
                });
                return null != t ? t.params.skuId : null
            }

            function _(e) {
                switch (e) {
                    case u.SKUGenres.ACTION:
                        return o.default.Messages.APPLICATION_STORE_GENRE_ACTION;
                    case u.SKUGenres.ACTION_RPG:
                        return o.default.Messages.APPLICATION_STORE_GENRE_ACTION_RPG;
                    case u.SKUGenres.BRAWLER:
                        return o.default.Messages.APPLICATION_STORE_GENRE_BRAWLER;
                    case u.SKUGenres.HACK_AND_SLASH:
                        return o.default.Messages.APPLICATION_STORE_GENRE_HACK_AND_SLASH;
                    case u.SKUGenres.PLATFORMER:
                        return o.default.Messages.APPLICATION_STORE_GENRE_PLATFORMER;
                    case u.SKUGenres.STEALTH:
                        return o.default.Messages.APPLICATION_STORE_GENRE_STEALTH;
                    case u.SKUGenres.SURVIVAL:
                        return o.default.Messages.APPLICATION_STORE_GENRE_SURVIVAL;
                    case u.SKUGenres.ADVENTURE:
                        return o.default.Messages.APPLICATION_STORE_GENRE_ADVENTURE;
                    case u.SKUGenres.ACTION_ADVENTURE:
                        return o.default.Messages.APPLICATION_STORE_GENRE_ACTION_ADVENTURE;
                    case u.SKUGenres.METROIDVANIA:
                        return o.default.Messages.APPLICATION_STORE_GENRE_METROIDVANIA;
                    case u.SKUGenres.OPEN_WORLD:
                        return o.default.Messages.APPLICATION_STORE_GENRE_OPEN_WORLD;
                    case u.SKUGenres.PSYCHOLOGICAL_HORROR:
                        return o.default.Messages.APPLICATION_STORE_GENRE_PSYCHOLOGICAL_HORROR;
                    case u.SKUGenres.SANDBOX:
                        return o.default.Messages.APPLICATION_STORE_GENRE_SANDBOX;
                    case u.SKUGenres.SURVIVAL_HORROR:
                        return o.default.Messages.APPLICATION_STORE_GENRE_SURVIVAL_HORROR;
                    case u.SKUGenres.VISUAL_NOVEL:
                        return o.default.Messages.APPLICATION_STORE_GENRE_VISUAL_NOVEL;
                    case u.SKUGenres.DRIVING_RACING:
                        return o.default.Messages.APPLICATION_STORE_GENRE_DRIVING_RACING;
                    case u.SKUGenres.VEHICULAR_COMBAT:
                        return o.default.Messages.APPLICATION_STORE_GENRE_VEHICULAR_COMBAT;
                    case u.SKUGenres.MASSIVELY_MULTIPLAYER:
                        return o.default.Messages.APPLICATION_STORE_GENRE_MASSIVELY_MULTIPLAYER;
                    case u.SKUGenres.MMORPG:
                        return o.default.Messages.APPLICATION_STORE_GENRE_MMORPG;
                    case u.SKUGenres.ROLE_PLAYING:
                        return o.default.Messages.APPLICATION_STORE_GENRE_ROLE_PLAYING;
                    case u.SKUGenres.DUNGEON_CRAWLER:
                        return o.default.Messages.APPLICATION_STORE_GENRE_DUNGEON_CRAWLER;
                    case u.SKUGenres.ROGUELIKE:
                        return o.default.Messages.APPLICATION_STORE_GENRE_ROGUELIKE;
                    case u.SKUGenres.SHOOTER:
                        return o.default.Messages.APPLICATION_STORE_GENRE_SHOOTER;
                    case u.SKUGenres.LIGHT_GUN:
                        return o.default.Messages.APPLICATION_STORE_GENRE_LIGHT_GUN;
                    case u.SKUGenres.SHOOT_EM_UP:
                        return o.default.Messages.APPLICATION_STORE_GENRE_SHOOT_EM_UP;
                    case u.SKUGenres.FPS:
                        return o.default.Messages.APPLICATION_STORE_GENRE_FPS;
                    case u.SKUGenres.DUAL_JOYSTICK_SHOOTER:
                        return o.default.Messages.APPLICATION_STORE_GENRE_DUAL_JOYSTICK_SHOOTER;
                    case u.SKUGenres.SIMULATION:
                        return o.default.Messages.APPLICATION_STORE_GENRE_SIMULATION;
                    case u.SKUGenres.FLIGHT_SIMULATOR:
                        return o.default.Messages.APPLICATION_STORE_GENRE_FLIGHT_SIMULATOR;
                    case u.SKUGenres.TRAIN_SIMULATOR:
                        return o.default.Messages.APPLICATION_STORE_GENRE_TRAIN_SIMULATOR;
                    case u.SKUGenres.LIFE_SIMULATOR:
                        return o.default.Messages.APPLICATION_STORE_GENRE_LIFE_SIMULATOR;
                    case u.SKUGenres.FISHING:
                        return o.default.Messages.APPLICATION_STORE_GENRE_FISHING;
                    case u.SKUGenres.SPORTS:
                        return o.default.Messages.APPLICATION_STORE_GENRE_SPORTS;
                    case u.SKUGenres.BASEBALL:
                        return o.default.Messages.APPLICATION_STORE_GENRE_BASEBALL;
                    case u.SKUGenres.BASKETBALL:
                        return o.default.Messages.APPLICATION_STORE_GENRE_BASKETBALL;
                    case u.SKUGenres.BILLIARDS:
                        return o.default.Messages.APPLICATION_STORE_GENRE_BILLIARDS;
                    case u.SKUGenres.BOWLING:
                        return o.default.Messages.APPLICATION_STORE_GENRE_BOWLING;
                    case u.SKUGenres.BOXING:
                        return o.default.Messages.APPLICATION_STORE_GENRE_BOXING;
                    case u.SKUGenres.FOOTBALL:
                        return o.default.Messages.APPLICATION_STORE_GENRE_FOOTBALL;
                    case u.SKUGenres.GOLF:
                        return o.default.Messages.APPLICATION_STORE_GENRE_GOLF;
                    case u.SKUGenres.HOCKEY:
                        return o.default.Messages.APPLICATION_STORE_GENRE_HOCKEY;
                    case u.SKUGenres.SKATEBOARDING_SKATING:
                        return o.default.Messages.APPLICATION_STORE_GENRE_SKATEBOARDING_SKATING;
                    case u.SKUGenres.SNOWBOARDING_SKIING:
                        return o.default.Messages.APPLICATION_STORE_GENRE_SNOWBOARDING_SKIING;
                    case u.SKUGenres.SOCCER:
                        return o.default.Messages.APPLICATION_STORE_GENRE_SOCCER;
                    case u.SKUGenres.TRACK_FIELD:
                        return o.default.Messages.APPLICATION_STORE_GENRE_TRACK_FIELD;
                    case u.SKUGenres.SURFING_WAKEBOARDING:
                        return o.default.Messages.APPLICATION_STORE_GENRE_SURFING_WAKEBOARDING;
                    case u.SKUGenres.WRESTLING:
                        return o.default.Messages.APPLICATION_STORE_GENRE_WRESTLING;
                    case u.SKUGenres.STRATEGY:
                        return o.default.Messages.APPLICATION_STORE_GENRE_STRATEGY;
                    case u.SKUGenres.FOUR_X:
                        return o.default.Messages.APPLICATION_STORE_GENRE_FOUR_X;
                    case u.SKUGenres.ARTILLERY:
                        return o.default.Messages.APPLICATION_STORE_GENRE_ARTILLERY;
                    case u.SKUGenres.RTS:
                        return o.default.Messages.APPLICATION_STORE_GENRE_RTS;
                    case u.SKUGenres.TOWER_DEFENSE:
                        return o.default.Messages.APPLICATION_STORE_GENRE_TOWER_DEFENSE;
                    case u.SKUGenres.TURN_BASED_STRATEGY:
                        return o.default.Messages.APPLICATION_STORE_GENRE_TURN_BASED_STRATEGY;
                    case u.SKUGenres.WARGAME:
                        return o.default.Messages.APPLICATION_STORE_GENRE_WARGAME;
                    case u.SKUGenres.MOBA:
                        return o.default.Messages.APPLICATION_STORE_GENRE_MOBA;
                    case u.SKUGenres.FIGHTING:
                        return o.default.Messages.APPLICATION_STORE_GENRE_FIGHTING;
                    case u.SKUGenres.PUZZLE:
                        return o.default.Messages.APPLICATION_STORE_GENRE_PUZZLE;
                    case u.SKUGenres.CARD_GAME:
                        return o.default.Messages.APPLICATION_STORE_GENRE_CARD_GAME;
                    case u.SKUGenres.EDUCATION:
                        return o.default.Messages.APPLICATION_STORE_GENRE_EDUCATION;
                    case u.SKUGenres.FITNESS:
                        return o.default.Messages.APPLICATION_STORE_GENRE_FITNESS;
                    case u.SKUGenres.GAMBLING:
                        return o.default.Messages.APPLICATION_STORE_GENRE_GAMBLING;
                    case u.SKUGenres.MUSIC_RHYTHM:
                        return o.default.Messages.APPLICATION_STORE_GENRE_MUSIC_RHYTHM;
                    case u.SKUGenres.PARTY_MINI_GAME:
                        return o.default.Messages.APPLICATION_STORE_GENRE_PARTY_MINI_GAME;
                    case u.SKUGenres.PINBALL:
                        return o.default.Messages.APPLICATION_STORE_GENRE_PINBALL;
                    case u.SKUGenres.TRIVIA_BOARD_GAME:
                        return o.default.Messages.APPLICATION_STORE_GENRE_TRIVIA_BOARD_GAME;
                    default:
                        return o.default.Messages.APPLICATION_STORE_GENRE_MISCELLANEOUS
                }
            }

            function I(e) {
                let t = (0, r.nativePlatformTypeToSKUOperatingSystem)((0, i.getPlatform)());
                return e.type === u.SKUTypes.DURABLE_PRIMARY && null != t && e.supportedOperatingSystems.includes(t)
            }
            Object.keys(f).forEach(e => {
                let t = e.toLowerCase().replace(/_/g, "-"),
                    n = f[e];
                d[t] = n, c[n] = t
            });
            let m = [
                ["YYYY-MM-DD", "MMMM DD, Y"],
                ["YYYY-MM", "MMMM Y"],
                ["MM-DD", "MMMM DD"],
                ["MM", "MMMM"],
                ["YYYY", "Y"]
            ];

            function p(e) {
                let {
                    preorderReleaseAt: t,
                    preorderApproximateReleaseDate: n
                } = e;
                if (null != t) return t.format("MMMM DD");
                if (null == n) return null;
                for (let e = 0; e < m.length; e++) {
                    let [t, s] = m[e], l = a(n, t, !0);
                    if (l.isValid()) return l.format(s)
                }
                return n
            }
        },
        380186: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                getSubscriptionSKUs: function() {
                    return o
                },
                subscriptionCanSwitchImmediately: function() {
                    return d
                },
                subscriptionCanDowngrade: function() {
                    return c
                },
                getOrFetchSubscriptionPlan: function() {
                    return f
                }
            });
            var s = n("627445"),
                a = n.n(s),
                l = n("775433"),
                i = n("10514"),
                r = n("49111"),
                u = n("646718");

            function o(e) {
                return e.items.map(e => {
                    let t = i.default.get(e.planId);
                    return a(null != t, "Unable to fetch plan"), t
                }).map(e => e.skuId)
            }

            function d(e, t, n) {
                let s = e.getCurrentSubscriptionPlanIdForGroup(n);
                return e.type === r.SubscriptionTypes.PREMIUM && null == s || (a(null != s, "Current subscription has no plan in group"), a(!(s === u.SubscriptionPlans.PREMIUM_YEAR_TIER_1 && t === u.SubscriptionPlans.PREMIUM_MONTH_TIER_2), "Unexpected plan switch"), n.indexOf(s) < n.indexOf(t))
            }

            function c(e, t, n) {
                return !d(e, t, n)
            }

            function f(e, t) {
                let n = i.default.get(e);
                if (null == n) {
                    let n = u.SubscriptionPlanInfo[e];
                    a(null != n, "Missing hardcoded subscriptionPlan: ".concat(e));
                    let s = n.skuId;
                    !i.default.isFetchingForSKU(s) && (0, l.fetchSubscriptionPlansForSKU)(s, t)
                }
                return n
            }
        },
        700097: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return M
                }
            });
            var s = n("176309"),
                a = n("409129"),
                l = n("277683"),
                i = n("843257"),
                r = n("692038"),
                u = n("574073"),
                o = n("950576"),
                d = n("719926"),
                c = n("271938"),
                f = n("42203"),
                E = n("305961"),
                _ = n("697218"),
                I = n("387111"),
                m = n("299039"),
                p = n("49111"),
                h = n("782340");
            let T = {
                    "234395307759108106": "https://groovy.bot/commands",
                    "365975655608745985": "https://www.pokecord.com/getting-started",
                    "512412940897484800": "http://jameslantz.net/smilebot"
                },
                g = () => [h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_001_HOOK, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_002_HOOK, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_003_HOOK, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_004_HOOK, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_005_HOOK, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_006_HOOK, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_007_HOOK, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_008_HOOK, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_009_HOOK, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_010_HOOK, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_011_HOOK, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_012_HOOK, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_013_HOOK],
                S = () => [h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_001, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_002, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_003, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_004, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_005, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_006, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_007, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_008, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_009, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_010, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_011, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_012, h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_013];

            function A(e) {
                let t = S(),
                    n = m.default.extractTimestamp(e) % t.length;
                return t[n]
            }

            function N(e) {
                return (0, s.astToString)(h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_SUBSCRIBED.astFormat({
                    username: e,
                    usernameOnClick: p.NOOP
                }))
            }

            function C(e, t) {
                let n = f.default.getChannel(t);
                if (null == n) return N(e);
                let a = E.default.getGuild(n.getGuildId());
                return null == a ? N(e) : (0, s.astToString)(h.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_SUBSCRIBED.astFormat({
                    username: e,
                    usernameOnClick: p.NOOP
                }))
            }
            var M = {
                stringify: function(e, t) {
                    var n, m, T, g;
                    let S = null === (n = e.mentions) || void 0 === n ? void 0 : n[0],
                        M = null != S && "string" != typeof S ? _.default.getUser(S.id) : void 0,
                        O = e.channel_id,
                        R = I.default.getName(null, O, e.author);
                    switch (e.type) {
                        case p.MessageTypes.RECIPIENT_ADD:
                            if (null == M) return;
                            return (0, s.astToString)(h.default.Messages.SYSTEM_MESSAGE_RECIPIENT_ADD.astFormat({
                                username: R,
                                usernameOnClick: p.NOOP,
                                otherUsername: I.default.getName(null, O, M),
                                otherUsernameOnClick: p.NOOP
                            }));
                        case p.MessageTypes.RECIPIENT_REMOVE:
                            if (null == M) return;
                            let v = e.author;
                            if (null == v || v.id === M.id) return (0, s.astToString)(h.default.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE_SELF.astFormat({
                                username: R,
                                usernameOnClick: p.NOOP
                            }));
                            return (0, s.astToString)(h.default.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE.astFormat({
                                username: R,
                                usernameOnClick: p.NOOP,
                                otherUsername: I.default.getName(null, O, M),
                                otherUsernameOnClick: p.NOOP
                            }));
                        case p.MessageTypes.CALL:
                            let {
                                call: L
                            } = e;
                            if (null != L && -1 === L.participants.indexOf(c.default.getId())) return (0, s.astToString)(h.default.Messages.SYSTEM_MESSAGE_CALL_STARTED.astFormat({
                                username: R,
                                usernameOnClick: p.NOOP
                            }));
                            return;
                        case p.MessageTypes.CHANNEL_NAME_CHANGE:
                            return (0, s.astToString)((t.isForumPost() ? h.default.Messages.SYSTEM_MESSAGE_FORUM_POST_TITLE_CHANGE : h.default.Messages.SYSTEM_MESSAGE_CHANNEL_NAME_CHANGE).astFormat({
                                username: R,
                                usernameOnClick: p.NOOP,
                                channelName: e.content
                            }));
                        case p.MessageTypes.CHANNEL_ICON_CHANGE:
                            return (0, s.astToString)(h.default.Messages.SYSTEM_MESSAGE_CHANNEL_ICON_CHANGE.astFormat({
                                username: R,
                                usernameOnClick: p.NOOP
                            }));
                        case p.MessageTypes.CHANNEL_PINNED_MESSAGE:
                            return (0, s.astToString)(h.default.Messages.SYSTEM_MESSAGE_PINNED_MESSAGE_NO_CTA.astFormat({
                                username: R,
                                usernameOnClick: p.NOOP
                            }));
                        case p.MessageTypes.USER_JOIN:
                            return (0, s.astToString)(A(e.id).astFormat({
                                username: R,
                                usernameOnClick: p.NOOP
                            }));
                        case p.MessageTypes.GUILD_BOOST:
                            return N(R);
                        case p.MessageTypes.GUILD_BOOST_TIER_1:
                        case p.MessageTypes.GUILD_BOOST_TIER_2:
                        case p.MessageTypes.GUILD_BOOST_TIER_3:
                            return C(R, O);
                        case p.MessageTypes.GUILD_INVITE_REMINDER:
                            return h.default.Messages.SYSTEM_MESSAGE_INVITE_NOTIFICATION;
                        case p.MessageTypes.THREAD_STARTER_MESSAGE:
                            return h.default.Messages.THREAD_STARTER_MESSAGE_NOTIFICATION.format({
                                username: R,
                                threadName: t.name
                            });
                        case p.MessageTypes.ROLE_SUBSCRIPTION_PURCHASE:
                            if (e instanceof d.default) return null;
                            return (0, s.astToString)((0, i.getRoleSubscriptionPurchaseSystemMessageContentMobile)({
                                username: R,
                                guildId: t.guild_id,
                                roleSubscriptionData: e.role_subscription_data
                            }));
                        case p.MessageTypes.PURCHASE_NOTIFICATION:
                            if (e instanceof d.default || (null === (T = e.purchase_notification) || void 0 === T ? void 0 : null === (m = T.guild_product_purchase) || void 0 === m ? void 0 : m.product_name) == null) return null;
                            return (0, s.astToString)((0, l.getGuildProductPurchaseSystemMessageContentMobile)({
                                username: R,
                                productName: e.purchase_notification.guild_product_purchase.product_name
                            }));
                        case p.MessageTypes.GUILD_APPLICATION_PREMIUM_SUBSCRIPTION:
                            if (e instanceof d.default) return null;
                            let P = (0, u.getMessageAuthor)((0, r.createMessageRecord)(e));
                            return (0, s.astToString)((0, a.getApplicationSubscriptionSystemMessageASTContent)({
                                application: e.application,
                                username: P.nick
                            }));
                        case p.MessageTypes.PRIVATE_CHANNEL_INTEGRATION_ADDED:
                            if (e instanceof d.default) return null;
                            return (0, s.astToString)((0, o.getPrivateChannelIntegrationAddedSystemMessageASTContent)({
                                application: e.application,
                                username: (0, u.getMessageAuthor)((0, r.createMessageRecord)(e)).nick
                            }));
                        case p.MessageTypes.PRIVATE_CHANNEL_INTEGRATION_REMOVED:
                            if (e instanceof d.default) return null;
                            return (0, s.astToString)((0, o.getPrivateChannelIntegrationRemovedSystemMessageASTContent)({
                                application: e.application,
                                username: (0, u.getMessageAuthor)((0, r.createMessageRecord)(e)).nick
                            }));
                        case p.MessageTypes.AUTO_MODERATION_ACTION:
                            if (null === (g = e.embeds) || void 0 === g ? void 0 : g.some(e => {
                                    let {
                                        type: t
                                    } = e;
                                    return t === p.MessageEmbedTypes.AUTO_MODERATION_NOTIFICATION
                                })) return function(e) {
                                let t = f.default.getChannel(e);
                                if (null == t) return null;
                                let n = E.default.getGuild(t.getGuildId());
                                return null == n ? null : (0, s.astToString)(h.default.Messages.GUILD_SERVER_RAID_ALERT_NOTIFICATION.astFormat({
                                    guildName: n.name
                                }))
                            }(O);
                            return e.content;
                        case p.MessageTypes.GUILD_INCIDENT_ALERT_MODE_ENABLED:
                            return function(e, t, n) {
                                let a = f.default.getChannel(t);
                                if (null == a) return null;
                                let l = E.default.getGuild(a.getGuildId());
                                return null == l ? null : (0, s.astToString)(h.default.Messages.GUILD_SERVER_LOCKDOWN_ENABLED_NOTIFICATION.astFormat({
                                    username: e,
                                    guildName: l.name,
                                    time: "" !== n ? new Date(n).toLocaleString(h.default.getLocale(), {
                                        hour: "numeric",
                                        minute: "2-digit"
                                    }) : ""
                                }))
                            }(R, O, e.content);
                        case p.MessageTypes.GUILD_INCIDENT_ALERT_MODE_DISABLED:
                            return function(e, t) {
                                let n = f.default.getChannel(t);
                                if (null == n) return null;
                                let a = E.default.getGuild(n.getGuildId());
                                return null == a ? null : (0, s.astToString)(h.default.Messages.GUILD_SERVER_LOCKDOWN_DISABLED_NOTIFICATION.astFormat({
                                    username: e,
                                    guildName: a.name
                                }))
                            }(R, O);
                        default:
                            return e.content
                    }
                },
                getSystemMessageUserJoin: function(e) {
                    let t = g(),
                        n = m.default.extractTimestamp(e) % t.length;
                    return t[n]
                },
                getSystemMessageUserJoinMobile: A,
                getSystemMessageBotJoin: function(e) {
                    return null == T[e] ? null : h.default.Messages.SYSTEM_MESSAGE_GUILD_BOT_JOIN.format({
                        learnOnClick: {
                            onClick: () => window.open(T[e])
                        }
                    })
                }
            }
        }
    }
]);