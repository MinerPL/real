(this.webpackChunkdiscord_app = this.webpackChunkdiscord_app || []).push([
    ["80803"], {
        842001: function(e, t, i) {
            var n = {
                "./spritesheet--32.png": "588202",
                "./spritesheet--40.png": "955348",
                "./spritesheet--48.png": "259453",
                "./spritesheet-1f3fb-32.png": "643968",
                "./spritesheet-1f3fb-40.png": "142812",
                "./spritesheet-1f3fb-48.png": "207664",
                "./spritesheet-1f3fc-32.png": "386310",
                "./spritesheet-1f3fc-40.png": "233880",
                "./spritesheet-1f3fc-48.png": "643208",
                "./spritesheet-1f3fd-32.png": "468937",
                "./spritesheet-1f3fd-40.png": "491454",
                "./spritesheet-1f3fd-48.png": "517069",
                "./spritesheet-1f3fe-32.png": "416039",
                "./spritesheet-1f3fe-40.png": "298895",
                "./spritesheet-1f3fe-48.png": "479297",
                "./spritesheet-1f3ff-32.png": "785309",
                "./spritesheet-1f3ff-40.png": "353688",
                "./spritesheet-1f3ff-48.png": "924573",
                "./spritesheet-emoji-32.png": "61469",
                "./spritesheet-emoji-40.png": "642437",
                "./spritesheet-emoji-48.png": "958327",
                "./spritesheet-picker-22.png": "819107"
            };

            function s(e) {
                return i(l(e))
            }

            function l(e) {
                if (!i.o(n, e)) {
                    var t = Error("Cannot find module '" + e + "'");
                    throw t.code = "MODULE_NOT_FOUND", t
                }
                return n[e]
            }
            s.id = '"842001"', s.keys = function() {
                return Object.keys(n)
            }, s.resolve = l, e.exports = s
        },
        913983: function(e, t, i) {
            var n = {
                "./spritesheet-emoji-32.png": "61469",
                "./spritesheet-emoji-40.png": "642437",
                "./spritesheet-emoji-48.png": "958327"
            };

            function s(e) {
                return i(l(e))
            }

            function l(e) {
                if (!i.o(n, e)) {
                    var t = Error("Cannot find module '" + e + "'");
                    throw t.code = "MODULE_NOT_FOUND", t
                }
                return n[e]
            }
            s.id = '"913983"', s.keys = function() {
                return Object.keys(n)
            }, s.resolve = l, e.exports = s
        },
        328269: function(e, t, i) {
            "use strict";
            e.exports = i.p + "746284e4cfc7cd6c5e15.svg"
        },
        958787: function(e, t, i) {
            "use strict";
            e.exports = i.p + "80b04934274a1d198741.svg"
        },
        894388: function(e, t, i) {
            "use strict";
            e.exports = i.p + "411dfecce0d7da63ea2b.svg"
        },
        719902: function(e, t, i) {
            "use strict";
            e.exports = i.p + "d83432a67613c4ff249f.png"
        },
        588202: function(e, t, i) {
            "use strict";
            e.exports = i.p + "d7bb28fc5b72e46334b3.png"
        },
        955348: function(e, t, i) {
            "use strict";
            e.exports = i.p + "cd81a872fe31d1399120.png"
        },
        259453: function(e, t, i) {
            "use strict";
            e.exports = i.p + "48bdb1cd4d7d9789777e.png"
        },
        643968: function(e, t, i) {
            "use strict";
            e.exports = i.p + "bee652cda38fd527a001.png"
        },
        142812: function(e, t, i) {
            "use strict";
            e.exports = i.p + "56e6fbae3627a6daed8c.png"
        },
        207664: function(e, t, i) {
            "use strict";
            e.exports = i.p + "046aafbd05be91266c73.png"
        },
        386310: function(e, t, i) {
            "use strict";
            e.exports = i.p + "833d8b325d39d86c0109.png"
        },
        233880: function(e, t, i) {
            "use strict";
            e.exports = i.p + "ebfe9350b64e4643c85a.png"
        },
        643208: function(e, t, i) {
            "use strict";
            e.exports = i.p + "44f26d2c632b25abeea0.png"
        },
        468937: function(e, t, i) {
            "use strict";
            e.exports = i.p + "fe9c80d2c95fe4c72d23.png"
        },
        491454: function(e, t, i) {
            "use strict";
            e.exports = i.p + "aada3af0d24905854144.png"
        },
        517069: function(e, t, i) {
            "use strict";
            e.exports = i.p + "d79250946018e9e72d51.png"
        },
        416039: function(e, t, i) {
            "use strict";
            e.exports = i.p + "ceeff4572cc9ed16dfe2.png"
        },
        298895: function(e, t, i) {
            "use strict";
            e.exports = i.p + "43130514832962d7cda9.png"
        },
        479297: function(e, t, i) {
            "use strict";
            e.exports = i.p + "6cb314fa98ef98aa5789.png"
        },
        785309: function(e, t, i) {
            "use strict";
            e.exports = i.p + "5415a82e559b2f9c274d.png"
        },
        353688: function(e, t, i) {
            "use strict";
            e.exports = i.p + "189fd70cb5ba5102a24b.png"
        },
        924573: function(e, t, i) {
            "use strict";
            e.exports = i.p + "152d2f5b6b4cdbb34a35.png"
        },
        61469: function(e, t, i) {
            "use strict";
            e.exports = i.p + "ce65a14893cacc1cc08f.png"
        },
        642437: function(e, t, i) {
            "use strict";
            e.exports = i.p + "d3273e36888d1d5b7097.png"
        },
        958327: function(e, t, i) {
            "use strict";
            e.exports = i.p + "beea344715326f0f73c8.png"
        },
        819107: function(e, t, i) {
            "use strict";
            e.exports = i.p + "f78fe213648887ae3afe.png"
        },
        206201: function(e, t, i) {
            "use strict";
            e.exports = i.p + "1d8d39115a68b693d927.png"
        },
        668396: function(e, t, i) {
            "use strict";
            e.exports = i.p + "dd8e451e625e639d8fea.png"
        },
        150021: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                setDiversityColor: function() {
                    return g
                },
                fetchEmoji: function() {
                    return S
                },
                uploadEmoji: function() {
                    return T
                },
                deleteEmoji: function() {
                    return h
                },
                updateEmoji: function() {
                    return N
                },
                favoriteEmoji: function() {
                    return R
                },
                unfavoriteEmoji: function() {
                    return A
                }
            });
            var n = i("917351"),
                s = i.n(n),
                l = i("872717"),
                a = i("750028"),
                r = i("913144"),
                o = i("599417"),
                u = i("385976"),
                d = i("867805"),
                c = i("619443"),
                E = i("872173"),
                f = i("341542"),
                m = i("404118"),
                I = i("49111"),
                _ = i("397336"),
                p = i("782340");

            function g(e) {
                E.PreloadedUserSettingsActionCreators.updateAsync("textAndImages", t => {
                    t.diversitySurrogate = a.StringValue.create(), t.diversitySurrogate.value = e
                }, _.UserSettingsDelay.FREQUENT_USER_ACTION)
            }

            function S(e) {
                r.default.dispatch({
                    type: "EMOJI_FETCH",
                    guildId: e
                }), l.default.get({
                    url: I.Endpoints.GUILD_EMOJIS(e),
                    oldFormErrors: !0
                }).then(t => r.default.dispatch({
                    type: "EMOJI_FETCH_SUCCESS",
                    guildId: e,
                    emojis: t.body
                }), () => r.default.dispatch({
                    type: "EMOJI_FETCH_FAILURE",
                    guildId: e
                }))
            }

            function T(e) {
                let {
                    guildId: t,
                    image: i,
                    name: n,
                    roles: s
                } = e;
                return r.default.dispatch({
                    type: "EMOJI_UPLOAD_START",
                    guildId: t
                }), l.default.post({
                    url: I.Endpoints.GUILD_EMOJIS(t),
                    body: {
                        image: i,
                        name: n,
                        roles: s
                    },
                    oldFormErrors: !0
                }).then(() => r.default.dispatch({
                    type: "EMOJI_UPLOAD_STOP",
                    guildId: t
                }), e => (r.default.dispatch({
                    type: "EMOJI_UPLOAD_STOP",
                    guildId: t
                }), Promise.reject(e)))
            }

            function h(e, t) {
                return r.default.dispatch({
                    type: "EMOJI_DELETE",
                    guildId: e,
                    emojiId: t
                }), l.default.delete({
                    url: I.Endpoints.GUILD_EMOJI(e, t),
                    oldFormErrors: !0
                })
            }
            async function N(e) {
                let {
                    guildId: t,
                    emojiId: i,
                    name: n,
                    roles: s
                } = e;
                try {
                    return await l.default.patch({
                        url: I.Endpoints.GUILD_EMOJI(t, i),
                        body: {
                            name: n,
                            roles: s
                        },
                        oldFormErrors: !0
                    })
                } catch (e) {
                    throw new o.default(e)
                }
            }

            function C(e) {
                return f.default.totalUnavailableGuilds > 0 || !c.default.isConnected() ? e : e.filter(e => {
                    var t;
                    let i = null !== (t = u.default.getCustomEmojiById(e)) && void 0 !== t ? t : d.default.getByName(e);
                    return null != i
                })
            }

            function R(e) {
                var t;
                (function(e) {
                    null != e && E.FrecencyUserSettingsActionCreators.updateAsync("favoriteEmojis", t => (t.emojis = C(t.emojis), s.size(t.emojis) >= _.MAX_FAVORITES) ? (m.default.show({
                        title: p.default.Messages.FAVORITES_LIMIT_REACHED_TITLE,
                        body: p.default.Messages.FAVORITES_LIMIT_REACHED_BODY.format({
                            count: _.MAX_FAVORITES
                        })
                    }), !1) : !t.emojis.includes(e) && void t.emojis.push(e), _.UserSettingsDelay.INFREQUENT_USER_ACTION)
                })(null !== (t = e.id) && void 0 !== t ? t : e.name)
            }

            function A(e) {
                var t;
                (function(e) {
                    null != e && E.FrecencyUserSettingsActionCreators.updateAsync("favoriteEmojis", t => {
                        if (!t.emojis.includes(e)) return !1;
                        t.emojis = t.emojis.filter(t => e !== t), t.emojis = C(t.emojis)
                    }, _.UserSettingsDelay.INFREQUENT_USER_ACTION)
                })(null !== (t = e.id) && void 0 !== t ? t : e.name)
            }
        },
        96386: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return r
                }
            });
            var n = i("37983");
            i("884691");
            var s = i("414456"),
                l = i.n(s),
                a = i("691870"),
                r = e => {
                    let {
                        message: t,
                        className: i,
                        noResultsImageURL: s,
                        forceLightTheme: r,
                        suggestions: o
                    } = e;
                    return (0, n.jsx)("div", {
                        className: l({
                            [a.forceLightTheme]: r
                        }, i),
                        children: (0, n.jsxs)("div", {
                            className: a.wrapper,
                            children: [(0, n.jsx)("div", {
                                className: a.sadImage,
                                style: null != s ? {
                                    backgroundImage: "url(".concat(s, ")")
                                } : {}
                            }), (0, n.jsx)("div", {
                                children: t
                            }), o]
                        })
                    })
                }
        },
        137223: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                RichTagTypes: function() {
                    return s
                },
                SearchBarIcon: function() {
                    return g
                },
                default: function() {
                    return T
                }
            });
            var n, s, l = i("37983"),
                a = i("884691"),
                r = i("414456"),
                o = i.n(r),
                u = i("77078"),
                d = i("109024"),
                c = i("945330"),
                E = i("229915"),
                f = i("439932"),
                m = i("49111"),
                I = i("782340"),
                _ = i("515315");
            let p = Object.freeze({
                SMALL: _.small,
                MEDIUM: _.medium,
                LARGE: _.large
            });
            (n = s || (s = {})).MEMBER = "MEMBER", n.ROLE = "ROLE", n.CHANNEL = "CHANNEL", n.GUILD = "GUILD", n.USER = "USER";
            let g = e => {
                let {
                    hasContent: t,
                    onClear: i,
                    className: n,
                    themeOverride: s,
                    size: a = p.SMALL
                } = e;
                return (0, l.jsx)(u.Clickable, {
                    className: o(n, _.iconLayout, a, (0, f.getThemeClass)(s), {
                        [_.clear]: t
                    }),
                    onClick: e => {
                        e.stopPropagation(), null != i && i(e)
                    },
                    onMouseDown: e => {
                        e.preventDefault(), e.stopPropagation()
                    },
                    tabIndex: t ? 0 : -1,
                    "aria-hidden": !t,
                    "aria-label": I.default.Messages.SEARCH_CLEAR,
                    focusProps: {
                        offset: 4
                    },
                    children: (0, l.jsxs)("div", {
                        className: _.iconContainer,
                        children: [(0, l.jsx)(E.default, {
                            className: o({
                                [_.icon]: !0,
                                [_.visible]: !t
                            })
                        }), (0, l.jsx)(c.default, {
                            className: o({
                                [_.icon]: !0,
                                [_.visible]: t
                            })
                        })]
                    })
                })
            };
            class S extends a.Component {
                componentDidUpdate(e) {
                    let {
                        focusAfterReady: t,
                        isReady: i
                    } = this.props;
                    t && !e.isReady && i && this.focus()
                }
                handleKeyDownGrid(e) {
                    let {
                        selectedRow: t,
                        selectedColumn: i,
                        sections: n,
                        query: s,
                        tags: l,
                        onSelectionChange: a,
                        onSelect: r,
                        onRemoveTag: o,
                        preventEscapePropagation: u
                    } = this.props;
                    if (0 !== n.length) {
                        switch (e.keyCode) {
                            case m.KeyboardKeys.BACKSPACE:
                                if ((null == s || 0 === s.length) && null != l && l.length > 0) e.preventDefault(), e.stopPropagation(), null == o || o(l.length - 1);
                                break;
                            case m.KeyboardKeys.ARROW_DOWN:
                                e.preventDefault(), e.stopPropagation(), -1 === t ? (t = 0, i = 0) : ((t += 1) >= n.length && (t = n.length - 1), i >= n[t] && (i = n[t] - 1));
                                break;
                            case m.KeyboardKeys.ARROW_UP:
                                e.preventDefault(), e.stopPropagation(), (t -= 1) < 0 ? (t = 0, i = 0) : i >= n[t] && (i = n[t] - 1);
                                break;
                            case m.KeyboardKeys.ARROW_LEFT:
                                e.preventDefault(), e.stopPropagation(), -1 === t && (t = 0), (i -= 1) < 0 && ((t -= 1) >= 0 ? i = n[t] - 1 : t < 0 && (t = 0, i = 0));
                                break;
                            case m.KeyboardKeys.ARROW_RIGHT:
                                e.preventDefault(), e.stopPropagation(), -1 === t && (t = 0), (i += 1) >= n[t] && (i = 0, (t += 1) >= n.length && (t = n.length - 1, i = n[t] - 1));
                                break;
                            case m.KeyboardKeys.ENTER:
                                if (e.preventDefault(), e.stopPropagation(), -1 === t && (t = 0), -1 === i && (i = 0), t >= n.length || i >= n[t]) return;
                                null != r && r(t, i, e);
                                return;
                            case m.KeyboardKeys.ESCAPE:
                                e.preventDefault(), u && e.stopPropagation(), null != r && r(null, null, e);
                                return;
                            default:
                                return
                        }
                        null != a && a(t, i)
                    }
                }
                handleKeyDownList(e) {
                    var t, i;
                    let {
                        sections: n,
                        selectedSection: s,
                        selectedRow: l,
                        onSelect: a,
                        onSelectionChange: r,
                        query: o,
                        tags: u,
                        preventEscapePropagation: d
                    } = this.props, {
                        current: c
                    } = this.ref;
                    if (null != c) switch (e.keyCode) {
                        case m.KeyboardKeys.BACKSPACE:
                            (null == o || 0 === o.length) && null != u && u.length > 0 && (e.preventDefault(), e.stopPropagation(), null === (t = (i = this.props).onRemoveTag) || void 0 === t || t.call(i, u.length - 1));
                            break;
                        case m.KeyboardKeys.ARROW_DOWN:
                            e.preventDefault(), e.stopPropagation(), n.length > s && ++l >= n[s] && (++s >= n.length && (s = 0), l = 0), null == r || r(s, l);
                            break;
                        case m.KeyboardKeys.ARROW_UP:
                            e.preventDefault(), e.stopPropagation(), --l < 0 && (--s < 0 && (s = n.length - 1), l = n[s] - 1), null == r || r(s, l);
                            break;
                        case m.KeyboardKeys.ENTER:
                            e.preventDefault(), e.stopPropagation(), n.length > s && n[s] > l && (null == a || a(s, l, e));
                            break;
                        case m.KeyboardKeys.ESCAPE:
                            e.preventDefault(), d && e.stopPropagation(), null == a || a(null, null, e), c.blur()
                    }
                }
                render() {
                    let {
                        autoFocus: e,
                        query: t,
                        placeholder: i = I.default.Messages.DM_SEARCH_PLACEHOLDER,
                        themeOverride: n,
                        disabled: a,
                        onClear: r,
                        size: E,
                        maxHeight: m,
                        tags: p,
                        onActivate: S,
                        className: T,
                        inputProps: h,
                        focusAfterReady: N
                    } = this.props, C = null != t && t.length > 0, R = !1, A = [];
                    return null != p && p.length > 0 && ("string" == typeof p[0] ? p.forEach((e, t) => A.push((0, l.jsxs)(u.Anchor, {
                        focusProps: {
                            offset: 4
                        },
                        className: _.tag,
                        onClick: this.handleRemoveTag.bind(this, t),
                        children: [e, (0, l.jsx)(c.default, {
                            className: _.close,
                            "aria-label": I.default.Messages.REMOVE
                        })]
                    }, t))) : (R = !0, p.forEach((e, t) => A.push((0, l.jsxs)(u.Anchor, {
                        className: o(_.tag, _.richTag),
                        onClick: this.handleRemoveTag.bind(this, t),
                        children: [(e.type === s.MEMBER || e.type === s.USER) && null != e.avatar && (0, l.jsx)(u.Avatar, {
                            src: e.avatar,
                            "aria-hidden": !0,
                            size: u.AvatarSizes.SIZE_16
                        }), e.type === s.ROLE && null != e.color && (0, l.jsx)("span", {
                            className: _.tagRoleColor,
                            style: {
                                backgroundColor: e.color
                            }
                        }), e.type === s.GUILD && null != e.guild && (0, l.jsx)(d.default, {
                            guild: e.guild,
                            active: !0,
                            size: d.default.Sizes.SMOL
                        }), (0, l.jsx)("span", {
                            className: _.tagLabel,
                            children: e.label
                        }), (0, l.jsx)(c.default, {
                            className: _.close,
                            "aria-label": I.default.Messages.REMOVE
                        })]
                    }, t))))), (0, l.jsx)(u.FocusRing, {
                        focusTarget: this.ref,
                        ringTarget: this.containerRef,
                        children: (0, l.jsx)("div", {
                            ref: this.containerRef,
                            className: o(T, _.container, E, (0, f.getThemeClass)(n), {
                                [_.disabled]: a
                            }),
                            children: (0, l.jsxs)(u.ScrollerThin, {
                                className: _.inner,
                                style: {
                                    maxHeight: m
                                },
                                children: [A, (0, l.jsx)("input", {
                                    className: o(_.input, {
                                        [_.richTagInput]: R
                                    }),
                                    type: "text",
                                    ref: this.ref,
                                    spellCheck: "false",
                                    placeholder: i,
                                    value: t,
                                    onChange: this.handleChange,
                                    onKeyDown: this.handleKeyDown,
                                    onFocus: this.handleFocus,
                                    disabled: a,
                                    "aria-disabled": a,
                                    autoFocus: !N && e,
                                    onMouseDown: S,
                                    ...this.defaultInputProps,
                                    ...h
                                }), null != r ? (0, l.jsx)(g, {
                                    size: E,
                                    themeOverride: n,
                                    hasContent: C,
                                    onClear: this.handleClear
                                }) : null]
                            })
                        })
                    })
                }
                constructor(...e) {
                    super(...e), this.defaultInputProps = {
                        role: "combobox",
                        "aria-haspopup": "listbox",
                        "aria-autocomplete": "list"
                    }, this.ref = a.createRef(), this.containerRef = a.createRef(), this.handleKeyDown = e => {
                        let {
                            onActivate: t,
                            onKeyDown: i,
                            onQueryChange: n,
                            useKeyboardNavigation: s
                        } = this.props;
                        null != i && i(e);
                        let {
                            current: l
                        } = this.ref;
                        if (null == l || null != t) {
                            e.keyCode !== m.KeyboardKeys.TAB && null != t && t(e);
                            return
                        }
                        if (e.keyCode === m.KeyboardKeys.ESCAPE && null != l.value && "" !== l.value && l.value.length > 0) {
                            l.value = "", null != n && n("");
                            return
                        }
                        s && (this.props.gridResults ? this.handleKeyDownGrid(e) : this.handleKeyDownList(e))
                    }, this.handleChange = e => {
                        let {
                            onQueryChange: t
                        } = this.props;
                        null != t && t(e.currentTarget.value)
                    }, this.handleFocus = e => {
                        let {
                            onFocus: t
                        } = this.props;
                        null != t && t(e)
                    }, this.handleClear = () => {
                        let {
                            onClear: e
                        } = this.props, {
                            current: t
                        } = this.ref;
                        null != e && e(), null != t && t.focus()
                    }, this.handleRemoveTag = e => {
                        let {
                            onRemoveTag: t
                        } = this.props;
                        null == t || t(e)
                    }, this.focus = () => {
                        let {
                            current: e
                        } = this.ref;
                        null != e && e.focus()
                    }
                }
            }
            S.Sizes = p, S.defaultProps = {
                size: p.SMALL,
                query: "",
                sections: [],
                selectedSection: 0,
                selectedRow: -1,
                selectedColumn: -1,
                gridResults: !1,
                disabled: !1,
                autoFocus: !1,
                preventEscapePropagation: !0,
                useKeyboardNavigation: !0
            };
            var T = S
        },
        612039: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return a
                }
            });
            var n = i("884691"),
                s = i("775560"),
                l = i("862337");

            function a(e, t) {
                let [i, a] = (0, n.useState)(e), r = (0, s.useLazyValue)(() => new l.Timeout);
                (0, n.useEffect)(() => () => r.stop(), [r]);
                let o = (0, n.useCallback)(i => {
                    a(i), i !== e && r.start(t, () => a(e))
                }, [t, e, r]);
                return [i, o]
            }
        },
        302437: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return o
                }
            });
            var n = i("974667"),
                s = i("446674"),
                l = i("206230");

            function a() {
                return Promise.resolve()
            }

            function r(e) {
                let t = document.querySelector(e);
                null != t && t.focus()
            }

            function o(e, t) {
                let i = (0, s.useStateFromStores)([l.default], () => l.default.keyboardModeEnabled);
                return (0, n.default)({
                    id: e,
                    isEnabled: i,
                    orientation: t,
                    setFocus: r,
                    scrollToStart: a,
                    scrollToEnd: a
                })
            }
        },
        86678: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return eI
                }
            });
            var n = i("37983"),
                s = i("884691"),
                l = i("414456"),
                a = i.n(l),
                r = i("483366"),
                o = i.n(r),
                u = i("880317"),
                d = i("446674"),
                c = i("151426"),
                E = i("769846"),
                f = i("77078"),
                m = i("150021"),
                I = i("901582"),
                _ = i("225664"),
                p = i("997289"),
                g = i("812204"),
                S = i("685665"),
                T = i("509802"),
                h = i("385976"),
                N = i("575226"),
                C = i("305781"),
                R = i("986632"),
                A = i("538282"),
                O = i("246511"),
                y = i("45961"),
                j = i("802894"),
                M = i("592407"),
                v = i("139321"),
                P = i("692171"),
                x = i("716849"),
                D = i("552917"),
                b = i("848877"),
                L = i("845579"),
                U = i("923959"),
                G = i("697218"),
                k = i("599110"),
                w = i("764364"),
                F = i("159885"),
                K = i("788506"),
                B = i("352046"),
                J = i("737735"),
                V = i("260211"),
                H = i("964611"),
                W = i("420489"),
                z = i("920514"),
                Y = i("83017"),
                Q = i("729873"),
                X = i("640076"),
                q = i("914748"),
                Z = i("851111"),
                $ = i("282566"),
                ee = i("115279"),
                et = i("49111"),
                ei = i("958706"),
                en = i("646718"),
                es = i("431364");
            let el = (0, F.cssValueToNumber)(E.default.EMOJI_PICKER_CONSTANTS_EMOJI_CONTAINER_PADDING_HORIZONTAL),
                ea = (0, F.cssValueToNumber)(E.default.EMOJI_PICKER_CONSTANTS_EMOJI_LIST_PADDING_LEFT),
                er = e => e.stopPropagation(),
                eo = (e, t) => {
                    R.EmojiPickerStore.setInspectedExpressionPosition(e, t, O.InspectedExpressionChangeSource.GRID_NAVIGATOR_EVENT)
                },
                eu = e => {
                    let {
                        analyticsLocation: t,
                        pickerIntention: i,
                        columnCounts: n,
                        onSelectEmoji: l,
                        emojiGrid: a,
                        emojiList: r,
                        channelGuildId: o,
                        isBurstReaction: c
                    } = e, E = (0, d.useStateFromStores)([h.default], () => h.default.getDisambiguatedEmojiContext(o), [o]), {
                        backfillEmojis: f
                    } = (0, B.default)(o, i), I = s.useCallback((e, n) => {
                        switch (e.type) {
                            case Y.EmojiGridItemTypes.CREATE_EMOJI:
                                l(void 0, !0), M.default.open(e.guildId, et.GuildSettingsSections.EMOJI);
                                return;
                            case Y.EmojiGridItemTypes.EMOJI: {
                                if (null != e.emoji && n.altKey) {
                                    E.isFavoriteEmojiWithoutFetchingLatest(e.emoji) ? (0, m.unfavoriteEmoji)(e.emoji) : ((0, K.trackEmojiFavorited)({
                                        emoji: e.emoji,
                                        location: {
                                            ...t,
                                            object: et.AnalyticsObjects.EMOJI
                                        }
                                    }), (0, m.favoriteEmoji)(e.emoji));
                                    return
                                }
                                let s = {
                                    page: null != o ? et.AnalyticsPages.GUILD_CHANNEL : et.AnalyticsPages.DM_CHANNEL,
                                    section: et.AnalyticsSections.EMOJI_PICKER_POPOUT,
                                    object: et.AnalyticsObjects.EMOJI
                                };
                                c && (s = {
                                    page: null != o ? et.AnalyticsPages.GUILD_CHANNEL : et.AnalyticsPages.DM_CHANNEL,
                                    section: et.AnalyticsSections.EMOJI_PICKER_POPOUT,
                                    object: et.AnalyticsObjects.EMOJI
                                }), (0, K.trackEmojiSelect)({
                                    emoji: e.emoji,
                                    location: s,
                                    pickerIntention: i,
                                    category: e.category,
                                    subCategory: e.subCategory,
                                    backfillEmoji: f.map(e => e.id).includes(e.emoji.id),
                                    newlyAddedHighlight: e.subCategory === ee.EmojiSubCategory.NEWLY_ADDED_EMOJI && N.default.isNewerThanLastSeen(o, e.emoji.id)
                                }), l(e.emoji, !n.shiftKey, c)
                            }
                        }
                    }, [l, o, i, E, t, f, c]), {
                        gridDispatch: _,
                        getItemProps: p,
                        getRowProps: g,
                        gridContainerProps: S,
                        handleGridContainerKeyDown: T,
                        isUsingKeyboardNavigation: C
                    } = (0, y.useExpressionPickerGridKeyboardNavigation)({
                        columnCounts: n,
                        gridNavigatorId: ee.GRID_NAVIGATOR_ID,
                        itemGrid: a,
                        itemList: r,
                        onGridNavigatorItemSelect: I,
                        onGridNavigatorPositionChange: eo
                    });
                    return s.useEffect(() => R.EmojiPickerStore.useStore.subscribe(e => {
                        if (null == e) return;
                        let {
                            columnIndex: t,
                            rowIndex: i,
                            source: n
                        } = e;
                        n !== O.InspectedExpressionChangeSource.GRID_NAVIGATOR_EVENT && _({
                            type: u.GridActionType.SET_FOCUSED_POSITION,
                            x: t,
                            y: i
                        })
                    }, e => e.inspectedExpressionPosition), [_]), {
                        getItemProps: p,
                        getRowProps: g,
                        gridContainerProps: S,
                        handleGridContainerKeyDown: T,
                        isUsingKeyboardNavigation: C
                    }
                },
                ed = (e, t) => {
                    let [i, n] = s.useState(null);
                    s.useEffect(() => {
                        if (null != i) {
                            var e;
                            null === (e = t.current) || void 0 === e || e.scrollToSectionTop(i), n(null)
                        }
                    }, [t, i]), s.useEffect(() => {
                        n(R.EmojiPickerStore.getState().activeCategoryIndex)
                    }, [e])
                },
                ec = (e, t, i, n) => {
                    s.useLayoutEffect(() => {
                        if (n) {
                            var e;
                            null === (e = i.current) || void 0 === e || e.focus()
                        }
                    }, [e, t, i, n])
                },
                eE = o(K.trackEmojiSearchEmpty, 200),
                ef = o(K.trackEmojiSearchResultsViewed, 200),
                em = {
                    section: void 0,
                    openPopoutType: void 0
                };
            var eI = s.memo(s.forwardRef(function(e, t) {
                var i, l, r;
                let o, {
                        pickerIntention: u,
                        channel: E,
                        guildId: m,
                        closePopout: O,
                        emojiSize: M = ee.EmojiSize.MEDIUM,
                        hasTabWrapper: F = !1,
                        onSelectEmoji: eo,
                        containerWidth: eI,
                        onNavigateAway: e_,
                        persistSearch: ep,
                        className: eg,
                        headerClassName: eS,
                        analyticsOverride: eT = em,
                        searchProps: eh = {},
                        wrapper: eN,
                        shouldHidePickerActions: eC = !1,
                        isBurstEmoji: eR = !1,
                        disableEmojiTutorialFlow: eA = !1,
                        messageId: eO,
                        renderHeader: ey,
                        listHeaderClassName: ej
                    } = e,
                    {
                        onFocus: eM,
                        onKeyDown: ev,
                        autoFocus: eP = !0,
                        accessory: ex
                    } = eh,
                    eD = (0, d.useStateFromStores)([U.default], () => null != m ? U.default.getDefaultChannel(m) : null, [m]),
                    [eb, eL] = s.useState(null),
                    eU = s.useRef(""),
                    eG = (0, A.useExpressionPickerStore)(e => e.searchQuery),
                    ek = s.useRef(null),
                    ew = s.useRef(null),
                    eF = s.useRef(null);
                null == E && null != eD && (E = eD);
                let eK = null !== (r = null !== (l = null === (i = E) || void 0 === i ? void 0 : i.getGuildId()) && void 0 !== l ? l : m) && void 0 !== r ? r : null,
                    {
                        hasTabUI: eB,
                        hasBurstToggle: eJ,
                        hasFreeBursts: eV
                    } = (0, _.useBurstReactionsExperiment)(eK),
                    [eH, eW] = s.useState(!1),
                    ez = eJ ? eH : eR,
                    eY = G.default.getCurrentUser(),
                    eQ = (0, w.isPremium)(eY),
                    eX = (0, d.useStateFromStores)([P.default], () => P.default.hasAvailableBurstCurrency);
                s.useImperativeHandle(t, () => ({
                    onPickerOpen: tu
                }));
                let {
                    location: eq
                } = (0, p.useAnalyticsContext)(), {
                    page: eZ,
                    section: e$,
                    object: e0,
                    openPopoutType: e1
                } = eT, e4 = s.useMemo(() => ({
                    ...eq,
                    section: null != e$ ? e$ : et.AnalyticsSections.EMOJI_PICKER_POPOUT
                }), [eq, e$]), {
                    AnalyticsLocationProvider: e8
                } = (0, S.default)(g.default.EMOJI_PICKER), {
                    diversitySurrogate: e2,
                    hasUsableEmojiInAnyGuild: e6
                } = (0, d.useStateFromStoresObject)([h.default], () => ({
                    diversitySurrogate: h.default.diversitySurrogate,
                    hasUsableEmojiInAnyGuild: h.default.hasUsableEmojiInAnyGuild()
                })), e3 = (0, K.useEmojiSearchResults)(eG, E, u), e7 = null == e3 ? 0 : e3.locked.length + e3.unlocked.length, e9 = L.EmojiPickerCollapsedSections.useSetting(), e5 = s.useMemo(() => new Set(e9), [e9]), te = s.useCallback(e => {
                    L.EmojiPickerCollapsedSections.updateSetting(Array.from(e))
                }, []), tt = (0, y.useExpressionPickerGridWidth)({
                    gridWrapperRef: ek,
                    containerWidth: eI,
                    listPaddingLeft: ea,
                    listScrollbarWidth: 8
                }), {
                    rowCountBySection: ti,
                    sectionDescriptors: tn,
                    emojiGrid: ts,
                    columnCounts: tl
                } = (0, Y.useEmojiGrid)({
                    gridWidth: tt,
                    channel: E,
                    pickerIntention: u,
                    emojiSearchResults: e3,
                    collapsedSections: e5,
                    emojiPaddingHorizontal: el,
                    emojiSpriteSize: M
                }), {
                    backfillEmojis: ta,
                    newlyAddedEmojis: tr
                } = (0, B.default)(eK, u), {
                    trackOnPickerOpen: to
                } = (0, K.useTrackEmojiPickerOpened)({
                    intention: u,
                    isBurstReaction: ez,
                    analyticsObject: e0
                });
                (0, x.useMaybeFetchPremiumLikelihood)(D.default);
                let tu = s.useCallback(() => {
                        let e = tr.length > 0 ? tr[0].id : null;
                        (0, C.updateNewlyAddedLastSeen)(eK, e), to()
                    }, [to, tr, eK]),
                    td = (0, Y.useEmojiSelectHandler)({
                        pickerIntention: u,
                        selectedChannel: E,
                        closePopout: O,
                        onSelectEmoji: eo,
                        setUpsellConfigs: eL,
                        emojiSelectAnalytics: e => {
                            "" !== eG ? (0, K.trackEmojiSearchSelect)(e.emoji, {
                                ...e4,
                                object: et.AnalyticsObjects.EMOJI
                            }, eG, u) : (0, K.trackEmojiSelect)({
                                emoji: e.emoji,
                                location: {
                                    ...e4,
                                    object: null != e0 ? e0 : et.AnalyticsObjects.EMOJI,
                                    ...null != eZ && {
                                        page: eZ
                                    }
                                },
                                pickerIntention: u,
                                category: e.category,
                                subCategory: e.subCategory,
                                position: e.columnIndex + 1,
                                backfillEmoji: ta.map(e => e.id).includes(e.emoji.id),
                                newlyAddedHighlight: e.subCategory === ee.EmojiSubCategory.NEWLY_ADDED_EMOJI && N.default.isNewerThanLastSeen(eK, e.emoji.id),
                                isBurstReaction: ez
                            })
                        },
                        trackEmojiFavorited: e => {
                            (0, K.trackEmojiFavorited)({
                                emoji: e.emoji,
                                location: {
                                    ...e4,
                                    object: et.AnalyticsObjects.EMOJI
                                }
                            })
                        }
                    }),
                    tc = s.useCallback(() => {
                        O(), null == e_ || e_()
                    }, [O, e_]),
                    {
                        getItemProps: tE,
                        getRowProps: tf,
                        gridContainerProps: tm,
                        handleGridContainerKeyDown: tI,
                        isUsingKeyboardNavigation: t_
                    } = eu({
                        pickerIntention: u,
                        analyticsLocation: e4,
                        columnCounts: tl,
                        onSelectEmoji: eo,
                        emojiGrid: ts,
                        emojiList: ew,
                        channelGuildId: eK,
                        isBurstReaction: ez
                    });
                ed(eI, ew), ec(eI, e2, eF, eP), s.useEffect(() => {
                    !ep && (0, A.setSearchQuery)("")
                }, [ep]), s.useEffect(() => (k.default.track(et.AnalyticEvents.OPEN_POPOUT, {
                    type: null != e1 ? e1 : "Emoji Picker",
                    guild_id: eK
                }), R.EmojiPickerStore.resetStoreState), [e1, eK]), s.useEffect(() => () => (0, v.hideHotspot)(v.HotspotLocations.FAVORITE_EMOJI_TOOLTIP), []), s.useLayoutEffect(() => {
                    var e;
                    let {
                        columnIndex: t,
                        rowIndex: i
                    } = R.EmojiPickerStore.getState().inspectedExpressionPosition;
                    (null === (e = ts[i]) || void 0 === e ? void 0 : e[t]) == null && 0 !== t && R.EmojiPickerStore.setInspectedExpressionPosition(0, 0)
                }, [ts]), s.useEffect(() => {
                    if ("" === eU.current && "" !== eG && (0, K.trackEmojiSearchStart)(e4, u), 0 === e7 && "" !== eG) eE(e4, eG);
                    else if ("" !== eG && eU.current !== eG) {
                        var e;
                        ef(e7, null !== (e = null == e3 ? void 0 : e3.locked.length) && void 0 !== e ? e : 0, e4, eG, u)
                    }
                    eU.current = eG
                }, [eG, e4, e7, e3, u]);
                let tp = eA || !e6;
                s.useEffect(() => () => {
                    !tp && (0, b.dismissPremiumTutorialFlow)(en.PremiumTutorialSteps.CUSTOM_EMOJI)
                }, [tp]);
                let tg = null != eN ? eN : F ? "div" : f.Dialog,
                    tS = null != tt;
                (null == eb ? void 0 : eb.type) === Y.EmojiUpsellType.PREMIUM ? o = (0, n.jsx)($.default, {
                    onLearnMore: tc,
                    emojiDescriptor: eb.emojiDescriptor,
                    pickerIntention: u,
                    analyticsLocation: e4,
                    onClose: () => eL(null),
                    channel: E
                }) : (null == eb ? void 0 : eb.type) === Y.EmojiUpsellType.ROLE_SUBSCRIPTION ? o = (0, n.jsx)(j.default, {
                    onClose: () => eL(null),
                    guildId: eb.guildId,
                    emojiId: eb.emojiId
                }) : ez && (eQ || eV && eX ? !eX && (o = (0, n.jsx)(q.default, {})) : o = (0, n.jsx)(V.default, {
                    onDismiss: () => eW(!1)
                }));
                let tT = (0, n.jsx)(z.default, {
                        pickerIntention: u,
                        emojiListRef: ew,
                        onKeyDown: e => {
                            null == tI || tI(e), null == ev || ev(e)
                        },
                        searchBarRef: eF,
                        onFocus: eM,
                        autoFocus: eP,
                        accessory: ex,
                        headerClassName: eS,
                        hasTabWrapper: F,
                        diversitySurrogate: e2,
                        showBurstOption: eJ || ez && !eB,
                        isBurstReaction: ez,
                        onBurstReactionToggle: () => eW(!ez),
                        renderHeader: ey
                    }),
                    th = [];
                u === ei.EmojiIntention.REACTION && th.push(c.DismissibleContent.SUPER_REACTIONS_NITRO_MARKETING), !h.default.hasFavoriteEmojis(eK) && th.push(c.DismissibleContent.EMOJI_PICKER_FAVORITE_EMOJIS_TIP);
                let tN = (0, n.jsx)(I.default, {
                    ...e4,
                    children: (0, n.jsxs)(tg, {
                        id: ee.EMOJI_PICKER_TAB_PANEL_ID,
                        "aria-labelledby": F ? ee.EMOJI_PICKER_TAB_ID : void 0,
                        role: F ? "tabpanel" : void 0,
                        className: a(es.wrapper, {
                            [es.emojiPickerHasTabWrapper]: F,
                            [es.isBurstReactionPicker]: ez && !eB && eQ,
                            [es.isBurstReactionUnlimited]: ez && eJ && eQ
                        }),
                        children: [F ? null : tT, (0, n.jsxs)("div", {
                            className: a(es.emojiPicker, eg),
                            onScroll: er,
                            children: [F ? tT : null, (0, n.jsxs)("div", {
                                className: es.bodyWrapper,
                                ref: ek,
                                children: [(0, n.jsx)(Z.default, {
                                    channel: E,
                                    closePopout: O
                                }), (0, n.jsx)(T.default, {
                                    contentTypes: th,
                                    children: e => {
                                        let {
                                            visibleContent: t,
                                            markAsDismissed: i
                                        } = e;
                                        switch (t) {
                                            case c.DismissibleContent.SUPER_REACTIONS_NITRO_MARKETING:
                                                return (0, n.jsx)(J.default, {
                                                    isBurstReaction: ez,
                                                    markAsDismissed: i
                                                });
                                            case c.DismissibleContent.EMOJI_PICKER_FAVORITE_EMOJIS_TIP:
                                                return (0, n.jsx)(W.default, {
                                                    markAsDismissed: i
                                                })
                                        }
                                    }
                                }), eC ? null : (0, n.jsx)("div", {
                                    className: es.emojiPickerListWrapper,
                                    id: ee.GRID_NAVIGATOR_ID,
                                    ...tm,
                                    children: tS ? (0, n.jsx)(X.default, {
                                        collapsedSections: e5,
                                        diversitySurrogate: e2,
                                        emojiGrid: ts,
                                        emojiListRef: ew,
                                        emojiSize: M,
                                        getEmojiItemProps: tE,
                                        getEmojiRowProps: tf,
                                        gridWidth: tt,
                                        isUsingKeyboardNavigation: t_,
                                        onEmojiSelect: (e, t) => {
                                            td(e, {
                                                ...t,
                                                isBurst: ez
                                            })
                                        },
                                        rowCount: ts.length,
                                        rowCountBySection: ti,
                                        sectionDescriptors: tn,
                                        setCollapsedSections: te,
                                        channelGuildId: eK,
                                        disableEmojiTutorialFlow: tp,
                                        messageId: eO,
                                        isBurstReaction: ez,
                                        listHeaderClassName: ej
                                    }) : null
                                })]
                            }), (0, n.jsx)(Q.EmojiPickerInspector, {
                                emojiGrid: ts,
                                className: es.inspector,
                                guildId: eK,
                                pickerIntention: u,
                                channel: E
                            }), o]
                        }), eC ? null : (0, n.jsx)(H.default, {
                            className: es.categoryList,
                            emojiListRef: ew,
                            sectionDescriptors: tn,
                            intention: u,
                            channel: E,
                            disableEmojiTutorialFlow: tp
                        })]
                    })
                });
                return (0, n.jsx)(e8, {
                    children: tN
                })
            }))
        },
        737735: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return g
                }
            });
            var n = i("37983");
            i("884691");
            var s = i("446674"),
                l = i("77078"),
                a = i("79112"),
                r = i("225664"),
                o = i("692171"),
                u = i("432173"),
                d = i("697218"),
                c = i("791106"),
                E = i("945330"),
                f = i("216422"),
                m = i("719923"),
                I = i("49111"),
                _ = i("782340"),
                p = i("415085"),
                g = e => {
                    let {
                        isBurstReaction: t,
                        markAsDismissed: i
                    } = e, {
                        isBurstReactionPicker: g,
                        burstCredits: S
                    } = (0, s.useStateFromStoresObject)([o.default], () => ({
                        isBurstReactionPicker: o.default.isReactionPickerBurstToggled,
                        burstCredits: o.default.remainingBurstCurrency
                    })), {
                        enabled: T,
                        hasTabUI: h
                    } = (0, r.useBurstReactionsExperiment)(), N = d.default.getCurrentUser(), C = (0, u.getBurstRefillAmount)(N);
                    if (!(0, m.isPremium)(N) && S < 1 || !T || !g && !t || !h && !t) return null;
                    let R = _.default.Messages.SUPER_REACTIONS_LAUNCH_COACHMARK_NITRO.format({
                        refillAmount: C
                    });
                    return !(0, m.isPremium)(N) && (R = _.default.Messages.SUPER_REACTIONS_LAUNCH_EMOJI_PICKER_UPSELL_FREE), (0, n.jsxs)("div", {
                        className: p.burstNotice,
                        children: [(0, n.jsx)(f.default, {
                            className: p.burstNoticeIcon,
                            color: c.GradientCssUrls.PREMIUM_TIER_2
                        }), (0, n.jsxs)("div", {
                            className: p.burstNoticeContent,
                            children: [(0, n.jsx)(l.Text, {
                                variant: "text-xs/normal",
                                children: R
                            }), (0, n.jsx)("div", {
                                children: _.default.Messages.LEARN_MORE_CLICK.format({
                                    onClick: () => a.default.open(I.UserSettingsSections.PREMIUM)
                                })
                            })]
                        }), (0, n.jsx)(l.Clickable, {
                            onClick: () => i(),
                            children: (0, n.jsx)(E.default, {
                                className: p.burstNoticeClose
                            })
                        })]
                    })
                }
        },
        260211: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return O
                }
            });
            var n = i("37983");
            i("884691");
            var s = i("414456"),
                l = i.n(s),
                a = i("446674"),
                r = i("819855"),
                o = i("77078"),
                u = i("79112"),
                d = i("225664"),
                c = i("206230"),
                E = i("812204"),
                f = i("649844"),
                m = i("154889"),
                I = i("917247"),
                _ = i("956597"),
                p = i("635956"),
                g = i("161778"),
                S = i("945330"),
                T = i("216422"),
                h = i("58608"),
                N = i("49111"),
                C = i("646718"),
                R = i("782340"),
                A = i("9014");

            function O(e) {
                var t, i;
                let {
                    onDismiss: s
                } = e, O = (0, a.useStateFromStores)([g.default], () => (0, r.isThemeDark)(g.default.theme)), y = (0, a.useStateFromStores)([c.default], () => c.default.useReducedMotion), {
                    hasBurstToggle: j
                } = (0, d.useBurstReactionsExperiment)(), M = j ? R.default.Messages.SUPER_REACTIONS_LAUNCH_COACHMARK_DESCRIPTION_UNLIMITED_V2 : R.default.Messages.SUPER_REACTIONS_LAUNCH_COACHMARK_DESCRIPTION_CLICK.format({
                    onClick: () => u.default.open(N.UserSettingsSections.PREMIUM)
                }), v = (0, I.usePremiumTrialOffer)(), P = (0, m.usePremiumDiscountOffer)(), x = (null == v ? void 0 : v.subscription_trial) != null, D = x || null != P, b = {
                    object: N.AnalyticsObjects.BUTTON_CTA,
                    section: N.AnalyticsSections.SUPER_REACTION_PICKER
                }, L = j ? 32 : 14;
                return (0, n.jsxs)("div", {
                    className: A.wrapper,
                    children: [j ? (0, n.jsx)(o.Clickable, {
                        onClick: s,
                        className: A.closeButton,
                        "aria-label": R.default.Messages.DISMISS,
                        children: (0, n.jsx)(S.default, {
                            width: 24,
                            height: 24
                        })
                    }) : null, (0, n.jsxs)("div", {
                        className: A.content,
                        children: [(0, n.jsx)("div", {
                            className: l({
                                [A.contentFill]: j
                            }),
                            children: (0, n.jsx)(h.default, {
                                className: l(A.banner, {
                                    [A.hasTrialOffer]: D
                                }),
                                src: "https://cdn.discordapp.com/attachments/955557117622886410/1085270553759322153/super-reactions-launch.mp4",
                                loop: !0,
                                autoPlay: !y,
                                muted: !0,
                                controls: !0
                            })
                        }), D ? (0, n.jsx)(_.default, {
                            type: C.PremiumUpsellTypes.BURST_REACTION_QUICK_ACTION_UPSELL,
                            subscriptionTier: null !== (i = null == v ? void 0 : null === (t = v.subscription_trial) || void 0 === t ? void 0 : t.sku_id) && void 0 !== i ? i : C.PremiumSubscriptionSKUs.TIER_2,
                            headingText: R.default.Messages.SUPER_REACTION_COACHMARK_TITLE,
                            analyticsLocationObject: b,
                            discountOffer: P,
                            trialOffer: v,
                            children: M
                        }) : (0, n.jsxs)(n.Fragment, {
                            children: [(0, n.jsxs)("div", {
                                className: A.header,
                                children: [(0, n.jsx)(T.default, {
                                    className: l({
                                        [A.nitroWheel]: j
                                    }),
                                    width: L,
                                    height: L
                                }), (0, n.jsx)(o.Heading, {
                                    className: A.headerText,
                                    variant: j ? "heading-xl/bold" : "heading-md/bold",
                                    children: j ? R.default.Messages.SUPER_REACTIONS_UPSELL_TITLE_MOBILE : R.default.Messages.SUPER_REACTION_COACHMARK_TITLE
                                })]
                            }), (0, n.jsx)(o.Text, {
                                className: A.subheaderText,
                                variant: j ? "text-md/normal" : "text-sm/normal",
                                children: M
                            }), (0, n.jsx)("div", {
                                className: A.ctaActionWrapper,
                                children: j ? (0, n.jsx)(p.default, {
                                    subscriptionTier: C.PremiumSubscriptionSKUs.TIER_2,
                                    buttonText: R.default.Messages.UNLOCK_WITH_NITRO
                                }) : (0, n.jsx)(o.Button, {
                                    className: A.button,
                                    color: o.Button.Colors.BRAND,
                                    look: O ? o.Button.Looks.INVERTED : o.Button.Looks.FILLED,
                                    onClick: () => {
                                        var e, t;
                                        (0, f.default)({
                                            subscriptionTier: null !== (t = null == v ? void 0 : null === (e = v.subscription_trial) || void 0 === e ? void 0 : e.sku_id) && void 0 !== t ? t : C.PremiumSubscriptionSKUs.TIER_2,
                                            analyticsLocations: [E.default.EMOJI_PICKER],
                                            analyticsObject: b
                                        })
                                    },
                                    children: R.default.Messages.PREMIUM_SETTINGS_GET
                                })
                            })]
                        })]
                    })]
                })
            }
        },
        675280: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return T
                }
            });
            var n = i("37983"),
                s = i("884691"),
                l = i("23411"),
                a = i("811986"),
                r = i("648439"),
                o = i("841811"),
                u = i("432335"),
                d = i("849976"),
                c = i("742223"),
                E = i("877220"),
                f = i("258752"),
                m = i("216422"),
                I = i("290581"),
                _ = i("742219"),
                p = i("115279");
            let g = e => {
                    switch (e) {
                        case p.EmojiCategories.RECENT:
                            return o.default;
                        case p.EmojiCategories.FAVORITES:
                            return I.default;
                        case p.EmojiCategories.TOP_GUILD_EMOJI:
                            return _.default;
                        case p.EmojiCategories.PEOPLE:
                            return c.default;
                        case p.EmojiCategories.NATURE:
                            return u.default;
                        case p.EmojiCategories.FOOD:
                            return r.default;
                        case p.EmojiCategories.ACTIVITY:
                            return l.default;
                        case p.EmojiCategories.TRAVEL:
                            return f.default;
                        case p.EmojiCategories.OBJECTS:
                            return d.default;
                        case p.EmojiCategories.SYMBOLS:
                            return E.default;
                        case p.EmojiCategories.FLAGS:
                            return a.default;
                        case p.EmojiCategories.PREMIUM_UPSELL:
                            return m.default;
                        default:
                            return
                    }
                },
                S = s.memo(function(e) {
                    let {
                        categoryId: t,
                        ...i
                    } = e, s = g(t);
                    return null == s ? null : (0, n.jsx)(s, {
                        ...i
                    })
                });
            var T = S
        },
        964611: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return Q
                }
            });
            var n = i("37983"),
                s = i("884691"),
                l = i("414456"),
                a = i.n(l),
                r = i("917351"),
                o = i.n(r),
                u = i("974667"),
                d = i("446674"),
                c = i("769846"),
                E = i("77078"),
                f = i("272030"),
                m = i("997289"),
                I = i("206230"),
                _ = i("986632"),
                p = i("405607"),
                g = i("423080"),
                S = i("704815"),
                T = i("414581"),
                h = i("471671"),
                N = i("46829"),
                C = i("599110"),
                R = i("159885"),
                A = i("788506"),
                O = i("675280"),
                y = i("917764"),
                j = i("83017"),
                M = i("913631"),
                v = i("115279"),
                P = i("49111"),
                x = i("13030"),
                D = i("646718"),
                b = i("782340"),
                L = i("983664");
            let U = (0, R.cssValueToNumber)(c.default.EMOJI_PICKER_CONSTANTS_GUILD_CATEGORY_ICON_SIZE),
                G = (0, R.cssValueToNumber)(c.default.EMOJI_PICKER_CONSTANTS_GUILD_CATEGORY_ICON_MARGIN_VERICAL),
                k = (0, R.cssValueToNumber)(c.default.EMOJI_PICKER_CONSTANTS_UNICODE_CATEGORY_ICON_SIZE),
                w = (0, R.cssValueToNumber)(c.default.EMOJI_PICKER_CONSTANTS_UNICODE_CATEGORY_ICON_MARGIN_VERTICAL),
                F = (0, R.cssValueToNumber)(c.default.EMOJI_PICKER_CONSTANTS_UNICODE_CATEGORY_ICON_PADDING),
                K = (0, R.cssValueToNumber)(L.unicodeCategoryShortcutHeight),
                B = (0, R.cssValueToNumber)(c.default.EMOJI_PICKER_CONSTANTS_CATEGORY_SEPARATOR_SIZE),
                J = (0, R.cssValueToNumber)(c.default.EMOJI_PICKER_CONSTANTS_CATEGORY_SEPARATOR_MARGIN_VERTICAL),
                V = k + G + 2 * F,
                H = U + G,
                W = H + (B + 2 * J),
                z = k + w + 2 * F;

            function Y(e) {
                let {
                    activeIndex: t,
                    categoryIndex: l,
                    analyticsContext: r,
                    categories: o,
                    category: d,
                    handleCategorySelect: c,
                    isWindowFocused: m,
                    useReducedMotion: I
                } = e, _ = (0, u.useListItem)("expression-guild-".concat(l)), p = d.type === v.EmojiCategoryTypes.GUILD ? null : d.id, T = t === l, h = d.type === v.EmojiCategoryTypes.GUILD ? d.guild : null, N = d.type === v.EmojiCategoryTypes.PACK ? d.pack : null, R = (0, n.jsxs)(E.Clickable, {
                    ..._,
                    "aria-label": (0, A.getAriaIdForEmojiCategory)(d, h, N),
                    className: a({
                        [L.categoryItemGuildCategory]: null != h,
                        [L.categoryItemPackCategory]: null != N,
                        [L.categoryItemDefaultCategory]: null == h && null == N,
                        [L.categoryItemDefaultCategorySelected]: null == h && null == N && T,
                        [L.categoryItemRecentEmoji]: d.type === v.EmojiCategoryTypes.RECENT
                    }),
                    onClick: () => {
                        if (null != h) C.default.track(P.AnalyticEvents.EXPRESSION_PICKER_CATEGORY_SELECTED, {
                            location: null == r ? void 0 : r.location,
                            tab: x.ExpressionPickerViewType.EMOJI,
                            guild_id: h.id
                        });
                        c(l)
                    },
                    onContextMenu: null != N ? e => {
                        (0, f.openContextMenuLazy)(e, async () => {
                            let {
                                default: e
                            } = await i.el("672409").then(i.bind(i, "672409"));
                            return t => (0, n.jsx)(e, {
                                ...t
                            })
                        })
                    } : void 0,
                    children: [null != N ? (0, n.jsx)(M.default, {
                        pack: N,
                        isSelected: T,
                        shouldAnimate: !I && m
                    }) : null, null != h ? (0, n.jsx)(y.default, {
                        guild: h,
                        isSelected: T,
                        shouldAnimate: !I && m
                    }) : null, null == h && null == N && null != p ? (0, n.jsx)(O.default, {
                        categoryId: p,
                        className: L.categoryIcon,
                        height: k,
                        width: k
                    }) : null]
                }), j = o[l + 1], D = null != j && d.type === v.EmojiCategoryTypes.GUILD && j.type !== v.EmojiCategoryTypes.GUILD && j.type !== v.EmojiCategoryTypes.PACK;
                return null != h ? (0, n.jsxs)(s.Fragment, {
                    children: [(0, n.jsx)(g.default, {
                        guild: h,
                        includeActivity: !1,
                        children: (0, n.jsx)("div", {
                            children: R
                        })
                    }), D ? (0, n.jsx)("hr", {
                        className: L.guildCategorySeparator
                    }, "separator") : null]
                }) : null != N ? (0, n.jsx)(s.Fragment, {
                    children: (0, n.jsx)(S.default, {
                        pack: N,
                        children: (0, n.jsx)("div", {
                            children: R
                        })
                    })
                }) : R
            }
            var Q = e => {
                let {
                    className: t,
                    emojiListRef: i,
                    sectionDescriptors: l,
                    intention: r,
                    channel: u,
                    disableEmojiTutorialFlow: c
                } = e, f = _.EmojiPickerStore.useStore(e => e.activeCategoryIndex), g = (0, j.useCategorySelectHandler)({
                    sectionDescriptors: l,
                    emojiListRef: i
                }), S = (0, m.useAnalyticsContext)(), C = (0, A.useEmojiCategories)(r, u), R = s.useRef(null), O = (0, d.useStateFromStores)([h.default], () => h.default.isFocused()), y = (0, d.useStateFromStores)([I.default], () => I.default.useReducedMotion, []), M = s.useMemo(() => o.memoize((e, t) => {
                    let i = C[t];
                    if (null != i) return (0, n.jsx)(Y, {
                        activeIndex: f,
                        analyticsContext: S,
                        categories: C,
                        category: i,
                        categoryIndex: t,
                        handleCategorySelect: g,
                        isWindowFocused: O,
                        useReducedMotion: y
                    }, t)
                }), [f, S, C, g, O, y]), P = s.useMemo(() => [8, 8, 0, 8], []), x = s.useCallback((e, t) => {
                    let i = C[t];
                    if (i.type === v.EmojiCategoryTypes.RECENT) return V;
                    if (i.type === v.EmojiCategoryTypes.GUILD) {
                        let e = C[t + 1],
                            i = null != e && e.type !== v.EmojiCategoryTypes.GUILD;
                        return i ? W : H
                    }
                    return z
                }, [C]), {
                    nonUnicodeCategoryCount: U,
                    firstUnicodeCategoryIndex: F,
                    firstUnicodeCategoryOffsetTop: Q,
                    rowCountBySection: X
                } = s.useMemo(() => {
                    let e = 0,
                        t = 0,
                        i = 0,
                        n = 0;
                    C.forEach(s => {
                        s.type === v.EmojiCategoryTypes.GUILD ? (t += 1, i += 1) : s.type === v.EmojiCategoryTypes.UNICODE ? n += 1 : (e += 1, t += 1)
                    });
                    let s = [e, i, n],
                        l = V + t * H + W;
                    return {
                        nonUnicodeCategoryCount: t,
                        firstUnicodeCategoryIndex: t,
                        firstUnicodeCategoryOffsetTop: l,
                        rowCountBySection: s
                    }
                }, [C]), [q, Z] = s.useState(!0);
                s.useLayoutEffect(() => {
                    Z(U >= 7)
                }, [U]);
                let $ = s.useCallback(e => {
                        var t;
                        let i = null === (t = R.current) || void 0 === t ? void 0 : t.getListDimensions();
                        if (null == i) return;
                        let n = e + i.height;
                        n - B >= Q ? Z(!1) : Z(!0)
                    }, [Q]),
                    ee = s.useCallback(e => {
                        var t;
                        e(F), null === (t = R.current) || void 0 === t || t.scrollTo(Q)
                    }, [Q, F]),
                    et = s.useCallback((e, t) => {
                        let i = C[e];
                        if (null == i) return 0;
                        let n = q ? K : 0;
                        if (i.type === v.EmojiCategoryTypes.RECENT) return t ? 0 : w;
                        if (i.type === v.EmojiCategoryTypes.GUILD) {
                            let i = C[e + 1];
                            return null != i && i.type !== v.EmojiCategoryTypes.GUILD ? t ? B + -2 * J + G + n : G : t ? n : G
                        }
                        return t ? G + n : 2 * G
                    }, [C, q]),
                    ei = s.useMemo(() => function(e, t) {
                        return 1 === e ? (0, n.jsx)(T.PremiumTutorialSubstep, {
                            substeps: [D.PremiumTutorialSubsteps.CUSTOM_EMOJI_GENERAL, D.PremiumTutorialSubsteps.CUSTOM_EMOJI_TRY_IT_OUT],
                            disableFlow: c,
                            children: e => (0, n.jsx)("div", {
                                className: L.guildEmojiSectionItems,
                                children: t
                            })
                        }, e) : (0, n.jsx)(s.Fragment, {
                            children: t
                        }, e)
                    }, [c]),
                    en = q ? "shortcut" : "hiddenshortcut";
                return (0, n.jsx)(p.default, {
                    categoryListRef: R,
                    expressionsListRef: i,
                    className: t,
                    store: _.EmojiPickerStore,
                    categories: C,
                    listPadding: P,
                    onScroll: $,
                    renderCategoryListItem: M,
                    renderSection: ei,
                    rowCount: C.length,
                    categoryHeight: x,
                    getScrollOffsetForIndex: et,
                    rowCountBySection: X,
                    children: e => U >= 7 && (0, n.jsx)(E.Clickable, {
                        "aria-hidden": !q,
                        "aria-label": b.default.Messages.EMOJI_PICKER_SCROLL_TO_UNICODE_A11Y_LABEL,
                        className: a(L.unicodeShortcut, {
                            [L.unicodeShortcutInvisible]: !q
                        }),
                        tabIndex: q ? 0 : -1,
                        onClick: () => ee(e),
                        children: (0, n.jsx)(N.default, {
                            height: k,
                            width: k
                        })
                    }, en)
                })
            }
        },
        695106: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return v
                }
            });
            var n = i("37983"),
                s = i("884691"),
                l = i("414456"),
                a = i.n(l),
                r = i("917351"),
                o = i.n(r),
                u = i("301165"),
                d = i("974667"),
                c = i("247015"),
                E = i("769846"),
                f = i("77078"),
                m = i("150021"),
                I = i("206625"),
                _ = i("302437"),
                p = i("867805"),
                g = i("476765"),
                S = i("402671"),
                T = i("159885"),
                h = i("49111"),
                N = i("782340"),
                C = i("576643");
            let R = (0, g.uid)(),
                A = c.default.convert.fromCodePoint("1f44f"),
                O = (0, T.cssValueToNumber)(E.default.EMOJI_PICKER_CONSTANTS_EMOJI_CONTAINER_PADDING_VERTICAL),
                y = (0, T.cssValueToNumber)(E.default.EMOJI_PICKER_CONSTANTS_DIVERSITY_EMOJI_SIZE),
                j = e => {
                    let {
                        fade: t,
                        surrogate: i,
                        onClick: s,
                        delay: l,
                        index: a
                    } = e, r = (0, d.useListItem)("item-".concat(a)), o = S.default.getURL(A + i), E = (0, u.useSpring)({
                        opacity: 1,
                        from: {
                            opacity: t ? 0 : 1
                        },
                        delay: l
                    });
                    return (0, n.jsx)(f.Clickable, {
                        ...r,
                        role: "option",
                        "aria-selected": 0 === a,
                        onClick: () => s(i),
                        className: C.diversityEmojiItem,
                        children: (0, n.jsx)(u.animated.div, {
                            "aria-label": function(e) {
                                let t = c.default.convert.toCodePoint(e);
                                switch (t) {
                                    case "1f3fb":
                                        return N.default.Messages.EMOJI_MODIFIER_LIGHT_SKIN_TONE;
                                    case "1f3fc":
                                        return N.default.Messages.EMOJI_MODIFIER_MEDIUM_LIGHT_SKIN_TONE;
                                    case "1f3fd":
                                        return N.default.Messages.EMOJI_MODIFIER_MEDIUM_SKIN_TONE;
                                    case "1f3fe":
                                        return N.default.Messages.EMOJI_MODIFIER_MEDIUM_DARK_SKIN_TONE;
                                    case "1f3ff":
                                        return N.default.Messages.EMOJI_MODIFIER_DARK_SKIN_TONE;
                                    default:
                                        return N.default.Messages.EMOJI_MODIFIER_NONE
                                }
                            }(i),
                            className: C.diversityEmojiItemImage,
                            style: {
                                backgroundImage: 'url("'.concat(o, '")'),
                                ...E
                            }
                        })
                    })
                },
                M = e => {
                    let {
                        id: t,
                        selectedSurrogate: i,
                        onClick: l,
                        hasTabWrapper: r
                    } = e, c = (0, _.default)("diversity"), E = (0, u.useSpring)({
                        height: (y + 2 * O) * (p.DIVERSITY_SURROGATES.length + 1),
                        from: {
                            height: y
                        },
                        config: {
                            duration: 125
                        }
                    });
                    s.useEffect(() => {
                        c.focusFirstVisibleItem()
                    }, [c]);
                    let f = ["", ...p.DIVERSITY_SURROGATES];
                    return o.remove(f, e => e === i), f.unshift(i), (0, n.jsx)(d.ListNavigatorProvider, {
                        navigator: c,
                        children: (0, n.jsx)(d.ListNavigatorContainer, {
                            children: e => {
                                let {
                                    ref: i,
                                    ...s
                                } = e;
                                return (0, n.jsx)(u.animated.div, {
                                    ...s,
                                    id: t,
                                    ref: i,
                                    className: a(C.diversitySelectorOptions, {
                                        [C.diversitySelectorOptionsHasTabWrapper]: r
                                    }),
                                    style: E,
                                    role: "listbox",
                                    children: f.map((e, t) => (0, n.jsx)(j, {
                                        index: t,
                                        fade: 0 !== t,
                                        delay: 20 * t,
                                        surrogate: e,
                                        onClick: l
                                    }, t))
                                })
                            }
                        })
                    })
                };
            var v = e => {
                let {
                    searchBarRef: t,
                    selectedSurrogate: i,
                    className: l,
                    hasTabWrapper: a
                } = e, r = S.default.getURL(A + i), [o, u] = s.useState(!1), d = (0, I.default)(null, () => u(!1)), c = s.useRef(null);
                return (0, n.jsxs)("div", {
                    ref: d,
                    className: l,
                    children: [(0, n.jsx)(f.Clickable, {
                        innerRef: c,
                        className: C.diversitySelectorButton,
                        onClick: () => {
                            u(!0)
                        },
                        "aria-label": N.default.Messages.EMOJI_MODIFIER_MENU_BUTTON,
                        "aria-haspopup": !0,
                        "aria-expanded": o,
                        "aria-controls": R,
                        tabIndex: o ? -1 : 0,
                        children: (0, n.jsx)("div", {
                            className: C.diversityEmojiItemImage,
                            style: {
                                backgroundImage: 'url("'.concat(r, '")')
                            }
                        })
                    }), o ? (0, n.jsx)("div", {
                        onKeyDown: e => {
                            e.keyCode === h.KeyboardKeys.ESCAPE && (e.stopPropagation(), u(!1), null != c.current && c.current.focus())
                        },
                        children: (0, n.jsx)(M, {
                            id: R,
                            hasTabWrapper: a,
                            selectedSurrogate: i,
                            onClick: e => {
                                var i;
                                (0, m.setDiversityColor)(e), u(!1), null === (i = t.current) || void 0 === i || i.focus()
                            }
                        })
                    }) : null]
                })
            }
        },
        420489: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return u
                }
            });
            var n = i("37983");
            i("884691");
            var s = i("77078"),
                l = i("945330"),
                a = i("51947"),
                r = i("782340"),
                o = i("580612"),
                u = e => {
                    let {
                        markAsDismissed: t
                    } = e;
                    return (0, n.jsxs)("div", {
                        className: o.wrapper,
                        children: [(0, n.jsx)(a.default, {
                            className: o.icon
                        }), (0, n.jsx)("div", {
                            className: o.content,
                            children: (0, n.jsx)(s.Text, {
                                variant: "text-xs/normal",
                                children: r.default.Messages.EMOJI_PICKER_FAVORITES_TIP
                            })
                        }), (0, n.jsx)(s.Clickable, {
                            onClick: () => t(),
                            children: (0, n.jsx)(l.default, {
                                className: o.close
                            })
                        })]
                    })
                }
        },
        917764: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return u
                }
            });
            var n = i("37983"),
                s = i("884691"),
                l = i("414456"),
                a = i.n(l),
                r = i("587974"),
                o = i("333380"),
                u = e => {
                    let {
                        className: t,
                        guild: i,
                        isSelected: l = !0,
                        width: u = 32,
                        height: d = 32,
                        shouldAnimate: c = !0
                    } = e, [E, f] = s.useState(!1), m = i.getIconURL(32, c && l), I = () => f(!0), _ = () => f(!1);
                    return (0, n.jsx)("div", {
                        onFocus: I,
                        onBlur: _,
                        onMouseOver: I,
                        onMouseLeave: _,
                        children: (0, n.jsx)(r.default, {
                            className: a(o.mask, t),
                            mask: l || E ? r.MaskIDs.SQUIRCLE : r.MaskIDs.AVATAR_DEFAULT,
                            width: u,
                            height: d,
                            children: null == m ? (0, n.jsx)("div", {
                                className: a(o.guildIcon, o.guildIconWithoutImage),
                                children: (0, n.jsx)("div", {
                                    className: o.guildAcronym,
                                    children: i.acronym
                                })
                            }) : (0, n.jsx)("img", {
                                alt: i.toString(),
                                src: m,
                                className: o.guildIcon
                            })
                        })
                    })
                }
        },
        920514: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return f
                }
            });
            var n = i("37983");
            i("884691");
            var s = i("414456"),
                l = i.n(s),
                a = i("45682"),
                r = i("788506"),
                o = i("695106"),
                u = i("974634"),
                d = i("115279"),
                c = i("958706"),
                E = i("431364"),
                f = e => {
                    let {
                        accessory: t,
                        pickerIntention: i,
                        headerClassName: s,
                        emojiListRef: f,
                        onKeyDown: m,
                        onFocus: I,
                        autoFocus: _,
                        searchBarRef: p,
                        hasTabWrapper: g,
                        diversitySurrogate: S,
                        isBurstReaction: T,
                        onBurstReactionToggle: h,
                        showBurstOption: N = !1,
                        renderHeader: C
                    } = e, R = (0, n.jsxs)(n.Fragment, {
                        children: [(0, n.jsx)(u.default, {
                            emojiListRef: f,
                            gridNavigatorId: d.GRID_NAVIGATOR_ID,
                            onKeyDown: m,
                            className: E.searchBar,
                            ref: p,
                            isFullRow: i === c.EmojiIntention.COMMUNITY_CONTENT_ONLY,
                            onFocus: I,
                            autoFocus: _,
                            defaultSearchPlaceholder: (0, r.getSearchPlaceholder)(i, T)
                        }), N && i === c.EmojiIntention.REACTION ? (0, n.jsx)("div", {
                            className: E.burstToggle,
                            children: (0, n.jsx)(a.default, {
                                checked: T,
                                onClick: h
                            })
                        }) : null, i === c.EmojiIntention.COMMUNITY_CONTENT_ONLY ? null : null != t ? t : (0, n.jsx)(o.default, {
                            searchBarRef: p,
                            className: E.diversitySelector,
                            hasTabWrapper: g,
                            selectedSurrogate: S
                        })]
                    });
                    return (0, n.jsx)("div", {
                        className: l(E.header, s),
                        children: null != C ? C(R) : R
                    })
                }
        },
        83017: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                EmojiGridItemTypes: function() {
                    return a
                },
                useEmojiGrid: function() {
                    return b
                },
                EmojiUpsellType: function() {
                    return o
                },
                useEmojiSelectHandler: function() {
                    return L
                },
                useCategorySelectHandler: function() {
                    return U
                }
            });
            var n, s, l, a, r, o, u = i("884691"),
                d = i("917351"),
                c = i.n(d),
                E = i("748820"),
                f = i("446674"),
                m = i("150021"),
                I = i("385976"),
                _ = i("858619"),
                p = i("867805"),
                g = i("986632"),
                S = i("538282"),
                T = i("252931"),
                h = i("166465"),
                N = i("817963"),
                C = i("923959"),
                R = i("305961"),
                A = i("162771"),
                O = i("677099"),
                y = i("402671"),
                j = i("788506"),
                M = i("255214"),
                v = i("352046"),
                P = i("115279"),
                x = i("958706"),
                D = i("782340");
            (n = a || (a = {}))[n.EMOJI = 0] = "EMOJI", n[n.CREATE_EMOJI = 1] = "CREATE_EMOJI", (s = r || (r = {}))[s.SECTION_HEADING = 0] = "SECTION_HEADING", s[s.SECTION_ROW = 1] = "SECTION_ROW";
            let b = e => {
                let {
                    channel: t,
                    collapsedSections: i,
                    pickerIntention: n,
                    emojiSearchResults: s,
                    gridWidth: l,
                    emojiPaddingHorizontal: r,
                    emojiSpriteSize: o
                } = e, d = (0, f.useStateFromStores)([I.default], () => I.default.categories), m = (0, f.useStateFromStores)([R.default], () => R.default.getGuild(null == t ? void 0 : t.getGuildId()), [t]), g = null == t ? null : t.getGuildId(), S = (0, f.useStateFromStores)([I.default], () => I.default.getDisambiguatedEmojiContext(g), [g]), b = (0, j.useFavoriteEmojis)(g), L = (0, j.useFrequentlyUsedEmojis)(g), {
                    topEmojis: U,
                    newlyAddedEmojis: G,
                    backfillEmojis: k
                } = (0, v.default)(g, n), w = (0, f.useStateFromStoresArray)([O.default], () => O.default.getFlattenedGuildIds(), []), F = (0, f.useStateFromStoresArray)([h.default], () => h.default.getSortedPackIds(), []), {
                    canCreateExpressions: K
                } = (0, N.useManageResourcePermissions)(m), {
                    viewAndUseEnabled: B
                } = (0, T.useInventoryGuildPacksUserExperiment)({
                    autoTrackExposure: !1
                }), J = S.getCustomEmoji(), V = e => {
                    switch (e.type) {
                        case _.EmojiTypes.GUILD:
                            return e.guildId;
                        case _.EmojiTypes.PACK:
                            return e.packId
                    }
                }, H = u.useMemo(() => c.groupBy(J, V), [J]);
                return u.useMemo(() => {
                    let e = [],
                        u = [],
                        f = [],
                        I = [],
                        _ = 0,
                        g = 0;
                    if (null != S && null != l) {
                        let S = Math.floor(l / (o + 2 * r)),
                            T = (s, l) => {
                                let r = new Map,
                                    d = i.has(l.sectionId),
                                    [E, m] = c.partition(s, e => {
                                        let i = y.default.isEmojiDisabled({
                                            emoji: e,
                                            channel: t,
                                            intention: n,
                                            canViewAndUsePackEmoji: B
                                        });
                                        return r.set(e, i), !i
                                    }),
                                    p = E.concat(m),
                                    T = l.guild,
                                    h = A.default.getGuildId(),
                                    N = p.length;
                                null != T && h === T.id && K && (p.length < T.getMaxEmojiSlots() && l.sectionId !== P.EmojiCategoryTypes.TOP_GUILD_EMOJI || p.length < 9 && l.sectionId === P.EmojiCategoryTypes.TOP_GUILD_EMOJI) && N++;
                                let C = Math.ceil(N / S),
                                    R = [];
                                for (let e = 0; e < C; e++) {
                                    let t = e * S,
                                        i = p.slice(t, t + S).map((e, t) => {
                                            var i, n;
                                            return {
                                                type: a.EMOJI,
                                                emoji: e,
                                                size: o,
                                                isDisabled: r.get(e),
                                                rowIndex: g,
                                                columnIndex: t,
                                                visibleRowIndex: _,
                                                category: l.type,
                                                subCategory: l.sectionId === P.EmojiCategoryTypes.TOP_GUILD_EMOJI ? (0, j.getEmojiSubCategory)(U, G, null !== (n = null !== (i = e.id) && void 0 !== i ? i : e.uniqueName) && void 0 !== n ? n : e.name) : P.EmojiSubCategory.NONE
                                            }
                                        });
                                    if (R.push(i), !d) {
                                        if (e === C - 1 && null != T && N > p.length) {
                                            let e = R.length - 1,
                                                t = R[e];
                                            t.push({
                                                type: a.CREATE_EMOJI,
                                                guildId: T.id,
                                                name: D.default.Messages.EMOJI_PICKER_CREATE_EMOJI_TITLE,
                                                size: o,
                                                rowIndex: e,
                                                columnIndex: t.length,
                                                visibleRowIndex: _
                                            })
                                        }
                                        I.push(i.length), f.push(i), _++
                                    }
                                    g++
                                }
                                let O = d ? 0 : C,
                                    M = {
                                        ...l,
                                        count: s.length
                                    };
                                u.push(M), e.push(O)
                            };
                        if (null != s) 0 !== s.unlocked.length && T(s.unlocked, {
                            type: P.EmojiCategoryTypes.SEARCH_RESULTS,
                            sectionId: P.EmojiCategoryTypes.SEARCH_RESULTS,
                            count: s.unlocked.length
                        }), 0 !== s.locked.length && T(s.locked, {
                            type: P.EmojiCategoryTypes.PREMIUM_UPSELL,
                            categoryId: P.EmojiCategories.PREMIUM_UPSELL,
                            sectionId: P.EmojiCategoryTypes.PREMIUM_UPSELL,
                            count: s.locked.length
                        });
                        else
                            for (let e of d)
                                if (e === P.EmojiCategories.CUSTOM) {
                                    let i = i => {
                                            let s = H[i];
                                            if (null == s) return;
                                            let l = s.filter(e => y.default.getEmojiUnavailableReason({
                                                emoji: e,
                                                channel: t,
                                                intention: n,
                                                canViewAndUsePackEmoji: B
                                            }) !== x.EmojiDisabledReasons.DISALLOW_EXTERNAL);
                                            if (0 === l.length) return;
                                            let a = h.default.getPackByPackId({
                                                packId: i
                                            });
                                            T(l, {
                                                categoryId: e,
                                                pack: a,
                                                type: P.EmojiCategoryTypes.PACK,
                                                sectionId: null != a ? a.id : (0, E.v4)(),
                                                count: l.length
                                            })
                                        },
                                        s = i => {
                                            let s = H[i];
                                            if (null == s) return;
                                            let l = s.filter(e => y.default.getEmojiUnavailableReason({
                                                emoji: e,
                                                channel: null != t ? t : C.default.getDefaultChannel(i),
                                                intention: n,
                                                canViewAndUsePackEmoji: B
                                            }) !== x.EmojiDisabledReasons.DISALLOW_EXTERNAL);
                                            if (0 === l.length) return;
                                            let a = R.default.getGuild(i);
                                            T(l, {
                                                categoryId: e,
                                                guild: a,
                                                type: P.EmojiCategoryTypes.GUILD,
                                                sectionId: null != a ? a.id : (0, E.v4)(),
                                                count: l.length
                                            })
                                        };
                                    if (null != m && s(m.id), (0, x.isExternalEmojiAllowedForIntention)(n)) {
                                        if (B)
                                            for (let e of F) i(e);
                                        for (let e of w)(null == m || m.id !== e) && s(e)
                                    }
                                } else if (e === P.EmojiCategories.TOP_GUILD_EMOJI) {
                            if (null != m) {
                                let {
                                    allEmojis: t
                                } = (0, M.getEmojiHotrail)({
                                    topEmojis: U,
                                    newlyAddedEmojis: G,
                                    backfillEmojis: k
                                });
                                if (t.length > 0) {
                                    let i = R.default.getGuild(m.id);
                                    T(t, {
                                        categoryId: e,
                                        guild: i,
                                        type: P.EmojiCategoryTypes.TOP_GUILD_EMOJI,
                                        sectionId: P.EmojiCategoryTypes.TOP_GUILD_EMOJI,
                                        count: t.length
                                    })
                                }
                            }
                        } else if (e === P.EmojiCategories.RECENT) {
                            let i = (0, j.dedupeUnicodeEmojis)(L).filter(e => !y.default.isEmojiFiltered({
                                emoji: e,
                                channel: t,
                                intention: n,
                                canViewAndUsePackEmoji: B
                            }));
                            T(i, {
                                categoryId: e,
                                type: P.EmojiCategoryTypes.RECENT,
                                sectionId: P.EmojiCategoryTypes.RECENT,
                                count: i.length
                            })
                        } else if (e === P.EmojiCategories.FAVORITES) {
                            let i = (0, j.dedupeUnicodeEmojis)(b).filter(e => !y.default.isEmojiFiltered({
                                emoji: e,
                                channel: t,
                                intention: n,
                                canViewAndUsePackEmoji: B
                            }));
                            0 !== i.length && T(i, {
                                categoryId: e,
                                type: P.EmojiCategoryTypes.FAVORITES,
                                sectionId: P.EmojiCategoryTypes.FAVORITES,
                                count: i.length
                            })
                        } else if ((0, j.allowUnicodeEmojiForIntention)(n)) {
                            let t = p.default.getByCategory(e);
                            null != t && T(t, {
                                categoryId: e,
                                type: P.EmojiCategoryTypes.UNICODE,
                                sectionId: e,
                                count: t.length
                            })
                        }
                    }
                    return {
                        columnCounts: I,
                        emojiGrid: f,
                        rowCountBySection: e,
                        sectionDescriptors: u
                    }
                }, [S, l, o, r, s, i, t, n, d, m, H, w, F, B, G, U, k, L, b, K])
            };
            (l = o || (o = {}))[l.PREMIUM = 0] = "PREMIUM", l[l.ROLE_SUBSCRIPTION = 1] = "ROLE_SUBSCRIPTION";
            let L = e => {
                    let {
                        pickerIntention: t,
                        selectedChannel: i,
                        onSelectEmoji: n,
                        setUpsellConfigs: s,
                        emojiSelectAnalytics: l,
                        trackEmojiFavorited: r
                    } = e, d = (0, f.useStateFromStores)([I.default], () => I.default.getDisambiguatedEmojiContext(null == i ? void 0 : i.getGuildId()), [i]), {
                        viewAndUseEnabled: c
                    } = (0, T.useInventoryGuildPacksUserExperiment)({
                        autoTrackExposure: !1
                    });
                    return u.useCallback((e, u) => {
                        switch (e.type) {
                            case a.CREATE_EMOJI:
                                n(void 0, u.isFinalSelection, u.isBurst);
                                return;
                            case a.EMOJI: {
                                let {
                                    emoji: a
                                } = e;
                                if (null == a) return;
                                let E = y.default.getEmojiUnavailableReason({
                                    emoji: a,
                                    channel: i,
                                    intention: t,
                                    canViewAndUsePackEmoji: c
                                });
                                if (u.toggleFavorite) {
                                    d.isFavoriteEmojiWithoutFetchingLatest(a) || null != E ? (0, m.unfavoriteEmoji)(a) : (null == r || r(e), (0, m.favoriteEmoji)(a));
                                    return
                                }
                                if (E === x.EmojiDisabledReasons.GUILD_SUBSCRIPTION_UNAVAILABLE) return;
                                if (E === x.EmojiDisabledReasons.PREMIUM_LOCKED) {
                                    s({
                                        type: o.PREMIUM,
                                        emojiDescriptor: e
                                    });
                                    return
                                }
                                if (E === x.EmojiDisabledReasons.ROLE_SUBSCRIPTION_LOCKED && a.type === _.EmojiTypes.GUILD) {
                                    s({
                                        type: o.ROLE_SUBSCRIPTION,
                                        guildId: a.guildId,
                                        emojiId: a.id
                                    });
                                    return
                                }
                                if (E === x.EmojiDisabledReasons.ROLE_SUBSCRIPTION_UNAVAILABLE) return;
                                null == l || l(e), n(a, u.isFinalSelection, u.isBurst)
                            }
                        }
                    }, [i, t, c, n, s, d, l, r])
                },
                U = e => {
                    let {
                        emojiListRef: t
                    } = e, i = (0, S.useExpressionPickerStore)(e => e.searchQuery), n = u.useCallback(e => {
                        var i;
                        return null === (i = t.current) || void 0 === i ? void 0 : i.scrollToSectionTop(e)
                    }, [t]);
                    return u.useCallback(e => {
                        "" !== i ? ((0, S.setSearchQuery)(""), g.EmojiPickerStore.setActiveCategoryIndex(e)) : n(e)
                    }, [n, i])
                }
        },
        232786: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return C
                }
            });
            var n = i("37983"),
                s = i("884691"),
                l = i("414456"),
                a = i.n(l),
                r = i("235855"),
                o = i("77078"),
                u = i("997289"),
                d = i("685665"),
                c = i("649844"),
                E = i("552917"),
                f = i("843647"),
                m = i("791106"),
                I = i("945330"),
                _ = i("216422"),
                p = i("599110"),
                g = i("719923"),
                S = i("49111"),
                T = i("646718"),
                h = i("782340"),
                N = i("624698"),
                C = function(e) {
                    let {
                        bodyCopy: t = h.default.Messages.EMOJI_PICKER_PREMIUM_UPSELL_BODY,
                        className: i,
                        onDismiss: l,
                        onCtaClick: C
                    } = e, {
                        location: R
                    } = (0, u.useAnalyticsContext)(), {
                        analyticsLocations: A
                    } = (0, d.default)(), {
                        isLoading: O,
                        suggestedPremiumType: y
                    } = (0, f.default)({
                        autoTrackExposure: !0,
                        experiment: E.default,
                        location: T.PremiumUpsellTypes.EMOJI_PICKER_SEARCH
                    }), j = s.useRef(!1), M = s.useCallback(() => {
                        (0, c.default)({
                            subscriptionTier: g.default.getSkuIdForPremiumType(y),
                            analyticsLocations: A,
                            analyticsObject: {
                                ...R,
                                object: S.AnalyticsObjects.BUTTON_CTA,
                                objectType: S.AnalyticsObjectTypes.TIER_2
                            }
                        }), null == C || C()
                    }, [A, R, C, y]), v = y === T.PremiumTypes.TIER_0;
                    return (0, n.jsx)("div", {
                        className: a(N.wrapper, i),
                        children: O ? (0, n.jsx)(o.Spinner, {
                            type: o.SpinnerTypes.PULSING_ELLIPSIS
                        }) : (0, n.jsx)(r.default, {
                            onChange: e => {
                                e && !j.current && (p.default.track(S.AnalyticEvents.PREMIUM_UPSELL_VIEWED, {
                                    type: T.PremiumUpsellTypes.EMOJI_PICKER_SEARCH,
                                    location: R,
                                    location_stack: A,
                                    sku_id: g.default.getSkuIdForPremiumType(y)
                                }), j.current = !0)
                            },
                            children: (0, n.jsxs)("div", {
                                className: N.upsell,
                                children: [(0, n.jsx)(_.default, {
                                    color: v ? m.GradientCssUrls.PREMIUM_TIER_0 : m.GradientCssUrls.PREMIUM_TIER_2,
                                    className: N.premiumIcon
                                }), (0, n.jsx)(o.Text, {
                                    color: "interactive-normal",
                                    className: N.body,
                                    variant: "text-sm/normal",
                                    children: v ? h.default.Messages.EMOJI_PICKER_PREMIUM_TIER_0_UPSELL_BODY.format({
                                        planName: (0, g.getTierDisplayName)(T.SubscriptionPlans.PREMIUM_MONTH_TIER_0)
                                    }) : t
                                }), (0, n.jsx)(o.Button, {
                                    look: o.Button.Looks.LINK,
                                    color: o.Button.Colors.LINK,
                                    onClick: M,
                                    children: v ? h.default.Messages.PREMIUM_SETTINGS_GET_TIER_0 : h.default.Messages.EMOJI_PICKER_PREMIUM_UPSELL_CTA
                                }), null != l && (0, n.jsx)(o.Button, {
                                    onClick: l,
                                    className: N.dismissButton,
                                    look: o.Button.Looks.BLANK,
                                    size: o.Button.Sizes.ICON,
                                    children: (0, n.jsx)(I.default, {
                                        className: N.dismissIcon
                                    })
                                })]
                            })
                        })
                    })
                }
        },
        729873: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                EmojiPickerInspector: function() {
                    return v
                }
            });
            var n = i("37983"),
                s = i("884691"),
                l = i("446674"),
                a = i("77078"),
                r = i("206230"),
                o = i("858619"),
                u = i("575226"),
                d = i("305781"),
                c = i("986632"),
                E = i("562323"),
                f = i("166465"),
                m = i("845579"),
                I = i("305961"),
                _ = i("471671"),
                p = i("351825"),
                g = i("315102"),
                S = i("402671"),
                T = i("788506"),
                h = i("352046"),
                N = i("917764"),
                C = i("83017"),
                R = i("913631"),
                A = i("115279"),
                O = i("782340"),
                y = i("783935");

            function j(e) {
                return "animated" in e
            }
            let M = e => {
                    let {
                        inspectedEmoji: t,
                        channel: i,
                        guildId: n,
                        intention: s,
                        pack: l,
                        guild: a
                    } = e, r = j(t);
                    if (null != l) {
                        let e = !!r && S.default.isEmojiPremiumLocked({
                            emoji: t,
                            channel: i,
                            intention: s,
                            canViewAndUsePackEmoji: !0,
                            guildId: n
                        });
                        return e ? O.default.Messages.INVENTORY_LOCKED_PACK_EMOJI_UPSELL.format({
                            packName: l.name
                        }) : O.default.Messages.EMOJI_FROM_PACK_V2.format({
                            packName: l.name
                        })
                    }
                    return null != a && r ? O.default.Messages.EMOJI_FROM_GUILD.format({
                        guildName: a.name
                    }) : null
                },
                v = s.memo(function(e) {
                    var t;
                    let i, {
                            className: S,
                            emojiGrid: O,
                            guildId: v,
                            pickerIntention: P,
                            channel: x
                        } = e,
                        D = c.EmojiPickerStore.useStore(e => e.inspectedExpressionPosition),
                        b = s.useMemo(() => {
                            var e;
                            let {
                                rowIndex: t,
                                columnIndex: i
                            } = D;
                            return null === (e = O[t]) || void 0 === e ? void 0 : e[i]
                        }, [O, D]),
                        L = (null == b ? void 0 : b.type) === C.EmojiGridItemTypes.EMOJI ? null == b ? void 0 : b.emoji : {
                            type: "CREATE_EMOJI",
                            guildId: null == b ? void 0 : b.guildId,
                            allNamesString: null == b ? void 0 : b.name
                        },
                        U = (0, l.useStateFromStores)([I.default], () => null !== L && L.type === o.EmojiTypes.GUILD ? I.default.getGuild(L.guildId) : null, [L]),
                        G = (0, l.useStateFromStores)([f.default], () => null != b && b.type === C.EmojiGridItemTypes.EMOJI && null != b.emoji && b.emoji.type === o.EmojiTypes.PACK ? f.default.getPackByPackId({
                            packId: b.emoji.packId
                        }) : null, [b]),
                        k = (0, l.useStateFromStores)([_.default], () => _.default.isFocused()),
                        w = (0, l.useStateFromStores)([r.default], () => r.default.useReducedMotion, []),
                        F = m.AnimateEmoji.useSetting(),
                        K = (0, T.useIsFavoriteEmoji)(v, j(L) ? L : null),
                        {
                            newlyAddedEmojis: B,
                            backfillEmojis: J
                        } = (0, h.default)(v, P),
                        V = L.id,
                        H = (null == b ? void 0 : b.type) === C.EmojiGridItemTypes.EMOJI ? b.subCategory : A.EmojiSubCategory.NONE;
                    if (s.useEffect(() => {
                            let e = Date.now();
                            return () => {
                                let t = Date.now() - e;
                                t >= 250 && j(L) && H !== A.EmojiSubCategory.NONE && (H === A.EmojiSubCategory.NEWLY_ADDED_EMOJI && null !== L && L.type === o.EmojiTypes.GUILD && (0, d.updateNewlyAddedEmojiSeenAcknowledged)(L.guildId, B[0].id), null != D.source && (0, T.trackEmojiFocus)({
                                    emoji: L,
                                    subCategory: H,
                                    position: b.columnIndex + 1,
                                    backfillEmoji: J.map(e => e.id).includes(V),
                                    newlyAddedHighlight: H === A.EmojiSubCategory.NEWLY_ADDED_EMOJI && u.default.isNewerThanLastSeen(v, V)
                                }))
                            }
                        }), null == L) return null;
                    if (j(L)) {
                        let e = null != L.id ? g.default.getEmojiURL({
                            id: L.id,
                            animated: F && L.animated,
                            size: 28
                        }) : L.url;
                        i = "" === e ? (0, n.jsx)(a.Text, {
                            variant: "text-md/normal",
                            className: y.glyphEmoji,
                            children: "surrogates" in L ? L.surrogates : null
                        }) : (0, n.jsx)("img", {
                            alt: null !== (t = L.allNamesString) && void 0 !== t ? t : "",
                            src: e,
                            className: y.emoji
                        })
                    } else i = (0, n.jsx)(p.default, {
                        className: y.icon,
                        foreground: y.icon,
                        width: 24,
                        height: 24
                    });
                    let W = null != G ? (0, n.jsx)(R.default, {
                        className: y.guildIcon,
                        pack: G
                    }) : null != U ? (0, n.jsx)(N.default, {
                        className: y.guildIcon,
                        guild: U,
                        shouldAnimate: !w && k
                    }) : null;
                    return (0, n.jsx)(E.default, {
                        className: S,
                        graphicPrimary: i,
                        graphicSecondary: W,
                        titlePrimary: L.allNamesString,
                        titleSecondary: M({
                            inspectedEmoji: L,
                            channel: x,
                            guildId: v,
                            intention: P,
                            pack: G,
                            guild: U
                        }),
                        isFavorite: K,
                        emojiSubCategory: H
                    })
                })
        },
        640076: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return X
                }
            });
            var n = i("37983"),
                s = i("884691"),
                l = i("414456"),
                a = i.n(l),
                r = i("917351"),
                o = i.n(r),
                u = i("446674"),
                d = i("247015"),
                c = i("769846"),
                E = i("96386"),
                f = i("997289"),
                m = i("986632"),
                I = i("538282"),
                _ = i("246511"),
                p = i("45961"),
                g = i("515059"),
                S = i("139321"),
                T = i("317107"),
                h = i("845579"),
                N = i("124299"),
                C = i("599110"),
                R = i("159885"),
                A = i("788506"),
                O = i("675280"),
                y = i("917764"),
                j = i("83017"),
                M = i("232786"),
                v = i("842126"),
                P = i("913631"),
                x = i("115279"),
                D = i("49111"),
                b = i("13030"),
                L = i("646718"),
                U = i("782340"),
                G = i("843646");
            let k = (0, R.cssValueToNumber)(c.default.EMOJI_PICKER_CONSTANTS_EMOJI_LIST_PADDING_TOP),
                w = (0, R.cssValueToNumber)(c.default.EMOJI_PICKER_CONSTANTS_EMOJI_LIST_PADDING_RIGHT),
                F = (0, R.cssValueToNumber)(c.default.EMOJI_PICKER_CONSTANTS_EMOJI_LIST_PADDING_BOTTOM),
                K = (0, R.cssValueToNumber)(c.default.EMOJI_PICKER_CONSTANTS_EMOJI_LIST_PADDING_LEFT),
                B = (0, R.cssValueToNumber)(c.default.EMOJI_PICKER_CONSTANTS_EMOJI_LIST_SEARCH_RESULTS_PADDING_TOP),
                J = (0, R.cssValueToNumber)(c.default.EXPRESSION_PICKER_CONSTANTS_EXPRESSION_PICKER_LIST_SECTION_HEADING_HEIGHT),
                V = (0, R.cssValueToNumber)(c.default.EMOJI_PICKER_CONSTANTS_EMOJI_SECTION_MARGIN_BOTTOM),
                H = (0, R.cssValueToNumber)(c.default.EMOJI_PICKER_CONSTANTS_EMOJI_PREMIUM_UPSELL_HEIGHT) + (0, R.cssValueToNumber)(c.default.EMOJI_PICKER_CONSTANTS_EMOJI_PREMIUM_UPSELL_MARGIN_TOP),
                W = (0, R.cssValueToNumber)(c.default.EMOJI_PICKER_CONSTANTS_EMOJI_CONTAINER_PADDING_VERTICAL),
                z = e => e + 2 * W,
                Y = e => {
                    let {
                        collapsedSections: t,
                        diversitySurrogate: i,
                        emojiGrid: l,
                        emojiSize: r,
                        onEmojiSelect: c,
                        searchQuery: E,
                        sectionDescriptors: I,
                        setCollapsedSections: p,
                        getEmojiItemProps: h,
                        getEmojiRowProps: N,
                        isScrolling: R,
                        isUsingKeyboardNavigation: U,
                        allowAnimatedEmoji: W,
                        channelGuildId: z,
                        disableEmojiTutorialFlow: Y,
                        messageId: Q,
                        isBurstReaction: X,
                        listHeaderClassName: q
                    } = e, Z = (0, f.useAnalyticsContext)(), $ = s.useRef(D.UNREACHABLE_REQUEST_ANIMATION_FRAME_ID), ee = s.useMemo(() => "" !== i ? d.default.convert.toCodePoint(i) : "", [i]), et = s.useCallback(function(e) {
                        let i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                            n = new Set(t),
                            s = t.has(e);
                        s ? n.delete(e) : n.add(e), null != i && C.default.track(D.AnalyticEvents.EXPRESSION_PICKER_CATEGORY_COLLAPSE_TOGGLED, {
                            location: Z.location,
                            tab: b.ExpressionPickerViewType.EMOJI,
                            collapsed: !s,
                            guild_id: i.id
                        }), p(n)
                    }, [Z, t, p]), ei = s.useCallback(e => {
                        let {
                            columnIndex: t,
                            visibleRowIndex: i
                        } = e, n = e.type === j.EmojiGridItemTypes.EMOJI ? e.emoji.allNamesString : e.name;
                        $.current !== D.UNREACHABLE_REQUEST_ANIMATION_FRAME_ID && window.cancelAnimationFrame($.current), $.current = window.requestAnimationFrame(() => {
                            m.EmojiPickerStore.setInspectedExpressionPosition(t, i, _.InspectedExpressionChangeSource.MOUSE_EVENT), m.EmojiPickerStore.setSearchPlaceholder(n), $.current = D.UNREACHABLE_REQUEST_ANIMATION_FRAME_ID
                        })
                    }, []), en = (0, u.useStateFromStores)([S.HotspotStore], () => S.HotspotStore.hasHotspot(S.HotspotLocations.FAVORITE_EMOJI_TOOLTIP), []), es = s.useMemo(() => o.memoize((e, t) => {
                        let i = l[e],
                            s = I[t.sectionIndex];
                        return (0, n.jsx)(v.default, {
                            emojiDescriptors: i,
                            emojiSize: r,
                            surrogateCodePoint: ee,
                            onInspect: ei,
                            onSelect: c,
                            getEmojiItemProps: h,
                            getEmojiRowProps: N,
                            isScrolling: R,
                            isUsingKeyboardNavigation: U,
                            rowIndex: e,
                            allowAnimatedEmoji: W,
                            showEmojiFavoriteTooltip: en,
                            channelGuildId: z,
                            category: s.sectionId,
                            selectedItemClassName: G.selectedItem,
                            messageId: Q,
                            isBurstReaction: X
                        }, e)
                    }), [l, I, r, ee, ei, c, h, N, R, U, W, en, z, Q, X]);
                    s.useEffect(() => () => {
                        var e, t;
                        return null === (t = es.cache) || void 0 === t ? void 0 : null === (e = t.clear) || void 0 === e ? void 0 : e.call(t)
                    }, [es]);
                    let el = s.useMemo(() => o.memoize(e => {
                            let i = I[e];
                            if (null == i) return;
                            let {
                                guild: s,
                                pack: l,
                                categoryId: r,
                                type: o,
                                sectionId: u
                            } = i;
                            if (o === x.EmojiCategoryTypes.SEARCH_RESULTS) return;
                            let d = o === x.EmojiCategoryTypes.GUILD ? null != s ? (0, n.jsx)(y.default, {
                                    guild: s,
                                    height: 16,
                                    width: 16
                                }) : null : o === x.EmojiCategoryTypes.PACK ? null != l ? (0, n.jsx)(P.default, {
                                    pack: l,
                                    height: 16,
                                    width: 16
                                }) : null : null != r ? (0, n.jsx)(O.default, {
                                    categoryId: r,
                                    height: 16,
                                    width: 16
                                }) : null,
                                c = null == s ? void 0 : s.toString();
                            return null != r && (c = (0, A.getStringForEmojiCategory)(r, null == s ? void 0 : s.toString(), null == l ? void 0 : l.name)), (0, n.jsx)(g.default, {
                                className: a(G.header, q),
                                icon: d,
                                isCollapsed: t.has(u),
                                onClick: () => et(u, s),
                                children: c
                            }, u)
                        }), [I, t, et, q]),
                        ea = s.useCallback((e, i) => {
                            let s = I[e];
                            if (s.type === x.EmojiCategoryTypes.GUILD) {
                                let l = t.has(s.sectionId);
                                return (0, n.jsx)(T.PremiumTutorialSubstepHighlight, {
                                    step: L.PremiumTutorialSteps.CUSTOM_EMOJI,
                                    substepHighlights: [L.PremiumTutorialSubsteps.CUSTOM_EMOJI_GENERAL, L.PremiumTutorialSubsteps.CUSTOM_EMOJI_TRY_IT_OUT],
                                    customHighlightOffsets: [0, 0, -2, -2],
                                    disableHighlight: l || Y,
                                    children: t => (0, n.jsx)("div", {
                                        className: a(G.categorySection, {
                                            [G.categorySectionLast]: e === I.length - 1,
                                            [G.categorySectionCollapsed]: l
                                        }),
                                        children: i
                                    })
                                }, e)
                            }
                            return (0, n.jsx)("div", {
                                className: a(G.categorySection, {
                                    [G.categorySectionLast]: e === I.length - 1,
                                    [G.categorySectionCollapsed]: t.has(s.sectionId)
                                }),
                                children: i
                            }, e)
                        }, [t, I, Y]),
                        er = s.useCallback(e => {
                            let i = I[e];
                            return i.sectionId !== x.EmojiCategoryTypes.PREMIUM_UPSELL || t.has(i.sectionId) ? null : (0, n.jsx)(M.default, {
                                className: G.premiumUpsell
                            }, "emoji-picker-inline-upsell")
                        }, [I, t]),
                        eo = s.useCallback(e => {
                            let i = I[e];
                            return i.sectionId !== x.EmojiCategoryTypes.PREMIUM_UPSELL || t.has(i.sectionId) ? 0 : H
                        }, [I, t]),
                        eu = s.useCallback(e => {
                            var i;
                            return e === I.length - 1 || t.has(null === (i = I[e]) || void 0 === i ? void 0 : i.sectionId) ? 0 : V
                        }, [t, I]),
                        ed = s.useMemo(() => ["" !== E ? B : k, w, F, K], [E]),
                        ec = s.useCallback(e => {
                            let t = I[e];
                            return t.type === x.EmojiCategoryTypes.SEARCH_RESULTS ? 0 : J
                        }, [I]);
                    return {
                        listPadding: ed,
                        renderRow: es,
                        renderSection: ea,
                        renderSectionHeader: el,
                        renderSectionFooter: er,
                        sectionMarginBottom: eu,
                        sectionHeaderHeight: ec,
                        sectionFooterHeight: eo
                    }
                },
                Q = s.memo(function(e) {
                    let {
                        diversitySurrogate: t,
                        emojiGrid: i,
                        emojiListRef: l,
                        emojiSize: a,
                        onEmojiSelect: r,
                        sectionDescriptors: o,
                        rowCountBySection: u,
                        collapsedSections: d,
                        setCollapsedSections: c,
                        getEmojiItemProps: f,
                        getEmojiRowProps: _,
                        rowCount: g,
                        isUsingKeyboardNavigation: S,
                        channelGuildId: T,
                        disableEmojiTutorialFlow: C,
                        messageId: R,
                        isBurstReaction: A,
                        listHeaderClassName: O
                    } = e, y = s.useRef(!1), j = m.EmojiPickerStore.useStore(e => e.activeCategoryIndex), M = (0, I.useExpressionPickerStore)(e => e.searchQuery), v = h.AnimateEmoji.useSetting(), {
                        listPadding: P,
                        renderRow: x,
                        renderSection: D,
                        renderSectionHeader: b,
                        renderSectionFooter: L,
                        sectionMarginBottom: k,
                        sectionHeaderHeight: w,
                        sectionFooterHeight: F
                    } = Y({
                        collapsedSections: d,
                        diversitySurrogate: t,
                        emojiGrid: i,
                        emojiSize: a,
                        onEmojiSelect: r,
                        searchQuery: M,
                        sectionDescriptors: o,
                        setCollapsedSections: c,
                        getEmojiItemProps: f,
                        getEmojiRowProps: _,
                        isScrolling: y,
                        isUsingKeyboardNavigation: S,
                        allowAnimatedEmoji: v,
                        channelGuildId: T,
                        disableEmojiTutorialFlow: C,
                        messageId: R,
                        isBurstReaction: A,
                        listHeaderClassName: O
                    }), K = (0, p.useSynchronizedActiveCategoryIndexForScrollPosition)({
                        activeCategoryIndex: j,
                        isScrolling: y,
                        listRef: l,
                        onActiveCategoryIndexChange: m.EmojiPickerStore.setActiveCategoryIndex,
                        scrollOffset: 20,
                        searchQuery: M
                    });
                    (0, p.useSynchronizedScrollPositionForActiveCategoryIndex)({
                        searchQuery: M,
                        activeCategoryIndex: j,
                        listRef: l
                    });
                    let B = o.length > 0;
                    return (0, n.jsx)("div", {
                        className: G.listWrapper,
                        children: B ? (0, n.jsx)(N.default, {
                            role: "none presentation",
                            className: G.list,
                            listPadding: P,
                            onScroll: K,
                            renderRow: x,
                            renderSection: D,
                            renderSectionHeader: b,
                            renderSectionFooter: L,
                            rowCount: g,
                            rowCountBySection: u,
                            rowHeight: z(a),
                            sectionHeaderHeight: w,
                            sectionMarginBottom: k,
                            sectionFooterHeight: F,
                            stickyHeaders: !0,
                            ref: l
                        }) : (0, n.jsx)(E.default, {
                            message: U.default.Messages.NO_EMOJI_SEARCH_RESULTS,
                            className: G.noSearchResultsContainer
                        })
                    })
                });
            var X = Q
        },
        842126: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return N
                }
            });
            var n = i("37983"),
                s = i("884691"),
                l = i("414456"),
                a = i.n(l),
                r = i("77078"),
                o = i("612039"),
                u = i("858619"),
                d = i("575226"),
                c = i("986632"),
                E = i("592407"),
                f = i("872173"),
                m = i("351825"),
                I = i("642032"),
                _ = i("83017"),
                p = i("458604"),
                g = i("115279"),
                S = i("49111"),
                T = i("782340"),
                h = i("465439"),
                N = e => {
                    let {
                        emojiDescriptors: t,
                        emojiSize: i,
                        onSelect: l,
                        onInspect: N,
                        surrogateCodePoint: C,
                        getEmojiItemProps: R,
                        getEmojiRowProps: A,
                        isScrolling: O,
                        isUsingKeyboardNavigation: y,
                        rowIndex: j,
                        allowAnimatedEmoji: M,
                        showEmojiFavoriteTooltip: v,
                        channelGuildId: P,
                        category: x,
                        selectedItemClassName: D,
                        messageId: b,
                        isBurstReaction: L
                    } = e, U = c.EmojiPickerStore.getState(), [G, k] = s.useState(U.inspectedExpressionPosition), [w, F] = (0, o.default)(null, 300), K = s.useRef(null);
                    s.useEffect(() => c.EmojiPickerStore.useStore.subscribe(e => k(e), e => e.inspectedExpressionPosition), []), s.useEffect(() => {
                        f.FrecencyUserSettingsActionCreators.loadIfNecessary()
                    }, []);
                    let B = i === g.EmojiSize.LARGE,
                        J = i === g.EmojiSize.MEDIUM,
                        V = e => {
                            let t = "".concat(e.rowIndex, "c").concat(e.columnIndex);
                            switch (e.type) {
                                case _.EmojiGridItemTypes.CREATE_EMOJI: {
                                    let {
                                        visibleRowIndex: i,
                                        columnIndex: o
                                    } = e, u = G.rowIndex === i && G.columnIndex === o, d = t => {
                                        t.stopPropagation(), !O.current && !y.current && (l(e, {
                                            isFinalSelection: !0,
                                            toggleFavorite: !1
                                        }), E.default.open(e.guildId, S.GuildSettingsSections.EMOJI))
                                    }, c = () => {
                                        !O.current && !y.current && N(e)
                                    };
                                    return function() {
                                        var e;
                                        let {
                                            onMouseEnter: i,
                                            onMouseLeave: l
                                        } = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, {
                                            ref: E,
                                            tabIndex: f,
                                            onFocus: I,
                                            ..._
                                        } = null !== (e = R(o, j)) && void 0 !== e ? e : {};
                                        return (0, s.createElement)("li", {
                                            ..._,
                                            key: t
                                        }, (0, n.jsx)(r.FocusRing, {
                                            children: (0, n.jsx)("button", {
                                                "aria-label": T.default.Messages.EMOJI_PICKER_CREATE_EMOJI_TITLE,
                                                ref: E,
                                                className: a(h.emojiItem, {
                                                    [h.emojiItemLarge]: B,
                                                    [h.emojiItemMedium]: J,
                                                    [h.emojiItemSelected]: u,
                                                    [null != D ? D : ""]: u,
                                                    [h.showPulse]: w === t
                                                }),
                                                onFocus: null != I ? I : c,
                                                onMouseOver: c,
                                                onMouseEnter: i,
                                                onMouseLeave: l,
                                                onClick: d,
                                                tabIndex: f,
                                                children: (0, n.jsx)(m.default, {
                                                    className: h.icon,
                                                    foreground: h.icon,
                                                    width: 24,
                                                    height: 24
                                                })
                                            })
                                        }))
                                    }()
                                }
                                case _.EmojiGridItemTypes.EMOJI: {
                                    var i;
                                    let {
                                        columnIndex: s,
                                        visibleRowIndex: a
                                    } = e, r = G.rowIndex === a && G.columnIndex === s;
                                    return (0, n.jsx)(p.default, {
                                        rowIndex: j,
                                        descriptor: e,
                                        emojiItemKey: t,
                                        isInspected: r,
                                        isScrolling: O,
                                        isUsingKeyboardNavigation: y,
                                        surrogateCodePoint: C,
                                        allowAnimatedEmoji: M,
                                        selectedItemClassName: D,
                                        onSelect: l,
                                        onInspect: N,
                                        channelGuildId: P,
                                        getEmojiItemProps: R,
                                        isMediumSize: J,
                                        isLargeSize: B,
                                        pulseItemKey: w,
                                        setPulseItemKey: F,
                                        showEmojiFavoriteTooltip: v,
                                        messageId: b,
                                        isBurstReaction: L,
                                        rowPosition: null == K ? void 0 : null === (i = K.current) || void 0 === i ? void 0 : i.getBoundingClientRect()
                                    }, t)
                                }
                            }
                        },
                        H = e => (0, n.jsx)("ul", {
                            ...A(j),
                            className: a(h.emojiListRow, {
                                [h.emojiListRowLargeSize]: B,
                                [h.emojiListRowMediumSize]: J
                            }),
                            ref: K,
                            children: e.map(V)
                        });
                    if (x !== g.EmojiCategoryTypes.TOP_GUILD_EMOJI) return H(t);
                    let W = t.filter(e => e.subCategory === g.EmojiSubCategory.TOP_GUILD_EMOJI || e.subCategory === g.EmojiSubCategory.NEWLY_ADDED_EMOJI && e.emoji.type === u.EmojiTypes.GUILD && !d.default.isNewerThanLastSeen(e.emoji.guildId, e.emoji.id)),
                        z = t.filter(e => e.subCategory === g.EmojiSubCategory.NEWLY_ADDED_EMOJI && e.emoji.type === u.EmojiTypes.GUILD && d.default.isNewerThanLastSeen(e.emoji.guildId, e.emoji.id));
                    return 0 === z.length ? H(t) : (0, n.jsxs)("div", {
                        className: h.topEmojiSectionContainer,
                        children: [(0, n.jsx)("div", {
                            className: a(h.topEmojiContainer, {
                                [h.noEmojis]: 0 === W.length
                            }),
                            children: H(W)
                        }), (0, n.jsxs)("div", {
                            className: h.newlyAddedHighlightContainer,
                            children: [(0, n.jsx)("div", {
                                className: a(h.newlyAddedHighlight, {
                                    [h.oneItem]: 1 === z.length,
                                    [h.alignRight]: W.length > 0
                                }),
                                children: H(z)
                            }), (0, n.jsxs)("div", {
                                className: a(h.newlyAddedBadge, {
                                    [h.newlyAddedBadgeLarge]: B,
                                    [h.newlyAddedBadgeMedium]: J,
                                    [h.alignRight]: W.length > 0
                                }),
                                children: [(0, n.jsx)(I.default, {
                                    foreground: h.newlyAddedBadgeStar
                                }), (0, n.jsx)(r.Text, {
                                    variant: "text-xs/semibold",
                                    color: "always-white",
                                    children: T.default.Messages.NEW
                                })]
                            })]
                        })]
                    })
                }
        },
        458604: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return R
                }
            });
            var n = i("37983"),
                s = i("884691"),
                l = i("414456"),
                a = i.n(l),
                r = i("446674"),
                o = i("77078"),
                u = i("272030"),
                d = i("206230"),
                c = i("385976"),
                E = i("858619"),
                f = i("867805"),
                m = i("246511"),
                I = i("139321"),
                _ = i("590527"),
                p = i("305961"),
                g = i("773336"),
                S = i("215550"),
                T = i("782340"),
                h = i("465439");
            let N = (e, t) => "".concat(e, ":").concat(t),
                C = s.forwardRef(function(e, t) {
                    let {
                        emoji: i,
                        isFavorite: s,
                        isLargeSize: l,
                        isMediumSize: u,
                        isInspected: d,
                        isDisabled: c,
                        showPulse: f,
                        columnIndex: I,
                        rowIndex: _,
                        size: g,
                        surrogateCodePoint: N,
                        allowAnimatedEmoji: C,
                        selectedItemClassName: R,
                        ...A
                    } = e, O = (0, r.useStateFromStores)([p.default], () => i.type === E.EmojiTypes.GUILD ? p.default.getGuild(i.guildId) : void 0, [i]);
                    return (0, n.jsx)(o.FocusRing, {
                        children: (0, n.jsx)("button", {
                            ...A,
                            className: a(h.emojiItem, {
                                [h.emojiItemLarge]: l,
                                [h.emojiItemMedium]: u,
                                [h.emojiItemSelected]: d,
                                [null != R ? R : ""]: d,
                                [h.emojiItemDisabled]: c,
                                [h.showPulse]: f
                            }),
                            "data-type": m.PickerContextMenuDataTypes.EMOJI,
                            "data-id": i.id,
                            "data-pack-id": i.type === E.EmojiTypes.PACK ? i.packId : void 0,
                            "data-name": i.name,
                            ref: t,
                            children: (0, n.jsx)(S.default, {
                                "aria-label": (() => {
                                    let e = i.allNamesString;
                                    return ((null == O ? void 0 : O.name) != null && (e = T.default.Messages.EMOJI_FROM_GUILD_LABEL.format({
                                        names: e,
                                        guildName: O.name
                                    })), s) ? T.default.Messages.EMOJI_NAMES_WITH_FAVORITED.format({
                                        names: e
                                    }) : e
                                })(),
                                columnIndex: I,
                                rowIndex: _,
                                emoji: i,
                                size: g,
                                surrogateCodePoint: N,
                                allowAnimatedEmoji: C
                            })
                        })
                    })
                });

            function R(e) {
                let {
                    descriptor: t,
                    emojiItemKey: l,
                    isInspected: a,
                    rowIndex: E,
                    channelGuildId: m,
                    onInspect: p,
                    onSelect: S,
                    isScrolling: h,
                    isUsingKeyboardNavigation: R,
                    showEmojiFavoriteTooltip: A,
                    surrogateCodePoint: O,
                    selectedItemClassName: y,
                    getEmojiItemProps: j,
                    isMediumSize: M,
                    isLargeSize: v,
                    pulseItemKey: P,
                    allowAnimatedEmoji: x,
                    setPulseItemKey: D,
                    messageId: b,
                    isBurstReaction: L,
                    rowPosition: U
                } = e, [G, k] = s.useState(""), w = (0, r.useStateFromStores)([d.default], () => d.default.useReducedMotion), F = (0, r.useStateFromStores)([c.default], () => c.default.getDisambiguatedEmojiContext(m), [m]), K = s.useRef(null), {
                    emoji: B,
                    size: J,
                    isDisabled: V,
                    columnIndex: H
                } = t, W = e => {
                    if (e.stopPropagation(), h.current || R.current) return;
                    let i = e.altKey;
                    i && !c.default.getDisambiguatedEmojiContext().isFavoriteEmojiWithoutFetchingLatest(B) && D(l), (0, I.hideHotspot)(I.HotspotLocations.FAVORITE_EMOJI_TOOLTIP), S(t, {
                        isFinalSelection: !e.shiftKey,
                        toggleFavorite: i
                    })
                }, z = () => {
                    !h.current && !R.current && p(t)
                }, Y = e => {
                    (0, u.openContextMenuLazy)(e, async () => {
                        let {
                            default: e
                        } = await i.el("367343").then(i.bind(i, "367343"));
                        return t => (0, n.jsx)(e, {
                            ...t
                        })
                    })
                }, Q = function() {
                    var e;
                    let {
                        onMouseEnter: t,
                        onMouseLeave: i
                    } = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, {
                        ref: r,
                        tabIndex: o,
                        onFocus: u,
                        ...d
                    } = null !== (e = j(H, E)) && void 0 !== e ? e : {};
                    return (0, s.createElement)("li", {
                        ...d,
                        key: l,
                        ref: K
                    }, G !== N(H, E) && (0, n.jsx)(C, {
                        ref: r,
                        emoji: B,
                        isFavorite: F.isFavoriteEmojiWithoutFetchingLatest(B),
                        isLargeSize: v,
                        isMediumSize: M,
                        isInspected: a,
                        isDisabled: V,
                        showPulse: P === l,
                        allowAnimatedEmoji: x,
                        onFocus: null != u ? u : z,
                        onMouseMove: z,
                        onMouseEnter: t,
                        onMouseLeave: i,
                        onClick: e => {
                            if (null != K.current && null != U && null != b && !e.shiftKey && null != B.name && L && !w && x) {
                                let e = null == B.id ? f.default.convertNameToSurrogate(B.name) : B.name,
                                    t = K.current.getBoundingClientRect();
                                t.x = U.x + (H + 1) * J, k(N(H, E)), (0, _.addReactionPickerAnimation)(b, e, B.id, t)
                            }
                            W(e)
                        },
                        onContextMenu: Y,
                        tabIndex: o,
                        columnIndex: H,
                        rowIndex: E,
                        size: J,
                        surrogateCodePoint: O,
                        selectedItemClassName: y
                    }))
                };
                return A ? (0, n.jsx)(o.Tooltip, {
                    text: T.default.Messages.EMOJI_FAVORITE_TOOLTIP.format({
                        key: (0, g.isMac)() ? "Opt" : "Alt"
                    }),
                    position: "top",
                    delay: 200,
                    children: e => Q(e)
                }, l) : Q()
            }
        },
        215550: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return p
                }
            });
            var n = i("37983"),
                s = i("884691"),
                l = i("917351"),
                a = i.n(l),
                r = i("77078"),
                o = i("867805"),
                u = i("993244"),
                d = i("315102"),
                c = i("958706"),
                E = i("593115");
            let f = a.memoize(e => "".concat(e * c.EmojiSprites.NonDiversityPerRow, "px ").concat(e * Math.ceil(o.default.numNonDiversitySprites / c.EmojiSprites.NonDiversityPerRow), "px")),
                m = a.memoize(e => "".concat(e * c.EmojiSprites.DiversityPerRow, "px ").concat(e * Math.ceil(o.default.numDiversitySprites / c.EmojiSprites.DiversityPerRow), "px")),
                I = (e, t, n) => {
                    let s, l, a;
                    if (!e.useSpriteSheet) return;
                    let r = null != e.index ? e.index : 0;
                    e.hasDiversity ? (s = i("842001")("./images/spritesheet-".concat(t, "-").concat(n, ".png").replace("./images/", "./")), l = m(n), a = c.EmojiSprites.DiversityPerRow) : (s = i("913983")("./images/spritesheet-emoji-".concat(n, ".png").replace("./images/", "./")), l = f(n), a = c.EmojiSprites.NonDiversityPerRow);
                    let o = -r % a * n,
                        u = -Math.floor(r / a) * n;
                    return {
                        backgroundImage: "url('".concat(s, "')"),
                        backgroundPosition: "".concat(o, "px ").concat(u, "px"),
                        backgroundSize: l,
                        height: n,
                        width: n
                    }
                },
                _ = s.memo(function(e) {
                    let {
                        emoji: t,
                        size: i,
                        surrogateCodePoint: s,
                        allowAnimatedEmoji: l,
                        "aria-label": a
                    } = e;
                    if (!t.useSpriteSheet) {
                        var o;
                        let e = null == t.id ? t.url : d.default.getEmojiURL({
                            id: t.id,
                            animated: l && t.animated,
                            size: 48
                        });
                        return null != e ? (0, n.jsx)(u.default, {
                            "aria-label": a,
                            src: e,
                            size: i,
                            alt: null !== (o = t.allNamesString) && void 0 !== o ? o : ""
                        }) : null
                    }
                    return (0, n.jsx)("div", {
                        className: E.emojiSpriteImage,
                        style: I(t, s, i),
                        children: (0, n.jsx)(r.HiddenVisually, {
                            children: a
                        })
                    })
                });
            var p = _
        },
        914748: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return E
                }
            });
            var n = i("37983"),
                s = i("884691"),
                l = i("77078"),
                a = i("432173"),
                r = i("599110"),
                o = i("49111"),
                u = i("782340"),
                d = i("167671");
            let c = i("719902");

            function E() {
                let e = (0, a.useNextReplenishmentMessage)();
                return s.useEffect(() => {
                    r.default.track(o.AnalyticEvents.OPEN_MODAL, {
                        type: "out of burst reactions modal"
                    })
                }, []), (0, n.jsxs)("div", {
                    className: d.root,
                    children: [(0, n.jsx)("img", {
                        className: d.art,
                        alt: "",
                        src: c
                    }), (0, n.jsxs)("div", {
                        children: [(0, n.jsx)(l.Heading, {
                            className: d.header,
                            variant: "heading-xl/semibold",
                            children: u.default.Messages.SUPER_REACTION_OUT_OF_BURSTS
                        }), (0, n.jsx)(l.Text, {
                            variant: "text-md/normal",
                            children: e
                        })]
                    })]
                })
            }
        },
        913631: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return E
                }
            });
            var n = i("37983"),
                s = i("884691"),
                l = i("414456"),
                a = i.n(l),
                r = i("617258"),
                o = i("246511"),
                u = i("557562"),
                d = i("587974"),
                c = i("469744"),
                E = e => {
                    let {
                        className: t,
                        pack: i,
                        isSelected: l = !0,
                        width: E = 32,
                        height: f = 32,
                        shouldAnimate: m = !0
                    } = e, [I, _] = s.useState(!1), p = (0, u.getPackIconURL)(i, 32, m && l), g = () => _(!0), S = () => _(!1);
                    return (0, n.jsx)("div", {
                        onFocus: g,
                        onBlur: S,
                        onMouseOver: g,
                        onMouseLeave: S,
                        children: (0, n.jsx)(d.default, {
                            className: a(c.mask, t),
                            mask: l || I ? d.MaskIDs.SQUIRCLE : d.MaskIDs.AVATAR_DEFAULT,
                            width: E,
                            height: f,
                            children: null == p ? (0, n.jsx)("div", {
                                className: a(c.packIcon, c.packIconWithoutImage),
                                children: (0, n.jsx)("div", {
                                    className: c.packAcronym,
                                    children: (0, r.getAcronym)(i.name)
                                })
                            }) : (0, n.jsx)("img", {
                                "data-type": o.PickerContextMenuDataTypes.PACK_ICON,
                                "data-pack-id": i.id,
                                alt: i.name,
                                src: p,
                                className: c.packIcon
                            })
                        })
                    })
                }
        },
        851111: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return R
                }
            });
            var n = i("37983"),
                s = i("884691"),
                l = i("866227"),
                a = i.n(l),
                r = i("446674"),
                o = i("95410"),
                u = i("77078"),
                d = i("850068"),
                c = i("79112"),
                E = i("521012"),
                f = i("791106"),
                m = i("945330"),
                I = i("216422"),
                _ = i("719923"),
                p = i("788506"),
                g = i("49111"),
                S = i("646718"),
                T = i("782340"),
                h = i("764942");
            let N = "premiumRetentionEmojiPickerNotice",
                C = o.default.get(N);
            var R = e => {
                let {
                    closePopout: t,
                    channel: i
                } = e, [l, R] = s.useState(!1), {
                    subscription: A,
                    hasFetchedSubscriptions: O
                } = (0, r.useStateFromStoresObject)([E.default], () => ({
                    subscription: E.default.getPremiumSubscription(),
                    hasFetchedSubscriptions: E.default.hasFetchedSubscriptions()
                }));
                if (s.useEffect(() => {
                        !O && (0, d.fetchSubscriptions)()
                    }, [O]), null == A || !(0, _.isSubscriptionStatusFailedPayment)(A.status) || l) return null;
                let y = A.status === g.SubscriptionStatusTypes.PAST_DUE ? (0, _.getBillingGracePeriodDays)(A) : S.MAX_ACCOUNT_HOLD_DAYS,
                    j = a(A.currentPeriodStart).add(y, "days"),
                    M = "".concat(A.id, ":").concat(j.toISOString());
                if (C === M) return null;
                let v = _.default.getPremiumType(A.planId) === S.PremiumTypes.TIER_0 ? f.GradientCssUrls.PREMIUM_TIER_0 : _.default.getPremiumType(A.planId) === S.PremiumTypes.TIER_1 ? f.GradientCssUrls.PREMIUM_TIER_1 : f.GradientCssUrls.PREMIUM_TIER_2;
                return (0, n.jsxs)("div", {
                    className: h.premiumRetentionNotice,
                    children: [(0, n.jsx)(I.default, {
                        className: h.premiumRetentionNoticeIcon,
                        color: v
                    }), (0, n.jsxs)("div", {
                        className: h.premiumRetentionNoticeContent,
                        children: [(0, n.jsx)(u.Text, {
                            variant: "text-xs/normal",
                            children: T.default.Messages.PREMIUM_RETENTION_EMOJI_PICKER_DESCRIPTION.format({
                                planName: _.default.getDisplayPremiumType(A.planId),
                                endsAt: j
                            })
                        }), (0, n.jsx)("div", {
                            children: (0, n.jsx)(u.Anchor, {
                                onClick: () => {
                                    (0, p.trackPremiumSettingsPaneOpened)(i), t(), c.default.open(g.UserSettingsSections.PREMIUM)
                                },
                                children: T.default.Messages.PREMIUM_RETENTION_EMOJI_PICKER_UPDATE_PAYMENT_INFORMATION
                            })
                        })]
                    }), (0, n.jsx)(u.Clickable, {
                        onClick: () => {
                            o.default.set(N, M), C = M, R(!0)
                        },
                        children: (0, n.jsx)(m.default, {
                            className: h.premiumRetentionNoticeClose
                        })
                    })]
                })
            }
        },
        282566: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return v
                }
            });
            var n = i("37983"),
                s = i("884691"),
                l = i("414456"),
                a = i.n(l),
                r = i("819855"),
                o = i("77078"),
                u = i("841098"),
                d = i("812204"),
                c = i("685665"),
                E = i("538282"),
                f = i("626301"),
                m = i("552917"),
                I = i("843647"),
                _ = i("154889"),
                p = i("917247"),
                g = i("956597"),
                S = i("635956"),
                T = i("599110"),
                h = i("402671"),
                N = i("719923"),
                C = i("788506"),
                R = i("115279"),
                A = i("49111"),
                O = i("958706"),
                y = i("646718"),
                j = i("782340"),
                M = i("350028"),
                v = e => {
                    var t, l, v;
                    let {
                        onLearnMore: P,
                        onClose: x,
                        channel: D,
                        emojiDescriptor: b,
                        pickerIntention: L,
                        analyticsLocation: U
                    } = e, G = (0, u.default)(), [k, w] = s.useState(!1), F = () => {
                        (0, C.trackPremiumSettingsPaneOpened)(D), (0, f.navigateToPremiumMarketingPage)(), P()
                    }, K = (0, r.isThemeLight)(G) ? i("602291") : i("609708"), B = (0, p.usePremiumTrialOffer)(), J = (0, _.usePremiumDiscountOffer)(), V = null != B || null != J, {
                        isLoading: H,
                        suggestedPremiumType: W
                    } = (0, I.default)({
                        autoTrackExposure: !V,
                        experiment: m.default,
                        location: "emoji_picker"
                    }), z = (0, E.useExpressionPickerStore)(e => e.searchQuery), {
                        analyticsLocations: Y
                    } = (0, c.default)(d.default.EMOJI_PICKER), Q = null == B ? void 0 : null === (t = B.subscription_trial) || void 0 === t ? void 0 : t.sku_id, X = null != Q ? Q === y.PremiumSubscriptionSKUs.TIER_0 : W === y.PremiumTypes.TIER_0;
                    return s.useEffect(() => {
                        if (!H) {
                            let e;
                            e = L === O.EmojiIntention.REACTION ? y.PremiumUpsellTypes.EMOJI_PICKER_REACTION_EMOJI_CLICKED : b.subCategory === R.EmojiSubCategory.TOP_GUILD_EMOJI ? y.PremiumUpsellTypes.EMOJI_PICKER_TOP_SERVER_EMOJI_CLICKED : b.subCategory === R.EmojiSubCategory.NEWLY_ADDED_EMOJI ? y.PremiumUpsellTypes.EMOJI_PICKER_NEWLY_ADDED_EMOJI_CLICKED : y.PremiumUpsellTypes.EMOJI_PICKER_EMOJI_CLICKED;
                            let t = b.emoji;
                            T.default.track(A.AnalyticEvents.PREMIUM_UPSELL_VIEWED, {
                                type: e,
                                is_animated: t.animated,
                                is_external: !h.default.isInternalEmojiForGuildId(t, null == D ? void 0 : D.getGuildId()),
                                has_search_query: null != z && "" !== z,
                                location: {
                                    ...U,
                                    object: A.AnalyticsObjects.EMOJI
                                },
                                location_stack: Y,
                                sku_id: N.default.getSkuIdForPremiumType(W)
                            })
                        }
                    }, [H, W, b, D, U, Y, L, z]), (0, n.jsxs)("div", {
                        className: a(M.premiumPromo, {
                            [M.unifyTrialUpsell]: V
                        }),
                        children: [(0, n.jsx)(o.Clickable, {
                            className: M.premiumPromoClose,
                            onClick: x,
                            children: j.default.Messages.CLOSE
                        }), H ? (0, n.jsx)(o.Spinner, {}) : (0, n.jsxs)(n.Fragment, {
                            children: [V ? (0, n.jsx)(g.default, {
                                type: y.PremiumUpsellTypes.AGGREGATE_PREMIUM_UPSELL_MODAL_FEATURE_EMOJI,
                                subscriptionTier: null !== (v = null == B ? void 0 : null === (l = B.subscription_trial) || void 0 === l ? void 0 : l.sku_id) && void 0 !== v ? v : y.PremiumSubscriptionSKUs.TIER_2,
                                onClose: x,
                                trialOffer: B,
                                discountOffer: J,
                                children: X ? j.default.Messages.PREMIUM_PROMO_DESCRIPTION_SEARCH_TIER_UPSELL.format({
                                    planName: (0, N.getTierDisplayName)(y.SubscriptionPlans.PREMIUM_MONTH_TIER_0),
                                    onClick: F
                                }) : j.default.Messages.PREMIUM_PROMO_DESCRIPTION_SEARCH_UPSELL.format({
                                    onClick: F
                                })
                            }) : (0, n.jsxs)(n.Fragment, {
                                children: [(0, n.jsx)("img", {
                                    alt: "",
                                    className: M.premiumPromoImage,
                                    src: K
                                }), (0, n.jsx)("div", {
                                    className: M.premiumPromoTitle,
                                    children: j.default.Messages.PREMIUM_PROMO_TITLE_SEARCH_UPSELL
                                }), (0, n.jsx)("div", {
                                    className: M.premiumPromoDescription,
                                    children: X ? j.default.Messages.PREMIUM_PROMO_DESCRIPTION_SEARCH_TIER_UPSELL.format({
                                        planName: (0, N.getTierDisplayName)(y.SubscriptionPlans.PREMIUM_MONTH_TIER_0),
                                        onClick: F
                                    }) : j.default.Messages.PREMIUM_PROMO_DESCRIPTION_SEARCH_UPSELL.format({
                                        onClick: F
                                    })
                                })]
                            }), !V && (0, n.jsx)(S.default, {
                                subscriptionTier: X ? y.PremiumSubscriptionSKUs.TIER_0 : y.PremiumSubscriptionSKUs.TIER_2,
                                submitting: k,
                                premiumModalAnalyticsLocation: {
                                    section: A.AnalyticsSections.EMOJI_PICKER_POPOUT,
                                    object: A.AnalyticsObjects.BUTTON_CTA
                                },
                                size: o.Button.Sizes.SMALL,
                                color: o.Button.Colors.GREEN,
                                onClick: () => {
                                    w(!0)
                                },
                                onSubscribeModalClose: e => {
                                    w(!1), e && x()
                                },
                                buttonText: (() => {
                                    if (V) return X ? j.default.Messages.PREMIUM_TRIAL_TIER_0_CTA_BUTTON_VARIANT : j.default.Messages.PREMIUM_TRIAL_CTA_BUTTON_VARIANT;
                                    return X ? j.default.Messages.PREMIUM_SETTINGS_GET_TIER_0 : j.default.Messages.PREMIUM_REQUIRED_GET_NITRO
                                })()
                            })]
                        })]
                    })
                }
        },
        974634: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return p
                }
            });
            var n = i("37983"),
                s = i("884691"),
                l = i("414456"),
                a = i.n(l),
                r = i("16470"),
                o = i("74139"),
                u = i("137223"),
                d = i("986632"),
                c = i("538282"),
                E = i("115279"),
                f = i("49111"),
                m = i("782340"),
                I = i("431364");
            let _ = s.forwardRef(function(e, t) {
                let {
                    emojiListRef: i,
                    gridNavigatorId: l,
                    isFullRow: _,
                    onKeyDown: p,
                    onFocus: g,
                    autoFocus: S,
                    className: T,
                    defaultSearchPlaceholder: h
                } = e, N = s.useRef(null), C = (0, c.useExpressionPickerStore)(e => e.searchQuery), [R, A] = d.EmojiPickerStore.useStore(e => [e.inspectedExpressionPosition, e.searchPlaceholder], r.default), O = s.useCallback(e => {
                    var t;
                    d.EmojiPickerStore.setActiveCategoryIndex("" === e ? 0 : E.INACTIVE_CATEGORY_INDEX), d.EmojiPickerStore.setInspectedExpressionPosition(0, 0), d.EmojiPickerStore.setSearchPlaceholder(null), (0, c.setSearchQuery)(e), null === (t = i.current) || void 0 === t || t.scrollTo(0)
                }, [i]), y = s.useCallback(() => {
                    (0, c.setSearchQuery)("")
                }, []);
                return s.useImperativeHandle(t, () => ({
                    focus: () => {
                        var e;
                        return null === (e = N.current) || void 0 === e ? void 0 : e.focus()
                    }
                })), (0, n.jsx)(u.default, {
                    autoFocus: S,
                    query: C,
                    ref: N,
                    size: u.default.Sizes.MEDIUM,
                    placeholder: null != A ? A : h,
                    onClear: y,
                    onKeyDown: e => {
                        switch (e.keyCode) {
                            case f.KeyboardKeys.ARROW_LEFT:
                            case f.KeyboardKeys.ARROW_RIGHT:
                            case f.KeyboardKeys.ARROW_UP:
                            case f.KeyboardKeys.ARROW_DOWN:
                                document.activeElement !== e.target && e.preventDefault()
                        }
                        p(e)
                    },
                    onFocus: g,
                    onQueryChange: O,
                    className: a(T, {
                        [I.searchBarFullRow]: _
                    }),
                    preventEscapePropagation: !1,
                    useKeyboardNavigation: !1,
                    inputProps: {
                        "aria-label": m.default.Messages.SEARCH_EMOJIS,
                        "aria-haspopup": "grid",
                        "aria-controls": l,
                        "aria-expanded": !0,
                        "aria-activedescendant": (0, o.makeGridId)(l, R.columnIndex, R.rowIndex)
                    }
                })
            });
            var p = s.memo(_)
        },
        575226: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return f
                }
            });
            var n = i("866227"),
                s = i.n(n),
                l = i("446674"),
                a = i("913144"),
                r = i("299039");
            let o = {
                    lastSeenNewlyAddedEmojiIds: {}
                },
                u = o,
                d = {};

            function c() {
                for (let e in d) u.lastSeenNewlyAddedEmojiIds[e] = d[e]
            }
            class E extends l.default.PersistedStore {
                initialize(e) {
                    u = null != e ? e : o
                }
                getState() {
                    return u
                }
                getLastSeenEmojiByGuild(e) {
                    return u.lastSeenNewlyAddedEmojiIds[e]
                }
                isNewerThanLastSeen(e, t) {
                    if (null == e || null == t) return !1;
                    let i = this.getLastSeenEmojiByGuild(e);
                    if (null == i) return !0;
                    if (r.default.compare(t, i.id) > 0) return !0;
                    {
                        let e = s(i.lastSeen),
                            t = s().isBefore(e.add(2, "weeks"));
                        return t && !i.acknowledged
                    }
                }
            }
            E.displayName = "NewlyAddedEmojiStore", E.persistKey = "NewlyAddedEmojiStore", E.migrations = [e => {
                let t = e.lastSeenNewlyAddedEmojiIds,
                    i = {};
                for (let e in t) {
                    let n = t[e];
                    i[e] = {
                        id: n,
                        lastSeen: Date.now(),
                        acknowledged: !1
                    }
                }
                return {
                    lastSeenNewlyAddedEmojiIds: i
                }
            }];
            var f = new E(a.default, {
                LOGOUT: function() {
                    u = o, d = {}
                },
                NEWLY_ADDED_EMOJI_SEEN_ACKNOWLEDGED: function(e) {
                    var t;
                    let {
                        guildId: i,
                        emojiId: n
                    } = e, s = null !== (t = d[i]) && void 0 !== t ? t : u.lastSeenNewlyAddedEmojiIds[i];
                    null == s || 0 > r.default.compare(s.id, n) ? d[i] = {
                        id: n,
                        lastSeen: Date.now(),
                        acknowledged: !0
                    } : d[i] = {
                        ...s,
                        acknowledged: !0
                    }
                },
                NEWLY_ADDED_EMOJI_SEEN_PENDING: function(e) {
                    var t;
                    let {
                        guildId: i,
                        emojiId: n
                    } = e, s = null !== (t = d[i]) && void 0 !== t ? t : u.lastSeenNewlyAddedEmojiIds[i];
                    (null == s || 0 > r.default.compare(s.id, n)) && (d[i] = {
                        id: n,
                        lastSeen: Date.now(),
                        acknowledged: !1
                    })
                },
                NEWLY_ADDED_EMOJI_SEEN_UPDATED: c,
                CLEAR_CACHES: function() {
                    u = o, c()
                },
                CONNECTION_CLOSED: c
            })
        },
        986632: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                INACTIVE_CATEGORY_INDEX: function() {
                    return s
                },
                EmojiPickerStore: function() {
                    return r
                },
                StickerPickerStore: function() {
                    return o
                },
                SoundboardPickerStore: function() {
                    return u
                },
                ApplicationCommandDiscoveryPickerStore: function() {
                    return d
                }
            });
            var n = i("308503");
            let s = -1,
                l = Object.freeze({
                    inspectedExpressionPosition: {
                        rowIndex: 0,
                        columnIndex: 0
                    },
                    activeCategoryIndex: 0,
                    searchPlaceholder: null
                });

            function a() {
                let e = (0, n.default)(e => l);
                return {
                    useStore: e,
                    getState: () => e.getState(),
                    setInspectedExpressionPosition: (t, i, n) => {
                        e.setState({
                            inspectedExpressionPosition: {
                                rowIndex: i,
                                columnIndex: t,
                                source: n
                            }
                        })
                    },
                    setActiveCategoryIndex: t => {
                        e.setState({
                            activeCategoryIndex: t
                        })
                    },
                    setSearchPlaceholder: t => {
                        e.setState({
                            searchPlaceholder: t
                        })
                    },
                    resetStoreState: () => {
                        e.setState(l)
                    }
                }
            }
            let r = a(),
                o = a(),
                u = a(),
                d = a()
        },
        538282: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                openExpressionPicker: function() {
                    return d
                },
                closeExpressionPicker: function() {
                    return c
                },
                toggleMultiExpressionPicker: function() {
                    return E
                },
                toggleExpressionPicker: function() {
                    return f
                },
                setExpressionPickerView: function() {
                    return m
                },
                setSearchQuery: function() {
                    return I
                },
                useExpressionPickerStore: function() {
                    return _
                }
            });
            var n = i("995008"),
                s = i.n(n),
                l = i("308503"),
                a = i("136759"),
                r = i("13030");
            let o = Object.freeze({
                    activeView: null,
                    lastActiveView: null,
                    activeViewType: null,
                    searchQuery: "",
                    isSearchSuggestion: !1,
                    pickerId: function() {
                        let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "uid_";
                        return s(e)
                    }()
                }),
                u = (0, l.default)((0, a.persist)((e, t) => o, {
                    name: "expression-picker-last-active-view",
                    partialize: e => ({
                        lastActiveView: e.lastActiveView
                    })
                })),
                d = (e, t) => {
                    u.setState({
                        activeView: e,
                        activeViewType: t,
                        lastActiveView: u.getState().activeView
                    })
                },
                c = e => {
                    let t = u.getState();
                    if (void 0 === e || e === t.activeViewType) null !== t.activeView && u.setState({
                        activeView: null,
                        activeViewType: null,
                        lastActiveView: t.activeView
                    })
                },
                E = e => {
                    let t = u.getState();
                    if (null == t.activeView) {
                        var i;
                        d(null !== (i = t.lastActiveView) && void 0 !== i ? i : r.ExpressionPickerViewType.EMOJI, e)
                    } else c()
                },
                f = (e, t) => {
                    u.getState().activeView === e ? c() : d(e, t)
                },
                m = e => {
                    u.setState({
                        activeView: e,
                        lastActiveView: u.getState().activeView
                    })
                },
                I = function(e) {
                    let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                    u.setState({
                        searchQuery: e,
                        isSearchSuggestion: t
                    })
                },
                _ = u
        },
        405607: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return E
                }
            });
            var n = i("37983"),
                s = i("884691"),
                l = i("414456"),
                a = i.n(l),
                r = i("124299"),
                o = i("538282"),
                u = i("49111"),
                d = i("742773");
            let c = e => {
                let {
                    activeIndex: t,
                    categoryListRef: i,
                    getScrollOffsetForIndex: n
                } = e, l = s.useRef(u.UNREACHABLE_REQUEST_ANIMATION_FRAME_ID), a = s.useRef(t);
                return s.useEffect(() => {
                    null != t && t !== a.current && (l.current !== u.UNREACHABLE_REQUEST_ANIMATION_FRAME_ID && window.cancelAnimationFrame(l.current), l.current = window.requestAnimationFrame(() => {
                        var e;
                        if (null == i.current) return;
                        let s = t > (null !== (e = a.current) && void 0 !== e ? e : -1),
                            r = null != n ? n(t, s) : 0;
                        i.current.scrollRowIntoView(t, {
                            animate: !0,
                            offset: r
                        }), l.current = u.UNREACHABLE_REQUEST_ANIMATION_FRAME_ID, a.current = t
                    }))
                }, [t, i, n]), {
                    categoryListRef: i
                }
            };
            var E = function(e) {
                let {
                    categoryListRef: t,
                    expressionsListRef: i,
                    categories: l,
                    store: u,
                    children: E,
                    className: f,
                    listPadding: m,
                    rowCount: I,
                    getScrollOffsetForIndex: _,
                    categoryHeight: p,
                    onScroll: g,
                    renderCategoryListItem: S,
                    rowCountBySection: T,
                    renderSection: h
                } = e, N = u.useStore(e => e.activeCategoryIndex);
                c({
                    activeIndex: N,
                    categoryListRef: t,
                    getScrollOffsetForIndex: _
                });
                let C = s.useCallback(e => {
                        let {
                            searchQuery: t
                        } = o.useExpressionPickerStore.getState();
                        if (u.setActiveCategoryIndex(e), "" !== t)(0, o.setSearchQuery)("");
                        else {
                            var n;
                            null === (n = i.current) || void 0 === n || n.scrollToSectionTop(e)
                        }
                    }, [i, u]),
                    R = s.useCallback(e => S(l[e], e, () => C(e), N === e), [N, l, C, S]),
                    A = s.useMemo(() => "function" == typeof p ? e => p(l[e], e) : p, [l, p]);
                return (0, n.jsxs)("div", {
                    className: a(d.wrapper, f),
                    children: [(0, n.jsx)(r.default, {
                        listPadding: m,
                        onScroll: g,
                        ref: t,
                        renderRow: R,
                        rowCount: I,
                        rowHeight: A,
                        hideScrollbar: !0,
                        rowCountBySection: T,
                        renderSection: h
                    }), null == E ? void 0 : E(C)]
                })
            }
        },
        45961: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                useExpressionPickerGridWidth: function() {
                    return f
                },
                useSynchronizedScrollPositionForActiveCategoryIndex: function() {
                    return m
                },
                useSynchronizedActiveCategoryIndexForScrollPosition: function() {
                    return I
                },
                useExpressionPickerGridKeyboardNavigation: function() {
                    return _
                },
                useExpressionGrid: function() {
                    return p
                },
                useKeyboardNavigation: function() {
                    return g
                }
            });
            var n = i("884691"),
                s = i("917351"),
                l = i.n(s),
                a = i("880317"),
                r = i("585463"),
                o = i("617258"),
                u = i("769846"),
                d = i("246511"),
                c = i("49111");
            let E = (0, o.cssValueToNumber)(u.default.EMOJI_PICKER_CONSTANTS_EMOJI_LIST_PADDING_LEFT),
                f = e => {
                    let {
                        gridWrapperRef: t,
                        containerWidth: i,
                        showingEmptyState: s,
                        listPaddingLeft: a = E,
                        listScrollbarWidth: r = 8
                    } = e, [o, u] = n.useState(void 0), d = n.useCallback(() => {
                        if (null == t.current) return null;
                        u(t.current.offsetWidth - a - r)
                    }, [t, a, r]);
                    return n.useLayoutEffect(() => {
                        d()
                    }, [i, d, s]), n.useEffect(() => {
                        let e = l.debounce(d, 250);
                        return window.addEventListener("resize", e), () => window.removeEventListener("resize", e)
                    }, [d]), o
                },
                m = e => {
                    let {
                        activeCategoryIndex: t,
                        listRef: i,
                        searchQuery: s
                    } = e, l = n.useRef(s), a = n.useRef(!0);
                    n.useLayoutEffect(() => {
                        if ("" === s && "" !== l.current) {
                            var e;
                            null === (e = i.current) || void 0 === e || e.scrollToSectionTop(t)
                        }
                        l.current = s
                    }, [s, t, i]), n.useLayoutEffect(() => {
                        if (a.current) {
                            var e;
                            null === (e = i.current) || void 0 === e || e.scrollToSectionTop(t), a.current = !1
                        }
                    }, [t, i]), n.useEffect(() => {
                        l.current = s
                    }, [s])
                },
                I = e => {
                    let {
                        activeCategoryIndex: t,
                        listRef: i,
                        isScrolling: s,
                        searchQuery: a,
                        scrollOffset: r = 0,
                        onActiveCategoryIndexChange: o
                    } = e, u = n.useRef(c.UNREACHABLE_REQUEST_ANIMATION_FRAME_ID), d = n.useMemo(() => l.debounce(() => {
                        s.current = !1
                    }, 250), [s]), E = n.useMemo(() => l.debounce(e => {
                        "" === a && (window.cancelAnimationFrame(u.current), u.current = window.requestAnimationFrame(() => {
                            var n;
                            let s = null === (n = i.current) || void 0 === n ? void 0 : n.getSectionDescriptors();
                            if (null == s) return;
                            let l = s.findIndex((t, i) => {
                                    let n = s[i + 1],
                                        l = e + r >= t.offset.top,
                                        a = null != n && e + r < n.offset.top;
                                    return null != n && !l && !a || l && a || l && null == n
                                }),
                                a = -1 === l ? 0 : l;
                            t !== a && o(a)
                        }))
                    }, 50), [a, i, t, r, o]), f = n.useCallback(e => {
                        s.current = !0, d(), E(e)
                    }, [s, d, E]);
                    return f
                },
                _ = e => {
                    let {
                        columnCounts: t,
                        gridNavigatorId: i,
                        itemGrid: s,
                        itemList: l,
                        onGridNavigatorItemSelect: r,
                        onGridNavigatorPositionChange: o
                    } = e, u = n.useRef(!1), d = n.useCallback((e, t) => {
                        let i = s[t];
                        if (null != i) return i[e]
                    }, [s]), c = n.useCallback(e => {
                        let {
                            focusedX: t,
                            focusedY: i
                        } = e;
                        u.current = !0;
                        let n = d(t, i);
                        if (null == n) return;
                        let {
                            visibleRowIndex: s,
                            columnIndex: a
                        } = n;
                        o(a, s), null != l.current && l.current.scrollRowIntoView(i)
                    }, [d, l, o]), E = n.useCallback((e, t, i) => {
                        switch (i.type) {
                            case a.ActionType.NAVIGATE_UP:
                            case a.ActionType.NAVIGATE_DOWN:
                            case a.ActionType.NAVIGATE_RIGHT:
                            case a.ActionType.NAVIGATE_LEFT:
                            case a.ActionType.NAVIGATE_INLINE_START:
                            case a.ActionType.NAVIGATE_INLINE_END:
                            case a.ActionType.NAVIGATE_START:
                            case a.ActionType.NAVIGATE_END:
                            case a.ActionType.NAVIGATE_CROSSLINE_START:
                            case a.ActionType.NAVIGATE_CROSSLINE_END:
                                c(t)
                        }
                    }, [c]), f = n.useCallback((e, t, i) => {
                        let n = d(e, t);
                        null != n && r(n, i)
                    }, [d, r]), {
                        dispatch: m,
                        getItemProps: I,
                        getRowProps: _,
                        getContainerProps: p
                    } = (0, a.useGridNavigator)({
                        navId: i,
                        columnCounts: t,
                        onDispatch: E,
                        onSelect: f,
                        autoFocusElement: !1,
                        useVirtualFocus: !0
                    }), {
                        gridContainerProps: g,
                        handleGridContainerKeyDown: S
                    } = n.useMemo(() => {
                        let e = p();
                        return {
                            gridContainerProps: e,
                            handleGridContainerKeyDown: e.onKeyDown
                        }
                    }, [p]);
                    return n.useEffect(() => {
                        let e = () => {
                            u.current = !1
                        };
                        return window.addEventListener("mousemove", e), () => window.removeEventListener("mousemove", e)
                    }, []), {
                        gridDispatch: m,
                        getItemProps: I,
                        getRowProps: _,
                        gridContainerProps: g,
                        handleGridContainerKeyDown: S,
                        isUsingKeyboardNavigation: u
                    }
                };

            function p(e) {
                let {
                    categories: t,
                    collapsedCategories: i,
                    gridWidth: s = 0,
                    listPaddingRight: l = 0,
                    itemNodeWidth: a,
                    itemNodeMargin: r = 0
                } = e;
                return n.useMemo(() => {
                    let e = Math.max(1, Math.floor((s - l + r) / (a + r))),
                        n = Math.floor(Math.max(r, (s - l - a * e) / (e - 1))),
                        o = [],
                        u = [],
                        d = [],
                        c = 0,
                        E = 0,
                        f = 0;
                    if (0 !== s) {
                        let n = function(t, i) {
                            let n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
                                s = Math.ceil(t.length / e);
                            u[E] = n ? 0 : s;
                            for (let l = 0; l < s; l++) {
                                let s = l * e,
                                    a = s + e,
                                    r = t.slice(s, a).map((e, t) => ({
                                        item: e,
                                        gridSectionIndex: E,
                                        rowIndex: c,
                                        columnIndex: t,
                                        visibleRowIndex: f,
                                        category: i
                                    }));
                                !n && (f++, d.push(r), o.push(r.length)), c++
                            }
                            E++
                        };
                        for (let e of t)
                            if (e.items.length > 0) {
                                var m;
                                n(e.items, e.categoryInfo.type, null !== (m = null == i ? void 0 : i.has("".concat(e.key))) && void 0 !== m && m)
                            }
                    }
                    return {
                        expressionsGrid: d,
                        rowCount: c,
                        rowCountBySection: u,
                        columnCounts: o,
                        gutterWidth: n
                    }
                }, [t, i, s, r, a, l])
            }

            function g(e) {
                let {
                    columnCounts: t,
                    expressionsGrid: i,
                    expressionsListRef: s,
                    store: l,
                    gridNavigatorId: a,
                    onSelectItem: o
                } = e, {
                    gridDispatch: u,
                    getItemProps: c,
                    getRowProps: E,
                    gridContainerProps: f,
                    handleGridContainerKeyDown: m,
                    isUsingKeyboardNavigation: I
                } = _({
                    columnCounts: t,
                    gridNavigatorId: a,
                    itemGrid: i,
                    itemList: s,
                    onGridNavigatorItemSelect: o,
                    onGridNavigatorPositionChange: l.setInspectedExpressionPosition
                });
                return n.useEffect(() => l.useStore.subscribe(e => {
                    if (null == e) return;
                    let {
                        columnIndex: t,
                        rowIndex: i,
                        source: n
                    } = e;
                    n !== d.InspectedExpressionChangeSource.GRID_NAVIGATOR_EVENT && u({
                        type: r.GridActionType.SET_FOCUSED_POSITION,
                        x: t,
                        y: i
                    })
                }, e => e.inspectedExpressionPosition), [u, l]), {
                    getItemProps: c,
                    getRowProps: E,
                    gridContainerProps: f,
                    handleGridContainerKeyDown: m,
                    isUsingKeyboardNavigation: I
                }
            }
        },
        562323: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return m
                }
            });
            var n = i("37983");
            i("884691");
            var s = i("414456"),
                l = i.n(s),
                a = i("77078"),
                r = i("346314"),
                o = i("642032"),
                u = i("290581"),
                d = i("115279"),
                c = i("782340"),
                E = i("428606");
            let f = e => {
                let {
                    emojiSubCategory: t
                } = e;
                return (0, n.jsxs)("div", {
                    className: l(E.badgeLabel, t === d.EmojiSubCategory.TOP_GUILD_EMOJI ? E.topGuildEmojiBadge : E.newlyAddedBadge),
                    children: [t === d.EmojiSubCategory.TOP_GUILD_EMOJI ? (0, n.jsx)(r.default, {
                        foreground: E.newlyAddedBadgeIcon
                    }) : (0, n.jsx)(o.default, {
                        foreground: E.newlyAddedBadgeIcon
                    }), (0, n.jsx)(a.Text, {
                        variant: "text-sm/semibold",
                        color: "always-white",
                        children: t === d.EmojiSubCategory.TOP_GUILD_EMOJI ? c.default.Messages.TOP_GUILD_EMOJI_BADGE : c.default.Messages.NEWLY_ADDED_GUILD_EMOJI_BADGE
                    })]
                })
            };
            var m = e => {
                let {
                    className: t,
                    graphicPrimary: i,
                    graphicSecondary: s,
                    titlePrimary: r,
                    titleSecondary: o,
                    isFavorite: m = !1,
                    emojiSubCategory: I = d.EmojiSubCategory.NONE
                } = e;
                return (0, n.jsxs)("div", {
                    className: l(E.inspector, t),
                    children: [(0, n.jsx)("div", {
                        className: E.graphicPrimary,
                        "aria-hidden": !0,
                        children: i
                    }), (0, n.jsxs)("div", {
                        className: E.textWrapper,
                        children: [(0, n.jsxs)(a.Text, {
                            className: E.titlePrimary,
                            variant: "text-md/semibold",
                            children: [m ? (0, n.jsx)(u.default, {
                                "aria-label": m ? c.default.Messages.EMOJI_IS_FAVORITE_ARIA_LABEL.format({
                                    names: r
                                }) : void 0,
                                width: 15,
                                height: 15,
                                className: E.favorite
                            }) : null, r]
                        }), null != o && (0, n.jsx)(a.Text, {
                            className: E.titleSecondary,
                            variant: "text-xs/normal",
                            children: o
                        })]
                    }), I === d.EmojiSubCategory.NONE ? null != s && (0, n.jsx)("div", {
                        className: E.graphicSecondary,
                        "aria-hidden": !0,
                        children: s
                    }) : (0, n.jsx)(f, {
                        emojiSubCategory: I
                    })]
                })
            }
        },
        993244: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return a
                }
            });
            var n = i("37983"),
                s = i("884691"),
                l = i("430047"),
                a = e => {
                    let {
                        src: t,
                        alt: i,
                        size: a,
                        "aria-label": r
                    } = e, o = s.useRef(null), u = s.useRef(!1);
                    return (0, n.jsx)("img", {
                        className: u.current ? l.image : l.imageLoading,
                        alt: i,
                        src: t,
                        ref: o,
                        "aria-label": r,
                        style: {
                            backgroundSize: a,
                            height: a,
                            width: a
                        },
                        onLoad: u.current ? void 0 : () => {
                            window.requestAnimationFrame(() => {
                                null != o.current && (u.current = !0, o.current.classList.remove(l.imageLoading), o.current.classList.add(l.image))
                            })
                        }
                    })
                }
        },
        515059: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return c
                }
            });
            var n = i("37983"),
                s = i("884691"),
                l = i("414456"),
                a = i.n(l),
                r = i("77078"),
                o = i("256170"),
                u = i("572935");
            let d = s.memo(function(e) {
                let {
                    children: t,
                    className: i,
                    icon: s,
                    isCollapsed: l,
                    onClick: d,
                    "aria-label": c
                } = e;
                return (0, n.jsx)("div", {
                    className: a(u.wrapper, i),
                    children: (0, n.jsxs)(r.Clickable, {
                        onClick: d,
                        onKeyDown: e => e.stopPropagation(),
                        className: a(u.header, {
                            [u.interactive]: null != l
                        }),
                        "aria-expanded": null != l ? !l : void 0,
                        "aria-label": c,
                        children: [null != s && (0, n.jsx)("div", {
                            "aria-hidden": !0,
                            className: u.headerIcon,
                            children: s
                        }), (0, n.jsx)("span", {
                            className: u.headerLabel,
                            children: t
                        }), null != l ? (0, n.jsx)(o.default, {
                            className: a(u.headerCollapseIcon, {
                                [u.headerCollapseIconCollapsed]: l
                            }),
                            height: 16,
                            width: 16
                        }) : null]
                    })
                })
            });
            var c = d
        },
        610174: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                useGuildAlertModeEnabled: function() {
                    return c
                },
                getGuildAlertModeEnabled: function() {
                    return E
                }
            });
            var n = i("316693"),
                s = i("446674"),
                l = i("862205"),
                a = i("305961"),
                r = i("957255"),
                o = i("421127");
            let u = (0, l.createExperiment)({
                    kind: "guild",
                    id: "2023-04_guild_alert_mode",
                    label: "Guild Alert Mode",
                    defaultConfig: {
                        showAlertMode: !1,
                        alsoShowMemberSafety: !1
                    },
                    treatments: [{
                        id: 1,
                        label: "Show alert mode experience",
                        config: {
                            showAlertMode: !0,
                            alsoShowMemberSafety: !1
                        }
                    }, {
                        id: 2,
                        label: "Show alert mode experience with member safety",
                        config: {
                            showAlertMode: !0,
                            alsoShowMemberSafety: !0
                        }
                    }]
                }),
                d = (0, l.createExperiment)({
                    kind: "guild",
                    id: "2023-08_guild_alert_mode_friend_server",
                    label: "Guild Alert Mode (friend servers only)",
                    defaultConfig: {
                        showAlertMode: !1,
                        alsoShowMemberSafety: !1
                    },
                    treatments: [{
                        id: 1,
                        label: "Show alert mode experience",
                        config: {
                            showAlertMode: !0,
                            alsoShowMemberSafety: !1
                        }
                    }, {
                        id: 2,
                        label: "Show alert mode experience with member safety",
                        config: {
                            showAlertMode: !0,
                            alsoShowMemberSafety: !1
                        }
                    }]
                });

            function c(e) {
                let t = (0, s.useStateFromStores)([a.default], () => a.default.getGuild(e)),
                    i = (0, s.useStateFromStores)([r.default], () => null != t && n.default.hasAny(r.default.computePermissions(t), o.IncidentAlertModeratorPermissions)),
                    l = u.useExperiment({
                        guildId: e,
                        location: "c3fae3_1"
                    }, {
                        disable: !i,
                        autoTrackExposure: !0
                    }),
                    c = d.useExperiment({
                        guildId: e,
                        location: "c3fae3_2"
                    }, {
                        disable: !i,
                        autoTrackExposure: !0
                    });
                return {
                    showAlertMode: l.showAlertMode || c.showAlertMode,
                    alsoShowMemberSafety: l.alsoShowMemberSafety || c.alsoShowMemberSafety
                }
            }

            function E(e) {
                let t = a.default.getGuild(e),
                    i = null != t && n.default.hasAny(r.default.computePermissions(t), o.IncidentAlertModeratorPermissions),
                    s = u.getCurrentConfig({
                        guildId: e,
                        location: "c3fae3_3"
                    }, {
                        disable: !i,
                        autoTrackExposure: !0
                    }),
                    l = d.getCurrentConfig({
                        guildId: e,
                        location: "c3fae3_4"
                    }, {
                        disable: !i,
                        autoTrackExposure: !0
                    });
                return {
                    showAlertMode: s.showAlertMode || l.showAlertMode,
                    alsoShowMemberSafety: s.alsoShowMemberSafety || l.alsoShowMemberSafety
                }
            }
        },
        421127: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                NAGBAR_DISPLAY_MAX_HOURS: function() {
                    return a
                },
                DEFAULT_LOCKDOWN_DURATION: function() {
                    return r
                },
                getTimeframes: function() {
                    return o
                },
                IncidentAlertModeratorPermissions: function() {
                    return u
                }
            });
            var n = i("316693"),
                s = i("843455"),
                l = i("782340");
            let a = 2,
                r = 2,
                o = () => [{
                    value: 1,
                    label: l.default.Messages.GUILD_SERVER_LOCKDOWN_DURATION_1_HOUR
                }, {
                    value: 2,
                    label: l.default.Messages.GUILD_SERVER_LOCKDOWN_DURATION_2_HOURS
                }, {
                    value: 4,
                    label: l.default.Messages.GUILD_SERVER_LOCKDOWN_DURATION_4_HOURS
                }, {
                    value: 6,
                    label: l.default.Messages.GUILD_SERVER_LOCKDOWN_DURATION_6_HOURS
                }, {
                    value: 12,
                    label: l.default.Messages.GUILD_SERVER_LOCKDOWN_DURATION_12_HOURS
                }, {
                    value: 24,
                    label: l.default.Messages.GUILD_SERVER_LOCKDOWN_DURATION_24_HOURS
                }],
                u = n.default.combine(s.Permissions.ADMINISTRATOR, s.Permissions.MANAGE_GUILD, s.Permissions.BAN_MEMBERS, s.Permissions.KICK_MEMBERS, s.Permissions.MODERATE_MEMBERS)
        },
        712125: function(e, t, i) {
            "use strict";
            var n, s, l, a, r, o;
            i.r(t), i.d(t, {
                GuildIncidentActionSources: function() {
                    return n
                },
                GuildIncidentAlertTypes: function() {
                    return s
                },
                GuildIncidentActionTypes: function() {
                    return l
                }
            }), (a = n || (n = {})).MESSAGE = "message", a.NAGBAR = "nagbar", a.GUILD_SETTINGS = "guild_settings", a.CONTEXT_MENU = "context_menu", a.GUILD_PROFILE = "guild_profile", a.MEMBER_SAFETY_PAGE = "member_safety_page", (r = s || (s = {})).JOIN_RAID = "join_raid", r.DM_RAID = "dm_raid", (o = l || (l = {})).INVITES_DISABLED = "invites_disabled", o.DMS_DISABLED = "dms_disabled"
        },
        311161: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                DATE_CONFIG: function() {
                    return o
                },
                hasDetectedActivity: function() {
                    return u
                },
                hasDetectedRaid: function() {
                    return d
                },
                hasDetectedDMRaid: function() {
                    return c
                },
                getIncidentAlertType: function() {
                    return E
                },
                getEnabledInterventions: function() {
                    return f
                },
                getDisabledInterventions: function() {
                    return m
                },
                isUnderLockdown: function() {
                    return I
                },
                hasDMsDisabled: function() {
                    return _
                },
                hasInvitesDisabled: function() {
                    return p
                },
                getSecurityActionDetailsString: function() {
                    return g
                }
            });
            var n = i("866227"),
                s = i.n(n),
                l = i("712125"),
                a = i("421127"),
                r = i("782340");
            let o = {
                month: "numeric",
                day: "numeric",
                hour: "numeric",
                minute: "2-digit"
            };

            function u(e) {
                return null != e.dmSpamDetectedAt && s(e.dmSpamDetectedAt).add(a.NAGBAR_DISPLAY_MAX_HOURS, "hours") > s() || null != e.raidDetectedAt && s(e.raidDetectedAt).add(a.NAGBAR_DISPLAY_MAX_HOURS, "hours") > s()
            }

            function d(e) {
                return null != e.raidDetectedAt && s(e.raidDetectedAt).add(a.NAGBAR_DISPLAY_MAX_HOURS, "hours") > s()
            }

            function c(e) {
                return null != e.dmSpamDetectedAt && s(e.dmSpamDetectedAt).add(a.NAGBAR_DISPLAY_MAX_HOURS, "hours") > s()
            }

            function E(e) {
                return null == e ? void 0 : d(e) ? l.GuildIncidentAlertTypes.JOIN_RAID : l.GuildIncidentAlertTypes.DM_RAID
            }

            function f(e, t) {
                let i = [];
                return e && i.push(l.GuildIncidentActionTypes.INVITES_DISABLED), t && i.push(l.GuildIncidentActionTypes.DMS_DISABLED), i
            }

            function m(e, t) {
                let i = [];
                return !e && i.push(l.GuildIncidentActionTypes.INVITES_DISABLED), !t && i.push(l.GuildIncidentActionTypes.DMS_DISABLED), i
            }

            function I(e) {
                return null != e.dmsDisabledUntil && new Date(e.dmsDisabledUntil) > new Date || null != e.invitesDisabledUntil && new Date(e.invitesDisabledUntil) > new Date
            }

            function _(e) {
                return (null == e ? void 0 : e.dmsDisabledUntil) != null && new Date(e.dmsDisabledUntil) > new Date
            }

            function p(e) {
                return (null == e ? void 0 : e.invitesDisabledUntil) != null && new Date(e.invitesDisabledUntil) > new Date
            }

            function g(e, t) {
                var i;
                let n = null !== (i = e.dmsDisabledUntil) && void 0 !== i ? i : e.invitesDisabledUntil;
                if (null == n) return "";
                let s = null != e.dmsDisabledUntil,
                    l = null != e.invitesDisabledUntil;
                switch (!0) {
                    case s && l:
                        return r.default.Messages.GUILD_ANTIRAID_PAUSE_DMS_AND_JOINS_NAGBAR_MESSAGE_NEW.format({
                            guildName: t,
                            time: new Date(n).toLocaleString(r.default.getLocale(), o)
                        });
                    case s:
                        return r.default.Messages.GUILD_ANTIRAID_PAUSE_DMS_NAGBAR_MESSAGE_NEW.format({
                            guildName: t,
                            time: new Date(n).toLocaleString(r.default.getLocale(), o)
                        });
                    case l:
                        return r.default.Messages.GUILD_ANTIRAID_PAUSE_JOINS_NAGBAR_MESSAGE_NEW.format({
                            guildName: t,
                            time: new Date(n).toLocaleString(r.default.getLocale(), o)
                        });
                    default:
                        return ""
                }
            }
        },
        54346: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return _
                }
            });
            var n = i("446674"),
                s = i("913144"),
                l = i("374363"),
                a = i("305961"),
                r = i("957255"),
                o = i("607620"),
                u = i("610174"),
                d = i("311161");
            let c = {},
                E = {};

            function f() {
                var e;
                let t = null !== (e = l.default.getGuildsProto()) && void 0 !== e ? e : {},
                    i = a.default.getGuilds(),
                    n = Object.keys(i);
                for (let e of (E = {}, n))(0, u.getGuildAlertModeEnabled)(e).showAlertMode && (E[e] = {
                    guildId: e,
                    guildName: i[e].name,
                    ...t[e]
                })
            }

            function m(e) {
                return null != e && Object.keys(e).length > 0 ? {
                    raidDetectedAt: e.raid_detected_at,
                    dmSpamDetectedAt: e.dm_spam_detected_at,
                    dmsDisabledUntil: e.dms_disabled_until,
                    invitesDisabledUntil: e.invites_disabled_until
                } : null
            }
            class I extends n.default.Store {
                initialize() {
                    this.waitFor(l.default, a.default, r.default, o.default), this.syncWith([l.default, a.default, r.default, o.default], f)
                }
                getGuildIncident(e) {
                    return c[e]
                }
                getIncidentsByGuild() {
                    return c
                }
                getGuildAlertSettings() {
                    return E
                }
            }
            I.displayName = "GuildIncidentsStore";
            var _ = new I(s.default, {
                CONNECTION_OPEN: function(e) {
                    for (let t of (c = {}, e.guilds)) {
                        let e = m(t.properties.incidents_data);
                        null != e && ((0, d.hasDetectedActivity)(e) || (0, d.isUnderLockdown)(e)) && (c[t.id] = e)
                    }
                },
                GUILD_CREATE: function(e) {
                    let {
                        guild: t
                    } = e, i = m(t.properties.incidents_data);
                    null != i && ((0, d.hasDetectedActivity)(i) || (0, d.isUnderLockdown)(i)) && (c[t.id] = i)
                },
                GUILD_UPDATE: function(e) {
                    let {
                        guild: t
                    } = e, i = m(t.incidents_data);
                    null != i && ((0, d.hasDetectedActivity)(i) || (0, d.isUnderLockdown)(i)) ? (Object.keys(c).forEach(e => {
                        let t = c[e];
                        !(0, d.hasDetectedActivity)(t) && delete c[e]
                    }), c[t.id] = i) : delete c[t.id]
                },
                GUILD_DELETE: function(e) {
                    let {
                        guild: t
                    } = e;
                    delete c[t.id]
                },
                LOGOUT: function(e) {
                    c = {}
                }
            })
        },
        614858: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                BadgeCategory: function() {
                    return s
                },
                getBadgeCategory: function() {
                    return a
                }
            });
            var n, s, l = i("883474");

            function a(e) {
                return e.staff ? s.STAFF : e.verified && e.partnered ? s.VERIFIED_AND_PARTNERED : e.verified ? s.VERIFIED : e.partnered ? s.PARTNERED : e.community && e.visibility === l.GuildVisibility.PUBLIC ? s.DISCOVERABLE : e.community ? s.COMMUNITY : s.NONE
            }(n = s || (s = {}))[n.PARTNERED = 0] = "PARTNERED", n[n.VERIFIED = 1] = "VERIFIED", n[n.VERIFIED_AND_PARTNERED = 2] = "VERIFIED_AND_PARTNERED", n[n.COMMUNITY = 3] = "COMMUNITY", n[n.DISCOVERABLE = 4] = "DISCOVERABLE", n[n.STAFF = 5] = "STAFF", n[n.NONE = 6] = "NONE"
        },
        347924: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                useInServerBadgingExperiment: function() {
                    return l
                }
            });
            var n = i("862205");
            let s = (0, n.createExperiment)({
                kind: "guild",
                id: "2023-04_server_badging",
                label: "Server Badging",
                defaultConfig: {
                    enabled: !1
                },
                treatments: [{
                    id: 1,
                    label: "Enable Server Badging",
                    config: {
                        enabled: !0
                    }
                }]
            });

            function l(e) {
                let {
                    enabled: t
                } = s.useExperiment({
                    guildId: e,
                    location: "482926_1"
                }, {
                    autoTrackExposure: !1
                });
                return t
            }
        },
        883474: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                GuildVisibility: function() {
                    return s
                },
                getGuildTraits: function() {
                    return r
                }
            });
            var n, s, l = i("813006"),
                a = i("49111");

            function r(e) {
                let t = new Set(e.features),
                    i = t.has(a.GuildFeatures.COMMUNITY) && t.has(a.GuildFeatures.DISCOVERABLE) ? s.PUBLIC : s.INVITE_ONLY,
                    n = function(e) {
                        return null != e && (e instanceof l.default ? e.premiumSubscriberCount > 0 || e.premiumTier > a.BoostedGuildTiers.NONE : null != e.premiumSubscriptionCount && e.premiumSubscriptionCount > 0)
                    }(e),
                    r = 0;
                if (n) {
                    var o;
                    r = null !== (o = e instanceof l.default ? e.premiumSubscriberCount : e.premiumSubscriptionCount) && void 0 !== o ? o : 0
                }
                let u = e instanceof l.default ? e.premiumTier : a.BoostedGuildTiers.NONE;
                return {
                    verified: t.has(a.GuildFeatures.VERIFIED),
                    partnered: t.has(a.GuildFeatures.PARTNERED),
                    community: t.has(a.GuildFeatures.COMMUNITY),
                    staff: t.has(a.GuildFeatures.INTERNAL_EMPLOYEE_ONLY),
                    visibility: i,
                    premium: n,
                    premiumSubscriberCount: r,
                    premiumTier: u
                }
            }(n = s || (s = {})).PUBLIC = "PUBLIC", n.INVITE_ONLY = "INVITE_ONLY"
        },
        51565: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return r
                }
            });
            var n = i("614858"),
                s = i("347924"),
                l = i("883474");
            let a = new Set([n.BadgeCategory.PARTNERED, n.BadgeCategory.VERIFIED, n.BadgeCategory.VERIFIED_AND_PARTNERED, n.BadgeCategory.COMMUNITY, n.BadgeCategory.DISCOVERABLE]);

            function r(e) {
                var t;
                let i = (0, s.useInServerBadgingExperiment)(null !== (t = null == e ? void 0 : e.id) && void 0 !== t ? t : "");
                if (!i || null == e) return !1;
                let r = (0, l.getGuildTraits)(e),
                    o = (0, n.getBadgeCategory)(r);
                return a.has(o)
            }
        },
        5367: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                useCurrentUserGuildBadgeStatus: function() {
                    return u
                }
            });
            var n = i("446674"),
                s = i("26989"),
                l = i("697218"),
                a = i("591023"),
                r = i("520141"),
                o = i("982527");

            function u(e) {
                let t = (0, r.useIsMemberVerificationManualApproval)(null != e ? e : ""),
                    i = (0, n.useStateFromStores)([o.default, l.default, s.default], () => {
                        let t = o.default.getRequest(e),
                            i = l.default.getCurrentUser();
                        if (null == i || null == t || t.userId !== i.id) return;
                        let n = s.default.getMember(e, t.userId),
                            r = null != n && !n.isPending;
                        if (!r || (0, a.isActionedAndNotAcked)(t)) return t.applicationStatus
                    }, [e]);
                return t ? i : void 0
            }
        },
        802894: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return C
                }
            });
            var n = i("37983");
            i("884691");
            var s = i("759843"),
                l = i("446674"),
                a = i("819855"),
                r = i("77078"),
                o = i("841098"),
                u = i("812204"),
                d = i("685665"),
                c = i("428958"),
                E = i("393414"),
                f = i("305961"),
                m = i("191814"),
                I = i("945330"),
                _ = i("256941"),
                p = i("270295"),
                g = i("49111"),
                S = i("724210"),
                T = i("782340"),
                h = i("814163");
            let N = () => {
                let e = (0, o.default)();
                return (0, a.isThemeLight)(e) ? i("602291") : i("609708")
            };

            function C(e) {
                let {
                    onClose: t,
                    guildId: i,
                    emojiId: a
                } = e, o = N(), {
                    analyticsLocations: C
                } = (0, d.default)(u.default.GUILD_ROLE_SUBSCRIPTION_EMOJI_PICKER_UPSELL);
                (0, c.default)({
                    type: s.ImpressionTypes.MODAL,
                    name: s.ImpressionNames.ROLE_SUBSCRIPTION_EMOJI_UPSELL,
                    properties: {
                        location_stack: C,
                        emoji_guild_id: i,
                        emoji_id: null != a ? a : null
                    }
                });
                let R = (0, l.useStateFromStores)([f.default], () => f.default.getGuild(i)),
                    A = (0, l.useStateFromStores)([_.default], () => null != i && _.default.getUserSubscriptionRoles(i).size > 0),
                    O = A ? T.default.Messages.GUILD_ROLE_SUBSCRIPTION_EMOJI_PICKER_UPGRADE_UPSELL_DESCRIPTION : T.default.Messages.GUILD_ROLE_SUBSCRIPTION_EMOJI_PICKER_PURCHASE_UPSELL_DESCRIPTION.format({
                        serverName: null == R ? void 0 : R.name
                    }),
                    y = A ? T.default.Messages.GUILD_ROLE_SUBSCRIPTION_EMOJI_PICKER_UPSELL_UPGRADE_CTA : T.default.Messages.GUILD_ROLE_SUBSCRIPTION_EMOJI_PICKER_UPSELL_PURCHASE_CTA;
                return (0, n.jsxs)("div", {
                    className: h.container,
                    children: [(0, n.jsx)("div", {
                        className: h.background
                    }), (0, n.jsxs)("div", {
                        className: h.content,
                        children: [(0, n.jsx)(r.Button, {
                            look: r.Button.Looks.BLANK,
                            size: r.Button.Sizes.ICON,
                            className: h.closeButton,
                            onClick: t,
                            children: (0, n.jsx)(I.default, {
                                "aria-label": T.default.Messages.CLOSE,
                                width: 16,
                                height: 16,
                                className: h.closeButtonIcon
                            })
                        }), (0, n.jsx)("img", {
                            alt: "",
                            src: o,
                            className: h.upsellImage
                        }), (0, n.jsx)(m.default, {
                            size: 22
                        }), (0, n.jsx)(r.Heading, {
                            color: "header-primary",
                            variant: "heading-lg/extrabold",
                            className: h.header,
                            children: T.default.Messages.GUILD_ROLE_SUBSCRIPTION_EMOJI_PICKER_UPSELL_TITLE
                        }), (0, n.jsx)(m.default, {
                            size: 4
                        }), (0, n.jsx)(r.Text, {
                            color: "header-secondary",
                            variant: "text-md/normal",
                            className: h.description,
                            children: O
                        }), (0, n.jsx)(m.default, {
                            size: 24
                        }), (0, n.jsx)(p.default, {
                            onClick: () => {
                                (0, E.transitionTo)(g.Routes.CHANNEL(i, S.StaticChannelRoute.ROLE_SUBSCRIPTIONS), void 0, void 0, C)
                            },
                            children: y
                        })]
                    })]
                })
            }
        },
        100835: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                InvitesDisabledExperiment: function() {
                    return u
                },
                useInvitesDisabledPermission: function() {
                    return d
                },
                useInvitesDisabledExperiment: function() {
                    return c
                },
                setInvitesDisabled: function() {
                    return E
                },
                useShouldShowInvitesDisabledNotif: function() {
                    return f
                }
            });
            var n = i("446674"),
                s = i("862205"),
                l = i("54346"),
                a = i("957255"),
                r = i("592407"),
                o = i("49111");
            let u = (0, s.createExperiment)({
                kind: "guild",
                id: "2022-07_invites_disabled",
                label: "Report Raids",
                defaultConfig: {
                    enableInvitesDisabled: !1
                },
                treatments: [{
                    id: 1,
                    label: "Enable Reporting Of Raids",
                    config: {
                        enableInvitesDisabled: !0
                    }
                }]
            });

            function d(e) {
                return (0, n.useStateFromStores)([a.default], () => null != e && a.default.can(o.Permissions.MANAGE_GUILD, e), [e])
            }

            function c(e) {
                return u.useExperiment({
                    guildId: e.id,
                    location: "108f83_1"
                }, {
                    autoTrackExposure: !1
                })
            }
            async function E(e, t) {
                if (e.hasFeature(o.GuildFeatures.INVITES_DISABLED) === t) return;
                let i = new Set(e.features);
                t ? i.add(o.GuildFeatures.INVITES_DISABLED) : i.delete(o.GuildFeatures.INVITES_DISABLED), await r.default.saveGuild(e.id, {
                    features: i
                }, {
                    throwErr: !0
                })
            }

            function f(e) {
                var t;
                let i = d(e),
                    s = (0, n.useStateFromStores)([l.default], () => null != e ? l.default.getGuildIncident(e.id) : null),
                    a = (null == e ? void 0 : null === (t = e.hasFeature) || void 0 === t ? void 0 : t.call(e, o.GuildFeatures.INVITES_DISABLED)) || (null == s ? void 0 : s.invitesDisabledUntil) != null && new Date(s.invitesDisabledUntil) > new Date;
                return i && a
            }
        },
        423080: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                GuildTooltipText: function() {
                    return z
                },
                default: function() {
                    return Y
                }
            });
            var n = i("37983"),
                s = i("884691"),
                l = i("414456"),
                a = i.n(l),
                r = i("917351"),
                o = i.n(r),
                u = i("446674"),
                d = i("769846"),
                c = i("77078"),
                E = i("191225"),
                f = i("51565"),
                m = i("567054"),
                I = i("5367"),
                _ = i("100835"),
                p = i("38654"),
                g = i("319165"),
                S = i("488464"),
                T = i("998716"),
                h = i("170183"),
                N = i("689275"),
                C = i("373469"),
                R = i("923959"),
                A = i("282109"),
                O = i("697218"),
                y = i("316133"),
                j = i("580357"),
                M = i("40469"),
                v = i("272339"),
                P = i("82636"),
                x = i("368121"),
                D = i("228427"),
                b = i("619911"),
                L = i("811305"),
                U = i("159885"),
                G = i("49111"),
                k = i("782340"),
                w = i("455547"),
                F = i("805959");
            let K = (0, U.cssValueToNumber)(d.default.GUILD_TOOLTIP_ICON_SIZE),
                B = (0, U.cssValueToNumber)(d.default.GUILD_TOOLTIP_ICON_SIZE_V_2);

            function J(e, t, i) {
                return 0 === t.length ? null : (0, n.jsxs)("div", {
                    className: w.row,
                    children: [(0, n.jsx)(e, {
                        className: w.activityIcon
                    }), (0, n.jsx)(L.default, {
                        guildId: i,
                        users: t,
                        max: 6
                    })]
                })
            }

            function V(e) {
                let {
                    muteConfig: t,
                    className: i
                } = e;
                return (null == t ? void 0 : t.end_time) == null ? (0, n.jsx)(c.Text, {
                    variant: "text-xs/normal",
                    color: "text-muted",
                    className: i,
                    children: k.default.Messages.FORM_LABEL_MUTED
                }) : (0, n.jsx)(g.default, {
                    muteConfig: t,
                    className: i
                })
            }

            function H(e) {
                var t, i, l;
                let {
                    guild: r
                } = e, d = r.id, f = (0, u.useStateFromStoresArray)([R.default, N.default], () => {
                    let e = R.default.getChannels(d)[R.GUILD_VOCAL_CHANNELS_KEY].filter(e => {
                            let {
                                channel: t
                            } = e;
                            return t.type === G.ChannelTypes.GUILD_VOICE
                        }).map(e => {
                            let {
                                channel: t
                            } = e;
                            return t.id
                        }),
                        t = Object.values(N.default.getThreadsForGuild(d)).flatMap(e => Object.keys(e));
                    return [...e, ...t]
                }, [d]), m = (0, h.default)(d), I = s.useMemo(() => m.map(e => e.id), [m]), _ = (0, u.useStateFromStores)([y.default], () => y.default.getVoiceStates(d), [d]), p = o.flatMap(f, e => {
                    var t;
                    if (e === r.afkChannelId) return [];
                    let i = null !== (t = _[e]) && void 0 !== t ? t : [];
                    return i.map(e => {
                        let {
                            user: t
                        } = e;
                        return t
                    })
                }), g = (0, u.useStateFromStoresArray)([S.default], () => o.flatMap(I, e => {
                    if (e === r.afkChannelId) return [];
                    let t = S.default.getMutableParticipants(e, T.StageChannelParticipantNamedIndex.SPEAKER);
                    return t.filter(e => e.type === T.StageChannelParticipantTypes.VOICE).map(e => {
                        let {
                            user: t
                        } = e;
                        return t
                    })
                })), j = (0, u.useStateFromStores)([S.default], () => {
                    let e = 0;
                    for (let t of I) e += S.default.getParticipantCount(t, T.StageChannelParticipantNamedIndex.AUDIENCE);
                    return e
                }), M = (0, u.useStateFromStoresArray)([C.default], () => C.default.getAllApplicationStreams().filter(e => e.guildId === d).map(e => e.ownerId), [d]), U = (0, u.useStateFromStoresArray)([E.default], () => E.default.getEmbeddedActivitiesForGuild(d).flatMap(e => Array.from(e.connections.keys())), [d]), k = (0, u.useStateFromStoresArray)([O.default], () => U.map(e => O.default.getUser(e)), [U]), F = (0, u.useStateFromStoresArray)([O.default], () => M.map(e => O.default.getUser(e)), [M]), K = J(x.default, p.filter(e => !M.includes(e.id) && !U.includes(e.id)), d);
                let B = (t = d, i = g, l = j, 0 === i.length ? null : (0, n.jsxs)("div", {
                        className: w.row,
                        children: [(0, n.jsx)(D.default, {
                            className: w.activityIcon
                        }), (0, n.jsx)(L.default, {
                            guildId: t,
                            users: i,
                            max: 3
                        }), (0, n.jsxs)("div", {
                            className: w.stageListenerPill,
                            children: [(0, n.jsx)(v.default, {
                                width: 16,
                                height: 16
                            }), (0, n.jsx)(c.Text, {
                                className: w.stageListenerCount,
                                color: "text-normal",
                                variant: "text-xs/normal",
                                children: l
                            })]
                        })]
                    })),
                    H = J(b.default, F.filter(e => null != e && !U.includes(e.id)), d),
                    W = J(P.default, k, d),
                    {
                        isMuted: z,
                        muteConfig: Y
                    } = (0, u.useStateFromStoresObject)([A.default], () => ({
                        isMuted: A.default.isMuted(d),
                        muteConfig: A.default.getMuteConfig(d)
                    }), [d]);
                return (0, n.jsxs)(n.Fragment, {
                    children: [B, K, H, W, z ? (0, n.jsx)(V, {
                        muteConfig: Y,
                        className: a(w.muteText, {
                            [w.muteTextWithActivity]: null != K || null != H
                        })
                    }) : null]
                })
            }

            function W(e) {
                let {
                    guildJoinRequestStatus: t
                } = e;
                return (0, n.jsx)(c.Text, {
                    className: w.viewAsRolesWarning,
                    color: "text-normal",
                    variant: "text-xs/normal",
                    children: function(e) {
                        switch (e) {
                            case m.GuildJoinRequestApplicationStatuses.SUBMITTED:
                                return k.default.Messages.GUILD_JOIN_REQUEST_STATUS_TOOLTIP_PENDING;
                            case m.GuildJoinRequestApplicationStatuses.REJECTED:
                                return k.default.Messages.GUILD_JOIN_REQUEST_STATUS_TOOLTIP_REJECTED;
                            case m.GuildJoinRequestApplicationStatuses.APPROVED:
                                return k.default.Messages.GUILD_JOIN_REQUEST_STATUS_TOOLTIP_APPROVED;
                            default:
                                return k.default.Messages.GUILD_JOIN_REQUEST_STATUS_TOOLTIP_STARTED
                        }
                    }(t)
                })
            }

            function z(e) {
                let {
                    guild: t,
                    includeActivity: i = !0
                } = e, s = (0, f.default)(t), l = (0, I.useCurrentUserGuildBadgeStatus)(t.id), r = null != l ? (0, n.jsx)(W, {
                    guildJoinRequestStatus: l
                }) : null, o = i ? (0, n.jsx)(H, {
                    guild: t
                }) : null, d = (0, u.useStateFromStores)([p.default], () => p.default.isViewingRoles(t.id)), E = (0, _.useShouldShowInvitesDisabledNotif)(t);
                return (0, n.jsxs)(n.Fragment, {
                    children: [(0, n.jsxs)("div", {
                        className: a(w.row, w.rowGuildName),
                        children: [s ? (0, n.jsx)(M.default, {
                            guild: t,
                            size: B,
                            className: w.rowIconV2
                        }) : (0, n.jsx)(j.default, {
                            guild: t,
                            size: K,
                            className: w.rowIcon
                        }), (0, n.jsx)("span", {
                            className: a(w.guildNameText, {
                                [w.guildNameTextLimitedSize]: null != o
                            }),
                            children: t.toString()
                        })]
                    }), E ? (0, n.jsx)(c.Text, {
                        className: w.invitesDisabledTooltip,
                        color: "header-secondary",
                        variant: "text-sm/medium",
                        children: k.default.Messages.INVITES_DISABLED_TOOLTIP
                    }) : null, d ? (0, n.jsx)(c.Text, {
                        className: w.viewAsRolesWarning,
                        color: "text-normal",
                        variant: "text-xs/normal",
                        children: k.default.Messages.VIEW_AS_ROLES_MENTIONS_WARNING
                    }) : null != r ? r : o]
                })
            }

            function Y(e) {
                let {
                    guild: t,
                    disabled: i = !1,
                    "aria-label": l = !1,
                    children: a,
                    includeActivity: r
                } = e;
                return (0, n.jsx)(c.Tooltip, {
                    hideOnClick: !0,
                    spacing: 20,
                    position: "right",
                    text: i ? null : (0, n.jsx)(z, {
                        guild: t,
                        includeActivity: r
                    }),
                    "aria-label": l,
                    tooltipClassName: F.listItemTooltip,
                    children: e => {
                        let {
                            onFocus: t,
                            onBlur: i,
                            ...l
                        } = e;
                        return (0, n.jsx)("div", {
                            onFocus: t,
                            onBlur: i,
                            children: s.cloneElement(s.Children.only(a), {
                                ...l
                            })
                        })
                    }
                })
            }
        },
        704815: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return o
                }
            });
            var n = i("37983"),
                s = i("884691"),
                l = i("77078"),
                a = i("782340"),
                r = i("21104");

            function o(e) {
                let {
                    pack: t,
                    disabled: i = !1,
                    "aria-label": o = !1,
                    children: u
                } = e;
                return (0, n.jsx)(l.Tooltip, {
                    hideOnClick: !0,
                    spacing: 20,
                    position: "right",
                    text: i ? null : (0, n.jsx)("span", {
                        children: a.default.Messages.EMOJI_CATEGORY_PACK.format({
                            packName: t.name
                        })
                    }),
                    "aria-label": o,
                    tooltipClassName: r.listItemTooltip,
                    children: e => {
                        let {
                            onFocus: t,
                            onBlur: i,
                            ...l
                        } = e;
                        return (0, n.jsx)("div", {
                            onFocus: t,
                            onBlur: i,
                            children: s.cloneElement(s.Children.only(u), {
                                ...l
                            })
                        })
                    }
                })
            }
        },
        590527: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                toggleBurstReactionPicker: function() {
                    return s
                },
                toggleFreeUserSentPopout: function() {
                    return l
                },
                addReactionPickerAnimation: function() {
                    return a
                },
                clearReactionPickerAnimation: function() {
                    return r
                }
            });
            var n = i("913144");

            function s(e) {
                n.default.dispatch({
                    type: "BURST_REACTION_PICKER_TOGGLE",
                    value: e
                })
            }

            function l(e) {
                n.default.dispatch({
                    type: "BURST_REACTION_SHOW_FREE_USER_SENT_POPOUT",
                    emoji: e
                })
            }

            function a(e, t, i, s) {
                n.default.dispatch({
                    type: "BURST_REACTION_PICKER_ANIMATION_ADD",
                    messageId: e,
                    emojiName: t,
                    emojiId: i,
                    startPosition: s
                })
            }

            function r(e, t, i) {
                n.default.dispatch({
                    type: "BURST_REACTION_PICKER_ANIMATION_CLEAR",
                    messageId: e,
                    emojiName: t,
                    emojiId: i
                })
            }
        },
        45682: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return R
                }
            });
            var n = i("37983"),
                s = i("884691"),
                l = i("414456"),
                a = i.n(l),
                r = i("301165"),
                o = i("446674"),
                u = i("151426"),
                d = i("906069"),
                c = i("856567"),
                E = i("77078"),
                f = i("206230"),
                m = i("509802"),
                I = i("697218"),
                _ = i("181114"),
                p = i("216422"),
                g = i("719923"),
                S = i("994428"),
                T = i("782340"),
                h = i("985330");
            let N = {
                tension: 750,
                mass: 2.5,
                friction: 70
            };

            function C(e) {
                let {
                    tooltipText: t,
                    headingText: i,
                    textColor: s
                } = e, l = null != i;
                return (0, n.jsxs)("span", {
                    className: l ? void 0 : h.tooltipContainer,
                    children: [(0, n.jsxs)("span", {
                        className: h.tooltipContainer,
                        children: [(0, n.jsx)(p.default, {
                            className: h.nitroWheel
                        }), l ? (0, n.jsx)(E.Heading, {
                            color: null != s ? s : "text-normal",
                            variant: "heading-sm/semibold",
                            children: i
                        }) : null]
                    }), (0, n.jsx)(E.Text, {
                        variant: l ? "text-xs/normal" : "text-sm/medium",
                        color: null != s ? s : "text-normal",
                        children: t
                    })]
                })
            }

            function R(e) {
                let {
                    checked: t,
                    onClick: i,
                    id: l = "burst-reaction-toggle-button"
                } = e, p = (0, o.useStateFromStores)([f.default], () => f.default.useReducedMotion), R = I.default.getCurrentUser(), A = null != R && !(0, g.isPremium)(R), O = A ? [] : [u.DismissibleContent.SUPER_REACTION_TOGGLE_EDUCATION_DESKTOP], [y, j] = (0, m.useDismissibleContentGroup)(O), [M, v] = s.useState(!1), [P, x] = (0, r.useSpring)(() => ({})), D = (0, r.animated)(d.ReactionIcon), b = (0, r.animated)(c.SuperReactionIcon);
                s.useEffect(() => {
                    let e = y === u.DismissibleContent.SUPER_REACTION_TOGGLE_EDUCATION_DESKTOP;
                    e && (j(S.ContentDismissActionType.DISMISS), setTimeout(() => v(e), 200))
                }, [y, j]);
                let L = M ? T.default.Messages.SUPER_REACTIONS_UNLIMITED_NOTICE_DESCRIPTION_DESKTOP_V2 : t ? T.default.Messages.SUPER_REACTION_TOGGLE_ENABLED : T.default.Messages.SUPER_REACTION_TOGGLE_DISABLED,
                    U = M ? T.default.Messages.SUPER_REACTIONS_UNLIMITED_NOTICE_TITLE : void 0;
                return (0, n.jsxs)(E.TooltipContainer, {
                    position: "top",
                    text: (0, n.jsx)(C, {
                        textColor: "always-white",
                        tooltipText: L,
                        headingText: U
                    }),
                    color: E.Tooltip.Colors.BRAND,
                    forceOpen: M,
                    "aria-label": L,
                    tooltipClassName: h.tooltip,
                    children: [(0, n.jsx)("input", {
                        className: h.visuallyHidden,
                        checked: t,
                        onChange: function() {
                            x({
                                from: {
                                    rotate: t ? "360deg" : "0deg"
                                },
                                to: {
                                    rotate: t ? "0deg" : "360deg"
                                },
                                config: N
                            }), null == i || i(), v(!1)
                        },
                        id: l,
                        type: "checkbox"
                    }), (0, n.jsxs)("label", {
                        htmlFor: l,
                        className: a(h.label, {
                            [h.labelChecked]: t
                        }),
                        children: [t ? (0, n.jsx)(_.Shine, {
                            className: h.shine,
                            shinePaused: p
                        }) : null, (0, n.jsx)(D, {
                            style: p ? void 0 : P,
                            width: 20,
                            height: 20,
                            color: t ? "white" : void 0,
                            className: a(h.icon, {
                                [h.iconHidden]: t
                            })
                        }), (0, n.jsx)(b, {
                            style: p ? void 0 : P,
                            width: 20,
                            height: 20,
                            color: t ? "white" : void 0,
                            className: a(h.icon, {
                                [h.iconHidden]: !t
                            })
                        }), (0, n.jsx)("span", {
                            children: (0, n.jsx)(E.Text, {
                                className: h.visuallyHidden,
                                variant: "text-sm/semibold",
                                children: T.default.Messages.SUPER_REACTION_TOGGLE_DISABLED
                            })
                        })]
                    })]
                })
            }
        },
        319165: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                useMutedUntilText: function() {
                    return a
                },
                default: function() {
                    return r
                }
            });
            var n = i("37983");
            i("884691");
            var s = i("77078"),
                l = i("782340");

            function a(e) {
                return null == e || null == e.end_time ? null : l.default.Messages.MUTED_UNTIL_TIME.format({
                    endTime: new Date(e.end_time).toLocaleString(l.default.getLocale(), {
                        month: "numeric",
                        day: "numeric",
                        hour: "numeric",
                        minute: "2-digit"
                    })
                })
            }

            function r(e) {
                let {
                    muteConfig: t,
                    className: i
                } = e, l = a(t);
                return null != l ? (0, n.jsx)(s.Text, {
                    variant: "text-xs/normal",
                    color: "text-muted",
                    className: i,
                    children: l
                }) : null
            }
        },
        170183: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return u
                }
            });
            var n = i("446674"),
                s = i("42203"),
                l = i("957255"),
                a = i("449008"),
                r = i("923510"),
                o = i("834052");

            function u(e) {
                let t = (0, n.useStateFromStoresArray)([o.default], () => Object.keys(o.default.getStageInstancesByGuild(e)), [e]);
                return function(e) {
                    let t = (0, n.useStateFromStoresArray)([s.default], () => e.map(e => s.default.getChannel(e)).filter(a.isNotNullish), [e]);
                    return (0, n.useStateFromStoresArray)([l.default], () => t.filter(e => l.default.can(r.JOIN_VOCAL_CHANNEL_PERMISSIONS, e)), [t])
                }(t)
            }
        },
        607620: function(e, t, i) {
            "use strict";
            i.r(t), i.d(t, {
                default: function() {
                    return o
                }
            });
            var n = i("446674"),
                s = i("913144"),
                l = i("996777");

            function a() {
                return !0
            }
            class r extends n.default.Store {
                initialize() {
                    this.waitFor(l.default)
                }
                getExperimentAssignment(e, t) {
                    return l.default.getGuildExperimentDescriptor(t, e)
                }
            }
            r.displayName = "GuildExperimentStore";
            var o = new r(s.default, {
                LOGOUT: a,
                LOGIN_SUCCESS: a,
                CONNECTION_OPEN: a,
                EXPERIMENTS_FETCH_SUCCESS: a,
                OVERLAY_INITIALIZE: a,
                CACHE_LOADED: a,
                EXPERIMENTS_FETCH_FAILURE: a,
                EXPERIMENT_REGISTER_LEGACY: a,
                EXPERIMENT_OVERRIDE_BUCKET: a
            })
        }
    }
]);