(this.webpackChunkdiscord_app = this.webpackChunkdiscord_app || []).push([
    ["80397"], {
        803452: function(e, t, n) {
            "use strict";
            e.exports = n.p + "b77d7b48860bbefdeeb2.svg"
        },
        16873: function(e, t, n) {
            "use strict";
            e.exports = n.p + "86c8b17e10af5906ce4b.svg"
        },
        605834: function(e, t, n) {
            "use strict";
            e.exports = n.p + "dee199baf31d0fc4227d.svg"
        },
        976585: function(e, t, n) {
            "use strict";
            e.exports = n.p + "8f386efbc744b1e32997.svg"
        },
        41912: function(e, t, n) {
            "use strict";
            e.exports = n.p + "7a8aa360d0b7b01bf851.svg"
        },
        706692: function(e, t, n) {
            "use strict";
            e.exports = n.p + "604ee8350b6482bfec20.svg"
        },
        615184: function(e, t, n) {
            "use strict";
            e.exports = n.p + "9e2f412156e2ac1f14e9.svg"
        },
        992507: function(e, t, n) {
            "use strict";
            e.exports = n.p + "64df6f04b850029d2e78.svg"
        },
        184841: function(e, t, n) {
            "use strict";
            e.exports = n.p + "adfe130868d2bcf467b5.svg"
        },
        852294: function(e, t, n) {
            "use strict";
            e.exports = n.p + "bca43ea978949f10c4be.svg"
        },
        836938: function(e, t, n) {
            "use strict";
            e.exports = n.p + "07aa1f325ebe8b8af5cb.svg"
        },
        295021: function(e, t, n) {
            "use strict";
            e.exports = n.p + "adc405c99f845c4bd619.svg"
        },
        177642: function(e, t, n) {
            "use strict";
            e.exports = n.p + "336a8bdedb983df7fdbf.svg"
        },
        697221: function(e, t, n) {
            "use strict";
            e.exports = n.p + "83720a1a3ec0963a1f71.svg"
        },
        951076: function(e, t, n) {
            "use strict";
            e.exports = n.p + "332e869e414fbd8708de.svg"
        },
        760106: function(e, t, n) {
            "use strict";
            e.exports = n.p + "8eeb59bba0a61cbffc41.svg"
        },
        41352: function(e, t, n) {
            "use strict";
            e.exports = n.p + "d6dfb89ab06b62044dbb.svg"
        },
        21710: function(e, t, n) {
            "use strict";
            e.exports = n.p + "53d74eda11a4185c1acd.svg"
        },
        999523: function(e, t, n) {
            "use strict";
            e.exports = n.p + "6299f44c9c8c8c31cfdf.svg"
        },
        622650: function(e, t, n) {
            "use strict";
            e.exports = n.p + "99d35a435f00582ddf41.svg"
        },
        454758: function(e, t, n) {
            "use strict";
            e.exports = n.p + "8adc88268bfefa227846.svg"
        },
        456117: function(e, t, n) {
            "use strict";
            e.exports = n.p + "45cd76fed34c8e398cc8.svg"
        },
        606778: function(e, t, n) {
            "use strict";
            e.exports = n.p + "75081bdaad2d359c1469.svg"
        },
        665718: function(e, t, n) {
            "use strict";
            e.exports = n.p + "5420f8fd9d89897c6448.svg"
        },
        897327: function(e, t, n) {
            "use strict";
            e.exports = n.p + "d8197d45ef3e7289594d.svg"
        },
        378913: function(e, t, n) {
            "use strict";
            e.exports = n.p + "906a38cbd45d6780304c.svg"
        },
        234997: function(e, t, n) {
            "use strict";
            e.exports = n.p + "870ce21aeffa60252eb0.svg"
        },
        382719: function(e, t, n) {
            "use strict";
            e.exports = n.p + "39a446c64583517c2b3c.png"
        },
        559016: function(e, t, n) {
            "use strict";
            e.exports = n.p + "216763e8162ce6f332b3.gif"
        },
        233135: function(e, t, n) {
            "use strict";
            e.exports = n.p + "fd2a60d87996e1826c07.svg"
        },
        712967: function(e, t, n) {
            "use strict";
            e.exports = n.p + "9b36085226f30399f2f9.svg"
        },
        981726: function(e, t, n) {
            "use strict";
            e.exports = n.p + "440d8145b3dff23399e7.svg"
        },
        704176: function(e, t, n) {
            "use strict";
            e.exports = n.p + "690146a2083a857c3dd1.svg"
        },
        529547: function(e, t, n) {
            "use strict";
            e.exports = n.p + "62427879d943e487c053.svg"
        },
        21719: function(e, t, n) {
            "use strict";
            e.exports = n.p + "865d3a738134a692139a.svg"
        },
        117861: function(e, t, n) {
            "use strict";
            e.exports = n.p + "dce7aacb93fbfc80cd23.svg"
        },
        846770: function(e, t, n) {
            "use strict";
            e.exports = n.p + "9cf8c36deaa3dc7b8d65.svg"
        },
        284434: function(e, t, n) {
            "use strict";
            e.exports = n.p + "51063f34b3960c1d5da8.svg"
        },
        315956: function(e, t, n) {
            "use strict";
            e.exports = n.p + "f92a8b5812e2da52a179.svg"
        },
        408426: function(e, t, n) {
            "use strict";
            e.exports = n.p + "0763b684871cf3aa4c4b.svg"
        },
        356002: function(e, t, n) {
            "use strict";
            e.exports = n.p + "682f1b679b5bdb117165.webm"
        },
        197492: function(e, t, n) {
            "use strict";
            e.exports = n.p + "87590a81cf78665e23ea.webm"
        },
        271861: function(e, t, n) {
            "use strict";
            e.exports = n.p + "c7fa42bca0c3ea28f681.svg"
        },
        149855: function(e, t, n) {
            "use strict";
            e.exports = n.p + "0c5c580c72a087382ee1.svg"
        },
        897204: function(e, t, n) {
            "use strict";
            e.exports = n.p + "590704d389aee197d7a5.svg"
        },
        465073: function(e, t, n) {
            "use strict";
            e.exports = n.p + "e86b4414e7dfa126abbd.svg"
        },
        227966: function(e, t, n) {
            "use strict";
            e.exports = n.p + "1a7474b52c42a84f530d.svg"
        },
        327893: function(e, t, n) {
            "use strict";
            e.exports = n.p + "acc5574629c0d16d8981.svg"
        },
        640593: function(e, t, n) {
            "use strict";
            e.exports = n.p + "4a17a4f6b479ae64f2bd.svg"
        },
        425643: function(e, t, n) {
            "use strict";
            e.exports = n.p + "21c5ac2b22352e58d143.svg"
        },
        328989: function(e, t, n) {
            "use strict";
            e.exports = n.p + "c4055dc18143c869ae27.svg"
        },
        289867: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return l
                }
            });
            var a = n("913144"),
                l = {
                    toggleMembersSection() {
                        a.default.dispatch({
                            type: "CHANNEL_TOGGLE_MEMBERS_SECTION"
                        })
                    },
                    toggleProfilePanelSection() {
                        a.default.dispatch({
                            type: "PROFILE_PANEL_TOGGLE_SECTION"
                        })
                    },
                    toggleSummariesSection() {
                        a.default.dispatch({
                            type: "CHANNEL_TOGGLE_SUMMARIES_SECTION"
                        })
                    }
                }
        },
        369008: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return l
                }
            });
            var a = n("913144"),
                l = {
                    search(e, t) {
                        a.default.dispatch({
                            type: "PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY",
                            query: e,
                            channelId: t
                        })
                    },
                    clear(e) {
                        a.default.dispatch({
                            type: "PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY",
                            query: "",
                            channelId: e
                        })
                    },
                    select(e) {
                        a.default.dispatch({
                            type: "PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT",
                            row: e
                        })
                    },
                    addUser(e) {
                        a.default.dispatch({
                            type: "PRIVATE_CHANNEL_RECIPIENTS_ADD_USER",
                            userId: e
                        })
                    },
                    removeUser(e) {
                        a.default.dispatch({
                            type: "PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER",
                            userId: e
                        })
                    },
                    open(e) {
                        a.default.dispatch({
                            type: "PRIVATE_CHANNEL_RECIPIENTS_INVITE_OPEN",
                            channelId: e
                        })
                    },
                    close() {
                        a.default.dispatch({
                            type: "PRIVATE_CHANNEL_RECIPIENTS_INVITE_CLOSE"
                        })
                    }
                }
        },
        363484: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var a = n("872717"),
                l = n("913144"),
                s = n("49111"),
                i = {
                    fetchRegions(e) {
                        a.default.get({
                            url: s.Endpoints.REGIONS(e),
                            retries: 1,
                            oldFormErrors: !0
                        }).then(t => l.default.dispatch({
                            type: "LOAD_REGIONS",
                            regions: t.body,
                            guildId: e
                        }), () => l.default.dispatch({
                            type: "LOAD_REGIONS",
                            regions: [],
                            guildId: e
                        }))
                    },
                    changeCallRegion(e, t) {
                        a.default.patch({
                            url: s.Endpoints.CALL(e),
                            body: {
                                region: t
                            },
                            oldFormErrors: !0
                        })
                    }
                }
        },
        112821: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return _
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("446674"),
                i = n("819855"),
                r = n("77078"),
                u = n("828986"),
                o = n("508229"),
                d = n("660478"),
                c = n("697218"),
                f = n("590514"),
                h = n("249561"),
                p = n("49111"),
                m = n("782340");
            let E = [];

            function _(e) {
                let {
                    channel: t,
                    onJump: _
                } = e, {
                    messages: S,
                    loading: C
                } = (0, s.useStateFromStoresObject)([o.default], () => {
                    let e = o.default.getPinnedMessages(t.id),
                        n = null != e ? e.messages : E;
                    return {
                        messages: n,
                        loading: null == n || null != e && e.loading
                    }
                }), g = (0, s.useStateFromStores)([d.default], () => d.default.hasUnreadPins(t.id)), I = (0, s.useStateFromStores)([c.default], () => {
                    if (!t.isPrivate()) return null;
                    let e = c.default.getUser(t.getRecipientId());
                    return null != e ? e.username : null
                });
                return l.useEffect(() => {
                    g && u.default.ackPins(t.id)
                }, [g, t.id]), (0, a.jsx)(r.Dialog, {
                    "aria-label": m.default.Messages.PINNED_MESSAGES,
                    children: (0, a.jsx)(f.default, {
                        onFetch: function() {
                            u.default.ackPins(t.id), u.default.fetchPins(t.id)
                        },
                        channel: t,
                        messages: S,
                        loading: C,
                        analyticsName: "Channel Pins",
                        onCloseMessage: function(e, n) {
                            null != e && (n.shiftKey ? u.default.unpinMessage(t, e.id) : h.default.confirmUnpin(t, e))
                        },
                        onJump: _,
                        getProTip: function() {
                            return t.isPrivate() ? t.type === p.ChannelTypes.DM ? m.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_DM.format({
                                other: I
                            }) : m.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_GROUP_DM : m.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_CHANNEL
                        },
                        renderHeader: () => (0, a.jsx)(f.Header, {
                            title: m.default.Messages.PINNED_MESSAGES
                        }),
                        renderEmptyState: function(e) {
                            let l = m.default.Messages.NO_PINS_IN_CHANNEL;
                            t.isPrivate() && (l = m.default.Messages.NO_PINS_IN_DM);
                            let s = (0, i.isThemeLight)(e) ? n("615184") : n("992507");
                            return (0, a.jsx)(f.EmptyStateCenter, {
                                msg: l,
                                image: s
                            }, "emptystate")
                        },
                        listName: "pins"
                    })
                })
            }
        },
        942722: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return D
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("394846"),
                i = n("446674"),
                r = n("77078"),
                u = n("272030"),
                o = n("352674"),
                d = n("252063"),
                c = n("506885"),
                f = n("981601"),
                h = n("824563"),
                p = n("27618"),
                m = n("191542"),
                E = n("697218"),
                _ = n("79798"),
                S = n("151185"),
                C = n("11056"),
                g = n("826684"),
                I = n("315102"),
                T = n("659500"),
                N = n("519812"),
                x = n("158998"),
                v = n("50885"),
                A = n("888503"),
                M = n("49111"),
                R = n("782340"),
                L = n("282730"),
                O = n("881235");
            let y = v.default.getEnableHardwareAcceleration();

            function j(e) {
                let {
                    user: t,
                    channel: l
                } = e, {
                    status: d,
                    activities: _
                } = (0, i.useStateFromStoresObject)([p.default, E.default, h.default], () => p.default.isFriend(t.id) || t === E.default.getCurrentUser() ? {
                    status: h.default.getStatus(t.id),
                    activities: h.default.getActivities(t.id)
                } : {}), S = (0, i.useStateFromStores)([m.default], () => null != m.default.getTypingUsers(l.id)[t.id]), C = (0, i.useStateFromStores)([E.default], () => E.default.getCurrentUser()), g = (0, i.useStateFromStores)([h.default], () => h.default.isMobileOnline(t.id)), I = (0, i.useStateFromStores)([p.default], () => p.default.getNickname(t.id)), N = e => {
                    (0, u.openContextMenuLazy)(e, async () => {
                        let {
                            default: e
                        } = await n.el("166452").then(n.bind(n, "166452"));
                        return n => (0, a.jsx)(e, {
                            ...n,
                            user: t,
                            channel: l
                        })
                    })
                };
                return (0, a.jsx)(r.Popout, {
                    preload: () => (0, c.default)(t.id, t.getAvatarURL(void 0, 80)),
                    renderPopout: e => (0, a.jsx)(f.default, {
                        ...e,
                        userId: t.id,
                        channelId: l.id
                    }),
                    position: s.isMobile ? "window_center" : "left",
                    spacing: 16,
                    onShiftClick: () => {
                        let e = "@".concat(x.default.getUserTag(t, {
                                decoration: "never"
                            })),
                            n = "<@".concat(t.id, ">");
                        T.ComponentDispatch.dispatchToLastSubscribed(M.ComponentActions.INSERT_TEXT, {
                            plainText: e,
                            rawText: n
                        }), o.default.startTyping(l.id)
                    },
                    children: e => (0, a.jsx)(A.default, {
                        user: t,
                        currentUser: C,
                        isOwner: t.id === l.ownerId,
                        ownerTooltipText: R.default.Messages.GROUP_OWNER,
                        shouldAnimateStatus: y,
                        isTyping: S,
                        status: d,
                        activities: _,
                        channel: l,
                        onContextMenu: N,
                        isMobile: g,
                        nick: I,
                        ...e
                    }, t.id)
                })
            }

            function P(e) {
                var t;
                let {
                    integration: i,
                    channel: o
                } = e, d = l.useCallback(e => {
                    (0, u.openContextMenuLazy)(e, async () => {
                        let {
                            default: e
                        } = await n.el("348866").then(n.bind(n, "348866"));
                        return t => (0, a.jsx)(e, {
                            ...t,
                            channel: o,
                            integration: i
                        })
                    })
                }, [i, o]), h = i.application.bot, p = I.default.getApplicationIconURL({
                    id: i.application.id,
                    icon: i.application.icon,
                    bot: null === (t = i.application) || void 0 === t ? void 0 : t.bot,
                    botIconFirst: !0
                });
                return null != h ? (0, a.jsx)(r.Popout, {
                    preload: () => (0, c.default)(h.id, p),
                    renderPopout: e => (0, a.jsx)(f.default, {
                        ...e,
                        userId: h.id,
                        channelId: o.id
                    }),
                    position: s.isMobile ? "window_center" : "left",
                    spacing: 16,
                    children: e => (0, a.jsx)(C.default, {
                        onContextMenu: d,
                        className: L.member,
                        name: (0, a.jsx)("span", {
                            className: L.username,
                            children: i.application.name
                        }),
                        avatar: (0, a.jsx)(r.Avatar, {
                            size: r.AvatarSizes.SIZE_32,
                            src: p,
                            "aria-label": i.application.name,
                            statusTooltip: !0
                        }),
                        decorators: (0, a.jsx)(_.default, {
                            className: L.botTag,
                            verified: null == h ? void 0 : h.isVerifiedBot()
                        }),
                        id: i.application.id,
                        focusProps: {
                            offset: {
                                top: 4,
                                bottom: 4,
                                left: 4,
                                right: 4
                            }
                        },
                        ...e
                    })
                }) : null
            }

            function D(e) {
                let {
                    channel: t
                } = e, s = E.default.getCurrentUser(), u = null == s ? void 0 : s.isStaff(), o = (0, i.useStateFromStoresArray)([E.default], () => (0, N.getRecipients)(t.recipients, E.default), [t.recipients]), {
                    installedIntegrations: f,
                    applicationsShelf: h,
                    fetched: p,
                    appsInGDMEnabled: m,
                    availableApplications: I
                } = (0, d.usePrivateChannelIntegrationState)({
                    channelId: t.id
                });
                l.useEffect(() => {
                    if (u)
                        for (let e of o)(0, c.default)(e.id, e.getAvatarURL(void 0, 80), {
                            dispatchWait: !0
                        })
                }, [u, o]);
                let T = u && o.every(e => e.isStaff());
                return (0, a.jsx)("div", {
                    className: O.membersWrap,
                    children: (0, a.jsxs)(r.Scroller, {
                        className: O.members,
                        fade: !0,
                        children: [(0, a.jsxs)(g.default, {
                            className: O.membersGroup,
                            children: ["".concat(R.default.Messages.MEMBERS, "—").concat(o.length, " "), T ? (0, a.jsx)(_.default, {
                                className: O.decorator,
                                type: _.default.Types.STAFF_ONLY_DM
                            }) : null]
                        }), o.map(e => (0, a.jsx)(j, {
                            user: e,
                            channel: t
                        }, e.id)), m && (f.length > 0 || p && h.length > 0) && (0, a.jsxs)(a.Fragment, {
                            children: [(0, a.jsx)(g.default, {
                                className: O.membersGroup,
                                children: "".concat(R.default.Messages.APPS, "—").concat(f.length)
                            }), f.map(e => (0, a.jsx)(P, {
                                integration: e,
                                channel: t
                            }, e.application.id)), I.length > 0 && (0, a.jsx)(C.default, {
                                className: L.member,
                                onClick: () => {
                                    (0, r.openModalLazy)(async () => {
                                        let {
                                            default: e
                                        } = await n.el("724110").then(n.bind(n, "724110"));
                                        return n => (0, a.jsx)(e, {
                                            ...n,
                                            channelId: t.id
                                        })
                                    })
                                },
                                avatar: (0, a.jsx)("div", {
                                    className: O.appIconWrapper,
                                    children: (0, a.jsx)(S.default, {
                                        width: 18,
                                        height: 18
                                    })
                                }),
                                name: R.default.Messages.PRIVATE_CHANNEL_ADD_APPS
                            })]
                        })]
                    })
                })
            }
        },
        654978: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return S
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("446674"),
                u = n("363484"),
                o = n("402904"),
                d = n("145131"),
                c = n("841283"),
                f = n("782340"),
                h = n("398990");
            let p = {
                    position: "bottom",
                    autoInvert: !1
                },
                m = e => {
                    let {
                        region: t,
                        className: n = h.regionSelectName
                    } = e, l = t.name.replace(/ \(VIP\)$/, "");
                    return (0, a.jsx)("div", {
                        className: n,
                        children: l
                    })
                };
            class E extends l.PureComponent {
                render() {
                    let {
                        region: e,
                        selected: t
                    } = this.props;
                    return (0, a.jsxs)(d.default, {
                        align: d.default.Align.CENTER,
                        className: i({
                            selected: t
                        }),
                        children: [(0, a.jsx)(m, {
                            region: e,
                            className: h.regionSelectName
                        }), t ? (0, a.jsx)("i", {
                            className: h.check
                        }) : null]
                    })
                }
            }
            class _ extends l.PureComponent {
                componentDidMount() {
                    null == this.props.regions && u.default.fetchRegions(null)
                }
                render() {
                    let {
                        regions: e
                    } = this.props;
                    if (null == e) return null;
                    let t = this.getSelectedRegion(),
                        n = {
                            label: t.name,
                            value: t
                        },
                        l = e.filter(e => !e.deprecated && !e.hidden).map(e => ({
                            label: e.name,
                            value: e,
                            key: e.id
                        }));
                    return (0, a.jsx)(c.default, {
                        label: f.default.Messages.REGION,
                        options: l,
                        value: n,
                        onChange: this.handleChangeVoiceRegion,
                        renderOption: this.renderOption,
                        popoutProps: p,
                        popoutClassName: h.regionSelectPopout
                    })
                }
                constructor(...e) {
                    super(...e), this.renderOption = (e, t) => (0, a.jsx)(E, {
                        region: e.value,
                        selected: t
                    }, e.value.id), this.getSelectedRegion = () => {
                        var e;
                        let {
                            regions: t,
                            call: n
                        } = this.props;
                        return n.regionUpdated && null != t && null != n.region ? null !== (e = t.find(e => {
                            let {
                                id: t
                            } = e;
                            return t === n.region
                        })) && void 0 !== e ? e : {
                            name: n.region,
                            id: n.region
                        } : {
                            id: "automatic",
                            name: f.default.Messages.AUTOMATIC_REGION,
                            vip: !1,
                            deprecated: !1,
                            hidden: !1
                        }
                    }, this.handleChangeVoiceRegion = e => {
                        let {
                            value: t
                        } = e, {
                            channelId: n
                        } = this.props.call;
                        u.default.changeCallRegion(n, t.id)
                    }
                }
            }
            var S = r.default.connectStores([o.default], () => ({
                regions: o.default.getRegions(null)
            }))(_)
        },
        561963: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return X
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("917351"),
                u = n.n(r),
                o = n("974667"),
                d = n("394846"),
                c = n("446674"),
                f = n("77078"),
                h = n("272030"),
                p = n("352674"),
                m = n("206230"),
                E = n("95039"),
                _ = n("405645"),
                S = n("256648"),
                C = n("593752"),
                g = n("506885"),
                I = n("981601"),
                T = n("373469"),
                N = n("26989"),
                x = n("305961"),
                v = n("824563"),
                A = n("101125"),
                M = n("191542"),
                R = n("697218"),
                L = n("543289"),
                O = n("45029"),
                y = n("155207"),
                j = n("826684"),
                P = n("483093"),
                D = n("659500"),
                b = n("991170"),
                U = n("158998"),
                F = n("50885"),
                w = n("888503"),
                G = n("49111"),
                B = n("782340"),
                k = n("126857"),
                H = n("881235");
            let V = F.default.getEnableHardwareAcceleration(),
                W = 44 + w.AVATAR_DECORATION_PADDING,
                Y = l.memo(function(e) {
                    let {
                        channel: t,
                        sectionId: s,
                        userId: i,
                        guildOwnerId: r
                    } = e, u = (0, c.useStateFromStores)([M.default], () => M.default.isTyping(t.id, i)), m = (0, c.useStateFromStores)([N.default], () => N.default.getMember(t.guild_id, i)), _ = (0, c.useStateFromStores)([x.default], () => {
                        var e, n;
                        return (null == m ? void 0 : m.colorRoleId) != null ? null === (n = x.default.getGuild(t.guild_id)) || void 0 === n ? void 0 : null === (e = n.getRole(m.colorRoleId)) || void 0 === e ? void 0 : e.name : void 0
                    }, [t.guild_id, m]), S = (0, c.useStateFromStores)([R.default], () => R.default.getUser(i)), L = (0, c.useStateFromStores)([R.default], () => R.default.getCurrentUser()), O = (null == S ? void 0 : S.id) === (null == L ? void 0 : L.id), y = (0, c.useStateFromStores)([v.default, A.default], () => O ? A.default.getStatus() : v.default.getStatus(i, t.guild_id)), j = (0, c.useStateFromStores)([v.default], () => v.default.isMobileOnline(i)), P = (0, c.useStateFromStores)([v.default, A.default], () => O ? A.default.getActivities() : v.default.getActivities(i, t.guild_id)), b = (0, c.useStateFromStores)([T.default], () => T.default.getAnyStreamForUser(i)), F = (0, o.useListItem)(i), k = (0, c.useStateFromStores)([C.default], () => C.default.canUserViewChannel(t.id, s, i)), H = (null == S ? void 0 : S.id) != null && S.id === r, W = l.useCallback(e => {
                        null != S && (0, h.openContextMenuLazy)(e, async () => {
                            let {
                                default: e
                            } = await n.el("721429").then(n.bind(n, "721429"));
                            return n => (0, a.jsx)(e, {
                                ...n,
                                user: S,
                                guildId: t.guild_id,
                                channel: t
                            })
                        })
                    }, [S, t]), Y = l.useCallback(() => {
                        if (null == S) return;
                        let e = "@".concat(U.default.getUserTag(S, {
                                decoration: "never"
                            })),
                            n = "<@".concat(S.id, ">");
                        D.ComponentDispatch.dispatchToLastSubscribed(G.ComponentActions.INSERT_TEXT, {
                            plainText: e,
                            rawText: n
                        }), p.default.startTyping(t.id)
                    }, [S, t]), z = l.useCallback(e => {
                        e.stopPropagation(), (0, E.openGuildBoostingMarketingModal)({
                            guildId: t.guild_id,
                            location: {
                                section: G.AnalyticsSections.THREAD_MEMBER_LIST,
                                object: G.AnalyticsObjects.BOOST_GEM_ICON
                            }
                        })
                    }, [t.guild_id]);
                    if (null == S) return null;
                    let K = null == m ? void 0 : m.premiumSince;
                    return (0, a.jsx)(f.Popout, {
                        preload: () => (0, g.default)(S.id, S.getAvatarURL(t.guild_id, 80), {
                            guildId: t.guild_id,
                            channelId: t.id
                        }),
                        renderPopout: e => (0, a.jsx)(I.default, {
                            ...e,
                            userId: S.id,
                            guildId: t.guild_id,
                            channelId: t.id
                        }),
                        position: d.isMobile ? "window_center" : "left",
                        spacing: 16,
                        onShiftClick: Y,
                        children: (e, n) => {
                            let {
                                isShown: l
                            } = n;
                            return (0, a.jsx)(w.default, {
                                onContextMenu: W,
                                shouldAnimateStatus: V,
                                user: S,
                                currentUser: L,
                                nick: null == m ? void 0 : m.nick,
                                status: y,
                                activities: P,
                                colorString: null == m ? void 0 : m.colorString,
                                colorRoleName: _,
                                isTyping: u,
                                channel: t,
                                guildId: t.guild_id,
                                isMobile: j,
                                selected: l,
                                applicationStream: b,
                                premiumSince: null == K ? null : new Date(K),
                                onClickPremiumGuildIcon: z,
                                itemProps: F,
                                lostPermissionTooltipText: k ? void 0 : B.default.Messages.THREAD_MEMBER_WITHOUT_ACCESS,
                                isOwner: H,
                                ...e
                            })
                        }
                    })
                }),
                z = l.memo(function(e) {
                    let {
                        id: t,
                        label: n,
                        count: l,
                        guildId: s
                    } = e, i = (0, _.useRoleIcon)({
                        roleId: t,
                        guildId: s,
                        size: 16
                    });
                    return t === G.StatusTypes.UNKNOWN ? (0, a.jsx)("div", {
                        className: H.membersGroup,
                        children: (0, a.jsx)("div", {
                            className: H.memberGroupsPlaceholder
                        })
                    }) : (0, a.jsxs)(j.default, {
                        className: H.membersGroup,
                        "aria-label": B.default.Messages.CHANNEL_MEMBERS_A11Y_LABEL.format({
                            title: n,
                            count: l
                        }),
                        children: [null != i ? (0, a.jsx)(P.default, {
                            className: H.roleIcon,
                            ...i
                        }) : null, (0, a.jsxs)("span", {
                            "aria-hidden": !0,
                            children: [n, " — ", l]
                        })]
                    })
                }),
                K = l.memo(function(e) {
                    let {
                        channel: t
                    } = e;
                    return t.type === G.ChannelTypes.PRIVATE_THREAD ? (0, a.jsxs)(a.Fragment, {
                        children: [(0, a.jsx)("div", {
                            className: k.divider
                        }), (0, a.jsxs)(f.Text, {
                            variant: "text-xs/bold",
                            color: "header-secondary",
                            className: k.private,
                            children: [(0, a.jsx)(O.default, {
                                width: 12,
                                height: 12
                            }), "\xa0", B.default.Messages.THREAD_BROWSER_PRIVATE]
                        }), (0, a.jsx)(f.Text, {
                            variant: "text-sm/normal",
                            color: "header-secondary",
                            className: k.instructions,
                            children: B.default.Messages.MEMBER_LIST_PRIVATE_THREAD_INSTRUCTIONS
                        })]
                    }) : null
                });

            function X(e) {
                let {
                    channel: t,
                    guild: n
                } = e, s = "members-".concat(t.id), r = (0, S.useThreadMemberListSections)(t.id, n), d = r.filter(e => e.userIds.length > 0).reverse()[0], {
                    navigator: h,
                    listRef: p
                } = function(e, t) {
                    let n = (0, c.useStateFromStores)([m.default], () => m.default.keyboardModeEnabled),
                        a = l.useRef(null),
                        s = l.useCallback((e, n) => {
                            let l = a.current;
                            if (null == l) return;
                            let s = parseInt(n, 10),
                                [i, r] = l.getSectionRowFromIndex(s),
                                u = 0 === i && 0 === r ? t : 0;
                            l.scrollToIndex({
                                section: i,
                                row: r,
                                padding: u,
                                callback: () => {
                                    requestAnimationFrame(() => {
                                        var t;
                                        return null === (t = document.querySelector(e)) || void 0 === t ? void 0 : t.focus({
                                            preventScroll: !0
                                        })
                                    })
                                }
                            })
                        }, [t]),
                        i = l.useCallback(() => new Promise(e => {
                            let t = a.current;
                            if (null == t) return e();
                            t.scrollToTop({
                                callback: () => requestAnimationFrame(() => e())
                            })
                        }), []),
                        r = l.useCallback(() => new Promise(e => {
                            let t = a.current;
                            if (null == t) return e();
                            t.scrollToBottom({
                                callback() {
                                    requestAnimationFrame(() => setTimeout(e, 100))
                                }
                            })
                        }), []),
                        u = (0, o.default)({
                            id: e,
                            setFocus: s,
                            isEnabled: n,
                            scrollToStart: i,
                            scrollToEnd: r
                        });
                    return {
                        navigator: u,
                        listRef: a
                    }
                }(s, W), E = 0 === r.length || r.every(e => 0 === e.userIds.length);
                if (E) return (0, a.jsx)(q, {
                    channel: t
                });
                let _ = u.omit(h.containerProps, ["ref"]),
                    C = b.default.getGuildVisualOwnerId(n);
                return (0, a.jsx)(o.ListNavigatorProvider, {
                    navigator: h,
                    children: (0, a.jsx)(f.FocusJumpSection, {
                        children: e => (0, a.jsx)("div", {
                            className: i(H.membersWrap, H.hiddenMembers),
                            children: (0, a.jsx)(f.List, {
                                ref: p,
                                className: H.members,
                                paddingTop: 0,
                                sectionHeight: 40,
                                renderSection: e => {
                                    let {
                                        section: t
                                    } = e, l = r[t];
                                    return (0, a.jsx)(z, {
                                        id: l.id,
                                        label: l.label,
                                        count: l.userIds.length,
                                        guildId: n.id
                                    }, l.id)
                                },
                                rowHeight: W,
                                renderRow: e => {
                                    let {
                                        section: n,
                                        row: l
                                    } = e, {
                                        userIds: s,
                                        id: i
                                    } = r[n];
                                    return (0, a.jsx)(Y, {
                                        channel: t,
                                        sectionId: i,
                                        userId: s[l],
                                        guildOwnerId: C
                                    }, s[l])
                                },
                                footerHeight: e => r[e] === d && t.type === G.ChannelTypes.PRIVATE_THREAD ? 80 : 0,
                                renderFooter: e => r[e.section] === d ? (0, a.jsx)(K, {
                                    channel: t
                                }, "footer") : null,
                                innerAriaLabel: B.default.Messages.MEMBERS,
                                innerTag: "ul",
                                sections: r.map(e => e.userIds.length),
                                fade: !0,
                                ..._,
                                ...e
                            }, s)
                        })
                    })
                })
            }

            function q(e) {
                let {
                    channel: t
                } = e;
                return (0, a.jsxs)("div", {
                    className: i(H.membersWrap, H.hiddenMembers, H.members, k.emptyState),
                    children: [(0, a.jsx)(f.Text, {
                        className: k.emptyStateHeader,
                        variant: "text-xs/bold",
                        color: "interactive-normal",
                        children: B.default.Messages.MEMBERS
                    }), (0, a.jsxs)("div", {
                        className: k.emptyStateIconContainer,
                        children: [(0, a.jsx)("div", {
                            className: k.emptyStateIcon,
                            children: (0, a.jsx)(y.default, {
                                width: 32,
                                height: 32
                            })
                        }), (0, a.jsx)(L.default, {
                            className: k.emptyStateStars
                        })]
                    }), (0, a.jsx)(f.Heading, {
                        variant: "heading-md/semibold",
                        children: t.isForumPost() ? B.default.Messages.FORUM_POST_MEMBER_LIST_EMPTY_STATE_HEADER : B.default.Messages.THREAD_MEMBER_LIST_EMPTY_STATE_HEADER
                    }), (0, a.jsx)(f.Text, {
                        className: k.emptyStateSubtext,
                        variant: "text-sm/normal",
                        color: "header-secondary",
                        children: B.default.Messages.THREAD_MEMBER_LIST_EMPTY_STATE_SUBTEXT
                    })]
                })
            }
        },
        841283: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("77078"),
                i = n("6466");
            class r extends l.PureComponent {
                render() {
                    let {
                        label: e,
                        value: t,
                        renderValue: n,
                        className: l,
                        popoutProps: r
                    } = this.props;
                    return (0, a.jsx)(s.Popout, {
                        ...r,
                        renderPopout: this.renderPopout,
                        children: (r, u) => {
                            let {
                                isShown: o
                            } = u;
                            return (0, a.jsx)(s.Clickable, {
                                ...r,
                                className: l,
                                "aria-haspopup": "listbox",
                                "aria-expanded": o,
                                children: (0, a.jsx)(i.default, {
                                    label: e,
                                    value: t,
                                    renderValue: n
                                })
                            })
                        }
                    })
                }
                constructor(...e) {
                    super(...e), this.renderPopout = e => {
                        let {
                            closePopout: t
                        } = e, {
                            options: n,
                            value: l,
                            renderOption: s,
                            popoutClassName: r,
                            scroller: u
                        } = this.props;
                        return (0, a.jsx)(i.QuickSelectPopout, {
                            scroller: !!u,
                            className: r,
                            options: n,
                            value: l,
                            renderOption: s,
                            onChange: e => {
                                this.handleChange(e), t()
                            }
                        })
                    }, this.handleChange = e => {
                        let {
                            onChange: t
                        } = this.props;
                        null == t || t(e)
                    }
                }
            }
            var u = r
        },
        738073: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return _
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("446674"),
                u = n("77078"),
                o = n("851387"),
                d = n("697218"),
                c = n("440351"),
                f = n("701909"),
                h = n("49111"),
                p = n("782340"),
                m = n("42217");
            class E extends l.PureComponent {
                componentDidMount() {
                    let {
                        current: e
                    } = this.scroller;
                    null == e || e.scrollToBottom()
                }
                render() {
                    let {
                        nsfwDisallowed: e
                    } = this.props, t = p.default.Messages.NSFW_DESCRIPTION;
                    t = e ? p.default.Messages.AGE_GATE_NSFW_UNDERAGE_BODY.format({
                        helpURL: f.default.getArticleURL(h.HelpdeskArticles.NSFW_AGE_GATING)
                    }) : p.default.Messages.AGE_GATE_NSFW_DESCRIPTION;
                    let n = e ? (0, a.jsx)(c.default, {
                        onAgree: this.handleAgree,
                        onDisagree: this.handleDisagree,
                        title: p.default.Messages.AGE_GATE_NSFW_UNDERAGE_HEADER,
                        description: t,
                        agreement: null,
                        disagreement: p.default.Messages.BACK,
                        imageClassName: m.ageGatedImage
                    }) : (0, a.jsx)(c.default, {
                        onAgree: this.handleAgree,
                        onDisagree: this.handleDisagree,
                        title: p.default.Messages.NSFW_TITLE,
                        description: t,
                        agreement: p.default.Messages.NSFW_ACCEPT,
                        disagreement: p.default.Messages.NSFW_DECLINE
                    });
                    return (0, a.jsx)(u.AdvancedScroller, {
                        ref: this.scroller,
                        className: m.scroller,
                        children: (0, a.jsx)("div", {
                            className: i(this.props.className, m.wrapper),
                            children: n
                        })
                    })
                }
                constructor(...e) {
                    super(...e), this.scroller = l.createRef(), this.handleDisagree = () => {
                        let {
                            guild: e
                        } = this.props;
                        null != e && o.default.nsfwReturnToSafety(e.id)
                    }, this.handleAgree = () => {
                        let {
                            guild: e
                        } = this.props;
                        null != e && o.default.nsfwAgree(e.id)
                    }
                }
            }
            var _ = r.default.connectStores([d.default], () => {
                var e;
                return {
                    nsfwDisallowed: (null === (e = d.default.getCurrentUser()) || void 0 === e ? void 0 : e.nsfwAllowed) === !1
                }
            })(E)
        },
        650912: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                makeVoiceUserDroppable: function() {
                    return c
                },
                makeVoiceUserDraggable: function() {
                    return f
                }
            });
            var a = n("476042"),
                l = n("851387"),
                s = n("305961"),
                i = n("957255"),
                r = n("800762"),
                u = n("316133"),
                o = n("49111");
            let d = "DRAGGABLE_USER";

            function c(e) {
                return (0, a.DropTarget)(d, {
                    canDrop(e) {
                        var t, n;
                        let {
                            channel: a
                        } = e, l = a.getGuildId(), d = null !== (n = null === (t = s.default.getGuild(l)) || void 0 === t ? void 0 : t.maxVideoChannelUsers) && void 0 !== n ? n : -1, c = u.default.countVoiceStatesForChannel(a.id), f = null != l && r.default.hasVideo(a.id) && d > 0 && c >= d + 1;
                        return i.default.can(o.Permissions.MOVE_MEMBERS, a) && i.default.can(o.Permissions.CONNECT, a) && !f
                    },
                    drop(e, t) {
                        let {
                            channel: n
                        } = e, a = r.default.getVoiceStateForUser(t.getItem().user.id);
                        (null == a ? void 0 : a.channelId) !== n.id && l.default.setChannel(n.getGuildId(), t.getItem().user.id, n.id)
                    }
                }, (e, t) => ({
                    connectUserDropTarget: e.dropTarget(),
                    isUserOver: t.isOver() && t.canDrop()
                }))(e)
            }

            function f(e) {
                return (0, a.DragSource)(d, {
                    canDrag(e) {
                        let {
                            user: t,
                            canDrag: n
                        } = e;
                        return null != n && n
                    },
                    beginDrag(e) {
                        let {
                            user: t
                        } = e;
                        return {
                            user: t
                        }
                    }
                }, e => ({
                    connectUserDragSource: e.dragSource()
                }))(e)
            }
        },
        560103: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useThrottledState: function() {
                    return i
                }
            });
            var a = n("884691"),
                l = n("917351");
            let s = e => e,
                i = function(e, t) {
                    let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [],
                        l = arguments.length > 3 ? arguments[3] : void 0,
                        i = r(s, t, n, l),
                        u = a.useRef(e);
                    return a.useEffect(() => {
                        let t = i(e);
                        u.current = t
                    }, [e, i]), 0 === t ? e : u.current
                },
                r = function(e, t) {
                    let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [],
                        s = arguments.length > 3 ? arguments[3] : void 0,
                        i = a.useRef((0, l.throttle)(e, t, s));
                    return a.useEffect(() => (i.current = (0, l.throttle)(e, t, s), () => {
                        var e;
                        null === (e = i.current) || void 0 === e || e.cancel()
                    }), [e, t, s, ...n]), i.current
                }
        },
        133797: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var a = n("782340");
            let l = ["a", "b", "c", "d"],
                s = e => e;

            function i(e, t) {
                let n = {},
                    a = Math.min(e.length, l.length);
                for (let s = 0; s < a; ++s) n[l[s]] = (n, a) => t(e[s], a);
                return n
            }
            class r {
                asString() {
                    return this.transformed(s)
                }
                isEmpty() {
                    return 0 === this.items.length
                }
                transformed(e) {
                    switch (this.items.length) {
                        case 0:
                            return "";
                        case 1:
                            return e(this.items[0], "");
                        case 2:
                            return a.default.Messages.GENERIC_FORMATTED_LIST_TWO.format(i(this.items, e));
                        case 3:
                            return a.default.Messages.GENERIC_FORMATTED_LIST_THREE.format(i(this.items, e));
                        default:
                            return a.default.Messages.GENERIC_FORMATTED_LIST_FOUR.format(i(this.items, e))
                    }
                }
                constructor(e) {
                    this.items = e
                }
            }
        },
        860345: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                PaxVcTileActivitiesExperiment: function() {
                    return l
                }
            });
            var a = n("862205");
            let l = (0, a.createExperiment)({
                kind: "user",
                id: "2023-03_pax_vc_tile_activities",
                label: "PAX VC Tile Activities",
                defaultConfig: {
                    enabled: !1
                },
                treatments: [{
                    id: 1,
                    label: "Enable PAX VC Tile Activities",
                    config: {
                        enabled: !0
                    }
                }]
            })
        },
        117582: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                VcTileActivityExperimentType: function() {
                    return l
                },
                VcTileActivitiesEntryPointExperiment: function() {
                    return i
                }
            });
            var a, l, s = n("862205");
            (a = l || (l = {})).CONTROL = "CONTROL", a.ONE_OR_TWO_USERS = "ONE_OR_TWO_USERS", a.ANY_NUMBER_OF_USERS = "ANY_NUMBER_OF_USERS";
            let i = (0, s.createExperiment)({
                kind: "user",
                id: "2023-01_vc_tile_activities_entry_point",
                label: "VC Tile Activities Entry Point",
                defaultConfig: {
                    vcTileActivityExperimentType: l.CONTROL
                },
                treatments: [{
                    id: 1,
                    label: "Enable one or two users VC Tile Activities Entry Point",
                    config: {
                        vcTileActivityExperimentType: l.ONE_OR_TWO_USERS
                    }
                }, {
                    id: 2,
                    label: "Enable any number of users VC Tile Activities Entry Point",
                    config: {
                        vcTileActivityExperimentType: l.ANY_NUMBER_OF_USERS
                    }
                }]
            })
        },
        757245: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return T
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("446674"),
                s = n("577776"),
                i = n("77078"),
                r = n("812204"),
                u = n("685665"),
                o = n("42203"),
                d = n("18494"),
                c = n("697218"),
                f = n("811305"),
                h = n("427953"),
                p = n("550766"),
                m = n("191225"),
                E = n("885829"),
                _ = n("575136"),
                S = n("141962"),
                C = n("272505"),
                g = n("782340"),
                I = n("131279");

            function T() {
                let e = (0, l.useStateFromStores)([d.default], () => d.default.getChannelId()),
                    t = o.default.getChannel(e),
                    {
                        analyticsLocations: n
                    } = (0, u.default)(r.default.ACTIVITY_IN_TEXT_ACTIONBAR),
                    T = (0, l.useStateFromStoresArray)([m.default], () => null != e ? m.default.getEmbeddedActivitiesForChannel(e) : [], [e]),
                    N = (0, l.useStateFromStores)([m.default], () => m.default.getActivityPanelMode()),
                    x = (0, _.useEmbeddedApps)(T),
                    v = (0, _.useEmbeddedAppsWithPresence)(x),
                    A = v.get(null === (L = x[0]) || void 0 === L ? void 0 : null === (R = L.application) || void 0 === R ? void 0 : R.id),
                    M = (0, h.default)(null != e ? e : void 0);
                if (!M || null == A || N !== C.ActivityPanelModes.ACTION_BAR) return null;
                var R, L, O, y = A.embeddedActivity.details;
                (null == y || void 0 === y || "" === y) && (y = g.default.Messages.LOADING);
                let j = Array.from(A.embeddedActivity.connections.values()).map(e => c.default.getUser(e.user_id)).filter(e => null != e && void 0 !== e);
                return (0, a.jsxs)(i.Clickable, {
                    className: I.actionBarContainer,
                    onClick: () => {
                        null != t && null != A && ((0, E.maybeJoinEmbeddedActivity)({
                            channelId: t.id,
                            applicationId: A.application.id,
                            activityId: A.embeddedActivity.activity_id,
                            inputApplication: A.application,
                            analyticsLocations: n,
                            embeddedActivitiesManager: S.default
                        }), (0, p.updateActivityPanelMode)(C.ActivityPanelModes.PANEL))
                    },
                    children: [(0, a.jsx)("img", {
                        alt: "",
                        src: null !== (O = A.application.getIconURL(48)) && void 0 !== O ? O : void 0,
                        className: I.applicationIcon
                    }), (0, a.jsxs)("div", {
                        className: I.textContainer,
                        children: [(0, a.jsx)(s.Text, {
                            color: "header-primary",
                            variant: "text-sm/semibold",
                            children: A.application.name
                        }), (0, a.jsx)(s.Text, {
                            color: "header-secondary",
                            variant: "text-xxs/medium",
                            className: I.textSubtitle,
                            children: y
                        })]
                    }), (0, a.jsx)(f.default, {
                        renderIcon: !1,
                        users: j,
                        size: 24,
                        max: 3,
                        className: I.userSummaryContainer
                    })]
                })
            }
        },
        294926: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return g
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("577776"),
                i = n("452804"),
                r = n("579408"),
                u = n("168973"),
                o = n("172131"),
                d = n("576242"),
                c = n("659500"),
                f = n("550766"),
                h = n("698372"),
                p = n("401207"),
                m = n("320817"),
                E = n("272505"),
                _ = n("49111"),
                S = n("782340"),
                C = n("355255");

            function g(e) {
                var t;
                let {
                    maxHeight: n,
                    connectedChannelId: g
                } = e, I = (0, h.default)(), T = l.useCallback(() => {
                    (0, f.updateActivityPanelMode)(E.ActivityPanelModes.PIP)
                }, []), N = l.useRef(null), [x, v] = l.useState(null), A = l.useCallback(e => {
                    i.default.updatedUnsyncedSettings({
                        activityPanelHeight: e
                    })
                }, []), M = l.useRef(null), [R, L] = l.useState({
                    width: 0,
                    height: 0
                });
                l.useLayoutEffect(() => {
                    if (null == M.current) return;
                    let e = new ResizeObserver(() => {
                        var e, t, n, a;
                        let l = null !== (n = null === (e = M.current) || void 0 === e ? void 0 : e.clientWidth) && void 0 !== n ? n : 0;
                        L({
                            width: l,
                            height: null !== (a = null === (t = M.current) || void 0 === t ? void 0 : t.clientHeight) && void 0 !== a ? a : 0
                        })
                    });
                    return e.observe(M.current), () => e.disconnect()
                }, []);
                let O = R.width / Math.max(R.height, 1),
                    y = O < E.LANDSCAPE_ACTIVITY_ASPECT_RATIO,
                    j = 0,
                    P = 0,
                    D = R.width,
                    b = R.height;
                if (y ? ((b = R.width / E.LANDSCAPE_ACTIVITY_ASPECT_RATIO) > R.height && (D = (b = R.height) * E.LANDSCAPE_ACTIVITY_ASPECT_RATIO), P = (R.height - b) / 2) : ((D = Math.min(R.height * E.LANDSCAPE_ACTIVITY_ASPECT_RATIO)) > R.width && (b = (D = R.width) / E.LANDSCAPE_ACTIVITY_ASPECT_RATIO), j = (R.width - D) / 2), null == I) return null;
                let U = null !== (t = u.default.activityPanelHeight) && void 0 !== t ? t : .6 * n;
                return (0, a.jsxs)("div", {
                    className: C.wrapper,
                    style: null != x ? {
                        minHeight: 252,
                        maxHeight: n,
                        height: x
                    } : {
                        minHeight: 252,
                        maxHeight: n,
                        height: U
                    },
                    ref: N,
                    children: [(0, a.jsxs)("div", {
                        className: C.header,
                        children: [(0, a.jsx)("div", {
                            className: C.arrowContainer,
                            children: (0, a.jsx)(o.default, {
                                label: S.default.Messages.EMBEDDED_ACTIVITIES_MINIMIZE_A11Y_LABEL,
                                direction: o.default.Directions.UP,
                                onClick: T,
                                className: C.arrowButton,
                                themeable: !0
                            })
                        }), (0, a.jsx)(s.Text, {
                            color: "header-primary",
                            variant: "text-md/semibold",
                            className: C.headerTitle,
                            children: null == I ? void 0 : I.name
                        }), (0, a.jsx)("div", {
                            className: C.leaveButtonContainer,
                            children: (0, a.jsx)(d.default, {
                                applicationId: I.id,
                                channelId: g,
                                className: C.leaveActivityButton,
                                iconClassName: C.leaveActivityIcon,
                                centerButton: !0,
                                color: "red"
                            })
                        })]
                    }), (0, a.jsx)("div", {
                        className: C.activityContainer,
                        style: {
                            paddingLeft: j,
                            paddingRight: j,
                            paddingTop: P,
                            paddingBottom: P
                        },
                        ref: M,
                        children: (0, a.jsx)(p.default, {
                            className: C.iframe,
                            embedId: (0, m.default)(g, I.id)
                        })
                    }), (0, a.jsx)(r.default, {
                        minHeight: 252,
                        maxHeight: n,
                        resizableNode: N,
                        onResize: e => {
                            c.ComponentDispatch.dispatch(_.ComponentActions.MANUAL_IFRAME_RESIZING, {
                                resizing: !0
                            }), v(e)
                        },
                        onResizeEnd: e => {
                            c.ComponentDispatch.dispatch(_.ComponentActions.MANUAL_IFRAME_RESIZING, {
                                resizing: !1
                            }), A(e)
                        }
                    })]
                })
            }
        },
        169920: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return h
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("65597"),
                i = n("84339"),
                r = n("427953"),
                u = n("550766"),
                o = n("191225"),
                d = n("420444"),
                c = n("294926"),
                f = n("272505");

            function h(e) {
                let {
                    maxHeight: t
                } = e, {
                    connectedChannelId: n,
                    connectedActivity: h,
                    activityPanelMode: p
                } = (0, s.useStateFromStoresObject)([o.default], () => {
                    var e;
                    let t = o.default.getConnectedActivityChannelId();
                    return {
                        connectedChannelId: t,
                        connectedActivity: null != t && null !== (e = o.default.getSelfEmbeddedActivityForChannel(t)) && void 0 !== e ? e : void 0,
                        activityPanelMode: o.default.getActivityPanelMode()
                    }
                }), {
                    isActivitiesInTextEnabled: m
                } = r.ActivitiesInTextExperiment.useExperiment({
                    location: "ActivityPanelUI"
                }, {
                    autoTrackExposure: !1
                }), E = (0, i.default)(n);
                if (l.useEffect(() => {
                        null == n && null != E && (0, u.updateActivityPanelMode)(f.ActivityPanelModes.ACTION_BAR)
                    }, [n, E]), !m) return null;
                let _ = null == h ? void 0 : h.application_id;
                return p !== f.ActivityPanelModes.PANEL || null == _ ? null : null == n || null == h || (0, d.default)(n) || null == _ ? null : (0, a.jsx)(c.default, {
                    maxHeight: t,
                    connectedChannelId: n
                })
            }
        },
        865821: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return s
                }
            });
            var a = n("884691"),
                l = n("91761");

            function s(e) {
                let {
                    guildId: t,
                    disableFilter: n = !1
                } = e, s = (0, l.default)({
                    guildId: t,
                    disableFilter: n
                });
                return a.useMemo(() => {
                    let e = [];
                    s.forEach(t => {
                        let [, n] = t;
                        e.push(...n)
                    });
                    let t = new Set;
                    return e.filter(e => !t.has(e.application.id) && (t.add(e.application.id), !0))
                }, [s])
            }
        },
        724038: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var a = n("597755"),
                l = n.n(a),
                s = n("742270"),
                i = n("815157"),
                r = n("391679"),
                u = n("327037"),
                o = n("393414"),
                d = n("271938"),
                c = n("476108"),
                f = n("599110"),
                h = n("65300"),
                p = n("49111");
            async function m(e) {
                var t, n;
                let a = null === (t = l.os) || void 0 === t ? void 0 : t.family;
                if ("Android" === a || "iOS" === a) {
                    let t = null !== (n = d.default.getFingerprint()) && void 0 !== n ? n : d.default.getId(),
                        a = (0, i.generateAttemptId)();
                    if (null == t && d.default.isAuthenticated()) try {
                        await (0, u.fetchCurrentUser)(), t = d.default.getId()
                    } catch {}
                    return (0, i.default)((0, s.getDefaultDynamicLinkTemplate)(), {
                        utmSource: e,
                        fingerprint: t,
                        attemptId: a
                    })
                }
                return "discord://"
            }
            async function E(e) {
                let t = await m(e),
                    n = (0, i.parseDynamicLink)(t);
                null != n && f.default.track(p.AnalyticEvents.DEEP_LINK_CLICKED, {
                    fingerprint: (0, r.maybeExtractId)(n.fingerprint),
                    attempt_id: n.attemptId,
                    source: n.utmSource
                }), h.default.launch(t, e => {
                    !e && (0, o.replaceWith)(c.default.fallbackRoute)
                })
            }
        },
        494286: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return ew
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("627445"),
                u = n.n(r),
                o = n("446674"),
                d = n("151426"),
                c = n("862337"),
                f = n("77078"),
                h = n("913144"),
                p = n("255397"),
                m = n("272030"),
                E = n("987317"),
                _ = n("990766"),
                S = n("452804"),
                C = n("654978"),
                g = n("901582"),
                I = n("731898"),
                T = n("84339"),
                N = n("244201"),
                x = n("84460"),
                v = n("191225"),
                A = n("372610"),
                M = n("735890"),
                R = n("812204"),
                L = n("716241"),
                O = n("685665"),
                y = n("862853"),
                j = n("76393"),
                P = n("261552"),
                D = n("710560"),
                b = n("374014"),
                U = n("223913"),
                F = n("383294"),
                w = n("292687"),
                G = n("393414"),
                B = n("168973"),
                k = n("581389"),
                H = n("103738"),
                V = n("486030"),
                W = n("908583"),
                Y = n("550410"),
                z = n("115531"),
                K = n("620592"),
                X = n("172131"),
                q = n("640553"),
                Z = n("95032"),
                Q = n("331759"),
                J = n("336971"),
                $ = n("555038"),
                ee = n("634472"),
                et = n("260014"),
                en = n("373469"),
                ea = n("271938"),
                el = n("712234"),
                es = n("950104"),
                ei = n("305961"),
                er = n("957255"),
                eu = n("660478"),
                eo = n("18494"),
                ed = n("697218"),
                ec = n("800762"),
                ef = n("145131"),
                eh = n("956089"),
                ep = n("599110"),
                em = n("404008"),
                eE = n("659500"),
                e_ = n("773336"),
                eS = n("439932"),
                eC = n("50885"),
                eg = n("563680"),
                eI = n("191145"),
                eT = n("161306"),
                eN = n("598785"),
                ex = n("412090"),
                ev = n("452027"),
                eA = n("328715"),
                eM = n("836087"),
                eR = n("579408"),
                eL = n("198755"),
                eO = n("636150"),
                ey = n("99795"),
                ej = n("49111"),
                eP = n("782340"),
                eD = n("806390");
            let eb = {
                    [ej.ChannelLayouts.NORMAL]: eD.normal,
                    [ej.ChannelLayouts.MINIMUM]: eD.minimum,
                    [ej.ChannelLayouts.NO_CHAT]: eD.noChat,
                    [ej.ChannelLayouts.FULL_SCREEN]: eD.fullScreen
                },
                eU = {
                    [ej.AppContext.POPOUT]: eD.popout,
                    [ej.AppContext.APP]: null,
                    [ej.AppContext.OVERLAY]: null
                };
            class eF extends l.PureComponent {
                getRootNode() {
                    var e, t;
                    let n = null !== (t = null === (e = this.props.popoutWindow) || void 0 === e ? void 0 : e.window) && void 0 !== t ? t : window;
                    return n.document.getElementById("app-mount")
                }
                componentDidMount() {
                    let {
                        channel: e,
                        layout: t
                    } = this.props;
                    this.currentDocument.addEventListener(eg.FULLSCREEN_CHANGE_EVENT, this.handleFullScreenChange), ep.default.track(ej.AnalyticEvents.VIDEO_LAYOUT_TOGGLED, {
                        video_layout: this.inPopout ? "popout" : t,
                        ...(0, L.collectVoiceAnalyticsMetadata)(e.id)
                    })
                }
                componentWillUnmount() {
                    this._videoBackgroundTooltipTimeout.stop(), this.currentDocument.removeEventListener(eg.FULLSCREEN_CHANGE_EVENT, this.handleFullScreenChange), !(this.inPopout && (0, e_.isMac)()) && this.maybeLeaveFullScreen()
                }
                componentDidUpdate(e) {
                    let {
                        participantsOpen: t,
                        inCall: n,
                        mode: a,
                        layout: l
                    } = this.props, s = this.getRootNode();
                    if (null != s && e.mode === ej.ChannelModes.VIDEO && a === ej.ChannelModes.VOICE && (0, eg.isFullScreen)(s, this.currentDocument) && (0, eg.exitFullScreen)(s, this.currentDocument), e.participantsOpen !== t || l !== e.layout) {
                        var i;
                        null === (i = this._contentRef.current) || void 0 === i || i.triggerResize()
                    }
                    e.inCall && !n && this.inPopout && h.default.wait(() => this.handleClosePopout())
                }
                get nativePopoutSupported() {
                    return e_.isPlatformEmbedded && eC.default.supportsFeature(ej.NativeFeatures.POPOUT_WINDOWS)
                }
                get popoutSupported() {
                    return !e_.isPlatformEmbedded || this.nativePopoutSupported
                }
                get popoutOpen() {
                    let {
                        popoutWindow: e
                    } = this.props;
                    return null != e && !e.closed
                }
                get currentDocument() {
                    let {
                        popoutWindow: e
                    } = this.props;
                    return null != e && this.popoutOpen && this.inPopout ? e.document : document
                }
                get screenMessage() {
                    return this.popoutOpen && !this.inPopout && this.props.inCall ? {
                        mainText: eP.default.Messages.POPOUT_PLAYER_OPENED
                    } : null
                }
                get paused() {
                    return this.popoutOpen && !this.inPopout
                }
                get inPopout() {
                    return this.props.appContext === ej.AppContext.POPOUT
                }
                get viewProperties() {
                    let {
                        layout: e,
                        mode: t,
                        channel: n,
                        inCall: a
                    } = this.props, l = t === ej.ChannelModes.VIDEO && a && !(this.popoutOpen && !this.inPopout), s = t === ej.ChannelModes.VIDEO && a && this.popoutSupported, i = t !== ej.ChannelModes.VOICE && n.isPrivate() && !this.inPopout && a, r = n.type === ej.ChannelTypes.GUILD_VOICE, u = e === ej.ChannelLayouts.MINIMUM || e === ej.ChannelLayouts.NORMAL, o = this.inPopout && this.nativePopoutSupported, d = n.isPrivate() && !n.isBroadcastChannel(), c = {
                        renderHeader: !0,
                        useTheme: !1,
                        useExternalHeader: u,
                        canInvite: r,
                        canPopout: s,
                        canFullscreen: l,
                        canSelectRegion: d,
                        canChangeLayout: i,
                        canStayOnTop: o
                    };
                    if (!a) return {
                        ...c,
                        canFullscreen: l,
                        useTheme: !0
                    };
                    switch (e) {
                        case ej.ChannelLayouts.FULL_SCREEN:
                            return {
                                ...c, canPopout: !this.inPopout && this.popoutOpen && c.canPopout
                            };
                        case ej.ChannelLayouts.MINIMUM:
                            return {
                                ...c, canPopout: !1, useTheme: !0
                            };
                        case ej.ChannelLayouts.NO_CHAT:
                        case ej.ChannelLayouts.NORMAL:
                            return {
                                ...c
                            }
                    }
                }
                renderContent(e) {
                    let {
                        selectedParticipant: t,
                        inCall: n,
                        hasConnectPermission: l,
                        mode: s,
                        popoutWindow: i,
                        participantsOpen: r,
                        participants: u,
                        filteredParticipants: o,
                        participantsVersion: d,
                        channel: c,
                        guild: f,
                        layout: h,
                        forceShowControls: p,
                        awaitingRemoteSessionInfo: m
                    } = this.props, E = h === ej.ChannelLayouts.MINIMUM, _ = E || h === ej.ChannelLayouts.NORMAL, S = n && s === ej.ChannelModes.VIDEO;
                    return this._lastIdleProps = e, (0, a.jsx)(K.default, {
                        renderHeader: this.renderHeader,
                        renderBottomLeft: this.renderBottomLeft,
                        renderBottomCenter: this.renderBottomCenter,
                        renderBottomRight: this.renderBottomRight,
                        renderChatButton: c.isGuildVoice() ? this.renderChatButton : void 0,
                        renderChatToasts: c.isGuildVoice() ? this.renderChatToasts : void 0,
                        renderVoiceChannelEffects: this.renderVoiceChannelEffects,
                        ...e,
                        screenMessage: this.screenMessage,
                        disableGradients: E,
                        idle: !p && n && !E && e.idle,
                        children: n && this.popoutOpen && !this.inPopout ? null : (0, a.jsx)(H.default, {
                            ref: this._contentRef,
                            inCall: n,
                            paused: this.paused,
                            channel: c,
                            hasConnectPermission: l,
                            guild: f,
                            participants: u,
                            filteredParticipants: o,
                            participantsVersion: d,
                            selectedParticipant: S ? t : null,
                            layout: h,
                            idle: e.idle,
                            mode: s,
                            onSelectParticipant: this.handleSelectParticipant,
                            onContextMenuParticipant: this.handleContextMenu,
                            showParticipants: r && !_,
                            popoutWindow: this.inPopout ? i : null,
                            awaitingRemoteSessionInfo: m
                        })
                    })
                }
                render() {
                    let {
                        layout: e,
                        channel: t,
                        guild: n,
                        mode: l,
                        chatOpen: s,
                        appContext: r,
                        maxSidebarWidth: u,
                        maxHeight: o,
                        inCall: d
                    } = this.props, {
                        resizedHeight: c
                    } = this.state, f = l === ej.ChannelModes.VIDEO, h = e !== ej.ChannelLayouts.NO_CHAT && e !== ej.ChannelLayouts.FULL_SCREEN && null != o;
                    return (0, a.jsxs)("div", {
                        className: i(eD.wrapper, eb[e], eU[r], {
                            [eD.poppedOut]: this.popoutOpen && !this.inPopout && e !== ej.ChannelLayouts.NO_CHAT && t.isPrivate(),
                            [eD.video]: f,
                            [eD.chatSidebarOpen]: s
                        }),
                        ref: e => {
                            this._wrapperRef.current = e, this.props.wrapperRef.current = e
                        },
                        style: h && null != c ? {
                            minHeight: 200,
                            maxHeight: o,
                            height: c
                        } : void 0,
                        children: [(0, a.jsx)("div", {
                            className: i(eD.callContainer, {
                                [(0, eS.getThemeClass)(ej.ThemeTypes.DARK)]: f
                            }),
                            ref: e => {
                                this._callContainerRef.current = e, this.props.callContainerRef.current = e
                            },
                            children: (0, a.jsx)(W.default, {
                                timeout: 2e3,
                                children: e => this.renderContent(e)
                            })
                        }), h && (0, a.jsx)(eR.default, {
                            minHeight: 200,
                            maxHeight: o,
                            resizableNode: this._wrapperRef,
                            onResize: this.handleCallResize,
                            onResizeEnd: this.props.updateStoredCallHeaderHeight
                        }), (0, a.jsx)("div", {
                            className: eD.channelChatWrapper,
                            ref: e => {
                                this._channelChatRef.current = e, this.props.channelChatRef.current = e
                            },
                            children: s && (!d || !this.popoutOpen || this.inPopout) && (0, a.jsx)(ev.default, {
                                channel: t,
                                guild: n,
                                maxWidth: u
                            })
                        })]
                    })
                }
                constructor(...e) {
                    super(...e), this._prevLayout = ej.ChannelLayouts.MINIMUM, this._wrapperRef = l.createRef(), this._callContainerRef = l.createRef(), this._channelChatRef = l.createRef(), this._contentRef = l.createRef(), this._videoBackgroundTooltipTimeout = new c.Timeout, this._lastIdleProps = null, this.state = {
                        resizedHeight: B.default.callHeaderHeight
                    }, this.handleFullScreenChange = () => {
                        let e = this.getRootNode();
                        null != e && !(0, eg.isFullScreen)(e, this.currentDocument) && this.props.layout === ej.ChannelLayouts.FULL_SCREEN && this.handleFullScreen()
                    }, this.handleFullScreen = () => {
                        let e = this.getRootNode();
                        null != e && (this.props.layout !== ej.ChannelLayouts.FULL_SCREEN ? (this._prevLayout = this.props.layout, this.handleChangeLayout(ej.ChannelLayouts.FULL_SCREEN), (0, eg.requestFullScreen)(e)) : this.maybeLeaveFullScreen())
                    }, this.maybeLeaveFullScreen = () => {
                        let e = this.getRootNode();
                        if (null != e) this.props.layout === ej.ChannelLayouts.FULL_SCREEN && (this.handleChangeLayout(this._prevLayout), (0, eg.exitFullScreen)(e, this.currentDocument))
                    }, this.handleToggleLayout = () => {
                        this.handleChangeLayout(this.props.layout === ej.ChannelLayouts.NORMAL ? ej.ChannelLayouts.NO_CHAT : ej.ChannelLayouts.NORMAL)
                    }, this.handleChangeLayout = e => {
                        let {
                            channel: t,
                            appContext: n,
                            layout: a
                        } = this.props;
                        a !== e && (p.default.updateLayout(t.id, e, n), e === ej.ChannelLayouts.FULL_SCREEN && t.isPrivate() && eE.ComponentDispatch.dispatch(ej.ComponentActions.TEXTAREA_BLUR))
                    }, this.handleDisconnect = () => {
                        this.props.layout === ej.ChannelLayouts.FULL_SCREEN && this.handleFullScreen()
                    }, this.handleContextMenu = (e, t) => {
                        var l, s;
                        let {
                            channel: i,
                            appContext: r,
                            layout: o
                        } = this.props, d = {
                            onClose: () => {
                                var e;
                                return null === (e = this._lastIdleProps) || void 0 === e ? void 0 : e.onAllowIdle("menu")
                            },
                            context: r
                        };
                        switch (null === (l = this._lastIdleProps) || void 0 === l || l.onPreventIdle("menu"), null === (s = this._lastIdleProps) || void 0 === s || s.onActive(), e.type) {
                            case ey.ParticipantTypes.HIDDEN_STREAM:
                            case ey.ParticipantTypes.STREAM:
                                (0, m.openContextMenuLazy)(t, async () => {
                                    let {
                                        default: t
                                    } = await n.el("172844").then(n.bind(n, "172844"));
                                    return n => (0, a.jsx)(t, {
                                        ...n,
                                        stream: e.stream,
                                        exitFullscreen: this.maybeLeaveFullScreen,
                                        appContext: r
                                    })
                                }, d);
                                return;
                            case ey.ParticipantTypes.USER:
                                let c = ed.default.getUser(e.id);
                                if (null != c) switch (i.type) {
                                    case ej.ChannelTypes.DM:
                                        return (0, m.openContextMenuLazy)(t, async () => {
                                            let {
                                                default: e
                                            } = await n.el("130074").then(n.bind(n, "130074"));
                                            return t => (0, a.jsx)(e, {
                                                ...t,
                                                showChannelCallItems: !0,
                                                showMediaItems: !0,
                                                user: c,
                                                channel: i,
                                                showModalItems: !0
                                            })
                                        }, d);
                                    case ej.ChannelTypes.GROUP_DM:
                                        return (0, m.openContextMenuLazy)(t, async () => {
                                            let {
                                                default: e
                                            } = await n.el("166452").then(n.bind(n, "166452"));
                                            return t => (0, a.jsx)(e, {
                                                ...t,
                                                showChannelCallItems: !0,
                                                showMediaItems: !0,
                                                showChatItems: o === ej.ChannelLayouts.MINIMUM || o === ej.ChannelLayouts.NORMAL,
                                                user: c,
                                                channel: i,
                                                showModalItems: !0
                                            })
                                        }, d);
                                    case ej.ChannelTypes.GUILD_VOICE:
                                        let f = i.getGuildId();
                                        return u(null != f, "GuildID null for guild voice channel"), (0, m.openContextMenuLazy)(t, async () => {
                                            let {
                                                default: e
                                            } = await n.el("834247").then(n.bind(n, "834247"));
                                            return t => (0, a.jsx)(e, {
                                                ...t,
                                                showMediaItems: !0,
                                                showChannelCallItems: !0,
                                                showChatItems: !1,
                                                user: c,
                                                channel: i,
                                                guildId: f,
                                                showModalItems: !0
                                            })
                                        }, d)
                                }
                        }
                    }, this.handleCallResize = e => {
                        this.setState({
                            resizedHeight: e
                        })
                    }, this.handleSelectParticipant = (e, t) => {
                        let {
                            channel: n,
                            selectedParticipant: a,
                            allActiveStreams: l,
                            inCall: s,
                            mode: i
                        } = this.props;
                        if ((0, ey.isStreamParticipant)(e) && (0, U.canWatchStream)(n, ec.default, ei.default, er.default, j.default)[0]) {
                            E.default.selectVoiceChannel(n.id);
                            let a = l.filter(t => (0, b.encodeStreamKey)(t) === e.id && t.state !== ej.ApplicationStreamStates.ENDED);
                            0 === a.length && (0, _.watchStream)((0, b.decodeStreamKey)(e.id), {
                                forceMultiple: t.shiftKey
                            })
                        }
                        s && i === ej.ChannelModes.VIDEO && ((null == a ? void 0 : a.id) === e.id ? p.default.selectParticipant(n.id, null) : p.default.selectParticipant(n.id, e.id))
                    }, this.handleOpenPopout = () => {
                        let {
                            channel: e,
                            connectedToEmbeddedActivity: t
                        } = this.props, n = () => {
                            let t = e.getGuildId();
                            null != t && (0, G.transitionTo)((0, em.previousTextChannelRouteForGuild)(t)), F.openChannelCallPopout(e)
                        };
                        t ? (0, M.default)(n) : n()
                    }, this.handleStayOnTop = e => {
                        F.setAlwaysOnTop(ej.PopoutWindowKeys.CHANNEL_CALL_POPOUT, e)
                    }, this.handleClosePopout = () => {
                        F.close(ej.PopoutWindowKeys.CHANNEL_CALL_POPOUT)
                    }, this.handleFullscreenParticipant = (e, t) => {
                        let {
                            layout: n,
                            selectedParticipant: a
                        } = this.props, l = n === ej.ChannelLayouts.FULL_SCREEN;
                        (!l && (null == a ? void 0 : a.id) !== e.id || l && (null == a ? void 0 : a.id) === e.id) && this.handleSelectParticipant(e, t), this.handleFullScreen()
                    }, this.renderRegionSelect = () => {
                        let e;
                        let {
                            call: t,
                            channel: n,
                            layout: l
                        } = this.props;
                        return !this.inPopout && l !== ej.ChannelLayouts.FULL_SCREEN && null != t && !n.isManaged() && (e = (0, a.jsx)(C.default, {
                            call: t
                        })), (0, a.jsx)(ef.default, {
                            justify: ef.default.Justify.END,
                            children: e
                        })
                    }, this.renderBottomCenter = () => {
                        let {
                            channel: e,
                            inCall: t,
                            layout: n
                        } = this.props;
                        return t || n === ej.ChannelLayouts.MINIMUM || n === ej.ChannelLayouts.NORMAL ? (0, a.jsx)(k.default, {
                            exitFullScreen: this.maybeLeaveFullScreen,
                            channel: e,
                            onDisconnectCall: this.handleDisconnect,
                            idleProps: this._lastIdleProps
                        }) : null
                    }, this.renderBottomLeft = () => {
                        let {
                            layout: e,
                            mentionCount: t,
                            channel: n,
                            appContext: l,
                            useNewInviteButton: s,
                            selectedParticipant: r,
                            shouldUseVoiceEffectsActionBar: u,
                            inCall: o,
                            participants: d
                        } = this.props;
                        if (!o) return null;
                        let c = e === ej.ChannelLayouts.NO_CHAT ? X.default.Directions.UP : X.default.Directions.DOWN,
                            f = [ej.ChannelLayouts.FULL_SCREEN, ej.ChannelLayouts.NO_CHAT].includes(e),
                            h = d.some(e => e.type === ey.ParticipantTypes.STREAM),
                            p = e === ej.ChannelLayouts.FULL_SCREEN ? () => {
                                this._prevLayout = ej.ChannelLayouts.NORMAL, this.handleFullScreen()
                            } : this.handleToggleLayout,
                            {
                                canChangeLayout: m,
                                canInvite: E
                            } = this.viewProperties,
                            _ = s ? (0, a.jsx)(V.default, {
                                channel: n,
                                stream: (null == r ? void 0 : r.type) === ey.ParticipantTypes.STREAM ? (0, b.decodeStreamKey)(r.id) : void 0,
                                applicationId: (null == r ? void 0 : r.type) === ey.ParticipantTypes.ACTIVITY ? r.id : void 0,
                                appContext: l,
                                className: eD.leftTrayIcon,
                                exitFullScreen: this.maybeLeaveFullScreen,
                                analyticsLocation: n.type === ej.ChannelTypes.GUILD_VOICE ? ej.AnalyticsPages.GUILD_CHANNEL : ej.AnalyticsPages.DM_CHANNEL
                            }) : (0, a.jsx)(Q.default, {
                                channel: n,
                                stream: (null == r ? void 0 : r.type) === ey.ParticipantTypes.STREAM ? (0, b.decodeStreamKey)(r.id) : void 0,
                                className: eD.leftTrayIcon,
                                exitFullScreen: this.maybeLeaveFullScreen,
                                analyticsLocation: n.type === ej.ChannelTypes.GUILD_VOICE ? ej.AnalyticsPages.GUILD_CHANNEL : ej.AnalyticsPages.DM_CHANNEL
                            });
                        return (0, a.jsxs)(a.Fragment, {
                            children: [E && !u ? _ : null, m ? (0, a.jsxs)(ef.default, {
                                className: eD.iconWrapper,
                                align: ef.default.Align.CENTER,
                                grow: 0,
                                children: [(0, a.jsx)(X.default, {
                                    label: f ? eP.default.Messages.SHOW_CHAT : eP.default.Messages.HIDE_CHAT,
                                    direction: c,
                                    className: eD.leftTrayIcon,
                                    onClick: p
                                }), f && t > 0 ? (0, a.jsx)(eh.NumberBadge, {
                                    className: eD.badge,
                                    count: t
                                }) : null]
                            }) : null, (null == r ? void 0 : r.type) !== ey.ParticipantTypes.STREAM && (null == r ? void 0 : r.type) !== ey.ParticipantTypes.ACTIVITY || u ? null : (0, a.jsx)(Y.default, {
                                children: (0, a.jsx)(eM.default, {
                                    className: i(eD.leftTrayIcon, eD.viewersButton),
                                    participant: r,
                                    maxVisibleUsers: 4,
                                    guildId: n.getGuildId(),
                                    channelId: n.id,
                                    disableInteraction: this.inPopout || e === ej.ChannelLayouts.FULL_SCREEN
                                })
                            }), u && (0, a.jsx)(eO.default, {
                                channel: n,
                                hasActiveStream: h,
                                themeable: this.viewProperties.useTheme
                            }), (0, a.jsx)(D.default, {
                                showLeftDivider: u,
                                themeable: this.viewProperties.useTheme,
                                className: eD.leftTrayIcon,
                                channel: n
                            })]
                        })
                    }, this.renderBottomRight = () => {
                        let {
                            popoutWindow: e,
                            popoutWindowAlwaysOnTop: t,
                            currentUserId: n,
                            selectedParticipant: l
                        } = this.props, {
                            canFullscreen: s,
                            canStayOnTop: i,
                            canPopout: r,
                            useTheme: u
                        } = this.viewProperties;
                        return (0, a.jsxs)(a.Fragment, {
                            children: [null != l && l.type !== ey.ParticipantTypes.ACTIVITY && l.user.id !== n ? (0, a.jsx)(ee.default, {
                                context: (0, eT.default)(l.type),
                                userId: l.user.id,
                                currentWindow: this.inPopout ? null != e ? e : void 0 : window,
                                sliderClassName: eD.volumeSlider,
                                className: eD.rightTrayIcon
                            }) : null, i ? (0, a.jsx)($.default, {
                                className: eD.rightTrayIcon,
                                popoutWindowAlwaysOnTop: t,
                                onToggleStayOnTop: this.handleStayOnTop
                            }) : null, r ? (0, a.jsx)(J.default, {
                                themeable: u,
                                popoutOpen: this.popoutOpen,
                                className: eD.rightTrayIcon,
                                onOpenPopout: this.handleOpenPopout,
                                onClosePopout: this.handleClosePopout
                            }) : null, s ? (0, a.jsx)(Z.default, {
                                themeable: u,
                                node: this.getRootNode(),
                                guestWindow: e,
                                className: eD.rightTrayIcon,
                                onClick: this.handleFullScreen
                            }) : null]
                        })
                    }, this.renderChatButton = e => {
                        let {
                            className: t,
                            showingClassName: n
                        } = e, {
                            channel: l,
                            chatOpen: s,
                            inCall: i
                        } = this.props;
                        return s || this.popoutOpen && !this.inPopout && i ? null : (0, a.jsx)(q.ChatButton, {
                            channelId: l.id,
                            className: t,
                            showingClassName: n
                        })
                    }, this.renderChatToasts = () => {
                        let {
                            showChatToasts: e,
                            chatOpen: t,
                            channel: n,
                            inCall: l
                        } = this.props;
                        return !e || t || this.popoutOpen && !this.inPopout && l ? null : (0, a.jsx)(ex.default, {
                            children: (0, a.jsx)(z.default, {
                                className: eD.chatToasts,
                                channelId: n.id
                            })
                        })
                    }, this.renderVoiceChannelEffects = () => {
                        let {
                            channel: e
                        } = this.props;
                        return (0, a.jsx)(eL.default, {
                            children: (0, a.jsx)(et.default, {
                                channelId: e.id
                            })
                        })
                    }, this.renderHeader = () => {
                        let {
                            renderExternalHeader: e,
                            channel: t,
                            guild: n,
                            appContext: l,
                            chatOpen: s,
                            inCall: i
                        } = this.props, {
                            useExternalHeader: r,
                            canSelectRegion: u,
                            renderHeader: o
                        } = this.viewProperties;
                        return o ? (0, a.jsxs)(Y.default, {
                            children: [(0, a.jsx)("div", {
                                className: eD.headerWrapper,
                                children: r ? null == e ? void 0 : e() : (0, a.jsx)(eA.default, {
                                    channel: t,
                                    guild: n,
                                    appContext: l,
                                    inCall: i,
                                    isChatOpen: s || this.popoutOpen && !this.inPopout && i,
                                    exitFullScreen: this.maybeLeaveFullScreen
                                })
                            }), u ? this.renderRegionSelect() : null]
                        }) : null
                    }
                }
            }
            var ew = function(e) {
                var t, n;
                let {
                    channel: s,
                    renderExternalHeader: i,
                    maxHeight: r
                } = e, {
                    width: u = 0,
                    ref: c
                } = (0, I.default)(), {
                    width: h = 0,
                    height: p = 0,
                    ref: m
                } = (0, I.default)(), {
                    ref: E
                } = (0, I.default)(), _ = (0, N.useAppContext)(), C = (0, P.default)(), M = (0, o.useStateFromStores)([eo.default], () => (null !== (t = null == C ? void 0 : C.channelId) && void 0 !== t ? t : eo.default.getVoiceChannelId()) === s.id), {
                    participants: L,
                    filteredParticipants: D,
                    participantsVersion: b,
                    mode: U,
                    layout: F,
                    participantsOpen: G,
                    chatOpen: k,
                    selectedParticipant: H
                } = (0, o.useStateFromStoresObject)([eI.default], () => {
                    let e = _ === ej.AppContext.POPOUT,
                        t = eI.default.getMode(s.id);
                    e && (t = ej.ChannelModes.VIDEO);
                    let n = t === ej.ChannelModes.VIDEO ? eI.default.getLayout(s.id, _) : ej.ChannelLayouts.MINIMUM;
                    return e && n !== ej.ChannelLayouts.FULL_SCREEN && (n = ej.ChannelLayouts.NO_CHAT), {
                        mode: t,
                        layout: n,
                        selectedParticipant: t !== ej.ChannelModes.VOICE ? eI.default.getSelectedParticipant(s.id) : null,
                        participants: eI.default.getParticipants(s.id),
                        filteredParticipants: eI.default.getFilteredParticipants(s.id),
                        participantsOpen: eI.default.getParticipantsOpen(s.id),
                        chatOpen: eI.default.getChatOpen(s.id),
                        participantsVersion: eI.default.getParticipantsVersion(s.id)
                    }
                }, [_, s.id]), V = (0, o.useStateFromStoresArray)([en.default], () => en.default.getAllActiveStreams()), {
                    selectedStream: W
                } = (0, o.useStateFromStoresObject)([en.default], () => ({
                    selectedStream: null != H ? en.default.getActiveStreamForStreamKey(H.id) : null
                }), [H]), Y = (0, o.useStateFromStores)([ei.default], () => ei.default.getGuild(s.getGuildId())), z = (0, o.useStateFromStores)([es.default], () => es.default.getCall(s.id), [s.id]), K = (0, o.useStateFromStores)([eu.default], () => eu.default.getMentionCount(s.id), [s.id]), X = (0, o.useStateFromStores)([ea.default], () => ea.default.getId()), {
                    popoutWindow: q,
                    popoutWindowAlwaysOnTop: Z
                } = (0, o.useStateFromStoresObject)([w.default], () => ({
                    popoutWindow: w.default.getWindow(ej.PopoutWindowKeys.CHANNEL_CALL_POPOUT),
                    popoutWindowAlwaysOnTop: w.default.getIsAlwaysOnTop(ej.PopoutWindowKeys.CHANNEL_CALL_POPOUT)
                })), Q = (0, o.useStateFromStores)([er.default], () => er.default.can(ej.Permissions.CONNECT, s)), J = (0, o.useStateFromStores)([el.default], () => el.default.getToastsEnabled(s.id)), $ = (0, o.useStateFromStores)([j.default], () => j.default.getAwaitingRemoteSessionInfo()), ee = (0, o.useStateFromStores)([B.default], () => B.default.callHeaderHeight), et = l.useCallback(e => {
                    S.default.updatedUnsyncedSettings({
                        callHeaderHeight: e
                    })
                }, []), ed = null !== (n = null == Y ? void 0 : Y.id) && void 0 !== n ? n : null, ec = (0, A.default)(ed, s.id), ef = (0, o.useStateFromStores)([x.default], () => x.default.getFetchState(), []), eh = (0, T.default)(ef);
                l.useEffect(() => {
                    "errored" === ef && "errored" !== eh && (0, f.showToast)((0, f.createToast)(eP.default.Messages.EMBEDDED_ACTIVITIES_DEVELOPER_ACTIVITY_SHELF_FETCH_ERROR, f.ToastType.FAILURE))
                }, [ef, eh]);
                let ep = (0, o.useStateFromStores)([v.default], () => null != v.default.getSelfEmbeddedActivityForChannel(s.id), [s]);
                l.useEffect(() => {
                    let e = !1,
                        t = null,
                        n = async () => {
                            M && U === ej.ChannelModes.VIDEO && (t = await eC.default.blockDisplaySleep(), e && null != t && eC.default.unblockDisplaySleep(t))
                        };
                    return n(), () => {
                        null != t ? eC.default.unblockDisplaySleep(t) : e = !0
                    }
                }, [M, U]);
                let em = (0, eN.default)(s, !0),
                    eE = (0, y.useIsContentShown)(d.DismissibleContent.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK),
                    {
                        AnalyticsLocationProvider: e_
                    } = (0, O.default)(R.default.CHANNEL_CALL);
                return (0, a.jsx)(e_, {
                    children: (0, a.jsx)(g.default, {
                        page: ej.AnalyticsPages.CHANNEL_CALL,
                        children: (0, a.jsx)(ex.ChannelCallChatLayerProvider, {
                            children: (0, a.jsxs)(eL.VoiceChannelEffectsLayerProvider, {
                                children: [(0, a.jsx)(eF, {
                                    channel: s,
                                    guild: Y,
                                    hasConnectPermission: Q,
                                    participantsOpen: G,
                                    renderExternalHeader: i,
                                    appContext: _,
                                    call: z,
                                    popoutWindow: q,
                                    popoutWindowAlwaysOnTop: Z,
                                    mentionCount: K,
                                    selectedStream: W,
                                    mode: U,
                                    inCall: M,
                                    participants: L,
                                    filteredParticipants: D,
                                    participantsVersion: b,
                                    layout: F,
                                    chatOpen: k,
                                    maxSidebarWidth: u - 550,
                                    shouldUseVoiceEffectsActionBar: em,
                                    currentUserId: X,
                                    selectedParticipant: H,
                                    allActiveStreams: V,
                                    useNewInviteButton: ec,
                                    connectedToEmbeddedActivity: ep,
                                    showChatToasts: J,
                                    storedCallHeaderHeight: ee,
                                    updateStoredCallHeaderHeight: et,
                                    wrapperRef: c,
                                    callContainerDimensions: {
                                        width: h,
                                        height: p
                                    },
                                    callContainerRef: m,
                                    channelChatRef: E,
                                    width: u,
                                    maxHeight: r,
                                    forceShowControls: eE,
                                    awaitingRemoteSessionInfo: $
                                }), !s.isPrivate() && (0, a.jsx)(eL.VoiceChannelEffectsLayerContainer, {}), (0, a.jsx)(ex.ChannelCallChatLayerContainer, {})]
                            })
                        })
                    })
                })
            }
        },
        328715: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return H
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("414456"),
                s = n.n(l),
                i = n("446674"),
                r = n("77078"),
                u = n("308289"),
                o = n("789394"),
                d = n("746164"),
                c = n("244201"),
                f = n("204947"),
                h = n("442939"),
                p = n("679653"),
                m = n("619335"),
                E = n("534222"),
                _ = n("941298"),
                S = n("539938"),
                C = n("557809"),
                g = n("367376"),
                I = n("616718"),
                T = n("550410"),
                N = n("957255"),
                x = n("953109"),
                v = n("832132"),
                A = n("664336"),
                M = n("439932"),
                R = n("191145"),
                L = n("598785"),
                O = n("2830"),
                y = n("836087"),
                j = n("843624"),
                P = n("99795"),
                D = n("49111"),
                b = n("843455"),
                U = n("782340"),
                F = n("125738"),
                w = n("632215");

            function G(e) {
                let {
                    focusedParticipant: t,
                    channel: n
                } = e, l = (0, c.useAppContext)(), s = (0, i.useStateFromStores)([R.default], () => R.default.getLayout(n.id, l));
                return (0, a.jsx)(T.default, {
                    children: (0, a.jsx)(y.default, {
                        className: F.participants,
                        participant: t,
                        maxVisibleUsers: 5,
                        guildId: n.getGuildId(),
                        channelId: n.id,
                        disableInteraction: l === D.AppContext.POPOUT || s === D.ChannelLayouts.FULL_SCREEN
                    })
                })
            }

            function B(e) {
                let {
                    user: t,
                    channel: n,
                    stream: l,
                    color: s
                } = e, i = (0, I.default)(n, t, l);
                return null == t || null == l ? null : (0, a.jsxs)(a.Fragment, {
                    children: [(0, a.jsx)(u.default, {
                        className: F.avatar,
                        size: r.AvatarSizes.SIZE_24,
                        user: t,
                        animate: !1
                    }), (0, a.jsx)(r.Text, {
                        className: F.playingText,
                        variant: "text-md/medium",
                        color: s,
                        children: i
                    })]
                })
            }

            function k(e) {
                let t, {
                        focusedApplication: n,
                        focusedParticipant: l,
                        channel: s
                    } = e,
                    i = (0, L.default)(s, !0),
                    u = (0, E.useActiveEvent)(s.id);
                if ((null == l ? void 0 : l.type) === P.ParticipantTypes.ACTIVITY) null != n && (t = (0, a.jsxs)(a.Fragment, {
                    children: [(0, a.jsx)(A.default.Divider, {
                        className: F.divider
                    }), (0, a.jsx)(x.default, {
                        game: n,
                        className: F.activityIcon
                    }), (0, a.jsx)(r.Text, {
                        className: F.playingText,
                        variant: "text-md/normal",
                        color: "none",
                        children: (0, f.default)(n.name)
                    }), i && (0, a.jsx)(G, {
                        channel: s,
                        focusedParticipant: l
                    })]
                }));
                else if ((null == l ? void 0 : l.type) === P.ParticipantTypes.STREAM) {
                    let e = l.user,
                        n = l.stream;
                    t = (0, a.jsxs)(a.Fragment, {
                        children: [(0, a.jsx)(A.default.Divider, {
                            className: F.divider
                        }), (0, a.jsx)(B, {
                            user: e,
                            channel: s,
                            stream: n,
                            color: i ? "header-primary" : "none"
                        }), i && (0, a.jsx)(G, {
                            channel: s,
                            focusedParticipant: l
                        })]
                    })
                } else null != u && (t = (0, a.jsx)(_.default, {
                    guildEvent: u
                }));
                return (0, a.jsx)("div", {
                    className: F.container,
                    children: t
                })
            }

            function H(e) {
                var t;
                let {
                    channel: l,
                    guild: u,
                    appContext: c,
                    inCall: f,
                    isChatOpen: E,
                    exitFullScreen: _
                } = e, {
                    focusedParticipant: I
                } = (0, i.useStateFromStoresObject)([R.default], () => ({
                    focusedParticipant: R.default.getSelectedParticipant(l.id),
                    participantsOpen: R.default.getParticipantsOpen(l.id)
                }), [l.id]), T = (0, p.default)(l), x = (0, m.default)(l), L = d.default.useExperiment({
                    guildId: null !== (t = null == u ? void 0 : u.id) && void 0 !== t ? t : "",
                    location: "7b48cc_1"
                }, {
                    autoTrackExposure: !1
                }).enabled && f, [y] = (0, h.default)((null == I ? void 0 : I.type) === P.ParticipantTypes.ACTIVITY ? [I.id] : []), G = U.default.Messages.VOICE_CHANNEL;
                l.isDM() ? G = U.default.Messages.DM : l.isGroupDM() && (G = U.default.Messages.GROUP_DM);
                let {
                    enabled: B,
                    left: H
                } = o.ChannelEmojisExperiment.useExperiment({
                    location: "7b48cc_2"
                }, {
                    autoTrackExposure: !1
                }), V = B && (0, a.jsx)(C.ChannelEmoji, {
                    channel: l
                }), W = l.isGuildVoice() && L && null != l.status && l.status.length > 0, Y = (0, i.useStateFromStores)([N.default], () => N.default.can(D.Permissions.SET_VOICE_CHANNEL_STATUS, l)), z = W ? (0, a.jsx)(r.Tooltip, {
                    text: U.default.Messages.VOICE_CHANNEL_SET_STATUS,
                    delay: 500,
                    position: "bottom",
                    shouldShow: Y,
                    children: e => (0, a.jsxs)(r.Clickable, {
                        ...e,
                        className: s(F.channelStatusClickable, {
                            [F.hoverable]: Y
                        }),
                        onClick: Y ? K : void 0,
                        children: [(0, a.jsx)(r.Text, {
                            variant: "text-xs/normal",
                            className: s(F.channelStatus, w.markup, {
                                [F.hoverable]: Y
                            }),
                            children: g.default.parseVoiceChannelStatus(l.status, !0, {
                                channelId: l.id
                            })
                        }), Y && (0, a.jsx)(v.default, {
                            className: s(F.pencilIcon, F.hoverable),
                            width: 14,
                            height: 14
                        })]
                    })
                }) : null;

                function K() {
                    (0, r.openModalLazy)(async () => {
                        let {
                            default: e
                        } = await n.el("843624").then(n.bind(n, "843624"));
                        return t => (0, a.jsx)(e, {
                            channel: l,
                            ...t
                        })
                    }, {
                        modalKey: j.VOICE_CHANNEL_STATUS_MODAL_KEY
                    })
                }
                return (0, a.jsx)("div", {
                    className: F.subtitleContainer,
                    children: (0, a.jsxs)(A.default, {
                        onDoubleClick: S.handleDoubleClick,
                        transparent: !0,
                        className: (0, M.getThemeClass)(b.ThemeTypes.DARK),
                        childrenBottom: z,
                        toolbar: (0, a.jsx)(O.default, {
                            channel: l,
                            appContext: c,
                            inCall: f,
                            isChatOpen: E,
                            exitFullScreen: _
                        }),
                        children: [H && V, null != x ? (0, a.jsx)(A.default.Icon, {
                            icon: x,
                            disabled: !0,
                            "aria-label": G
                        }) : null, !H && V, (0, a.jsx)(A.default.Title, {
                            children: T
                        }), (0, a.jsx)(C.HeaderGuildBreadcrumb, {
                            channel: l,
                            guild: u
                        }), (0, a.jsx)(k, {
                            focusedApplication: y,
                            focusedParticipant: I,
                            channel: l
                        })]
                    })
                })
            }
        },
        2830: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return G
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("917351"),
                u = n.n(r),
                o = n("446674"),
                d = n("77078"),
                c = n("777274"),
                f = n("992207"),
                h = n("374014"),
                p = n("336804"),
                m = n("311197"),
                E = n("830251"),
                _ = n("170643"),
                S = n("550410"),
                C = n("124824"),
                g = n("640553"),
                I = n("104815"),
                T = n("925674"),
                N = n("331759"),
                x = n("63260"),
                v = n("422736"),
                A = n("280168"),
                M = n("664336"),
                R = n("68148"),
                L = n("980423"),
                O = n("191145"),
                y = n("598785"),
                j = n("226735"),
                P = n("340513"),
                D = n("99795"),
                b = n("49111"),
                U = n("782340"),
                F = n("767290");

            function w(e) {
                let {
                    channelId: t,
                    guildId: n
                } = e, l = Date.now(), s = (0, o.useStateFromStores)([A.default, O.default], () => u(A.default.getSpeakers()).map(e => O.default.getParticipant(t, e)).filter(e => null != e && e.type === D.ParticipantTypes.USER && e.speaking && !(0, E.default)(e)).sortBy(e => -A.default.getSpeakingDuration(e.user.id, l)).slice(0, 3).value());
                return 0 === s.length ? null : (0, a.jsx)(a.Fragment, {
                    children: s.map((e, t) => (0, a.jsx)(d.Tooltip, {
                        position: "bottom",
                        color: d.Tooltip.Colors.GREY,
                        text: U.default.Messages.CHANNEL_CALL_CURRENT_SPEAKER.format({
                            username: e.user.username
                        }),
                        children: l => (0, a.jsx)(R.default, {
                            ...l,
                            className: i(F.speaker, {
                                [F.last]: t === s.length - 1
                            }),
                            user: e.user,
                            speaking: !0,
                            collapsed: !0,
                            guildId: n
                        })
                    }, e.id))
                })
            }

            function G(e) {
                let {
                    channel: t,
                    appContext: n,
                    inCall: s,
                    isChatOpen: i,
                    exitFullScreen: r
                } = e, u = t.id, {
                    voiceParticipantsHidden: E,
                    selectedParticipant: A,
                    userParticipantCount: R
                } = (0, o.useStateFromStoresObject)([O.default], () => ({
                    selectedParticipant: O.default.getSelectedParticipant(u),
                    voiceParticipantsHidden: O.default.getVoiceParticipantsHidden(u),
                    userParticipantCount: O.default.getUserParticipantCount(u)
                }), [u]), U = (0, y.default)(t), {
                    preventIdle: G,
                    allowIdle: B
                } = (0, S.usePreventIdle)("popup"), k = [];
                if (U) {
                    let e = (null == A ? void 0 : A.type) === D.ParticipantTypes.STREAM ? (0, h.decodeStreamKey)(A.id) : void 0,
                        n = (null == A ? void 0 : A.type) === D.ParticipantTypes.ACTIVITY ? A.id : void 0;
                    k.push((0, a.jsx)(N.default, {
                        className: F.button,
                        channel: t,
                        applicationId: n,
                        stream: e,
                        exitFullScreen: r,
                        analyticsLocation: t.type === b.ChannelTypes.GUILD_VOICE ? b.AnalyticsPages.GUILD_CHANNEL : b.AnalyticsPages.DM_CHANNEL
                    }, "invite-button"))
                }
                return E && k.push((0, a.jsx)(w, {
                    channelId: u,
                    guildId: t.guild_id
                }, "current-speaker")), k.push((0, a.jsx)(f.default, {
                    className: F.button,
                    channelId: u
                })), (null == A ? void 0 : A.type) === D.ParticipantTypes.STREAM && (k.push((0, a.jsx)(_.default, {
                    className: F.button,
                    participant: A
                }, "warning")), k.push((0, a.jsx)(p.default, {
                    size: L.default.Sizes.LARGE,
                    className: F.button,
                    participant: A,
                    showQuality: !0
                }, "live-indicator"))), E && k.push((0, a.jsx)(d.Popout, {
                    position: "bottom",
                    renderPopout: () => (0, a.jsx)(C.default, {
                        children: (0, a.jsx)(P.default, {
                            channel: t
                        })
                    }),
                    children: (e, t) => {
                        let {
                            isShown: n
                        } = t;
                        return (0, l.createElement)(x.default, {
                            ...e,
                            isActive: n,
                            count: R,
                            key: "call-members",
                            className: F.button
                        })
                    }
                }, "call-members-popout")), s && k.push(null != A ? (0, a.jsx)(T.default, {
                    className: F.button,
                    channelId: u
                }, "deselect-participant") : (0, a.jsx)(v.default, {
                    className: F.button,
                    channelId: u,
                    isHorizontal: !0
                }, "select-participant")), k.push((0, a.jsx)(m.default, {
                    onOpen: G,
                    onClose: B,
                    className: F.button
                }, "recents")), k.push((0, a.jsx)(c.CallscopeChannelCallIssueMarker, {
                    className: F.button
                }, "callscope-marker")), k.push((0, a.jsx)(d.Popout, {
                    position: "bottom",
                    renderPopout: e => {
                        let {
                            closePopout: t
                        } = e;
                        return (0, a.jsx)(C.default, {
                            children: (0, a.jsx)(j.default, {
                                channelId: u,
                                onClose: t,
                                appContext: n,
                                exitFullScreen: r
                            })
                        })
                    },
                    children: (e, t) => {
                        let {
                            isShown: n
                        } = t;
                        return (0, l.createElement)(I.default, {
                            ...e,
                            key: "more-options",
                            isActive: n,
                            className: F.lastButton
                        })
                    }
                }, "more-options-popout")), !i && (k.push((0, a.jsx)(M.default.Divider, {
                    className: F.divider
                }, "divider")), k.push((0, a.jsx)(g.ChatButton, {
                    channelId: t.id,
                    className: F.chatButtonSpacer,
                    disabled: !0
                }, "chat-spacer"))), (0, a.jsx)(a.Fragment, {
                    children: k
                })
            }
        },
        226735: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("446674"),
                s = n("77078"),
                i = n("191145"),
                r = n("243288"),
                u = n("769928"),
                o = n("321135"),
                d = n("976074"),
                c = n("639537"),
                f = n("99795"),
                h = n("782340");

            function p(e) {
                let {
                    channelId: t,
                    onClose: n,
                    appContext: p,
                    exitFullScreen: m,
                    onSelect: E
                } = e, _ = (0, l.useStateFromStores)([i.default], () => i.default.getSelectedParticipant(t)), S = (null == _ ? void 0 : _.type) === f.ParticipantTypes.STREAM ? _.stream : null, C = (0, r.default)(t), g = (0, o.default)(), I = (0, u.default)(t), T = (0, c.default)(t);
                return (0, a.jsxs)(s.Menu, {
                    navId: "channel-call-overflow-popout",
                    onClose: n,
                    "aria-label": h.default.Messages.CHANNEL_CALL_OVERFLOW_MENU_LABEL,
                    onSelect: E,
                    children: [C, g, I, T, (0, d.default)(S, p, m)]
                })
            }
        },
        340513: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("446674"),
                s = n("77078"),
                i = n("884155"),
                r = n("316133"),
                u = n("49111"),
                o = n("782340"),
                d = n("162088");

            function c(e) {
                let {
                    channel: t
                } = e, n = (0, l.useStateFromStores)([r.default], () => r.default.getVoiceStatesForChannel(t));
                return (0, a.jsxs)("div", {
                    className: d.root,
                    children: [(0, a.jsx)(s.Text, {
                        variant: "text-xs/bold",
                        className: d.header,
                        children: o.default.Messages.CHANNEL_CALL_MEMBERS_POPOUT_HEADER.format({
                            count: n.length
                        })
                    }), (0, a.jsx)(s.Scroller, {
                        className: d.scroller,
                        children: (0, a.jsx)(i.default, {
                            allowDragging: !1,
                            allowPreviews: !1,
                            className: d.voiceUsers,
                            channel: t,
                            voiceStates: n,
                            collapsed: !1,
                            location: u.AnalyticsLocations.CHANNEL_CALL
                        })
                    })]
                })
            }
        },
        579408: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("594203"),
                i = n("701268");

            function r(e) {
                let {
                    resizableNode: t,
                    onResize: n,
                    onResizeEnd: r,
                    minHeight: u,
                    maxHeight: o
                } = e, [d, c] = l.useState(null);
                l.useEffect(() => {
                    var e, n;
                    c(null !== (n = null === (e = t.current) || void 0 === e ? void 0 : e.offsetHeight) && void 0 !== n ? n : null)
                }, [t]);
                let f = (0, s.default)({
                    initialElementDimension: d,
                    minDimension: u,
                    maxDimension: o,
                    resizableDomNodeRef: t,
                    onElementResize: n,
                    onElementResizeEnd: r,
                    orientation: s.ResizeOrientation.VERTICAL_BOTTOM
                });
                return (0, a.jsx)("div", {
                    onMouseDown: f,
                    className: i.resizeHandle
                })
            }
        },
        141681: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return N
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("458960"),
                u = n("446674"),
                o = n("266491"),
                d = n("819855"),
                c = n("77078"),
                f = n("841098"),
                h = n("471671"),
                p = n("823050"),
                m = n("99795"),
                E = n("976620"),
                _ = n("173791"),
                S = n("4184");
            let C = {
                    STEPS: 23,
                    FRAME_DURATION: 17,
                    FRAME_SIZE: 26
                },
                g = {
                    SCALE_MIN: .7,
                    SCALE_MAX: 1,
                    DURATION_IN: 300,
                    DURATION_OUT: 170,
                    EASING_IN: r.default.Easing.inOut(r.default.Easing.back()),
                    EASING_OUT: r.default.Easing.quad
                },
                I = {
                    DURATION_IN: 200,
                    DURATION_OUT: 125
                };
            class T extends l.PureComponent {
                componentDidMount() {
                    this.componentDidAppear()
                }
                componentDidAppear() {
                    let {
                        scaleAnimation: e,
                        widthAnimation: t
                    } = this;
                    e.setValue(1), t.setValue(1)
                }
                componentWillEnter(e) {
                    let {
                        scaleAnimation: t,
                        widthAnimation: n
                    } = this;
                    t.setValue(0), n.setValue(0), r.default.parallel([r.default.timing(t, {
                        toValue: 1,
                        duration: g.DURATION_IN,
                        easing: g.EASING_IN
                    }), r.default.timing(n, {
                        toValue: 1,
                        duration: 200
                    })]).start(e)
                }
                componentWillLeave(e) {
                    let {
                        scaleAnimation: t,
                        spriteAnimation: n,
                        spriteOpacity: a,
                        widthAnimation: l
                    } = this;
                    a.setValue(1), n.setValue(0);
                    let s = [];
                    for (let e = 0; e < C.STEPS; e++) s.push(r.default.timing(n, {
                        toValue: -C.FRAME_SIZE * e,
                        duration: C.FRAME_DURATION
                    }));
                    r.default.sequence([r.default.timing(t, {
                        toValue: 0,
                        duration: g.DURATION_OUT,
                        easing: g.EASING_OUT
                    }), r.default.sequence(s), r.default.timing(l, {
                        toValue: 0,
                        duration: 125
                    })]).start(e)
                }
                getScaleStyle() {
                    let {
                        scaleAnimation: e
                    } = this;
                    return r.default.accelerate({
                        transform: [{
                            scale: e.interpolate({
                                inputRange: [0, 1],
                                outputRange: [g.SCALE_MIN, g.SCALE_MAX]
                            })
                        }],
                        opacity: e
                    })
                }
                getSpriteStyle() {
                    let {
                        spriteAnimation: e,
                        spriteOpacity: t
                    } = this;
                    return {
                        backgroundPosition: e,
                        opacity: t
                    }
                }
                getWidthStyle() {
                    return {
                        width: this.widthAnimation.interpolate({
                            inputRange: [0, 1],
                            outputRange: ["0px", "".concat(this.props.width, "px")]
                        })
                    }
                }
                render() {
                    let {
                        theme: e,
                        children: t,
                        className: n
                    } = this.props, l = (0, d.isThemeDark)(e), s = i(E.sprite, {
                        [S.crossWhite]: l,
                        [S.crossGrey]: !l
                    });
                    return (0, a.jsxs)(r.default.div, {
                        className: i(E.transition, n),
                        style: this.getWidthStyle(),
                        children: [(0, a.jsx)("div", {
                            className: i(E.spriteWrapper, _.horizontal, _.justifyCenter, _.alignCenter),
                            children: (0, a.jsx)(r.default.div, {
                                className: s,
                                style: this.getSpriteStyle()
                            })
                        }), (0, a.jsx)(r.default.div, {
                            style: this.getScaleStyle(),
                            children: t
                        })]
                    })
                }
                constructor(...e) {
                    super(...e), this.scaleAnimation = new r.default.Value(0), this.spriteAnimation = new r.default.Value(0), this.spriteOpacity = new r.default.Value(0), this.widthAnimation = new r.default.Value(0)
                }
            }

            function N(e) {
                var t, n;
                let {
                    participants: l,
                    onContextMenu: s,
                    className: r,
                    onClick: d,
                    width: _,
                    guildId: S
                } = e, C = (0, f.default)();
                let g = (t = _, n = l.length, ((0, c.getAvatarSize)(c.AvatarSizes.SIZE_80) + 16) * n > t ? c.AvatarSizes.SIZE_40 : c.AvatarSizes.SIZE_80),
                    I = (0, u.useStateFromStores)([h.default], () => h.default.isFocused()),
                    N = l.map(e => {
                        var t, n;
                        if (e.type !== m.ParticipantTypes.USER) return null;
                        let {
                            user: l,
                            voiceState: i,
                            speaking: r,
                            ringing: u
                        } = e;
                        return (0, a.jsx)(T, {
                            className: E.participant,
                            width: (0, c.getAvatarSize)(g),
                            theme: C,
                            children: (0, a.jsx)(p.default, {
                                src: l.getAvatarURL(S, (0, c.getAvatarSize)(g), r && I),
                                size: g,
                                muted: null !== (t = null == i ? void 0 : i.isVoiceMuted()) && void 0 !== t && t,
                                deafen: null !== (n = null == i ? void 0 : i.isVoiceDeafened()) && void 0 !== n && n,
                                speaking: r,
                                ringing: u,
                                onClick: t => null == d ? void 0 : d(e, t),
                                onContextMenu: t => null == s ? void 0 : s(e, t)
                            }, e.id)
                        }, l.id)
                    });
                return (0, a.jsx)(o.default, {
                    component: "div",
                    className: i(E.root, r),
                    children: N
                })
            }
        },
        198755: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                VoiceChannelEffectsLayerContainer: function() {
                    return r
                },
                VoiceChannelEffectsLayerProvider: function() {
                    return u
                },
                default: function() {
                    return o
                }
            });
            var a = n("77078");
            let {
                Layer: l,
                LayerContainer: s,
                LayerProvider: i
            } = (0, a.createLayer)("VoiceChannelEffectsCall"), r = s, u = i;
            var o = l
        },
        843624: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                VOICE_CHANNEL_STATUS_MODAL_KEY: function() {
                    return E
                },
                default: function() {
                    return _
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("77078"),
                i = n("18054"),
                r = n("850391"),
                u = n("149022"),
                o = n("681060"),
                d = n("298878"),
                c = n("145131"),
                f = n("599110"),
                h = n("49111"),
                p = n("782340"),
                m = n("447365");
            let E = "VoiceChannelStatusModal";

            function _(e) {
                var t;
                let {
                    channel: n,
                    transitionState: _,
                    onClose: S
                } = e, [C, g] = l.useState(null !== (t = n.status) && void 0 !== t ? t : ""), [I, T] = l.useState(!1), [N, x] = l.useState(null);
                l.useEffect(() => {
                    f.default.track(h.AnalyticEvents.OPEN_MODAL, {
                        type: "Voice Channel Topic Modal",
                        guild_id: n.guild_id
                    })
                }, [n.guild_id]);
                let v = async e => {
                    C === n.status && S(), null == e || e.preventDefault(), x(null), T(!0), await i.default.updateVoiceChannelStatus(n.id, C).then(e => {
                        204 === e.status ? (f.default.track(h.AnalyticEvents.VOICE_CHANNEL_TOPIC_SET, {
                            guild_id: n.guild_id,
                            channel_id: n.id
                        }), S()) : x(e.body.message)
                    }, e => {
                        x(e.body.message)
                    }), T(!1)
                }, [A, M] = l.useState((0, u.toRichValue)(C));
                return (0, a.jsx)("form", {
                    onSubmit: v,
                    className: m.form,
                    children: (0, a.jsxs)(s.ModalRoot, {
                        transitionState: _,
                        size: s.ModalSize.SMALL,
                        children: [(0, a.jsxs)(s.ModalContent, {
                            children: [(0, a.jsxs)(s.ModalHeader, {
                                align: c.default.Align.CENTER,
                                className: m.modalHeader,
                                separator: !1,
                                children: [(0, a.jsx)(s.ModalCloseButton, {
                                    className: m.closeButton,
                                    onClick: S
                                }), (0, a.jsx)("div", {
                                    className: m.headerImage
                                }), (0, a.jsxs)("div", {
                                    className: m.titleRow,
                                    children: [(0, a.jsx)(s.FormTitle, {
                                        tag: "h1",
                                        className: m.title,
                                        children: p.default.Messages.VOICE_CHANNEL_STATUS_MODAL_TITLE
                                    }), (0, a.jsx)(d.default, {
                                        className: m.betaTag
                                    })]
                                }), (0, a.jsx)(s.Text, {
                                    color: "header-secondary",
                                    variant: "text-sm/normal",
                                    children: p.default.Messages.VOICE_CHANNEL_STATUS_MODAL_SUBTITLE
                                })]
                            }), (0, a.jsxs)(s.FormSection, {
                                className: m.inputSection,
                                title: p.default.Messages.VOICE_CHANNEL_STATUS,
                                children: [(0, a.jsx)(o.default, {
                                    innerClassName: m.textArea,
                                    textValue: C,
                                    richValue: A,
                                    placeholder: p.default.Messages.VOICE_CHANNEL_STATUS_MODAL_PREFILL_CHANNEL.format({
                                        channelName: n.name
                                    }),
                                    focused: !0,
                                    channel: n,
                                    onChange: (e, t, n) => {
                                        g(t), M(n)
                                    },
                                    onSubmit: () => (v(), Promise.resolve({
                                        shouldClear: !1,
                                        shouldRefocus: !0
                                    })),
                                    type: r.ChatInputTypes.VOICE_CHANNEL_STATUS,
                                    canMentionRoles: !1,
                                    canMentionChannels: !1,
                                    allowNewLines: !1,
                                    parentModalKey: E
                                }), null != N ? (0, a.jsx)(s.FormErrorBlock, {
                                    className: m.error,
                                    children: N
                                }) : null]
                            })]
                        }), (0, a.jsxs)(s.ModalFooter, {
                            justify: c.default.Justify.BETWEEN,
                            direction: c.default.Direction.HORIZONTAL,
                            children: [(0, a.jsx)(s.Button, {
                                color: s.Button.Colors.PRIMARY,
                                onClick: S,
                                children: p.default.Messages.CANCEL
                            }), (0, a.jsx)(s.Button, {
                                onClick: v,
                                submitting: I,
                                className: m.button,
                                children: p.default.Messages.VOICE_CHANNEL_STATUS_MODAL_SET_STATUS
                            })]
                        })]
                    })
                })
            }
        },
        243288: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("446674"),
                s = n("77078"),
                i = n("255397"),
                r = n("191145"),
                u = n("782340");

            function o(e) {
                let t = (0, l.useStateFromStores)([r.default], () => r.default.getVoiceParticipantsHidden(e));
                return (0, a.jsx)(s.MenuCheckboxItem, {
                    id: "no-video-hide",
                    label: u.default.Messages.STREAM_SHOW_NON_VIDEO,
                    checked: !t,
                    action: () => i.default.toggleVoiceParticipantsHidden(e, !t)
                })
            }
        },
        888814: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("65597"),
                s = n("760679"),
                i = n("242260"),
                r = n("315841"),
                u = n("981913"),
                o = n("987772"),
                d = n("814711"),
                c = n("782340");

            function f() {
                let e = (0, l.default)([i.default], () => i.default.getDrawMode()),
                    t = (null == e ? void 0 : e.type) === r.DrawableType.LINE,
                    n = () => {
                        t ? (0, s.setDrawMode)(null) : (0, s.setDrawMode)({
                            type: r.DrawableType.LINE
                        })
                    };
                return (0, a.jsx)(d.default, {
                    renderPopout: () => null,
                    children: e => {
                        let {
                            ...l
                        } = e;
                        return (0, a.jsx)(u.default, {
                            ...l,
                            label: c.default.Messages.SHARED_CANVAS_DRAW_MODE_LINE,
                            isActive: t,
                            iconComponent: o.default,
                            onClick: n
                        })
                    }
                })
            }
        },
        943917: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("65597"),
                s = n("760679"),
                i = n("242260"),
                r = n("315841"),
                u = n("124824"),
                o = n("981913"),
                d = n("258901"),
                c = n("472037"),
                f = n("814711"),
                h = n("782340");

            function p(e) {
                let {
                    channel: t
                } = e, n = (0, l.default)([i.default], () => i.default.getDrawMode()), p = (null == n ? void 0 : n.type) === r.DrawableType.EMOJI_HOSE, m = (e, t) => {
                    null != e ? (0, s.setDrawMode)({
                        type: r.DrawableType.EMOJI_HOSE,
                        emojiName: e.name,
                        emojiId: e.id
                    }) : p && (0, s.setDrawMode)(null), null == t || t()
                };
                return (0, a.jsx)(f.default, {
                    renderPopout: e => {
                        let {
                            closePopout: n,
                            onFocus: l
                        } = e;
                        return (0, a.jsx)(u.default, {
                            children: (0, a.jsx)(d.default, {
                                title: h.default.Messages.SHARED_CANVAS_DRAW_MODE_EMOJI_HOSE,
                                channel: t,
                                closePopout: n,
                                onFocus: l,
                                onSelectEmoji: e => m(e, n)
                            })
                        })
                    },
                    children: e => (0, a.jsx)(o.default, {
                        ...e,
                        iconComponent: c.default,
                        isActive: p || e.isActive,
                        onClick: t => {
                            m(null), e.onClick(t)
                        }
                    })
                })
            }
        },
        380116: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("446674"),
                i = n("174727"),
                r = n("124824"),
                u = n("515496"),
                o = n("568088"),
                d = n("257407"),
                c = n("814711");

            function f(e) {
                let {
                    channel: t
                } = e, n = (0, s.useStateFromStores)([o.default], () => o.default.effectCooldownEndTime), f = l.useMemo(() => null != n ? (n.getTime() - Date.now()) / 1e3 : 0, [n]), {
                    seconds: h
                } = (0, i.default)(null != n ? n : new Date), p = h > 0;
                return (0, a.jsx)(c.default, {
                    renderPopout: e => {
                        let {
                            closePopout: n,
                            onFocus: l
                        } = e;
                        return (0, a.jsx)(r.default, {
                            children: (0, a.jsx)(d.default, {
                                channel: t,
                                closePopout: n,
                                onFocus: l
                            })
                        })
                    },
                    children: e => {
                        let {
                            onMouseEnter: t,
                            ...n
                        } = e;
                        return (0, a.jsx)(u.default, {
                            totalCooldownSeconds: f,
                            remainingCooldownSeconds: h,
                            onMouseEnter: e => {
                                var n, a;
                                return n = e, a = t, void(!p && a(n))
                            },
                            ...n
                        })
                    }
                })
            }
        },
        814711: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("77078"),
                i = n("788220"),
                r = n("894282"),
                u = n("186503");

            function o(e) {
                let {
                    renderPopout: t,
                    onMouseEnter: n,
                    onMouseLeave: s,
                    closePopout: i,
                    isHovered: r,
                    ...u
                } = e;
                return l.useEffect(() => {
                    !r && i()
                }, [i, r]), (0, a.jsx)("div", {
                    onMouseEnter: n,
                    onMouseLeave: s,
                    children: t({
                        closePopout: i,
                        ...u
                    })
                })
            }

            function d(e) {
                let {
                    renderPopout: t,
                    children: n
                } = e, [d, c] = l.useState(!1), {
                    isHovered: f,
                    setIsHovered: h,
                    onMouseEnter: p,
                    onMouseLeave: m,
                    cancelTimers: E
                } = (0, i.default)(200, 300);

                function _(e) {
                    "focus" !== e.type && !d && p()
                }

                function S() {
                    !d && m()
                }

                function C(e) {
                    E(), c(!d), (!f || d) && e()
                }
                let g = f || d;
                return (0, a.jsx)(s.Popout, {
                    shouldShow: g,
                    animationPosition: "top",
                    position: "top",
                    align: "left",
                    spacing: 16,
                    onRequestClose: () => {
                        h(!1), c(!1)
                    },
                    renderPopout: e => (0, a.jsx)(o, {
                        isHovered: g,
                        onFocus: () => c(!0),
                        onMouseEnter: p,
                        onMouseLeave: S,
                        renderPopout: t,
                        ...e
                    }),
                    children: e => {
                        let {
                            onClick: t,
                            onKeyDown: l
                        } = e;
                        return (0, a.jsx)(a.Fragment, {
                            children: n({
                                onClick: e => C(() => t(e)),
                                onKeyDown: e => {
                                    var t, n;
                                    return t = e, n = l, void((t.key === r.KeyboardKeysUpdated.ENTER || t.key === r.KeyboardKeysUpdated.SPACE) && C(() => n(t)))
                                },
                                className: u.actionBarButton,
                                onMouseEnter: _,
                                onMouseLeave: S,
                                isActive: g
                            })
                        })
                    }
                })
            }
        },
        149882: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return S
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("65597"),
                s = n("151426"),
                i = n("272030"),
                r = n("235145"),
                u = n("78581"),
                o = n("429829"),
                d = n("191191"),
                c = n("244390"),
                f = n("124824"),
                h = n("981913"),
                p = n("42887"),
                m = n("754576"),
                E = n("814711"),
                _ = n("782340");

            function S(e) {
                let {
                    channel: t,
                    themeable: S
                } = e, C = t.getGuildId(), {
                    mute: g,
                    suppress: I
                } = (0, c.default)(t), T = (0, l.default)([p.default], () => p.default.isDeaf()), N = g || I || T, x = (0, u.useSoundBoardDismissContentTypes)({
                    isSoundboardButtonDisabled: N
                }), [v, A] = (0, r.useGetDismissibleContent)(x);

                function M(e) {
                    null != C && (0, i.openContextMenuLazy)(e, async () => {
                        let {
                            default: e
                        } = await n.el("136137").then(n.bind(n, "136137"));
                        return t => (0, a.jsx)(e, {
                            guildId: C,
                            ...t
                        })
                    })
                }
                return (0, a.jsx)(E.default, {
                    renderPopout: e => {
                        let {
                            closePopout: n
                        } = e;
                        return (0, a.jsx)(f.default, {
                            children: (0, a.jsx)(d.default, {
                                guildId: C,
                                channel: t,
                                onClose: n,
                                gridNotice: v === s.DismissibleContent.CUSTOM_CALL_SOUNDS_PICKER_UPSELL && (0, a.jsx)(o.CustomCallSoundUpsell, {
                                    onClose: n,
                                    markAsDismissed: A
                                }),
                                analyticsSource: "action bar button"
                            })
                        })
                    },
                    children: e => (0, a.jsx)(h.default, {
                        themeable: S,
                        label: function() {
                            if (g) return _.default.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_GUILD_MUTE;
                            if (I) return _.default.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_SUPPRESSED;
                            if (T) return _.default.Messages.SOUNDBOARD_OPEN_SOUNBOARRD_ERROR_DEAFENED
                        }(),
                        iconComponent: m.default,
                        disabled: N,
                        onContextMenu: M,
                        ...e
                    })
                })
            }
        },
        568009: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("65597"),
                s = n("760679"),
                i = n("242260"),
                r = n("981913"),
                u = n("462579"),
                o = n("814711"),
                d = n("782340");

            function c() {
                let e = (0, l.default)([i.default], () => !i.default.visibleOverlayCanvas);
                return (0, a.jsx)(o.default, {
                    renderPopout: () => null,
                    children: t => {
                        let {
                            ...n
                        } = t;
                        return (0, a.jsx)(r.default, {
                            ...n,
                            label: d.default.Messages.SHARED_CANVAS_HIDE_OVERLAY_DRAWINGS,
                            isActive: e,
                            iconComponent: u.default,
                            onClick: s.toggleOverlayCanvas
                        })
                    }
                })
            }
        },
        636150: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return C
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("627445"),
                s = n.n(l),
                i = n("446674"),
                r = n("261552"),
                u = n("780166"),
                o = n("245463"),
                d = n("697218"),
                c = n("991170"),
                f = n("888814"),
                h = n("943917"),
                p = n("380116"),
                m = n("149882"),
                E = n("568009"),
                _ = n("49111"),
                S = n("621262");

            function C(e) {
                var t;
                let {
                    channel: n,
                    hasActiveStream: l,
                    themeable: C = !1
                } = e, g = (0, i.useStateFromStores)([d.default], () => {
                    let e = d.default.getCurrentUser();
                    return s(null != e, "CenterControlTray: currentUser cannot be undefined"), e
                }), I = (0, r.default)(), {
                    isSharedCanvasEnabled: T
                } = u.default.useExperiment({
                    guildId: null !== (t = null == n ? void 0 : n.guild_id) && void 0 !== t ? t : "",
                    location: "b7309a_1"
                });
                if (null == n || null != I) return null;
                let N = (0, o.default)(n),
                    x = c.default.can({
                        permission: _.Permissions.ADD_REACTIONS,
                        user: g,
                        context: n
                    });
                return (0, a.jsxs)("div", {
                    className: S.voiceEffectsActionBar,
                    children: [N && (0, a.jsx)(m.default, {
                        channel: n,
                        themeable: C
                    }), x && (0, a.jsx)(p.default, {
                        channel: n
                    }), T && l && (0, a.jsx)(f.default, {}), T && l && (0, a.jsx)(h.default, {
                        channel: n
                    }), T && l && (0, a.jsx)(E.default, {})]
                })
            }
        },
        533466: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return e1
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("627445"),
                u = n.n(r),
                o = n("917351"),
                d = n.n(o),
                c = n("90915"),
                f = n("446674"),
                h = n("151426"),
                p = n("551042"),
                m = n("77078"),
                E = n("272030"),
                _ = n("942722"),
                S = n("561963"),
                C = n("264732"),
                g = n("738073"),
                I = n("737960"),
                T = n("789394"),
                N = n("734575"),
                x = n("84339"),
                v = n("447789"),
                A = n("191225"),
                M = n("169920"),
                R = n("420444"),
                L = n("191145"),
                O = n("494286"),
                y = n("850391"),
                j = n("992207"),
                P = n("269936"),
                D = n("69927"),
                b = n("40635"),
                U = n("10641"),
                F = n("327432"),
                w = n("336804"),
                G = n("928265"),
                B = n("744568"),
                k = n("257869"),
                H = n("848848"),
                V = n("93252"),
                W = n("661455"),
                Y = n("230035"),
                z = n("155832"),
                K = n("353054"),
                X = n("262956"),
                q = n("723431"),
                Z = n("977983"),
                Q = n("539938"),
                J = n("557809"),
                $ = n("853189"),
                ee = n("718091"),
                et = n("922164"),
                en = n("148205"),
                ea = n("969103"),
                el = n("361572"),
                es = n("267567"),
                ei = n("393414"),
                er = n("144491"),
                eu = n("56778"),
                eo = n("208021"),
                ed = n("582713"),
                ec = n("716214"),
                ef = n("58343"),
                eh = n("445375"),
                ep = n("38861"),
                em = n("31673"),
                eE = n("338273"),
                e_ = n("861570"),
                eS = n("970366"),
                eC = n("401642"),
                eg = n("514917"),
                eI = n("223170"),
                eT = n("59811"),
                eN = n("824135"),
                ex = n("982108"),
                ev = n("42203"),
                eA = n("474643"),
                eM = n("341542"),
                eR = n("247013"),
                eL = n("305961"),
                eO = n("824563"),
                ey = n("744983"),
                ej = n("18494"),
                eP = n("697218"),
                eD = n("800762"),
                eb = n("980423"),
                eU = n("439932"),
                eF = n("679653"),
                ew = n("176347"),
                eG = n("665182"),
                eB = n("681393"),
                ek = n("61918"),
                eH = n("656612"),
                eV = n("624027"),
                eW = n("49111"),
                eY = n("272505"),
                ez = n("99795"),
                eK = n("994428"),
                eX = n("237542"),
                eq = n("837979"),
                eZ = n("782340"),
                eQ = n("305794");
            let eJ = (0, P.makeLazy)({
                createPromise: () => n.el("479273").then(n.bind(n, "479273")),
                webpackId: "479273",
                renderLoader: () => (0, a.jsx)("div", {
                    className: eQ.loader,
                    children: (0, a.jsx)(m.Spinner, {})
                }),
                name: "ForumChannel"
            });
            class e$ extends l.PureComponent {
                componentDidMount() {
                    (0, eS.trackAppUIViewed)("guild_channel")
                }
                componentDidUpdate(e) {
                    null != this.props.channel && null != e.channel && this.props.channel.id !== e.channel.id && this.state.topicExpanded && this.setState({
                        topicExpanded: !1
                    }), this.openChannelModal()
                }
                openChannelContextMenu(e, t) {
                    let {
                        guild: l
                    } = this.props;
                    u(null != t, "Missing channel in Channel.openChannelContextMenu"), u(null != l, "Missing guild in Channel.openChannelContextMenu"), (0, E.openContextMenuLazy)(e, async () => {
                        let {
                            default: e
                        } = await n.el("229233").then(n.bind(n, "229233"));
                        return n => (0, a.jsx)(e, {
                            ...n,
                            channel: t,
                            guild: l
                        })
                    })
                }
                openThreadContextMenu(e, t) {
                    u(null != t, "Missing channel in Channel.openChannelContextMenu"), (0, E.openContextMenuLazy)(e, async () => {
                        let {
                            default: e
                        } = await n.el("994827").then(n.bind(n, "994827"));
                        return n => (0, a.jsx)(e, {
                            ...n,
                            channel: t
                        })
                    })
                }
                openDMContextMenu(e, t) {
                    u(null != t, "Missing channel in Channel.openDMContextMenu");
                    let l = eP.default.getUser(t.getRecipientId());
                    u(null != l, "Missing user in Channel.openDMContextMenu"), (0, E.openContextMenuLazy)(e, async () => {
                        let {
                            default: e
                        } = await n.el("130074").then(n.bind(n, "130074"));
                        return n => (0, a.jsx)(e, {
                            ...n,
                            user: l,
                            channelSelected: !0,
                            channel: t
                        })
                    })
                }
                renderCall() {
                    let {
                        channel: e,
                        showCall: t,
                        nsfwAllowed: n,
                        nsfwAgree: l
                    } = this.props;
                    if (u(null != e, "Missing channel in Channel.renderCall"), (null == e ? void 0 : e.isNSFW()) && (!n || !l) || !t) return null;
                    switch (e.type) {
                        case eW.ChannelTypes.GUILD_STAGE_VOICE:
                            return (0, a.jsx)(ef.default, {
                                channel: e
                            }, e.id);
                        case eW.ChannelTypes.GUILD_VOICE:
                        case eW.ChannelTypes.DM:
                        case eW.ChannelTypes.GROUP_DM:
                        case eW.ChannelTypes.PUBLIC_THREAD:
                        case eW.ChannelTypes.PRIVATE_THREAD:
                            let s = this.props.height - 200;
                            return (0, a.jsx)(O.default, {
                                channel: e,
                                renderExternalHeader: this.renderHeaderBar,
                                maxHeight: s
                            }, "call-".concat(e.id));
                        default:
                            return null
                    }
                }
                renderEmbeddedActivityPanel() {
                    let e = this.props.height - 200;
                    return (0, a.jsx)(M.default, {
                        maxHeight: e
                    })
                }
                renderChat() {
                    let {
                        channel: e,
                        nsfwAgree: t,
                        guild: n,
                        nsfwAllowed: l,
                        needSubscriptionToAccess: s
                    } = this.props;
                    if (u(null != e, "Missing channel in Channel.renderChat"), s) return (u(null != n, "premium channels must exist within a guild"), null == e ? void 0 : e.isRoleSubscriptionTemplatePreviewChannel()) ? (0, a.jsx)(V.default, {
                        guildId: n.id
                    }) : (0, a.jsx)(k.GroupListingsFetchContextProvider, {
                        guildId: n.id,
                        children: (0, a.jsx)(W.default, {
                            channelId: e.id,
                            guildId: n.id
                        })
                    });
                    if (e.isNSFW() && (!l || !t)) return (0, a.jsx)(g.default, {
                        guild: n
                    });
                    if (e.isGuildVocal()) return null;
                    if (e.isDirectory()) return u(null != n, "directory channels must exist within a guild"), (0, a.jsx)(b.default, {
                        channel: e,
                        guild: n
                    });
                    if (e.isForumLikeChannel()) {
                        u(null != n, "forum channels must exist within a guild");
                        let t = {
                            isThreadSidebarFloating: this.state.isThreadSidebarFloating,
                            threadSidebarWidth: this.state.threadSidebarWidth
                        };
                        return (0, a.jsx)(eJ, {
                            channel: e,
                            guild: n,
                            sidebarState: t
                        }, e.id)
                    }
                    return (0, a.jsx)(ew.default, {
                        channel: e,
                        guild: n,
                        chatInputType: y.ChatInputTypes.NORMAL
                    }, null != n ? n.id : "home")
                }
                renderSidebar() {
                    let {
                        searchId: e,
                        channel: t,
                        parentChannel: n,
                        guild: l,
                        needSubscriptionToAccess: s,
                        section: i,
                        showCall: r
                    } = this.props;
                    if (u(null != t, "Missing channel in Channel.renderSidebar"), __OVERLAY__ || s);
                    else if (i === eW.ChannelSections.PROFILE && t.isPrivate()) return (0, a.jsx)(eg.default, {
                        channel: t,
                        showCall: r
                    }, "private-channel-profile-".concat(t.id));
                    else if (i === eW.ChannelSections.MEMBERS) switch (t.type) {
                        case eW.ChannelTypes.GROUP_DM:
                            return (0, a.jsx)(_.default, {
                                channel: t
                            }, "private-channel-recipients-".concat(t.id));
                        case eW.ChannelTypes.GUILD_DIRECTORY:
                        case eW.ChannelTypes.GUILD_FORUM:
                        case eW.ChannelTypes.GUILD_MEDIA:
                        case eW.ChannelTypes.GUILD_ANNOUNCEMENT:
                        case eW.ChannelTypes.GUILD_TEXT:
                            var o;
                            let d = !0 === eW.ChannelTypesSets.GUILD_THREADS_ONLY.has(t.type) ? t.id : null !== (o = t.guild_id) && void 0 !== o ? o : t.id;
                            return (0, a.jsx)(ek.default, {
                                channel: t
                            }, "channel-members-".concat(d));
                        case eW.ChannelTypes.ANNOUNCEMENT_THREAD:
                            if (null != n) return (0, a.jsx)(ek.default, {
                                channel: n
                            }, "channel-members-".concat(n.id));
                            break;
                        case eW.ChannelTypes.PUBLIC_THREAD:
                        case eW.ChannelTypes.PRIVATE_THREAD:
                            if (!t.isArchivedThread() && null != l) return (0, a.jsx)(S.default, {
                                channel: t,
                                guild: l
                            }, "channel-members-".concat(t.id))
                    } else if (i === eW.ChannelSections.SEARCH && null != e) return (0, a.jsx)(eu.default, {
                        searchId: e
                    });
                    return null
                }
                openChannelModal() {
                    let {
                        channel: e,
                        guildId: t,
                        hasModalOpen: l,
                        showWelcomeModal: s,
                        isLurking: i,
                        isUnavailable: r,
                        showRealNameModal: u
                    } = this.props;
                    return null == e || null == t || r || l ? null : (u && (0, m.openModalLazy)(async () => {
                        let {
                            default: e
                        } = await n.el("278999").then(n.bind(n, "278999"));
                        return n => (0, a.jsx)(e, {
                            ...n,
                            guildId: t
                        })
                    }, {
                        onCloseCallback: () => G.default.viewPrompt(eX.GuildPrompts.REAL_NAME_PROMPT, t),
                        modalKey: "Guild Hub Real Name Modal"
                    }), s && (0, m.openModalLazy)(async () => {
                        let {
                            default: e
                        } = await n.el("900257").then(n.bind(n, "900257"));
                        return n => (0, a.jsx)(e, {
                            ...n,
                            guildId: t
                        })
                    }, {
                        onCloseCallback: () => (0, eI.welcomeScreenViewed)(t, i),
                        modalKey: "Guild Welcome Screen Modal"
                    }), null)
                }
                renderThreadSidebar() {
                    let e;
                    let {
                        channel: t,
                        section: n,
                        channelSidebarState: l,
                        guildSidebarState: s,
                        nsfwAgree: i,
                        nsfwAllowed: r,
                        width: u
                    } = this.props;
                    if (null == s && null == l) return null;
                    if (n === eW.ChannelSections.SIDEBAR_CHAT && null != l) {
                        if ((null == t ? void 0 : t.isNSFW()) && (!r || !i)) return null;
                        switch (l.type) {
                            case ed.SidebarType.CREATE_THREAD:
                                if (null == t ? void 0 : t.isForumLikeChannel()) return null;
                                e = (0, a.jsx)(eh.default, {
                                    parentChannelId: l.parentChannelId,
                                    parentMessageId: l.parentMessageId,
                                    location: l.location
                                });
                                break;
                            case ed.SidebarType.VIEW_THREAD:
                                let n = (null == t ? void 0 : t.isForumLikeChannel()) ? F.default : e_.default;
                                e = (0, a.jsx)(n, {
                                    channelId: l.channelId
                                });
                                break;
                            case ed.SidebarType.VIEW_CHANNEL:
                            case ed.SidebarType.VIEW_MESSAGE_REQUEST:
                            default:
                                return null
                        }
                    }
                    if (null != s && null == e) {
                        if (s.type === ed.GuildSidebarType.GUILD_MEMBER_MOD_VIEW) {
                            let {
                                guildId: e,
                                userId: t
                            } = s.details;
                            return (0, a.jsx)("div", {
                                style: {
                                    width: eW.DEFAULT_CHAT_SIDEBAR_WIDTH
                                },
                                children: (0, a.jsx)(B.default, {
                                    guildId: e,
                                    userId: t,
                                    onClose: () => eo.default.closeGuildSidebar(e)
                                })
                            })
                        } else return null
                    }
                    if (null == e) return null;
                    let o = (null == t ? void 0 : t.type) != null && eW.ChannelTypesSets.GUILD_THREADS_ONLY.has(t.type) ? 528 : 450,
                        d = u - eW.CHANNEL_SIDEBAR_WIDTH - o;
                    return (0, a.jsx)(eG.default, {
                        sidebarType: (null == t ? void 0 : t.type) != null && eW.ChannelTypesSets.GUILD_THREADS_ONLY.has(t.type) ? eG.ChatSidebarType.PostSidebar : eG.ChatSidebarType.ThreadSidebar,
                        maxWidth: d,
                        onWidthChange: this.handleThreadSidebarResize,
                        children: e
                    })
                }
                render() {
                    let {
                        channel: e,
                        guild: t,
                        formattedChannelName: n,
                        showCall: l,
                        isUnavailable: s,
                        layout: r,
                        section: u,
                        hasModalOpen: o,
                        guildSidebarState: d
                    } = this.props, {
                        threadSidebarWidth: c,
                        isThreadSidebarFloating: f
                    } = this.state;
                    if (s) return (0, a.jsx)(eH.default, {});
                    if (null == e) return (0, a.jsx)(eV.default, {
                        channelId: this.props.channelId
                    });
                    let h = u === eW.ChannelSections.SIDEBAR_CHAT,
                        p = !e.isForumLikeChannel() && !o,
                        m = null == t ? void 0 : t.name;
                    return (0, a.jsxs)(a.Fragment, {
                        children: [(0, a.jsx)(D.AppPageTitle, {
                            location: m,
                            subsection: null != n ? n : void 0
                        }), (0, a.jsxs)("div", {
                            className: i(eQ.chat, {
                                [eQ.threadSidebarOpen]: h || null != d && !h,
                                [eQ.threadSidebarFloating]: h && f
                            }),
                            children: [p ? (0, a.jsx)(C.default, {
                                style: {
                                    right: h ? c : void 0
                                },
                                className: eQ.uploadArea,
                                channel: e,
                                draftType: eA.DraftType.ChannelMessage
                            }) : null, l ? null : this.renderHeaderBar(), this.renderCall(), this.renderEmbeddedActivityPanel(), (0, a.jsxs)("div", {
                                className: i(eQ.content, {
                                    [eQ.noChat]: r === eW.ChannelLayouts.NO_CHAT
                                }),
                                children: [(0, a.jsx)(eB.default, {
                                    children: this.renderChat()
                                }), this.renderSidebar()]
                            })]
                        }), this.renderThreadSidebar(), (0, a.jsx)(Y.default, {})]
                    })
                }
                constructor(...e) {
                    super(...e), this.state = {
                        topicExpanded: !1,
                        threadSidebarWidth: void 0,
                        isThreadSidebarFloating: !1
                    }, this.handleTitleParentClick = () => {
                        let {
                            parentChannel: e
                        } = this.props;
                        null != e && (0, er.transitionToChannel)(e.id)
                    }, this._handleContextMenu = (e, t) => {
                        switch (t.type) {
                            case eW.ChannelTypes.GUILD_VOICE:
                            case eW.ChannelTypes.GUILD_ANNOUNCEMENT:
                            case eW.ChannelTypes.GUILD_TEXT:
                            case eW.ChannelTypes.GUILD_FORUM:
                            case eW.ChannelTypes.GUILD_MEDIA:
                                this.openChannelContextMenu(e, t);
                                break;
                            case eW.ChannelTypes.ANNOUNCEMENT_THREAD:
                            case eW.ChannelTypes.PUBLIC_THREAD:
                            case eW.ChannelTypes.PRIVATE_THREAD:
                                this.openThreadContextMenu(e, t);
                                break;
                            case eW.ChannelTypes.DM:
                                this.openDMContextMenu(e, t)
                        }
                    }, this.handleContextMenu = e => {
                        u(null != this.props.channel, "Missing channel in Channel.handleContextMenu"), this._handleContextMenu(e, this.props.channel)
                    }, this.handleParentContextMenu = e => {
                        u(null != this.props.parentChannel, "Missing parentChannel in Channel.handleParentContextMenu"), this._handleContextMenu(e, this.props.parentChannel)
                    }, this.handleThreadSidebarResize = (e, t) => {
                        this.setState({
                            threadSidebarWidth: e,
                            isThreadSidebarFloating: t
                        })
                    }, this.openUserProfile = () => {
                        let {
                            channel: e
                        } = this.props;
                        u(null == e ? void 0 : e.isPrivate(), "Missing private channel in Channel.openUserProfile"), (0, eC.openUserProfileModal)({
                            userId: e.getRecipientId(),
                            guildId: e.guild_id,
                            channelId: e.id,
                            analyticsLocation: {
                                section: eW.AnalyticsSections.CHANNEL_HEADER
                            }
                        })
                    }, this.renderClipsEnabledIndicatorToolbarItem = () => {
                        let {
                            inCall: e,
                            voiceChannel: t
                        } = this.props;
                        return e ? (0, a.jsx)(j.default, {
                            channelId: null != t ? t.id : null
                        }) : null
                    }, this.renderStreamQualityLiveIndicatorToolbarItem = () => {
                        let {
                            selectedParticipant: e
                        } = this.props;
                        return (null == e ? void 0 : e.type) !== ez.ParticipantTypes.STREAM ? null : (0, a.jsx)(w.default, {
                            size: eb.default.Sizes.LARGE,
                            participant: e,
                            showQuality: !0
                        }, "live-indicator")
                    }, this.renderHeaderToolbar = () => {
                        let {
                            channel: e,
                            parentChannel: t,
                            isLurking: n,
                            showCall: l
                        } = this.props;
                        u(null != e, "Missing channel in Channel.renderHeaderToolbar");
                        let s = [];
                        if (e.isSystemDM()) return s;
                        switch (e.type) {
                            case eW.ChannelTypes.GUILD_STAGE_VOICE:
                            case eW.ChannelTypes.GUILD_VOICE:
                                break;
                            case eW.ChannelTypes.DM:
                                s.push(this.renderClipsEnabledIndicatorToolbarItem()), s.push(this.renderStreamQualityLiveIndicatorToolbarItem()), s.push((0, a.jsx)($.default, {
                                    channel: e
                                }, "calls")), s.push((0, a.jsx)(X.default, {
                                    channel: e
                                }, "pins")), s.push((0, a.jsx)(ee.default, {
                                    channel: e,
                                    tooltip: eZ.default.Messages.GROUP_DM_ADD_FRIENDS
                                }, "invite")), s.push((0, a.jsx)(et.default, {
                                    channel: e,
                                    showCall: l
                                }, "profile"));
                                break;
                            case eW.ChannelTypes.GROUP_DM:
                                if (s.push(this.renderClipsEnabledIndicatorToolbarItem()), s.push(this.renderStreamQualityLiveIndicatorToolbarItem()), s.push((0, a.jsx)($.default, {
                                        channel: e
                                    }, "calls")), s.push((0, a.jsx)(X.default, {
                                        channel: e
                                    }, "pins")), !e.isManaged()) {
                                    let t = eZ.default.Messages.GROUP_DM_ADD_FRIENDS;
                                    s.push((0, a.jsx)(ee.default, {
                                        channel: e,
                                        tooltip: t
                                    }, "invite"))
                                }
                                s.push((0, a.jsx)(z.default, {
                                    channelId: e.id
                                }, "members"));
                                break;
                            case eW.ChannelTypes.ANNOUNCEMENT_THREAD:
                            case eW.ChannelTypes.PRIVATE_THREAD:
                            case eW.ChannelTypes.PUBLIC_THREAD:
                                null != t && !t.isForumLikeChannel() && s.push((0, a.jsx)(ep.default, {
                                    channel: t
                                }, "browser")), e.isVocalThread() && s.push((0, a.jsx)(en.default, {
                                    channel: e
                                }, "thread-call")), s.push((0, a.jsx)(em.default, {
                                    channel: e
                                }, "notifications")), s.push((0, a.jsx)(X.default, {
                                    channel: e
                                }, "pins")), !e.isArchivedThread() && s.push((0, a.jsx)(z.default, {
                                    channelId: e.id
                                }, "members")), null != t && (0, N.canSeeChannelSummaries)(e) && s.push((0, a.jsx)(q.default, {
                                    channel: e
                                }, "summaries")), s.push((0, a.jsx)(eE.default, {
                                    channel: e
                                }, "threads-overflow"));
                                break;
                            case eW.ChannelTypes.GUILD_ANNOUNCEMENT:
                            case eW.ChannelTypes.GUILD_TEXT:
                                s.push((0, a.jsx)(ep.default, {
                                    channel: e
                                }, "browser")), !n && s.push((0, a.jsx)(K.default, {
                                    channel: e
                                }, "notifications")), s.push((0, a.jsx)(X.default, {
                                    channel: e
                                }, "pins")), s.push((0, a.jsx)(z.default, {
                                    channelId: e.id
                                }, "members")), (0, N.canSeeChannelSummaries)(e) && s.push((0, a.jsx)(q.default, {
                                    channel: e
                                }, "summaries"));
                                break;
                            case eW.ChannelTypes.GUILD_FORUM:
                            case eW.ChannelTypes.GUILD_MEDIA:
                                !n && (s.push((0, a.jsx)(Z.default, {
                                    channel: e
                                }, "forum-onboarding")), s.push((0, a.jsx)(K.default, {
                                    channel: e
                                }, "notifications"))), !__OVERLAY__ && s.push((0, a.jsx)(z.default, {
                                    channelId: e.id
                                }, "members"));
                                break;
                            case eW.ChannelTypes.GUILD_DIRECTORY:
                                s.push((0, a.jsx)(z.default, {
                                    channelId: e.id
                                }, "members"))
                        }
                        return s
                    }, this.renderMobileToolbar = () => {
                        let {
                            channel: e
                        } = this.props;
                        u(null != e, "Missing channel in Channel.renderHeaderToolbar");
                        let t = [];
                        if (e.isSystemDM()) return t;
                        switch (e.type) {
                            case eW.ChannelTypes.GUILD_STAGE_VOICE:
                            case eW.ChannelTypes.GUILD_VOICE:
                            case eW.ChannelTypes.DM:
                                break;
                            case eW.ChannelTypes.GROUP_DM:
                                t.push((0, a.jsx)(z.default, {
                                    channelId: e.id
                                }, "members"));
                                break;
                            case eW.ChannelTypes.ANNOUNCEMENT_THREAD:
                            case eW.ChannelTypes.PRIVATE_THREAD:
                            case eW.ChannelTypes.PUBLIC_THREAD:
                                !e.isArchivedThread() && t.push((0, a.jsx)(z.default, {
                                    channelId: e.id
                                }, "members"));
                                break;
                            case eW.ChannelTypes.GUILD_ANNOUNCEMENT:
                            case eW.ChannelTypes.GUILD_TEXT:
                            case eW.ChannelTypes.GUILD_FORUM:
                            case eW.ChannelTypes.GUILD_MEDIA:
                            case eW.ChannelTypes.GUILD_DIRECTORY:
                                t.push((0, a.jsx)(z.default, {
                                    channelId: e.id
                                }, "members"))
                        }
                        return t
                    }, this.renderFollowButton = () => {
                        let {
                            showFollowButton: e,
                            channel: t
                        } = this.props;
                        return e ? (0, a.jsx)(m.Button, {
                            size: m.Button.Sizes.MIN,
                            color: m.Button.Colors.PRIMARY,
                            className: eQ.followButton,
                            onClick: () => (0, m.openModalLazy)(async () => {
                                let {
                                    default: e
                                } = await n.el("996177").then(n.bind(n, "996177"));
                                return n => (0, a.jsx)(e, {
                                    channel: t,
                                    ...n
                                })
                            }),
                            children: eZ.default.Messages.FOLLOW
                        }) : null
                    }, this.renderHeaderBar = () => {
                        let {
                            channel: e,
                            channelName: t,
                            parentChannel: n,
                            guild: l,
                            guildId: s,
                            showCall: r,
                            hasVideo: o,
                            channelEmojiLeftOfIcon: d
                        } = this.props;
                        u(null != e, "Missing channel in Channel.renderHeaderBar"), u(null != t, "Should not be null if channel is not null.");
                        let c = e.isDM() && !e.isSystemDM() ? this.openUserProfile : void 0,
                            f = (null == n ? void 0 : n.guild_id) != null && (null == n ? void 0 : n.id) != null ? this.handleTitleParentClick : void 0;
                        return (0, a.jsxs)(Q.default, {
                            guildId: s,
                            channelId: e.id,
                            channelType: e.type,
                            hideSearch: e.isDirectory(),
                            toolbar: this.renderHeaderToolbar(),
                            mobileToolbar: this.renderMobileToolbar(),
                            className: i(eQ.title, o && r ? (0, eU.getThemeClass)(eW.ThemeTypes.DARK) : null),
                            transparent: r,
                            "aria-label": eZ.default.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL,
                            children: [(0, J.renderTitle)({
                                channel: e,
                                channelName: t,
                                parentChannel: n,
                                guild: l,
                                hasVideo: o,
                                handleContextMenu: this.handleContextMenu,
                                handleParentContextMenu: this.handleParentContextMenu,
                                handleClick: c,
                                handleParentClick: f,
                                renderFollowButton: this.renderFollowButton,
                                channelEmojiLeftOfIcon: d
                            }), (0, a.jsx)(J.HeaderGuildBreadcrumb, {
                                channel: e,
                                guild: l
                            }), (0, J.renderTopic)(e, l)]
                        }, "header-".concat(e.id))
                    }
                }
            }
            let e0 = (0, I.default)(e$);
            var e1 = l.memo(function(e) {
                var t, n;
                let {
                    providedChannel: s
                } = e, [i, r] = l.useState(null), u = (0, f.useStateFromStores)([ej.default], () => ej.default.getChannelId()), o = (0, f.useStateFromStores)([ej.default], () => ej.default.getVoiceChannelId()), m = (0, f.useStateFromStores)([ev.default], () => null != s ? s : ev.default.getChannel(u), [u, s]), E = (0, f.useStateFromStores)([ev.default], () => ev.default.getChannel(o), [o]), _ = null == m ? void 0 : m.parent_id, S = (0, f.useStateFromStores)([ev.default], () => ev.default.getChannel(_), [_]), C = (0, f.useStateFromStores)([eL.default], () => eL.default.getGuild(null == m ? void 0 : m.guild_id), [m]), {
                    needSubscriptionToAccess: g
                } = (0, H.default)(null !== (t = null == m ? void 0 : m.id) && void 0 !== t ? t : void 0), I = (0, f.useStateFromStores)([L.default], () => {
                    let e = null != u ? L.default.getParticipants(u) : [],
                        t = null != u ? L.default.getActivityParticipants(u) : [];
                    return e.length - t.length > 0
                }, [u]), M = (0, f.useStateFromStores)([A.default], () => A.default.getSelfEmbeddedActivityForChannel(null !== (n = null == m ? void 0 : m.id) && void 0 !== n ? n : "")), O = (0, f.useStateFromStores)([A.default], () => A.default.getActivityPanelMode()), y = null != M && !(0, R.default)(null == m ? void 0 : m.id) && O === eY.ActivityPanelModes.PANEL, j = (0, f.useStateFromStores)([eD.default], () => null != m && m.isVocalThread() && !d.isEmpty(eD.default.getVoiceStatesForChannel(m.id)), [m]), P = (null == m ? void 0 : m.isGuildVocal()) || y || I || j, {
                    welcomeModalChannelId: D
                } = (0, c.useLocation)(), b = (0, f.useStateFromStores)([es.default], () => null != m && es.default.isLurking(m.guild_id), [m]), F = (0, f.useStateFromStores)([eT.default], () => eT.default.hasSeen(null == m ? void 0 : m.guild_id, b), [m, b]), w = (0, f.useStateFromStores)([L.default], () => null != u ? L.default.getLayout(u) : eW.ChannelLayouts.NORMAL, [u]), G = (0, f.useStateFromStores)([L.default], () => null != m ? L.default.getSelectedParticipant(m.id) : null), B = (0, f.useStateFromStores)([eP.default], () => eP.default.getCurrentUser()), k = (0, ea.default)(C), V = (0, eN.default)(D, null == C ? void 0 : C.id), {
                    section: W,
                    channelSidebarState: Y
                } = (0, f.useStateFromStoresObject)([ex.default], () => ({
                    section: ex.default.getSection(u, null == m ? void 0 : m.isDM()),
                    channelSidebarState: ex.default.getSidebarState(u)
                }), [u, m]), z = null == C ? void 0 : C.id, K = (0, f.useStateFromStores)([ex.default], () => ex.default.getGuildSidebarState(z), [z]), X = (0, eF.default)(m), q = (0, eF.default)(m, !0), Z = null != m && o === m.id, Q = null != m && m.isGuildStageVoice();
                l.useEffect(() => {
                    var e, t, n;
                    let a = (0, ei.getHistory)();
                    if ((null == a ? void 0 : null === (e = a.location) || void 0 === e ? void 0 : e.state) === eq.STAGE_INVITE_STATE_KEY) {
                        let {
                            channelId: e
                        } = null !== (n = (0, el.tryParseChannelPath)(null == a ? void 0 : null === (t = a.location) || void 0 === t ? void 0 : t.pathname)) && void 0 !== n ? n : {};
                        null != e && r(e)
                    }
                }, []), l.useEffect(() => {
                    null != i && null != m && Q && m.id === i && !Z && ((0, ec.connectAndOpen)(m), r(null))
                }, [i, Q]);
                let J = (0, N.useChannelSummariesExperiment)(m);
                l.useEffect(() => {
                    null != m && m.isPrivate() && v.ActivitiesInGdmExperiment.trackExposure({
                        location: "781dc9_1"
                    })
                }, [m]);
                let $ = null != m && m.isPrivate(),
                    ee = (0, x.default)($),
                    et = (0, x.default)(null == m ? void 0 : m.id);
                l.useEffect(() => {
                    let e = ee && !$,
                        t = ee && $ && (null == m ? void 0 : m.id) !== et;
                    (e || t) && (0, U.markDismissibleContentAsDismissed)(h.DismissibleContent.ACTIVITY_GDM_CALL_TOOLTIP, {
                        dismissAction: eK.ContentDismissActionType.AUTO
                    })
                }, [null == m ? void 0 : m.id, et, $, ee]);
                let {
                    left: en
                } = T.ChannelEmojisExperiment.useExperiment({
                    location: "781dc9_2"
                }, {
                    autoTrackExposure: !1
                }), er = (0, p.useHasAnyModalOpen)();
                return (0, a.jsx)(e0, {
                    guildId: null == m ? void 0 : m.guild_id,
                    channelId: u,
                    channel: m,
                    channelName: X,
                    formattedChannelName: q,
                    parentChannel: S,
                    voiceChannel: E,
                    layout: w,
                    needSubscriptionToAccess: g,
                    isLurking: b,
                    hasModalOpen: er,
                    section: W,
                    channelSidebarState: Y,
                    guildSidebarState: K,
                    guild: C,
                    searchId: (0, f.useStateFromStores)([ey.default], () => ey.default.getCurrentSearchId()),
                    showCall: !g && P,
                    nsfwAgree: (0, f.useStateFromStores)([eR.default], () => eR.default.didAgree(null == m ? void 0 : m.guild_id)),
                    isMobile: (0, f.useStateFromStores)([eO.default], () => (null == m ? void 0 : m.type) === eW.ChannelTypes.DM && eO.default.isMobileOnline(m.getRecipientId()), [m]),
                    isUnavailable: (0, f.useStateFromStores)([eM.default], () => (null == m ? void 0 : m.guild_id) != null && eM.default.isUnavailable(m.guild_id), [m]),
                    showRealNameModal: k,
                    showWelcomeModal: !F && V,
                    showFollowButton: (null == m ? void 0 : m.type) === eW.ChannelTypes.GUILD_ANNOUNCEMENT && (null == C ? void 0 : C.hasFeature(eW.GuildFeatures.NEWS)) || !1,
                    ...(0, f.useStateFromStoresObject)([eD.default], () => ({
                        hasVideo: null != m && eD.default.hasVideo(m.id)
                    }), [m]),
                    inCall: Z,
                    selectedParticipant: G,
                    nsfwAllowed: (null == B ? void 0 : B.nsfwAllowed) === !0,
                    showChannelSummaries: J,
                    channelEmojiLeftOfIcon: en
                })
            })
        },
        681393: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("757245"),
                s = n("703648");

            function i(e) {
                let {
                    children: t
                } = e;
                return (0, a.jsxs)("div", {
                    className: s.container,
                    children: [(0, a.jsx)("div", {
                        className: s.chatContainer,
                        children: t
                    }), (0, a.jsx)("div", {
                        className: s.overlayContainer,
                        children: (0, a.jsx)("div", {
                            className: s.activityActionBarContainer,
                            children: (0, a.jsx)(l.default, {})
                        })
                    })]
                })
            }
        },
        61918: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return q
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("917351"),
                u = n.n(r),
                o = n("974667"),
                d = n("394846"),
                c = n("446674"),
                f = n("233736"),
                h = n("77078"),
                p = n("272030"),
                m = n("666020"),
                E = n("352674"),
                _ = n("888503"),
                S = n("206230"),
                C = n("716241"),
                g = n("521803"),
                I = n("95039"),
                T = n("405645"),
                N = n("12896"),
                x = n("506885"),
                v = n("981601"),
                A = n("19766"),
                M = n("305961"),
                R = n("191542"),
                L = n("697218"),
                O = n("476765"),
                y = n("826684"),
                j = n("483093"),
                P = n("659500"),
                D = n("449008"),
                b = n("158998"),
                U = n("50885"),
                F = n("49111"),
                w = n("782340"),
                G = n("881235");
            let B = U.default.getEnableHardwareAcceleration(),
                k = 44 + _.AVATAR_DECORATION_PADDING,
                H = {
                    origin: {
                        x: 38,
                        y: 11
                    },
                    targetWidth: 232,
                    targetHeight: 40,
                    offset: {
                        x: 0,
                        y: 0
                    }
                };
            class V extends l.Component {
                shouldComponentUpdate(e) {
                    return !(0, f.default)(this.props, e, ["channelId"])
                }
                render() {
                    let {
                        colorString: e,
                        colorRoleName: t,
                        isOwner: n,
                        nick: l,
                        user: s,
                        currentUser: i,
                        activities: r,
                        applicationStream: u,
                        status: o,
                        channel: c,
                        guildId: f,
                        isTyping: p,
                        isMobileOnline: m,
                        premiumSince: E,
                        ...S
                    } = this.props, C = null != E ? new Date(E) : null;
                    return (0, a.jsx)(h.Popout, {
                        preload: () => (0, x.default)(s.id, s.getAvatarURL(f, 80), {
                            guildId: f,
                            channelId: c.id
                        }),
                        renderPopout: this.renderUserPopout,
                        position: d.isMobile ? "window_center" : "left",
                        spacing: 16,
                        onShiftClick: this.handleShiftClick,
                        children: (d, h) => {
                            let {
                                isShown: E
                            } = h;
                            return (0, a.jsx)(_.default, {
                                className: G.member,
                                onContextMenu: this.renderUserContextMenu,
                                shouldAnimateStatus: B,
                                user: s,
                                currentUser: i,
                                nick: l,
                                status: o,
                                activities: r,
                                applicationStream: u,
                                isOwner: n,
                                premiumSince: C,
                                colorString: e,
                                colorRoleName: t,
                                isTyping: p,
                                channel: c,
                                guildId: f,
                                isMobile: m,
                                onClickPremiumGuildIcon: this.openGuildSubscriptionModal,
                                selected: E,
                                itemProps: S,
                                ...d
                            })
                        }
                    })
                }
                constructor(...e) {
                    super(...e), this.renderUserContextMenu = e => {
                        (0, p.openContextMenuLazy)(e, async () => {
                            let {
                                default: e
                            } = await n.el("834247").then(n.bind(n, "834247"));
                            return t => (0, a.jsx)(e, {
                                ...t,
                                user: this.props.user,
                                guildId: this.props.guildId,
                                channel: this.props.channel,
                                showMediaItems: !0
                            })
                        })
                    }, this.handleShiftClick = () => {
                        let {
                            user: e,
                            channel: t
                        } = this.props, n = "@".concat(b.default.getUserTag(e, {
                            decoration: "never"
                        })), a = "<@".concat(e.id, ">");
                        P.ComponentDispatch.dispatchToLastSubscribed(F.ComponentActions.INSERT_TEXT, {
                            plainText: n,
                            rawText: a
                        }), E.default.startTyping(t.id)
                    }, this.openGuildSubscriptionModal = e => {
                        let {
                            guildId: t
                        } = this.props;
                        null != t && (e.stopPropagation(), (0, I.openGuildBoostingMarketingModal)({
                            guildId: t,
                            location: {
                                section: F.AnalyticsSections.MEMBER_LIST,
                                object: F.AnalyticsObjects.BOOST_GEM_ICON
                            }
                        }))
                    }, this.renderUserPopout = e => (0, a.jsx)(v.default, {
                        ...e,
                        userId: this.props.user.id,
                        guildId: this.props.guildId,
                        channelId: this.props.channel.id
                    })
                }
            }
            let W = l.memo(e => {
                    let {
                        colorRoleId: t,
                        ...n
                    } = e, {
                        channel: l,
                        user: s,
                        index: i
                    } = e, r = (0, o.useListItem)("".concat(i)), u = (0, c.useStateFromStores)([R.default], () => R.default.isTyping(l.id, s.id)), d = (0, c.useStateFromStores)([L.default], () => L.default.getCurrentUser()), f = (0, c.useStateFromStores)([M.default], () => {
                        var e, n;
                        return null != t ? null === (n = M.default.getGuild(l.guild_id)) || void 0 === n ? void 0 : null === (e = n.getRole(t)) || void 0 === e ? void 0 : e.name : void 0
                    }, [l, t]);
                    return (0, a.jsx)(V, {
                        ...n,
                        ...r,
                        isTyping: u,
                        currentUser: d,
                        colorRoleName: f
                    })
                }),
                Y = l.memo(function(e) {
                    let {
                        id: t,
                        title: n,
                        count: l,
                        guildId: s
                    } = e, i = (0, T.useRoleIcon)({
                        roleId: t,
                        guildId: s,
                        size: 16
                    });
                    return t === F.StatusTypes.UNKNOWN ? (0, a.jsx)("div", {
                        className: G.membersGroup,
                        children: (0, a.jsx)("div", {
                            className: G.memberGroupsPlaceholder
                        })
                    }) : (0, a.jsxs)(y.default, {
                        className: G.membersGroup,
                        children: [(0, a.jsx)(h.HiddenVisually, {
                            children: w.default.Messages.CHANNEL_MEMBERS_A11Y_LABEL.format({
                                title: n,
                                count: l
                            })
                        }), (0, a.jsxs)("span", {
                            "aria-hidden": !0,
                            children: [null != i ? (0, a.jsx)(j.default, {
                                className: G.roleIcon,
                                ...i
                            }) : null, n, " — ", l]
                        })]
                    })
                });

            function z(e) {
                let {
                    index: t
                } = e, n = (0, o.useListItem)("".concat(t));
                return (0, a.jsx)(_.default, {
                    itemProps: n
                })
            }
            class K extends l.Component {
                shouldComponentUpdate(e) {
                    return e.channel.id !== this.props.channel.id || e.version !== this.props.version || e.groups.length !== this.props.groups.length
                }
                componentDidMount() {
                    this.updateSubscription(), this.trackMemberListViewed()
                }
                componentDidUpdate(e) {
                    e.channel.id !== this.props.channel.id && this.updateSubscription(), this.trackMemberListViewed()
                }
                getDimensions() {
                    let e = this._list;
                    if (null == e) return {
                        y: 0,
                        height: 0,
                        rowHeight: 0
                    };
                    let {
                        offsetHeight: t,
                        scrollTop: n
                    } = e.getScrollerState(), a = Math.floor(t / k);
                    return {
                        height: t,
                        rowHeight: k,
                        rowsVisible: a,
                        y: n
                    }
                }
                render() {
                    let {
                        groups: e,
                        listId: t,
                        channel: n
                    } = this.props;
                    return (0, a.jsxs)(a.Fragment, {
                        children: [(0, a.jsx)("div", {
                            className: G.membersListNotices,
                            children: (0, a.jsx)(g.default, {
                                channel: n
                            })
                        }), (0, a.jsx)(h.FocusJumpSection, {
                            children: l => (0, a.jsx)(O.UID, {
                                children: s => (0, a.jsx)("aside", {
                                    className: i(G.membersWrap, G.hiddenMembers),
                                    "aria-labelledby": s,
                                    children: (0, a.jsx)(h.HeadingLevel, {
                                        component: (0, a.jsx)(h.HiddenVisually, {
                                            children: (0, a.jsx)(h.H, {
                                                id: s,
                                                children: w.default.Messages.MEMBERS_LIST_LANDMARK_LABEL.format({
                                                    channel: n.name
                                                })
                                            })
                                        }),
                                        children: (0, a.jsx)(o.ListNavigatorContainer, {
                                            children: n => {
                                                let {
                                                    ref: s,
                                                    role: r,
                                                    ...u
                                                } = n;
                                                return (0, a.jsx)(h.List, {
                                                    innerRole: r,
                                                    innerAriaLabel: w.default.Messages.MEMBERS,
                                                    ref: e => {
                                                        var t;
                                                        this._list = e, this.props.listRef.current = e, s.current = null !== (t = null == e ? void 0 : e.getScrollerNode()) && void 0 !== t ? t : null
                                                    },
                                                    className: i(G.members, {
                                                        [G.fullWidth]: d.isMobile
                                                    }),
                                                    paddingTop: 0,
                                                    sectionHeight: 40,
                                                    rowHeight: k,
                                                    renderSection: this.renderSection,
                                                    renderRow: this.renderRow,
                                                    sections: e.map(e => e.count),
                                                    onScroll: this.handleScroll,
                                                    fade: !0,
                                                    customTheme: !0,
                                                    ...u,
                                                    ...l
                                                }, t)
                                            }
                                        })
                                    })
                                })
                            })
                        })]
                    })
                }
                constructor(...e) {
                    super(...e), this._list = null, this.setList = e => {
                        this._list = e, this.props.listRef.current = e
                    }, this.renderSection = e => {
                        let {
                            section: t
                        } = e, {
                            groups: n,
                            channel: s
                        } = this.props, i = n[t];
                        return 0 === t ? (0, a.jsx)(N.default, {
                            tutorialId: "whos-online",
                            position: "left",
                            inlineSpecs: H,
                            children: (0, a.jsx)(Y, {
                                ...i,
                                guildId: s.guild_id
                            })
                        }, "section-".concat(t)) : (0, l.createElement)(Y, {
                            ...i,
                            key: "section-".concat(t),
                            guildId: s.guild_id
                        })
                    }, this.getRowProps = e => {
                        let {
                            groups: t,
                            rows: n
                        } = this.props, a = t[e.section];
                        if (null == a) return null;
                        let {
                            index: l
                        } = a;
                        return null == l || "row" !== e.type ? null : n[l + 1 + e.row]
                    }, this.renderRow = e => {
                        let {
                            section: t,
                            row: n,
                            rowIndex: l
                        } = e, {
                            channel: s
                        } = this.props, i = this.getRowProps(e);
                        if (null == i || i.type !== A.MemberListRowTypes.MEMBER || !("user" in i)) return (0, a.jsx)(z, {
                            index: l
                        }, "placeholder-".concat(t, ":").concat(n));
                        {
                            let {
                                colorString: e,
                                colorRoleId: t,
                                user: n,
                                status: r,
                                isOwner: u,
                                isMobileOnline: o,
                                nick: d,
                                activities: c,
                                applicationStream: f,
                                premiumSince: h
                            } = i;
                            return (0, a.jsx)(W, {
                                colorString: e,
                                colorRoleId: t,
                                user: n,
                                status: r,
                                isOwner: u,
                                nick: d,
                                activities: c,
                                applicationStream: f,
                                channel: s,
                                guildId: s.guild_id,
                                premiumSince: h,
                                isMobileOnline: o,
                                index: l
                            }, "member-".concat(i.user.id))
                        }
                    }, this.handleScroll = () => {
                        this.updateSubscription()
                    }, this.updateSubscription = u.debounce(() => {
                        let e = this._list;
                        if (null == e) return;
                        let {
                            channel: t
                        } = this.props, {
                            rowHeight: n,
                            y: a,
                            height: l
                        } = this.getDimensions();
                        (0, m.subscribeChannelDimensions)({
                            guildId: t.guild_id,
                            channelId: t.id,
                            y: a,
                            height: l,
                            rowHeight: n
                        })
                    }, 50), this.trackMemberListViewed = () => {
                        var e;
                        if (this.lastReportedAnalyticsChannel === this.props.channel.id) return;
                        let t = null === (e = this._list) || void 0 === e ? void 0 : e.getItems(),
                            {
                                rowsVisible: n
                            } = this.getDimensions();
                        if (void 0 === n || 0 === n || null == t) return;
                        let a = t.map(e => this.getRowProps(e)).slice(0, n + 1).filter(D.isNotNullish);
                        if (0 === a.length) return;
                        let l = a.reduce((e, t) => t.type !== A.MemberListRowTypes.MEMBER ? e : (e.num_users_visible++, t.isMobileOnline && e.num_users_visible_with_mobile_indicator++, null != t.activities && t.activities.length > 0 && (e.num_users_visible_with_activity++, t.activities.some(e => e.type === F.ActivityTypes.PLAYING) && e.num_users_visible_with_game_activity++), null != t.user.avatarDecoration && e.num_users_visible_with_avatar_decoration++, e), {
                            num_users_visible: 0,
                            num_users_visible_with_mobile_indicator: 0,
                            num_users_visible_with_game_activity: 0,
                            num_users_visible_with_activity: 0,
                            num_users_visible_with_avatar_decoration: 0
                        });
                        this.lastReportedAnalyticsChannel = this.props.channel.id, C.default.trackWithMetadata(F.AnalyticEvents.MEMBER_LIST_VIEWED, {
                            ...l
                        })
                    }
                }
            }

            function X(e) {
                let {
                    channel: t,
                    className: n
                } = e, s = (0, c.useStateFromStores)([S.default], () => S.default.keyboardModeEnabled), r = (0, c.useStateFromStoresObject)([A.default], () => A.default.getProps(t.guild_id, t.id)), {
                    rows: u,
                    groups: d
                } = r, f = l.useRef(null), h = l.useCallback((e, t) => {
                    let n = f.current;
                    if (null == n) return;
                    let a = parseInt(t, 10),
                        [l, s] = n.getSectionRowFromIndex(a),
                        i = 0 === l && 0 === s ? k : 0;
                    n.scrollToIndex({
                        section: l,
                        row: s,
                        padding: i,
                        callback: () => {
                            requestAnimationFrame(() => {
                                var t;
                                return null === (t = document.querySelector(e)) || void 0 === t ? void 0 : t.focus({
                                    preventScroll: !0
                                })
                            })
                        }
                    })
                }, []), p = l.useCallback(() => new Promise(e => {
                    let t = f.current;
                    if (null == t) return e();
                    t.scrollToTop({
                        callback: () => requestAnimationFrame(() => e())
                    })
                }), []), m = l.useCallback(() => new Promise(e => {
                    let t = f.current;
                    if (null == t) return e();
                    t.scrollToBottom({
                        callback() {
                            requestAnimationFrame(() => setTimeout(e, 100))
                        }
                    })
                }), []), E = (0, o.default)({
                    id: "members-".concat(t.id),
                    setFocus: h,
                    isEnabled: s,
                    scrollToStart: p,
                    scrollToEnd: m
                });
                return (0, a.jsx)("div", {
                    className: i(G.container, n),
                    children: (0, a.jsx)(o.ListNavigatorProvider, {
                        navigator: E,
                        children: (0, a.jsx)(K, {
                            ...e,
                            ...r,
                            groups: d,
                            rows: u,
                            listRef: f
                        })
                    })
                })
            }

            function q(e) {
                let {
                    channel: t,
                    className: n
                } = e, s = l.useDeferredValue(t);
                return l.useMemo(() => (0, a.jsx)(X, {
                    channel: s,
                    className: n
                }), [s, n])
            }
        },
        656612: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("819855"),
                i = n("77078"),
                r = n("841098"),
                u = n("716241"),
                o = n("539938"),
                d = n("593195"),
                c = n("49111"),
                f = n("782340"),
                h = n("845871"),
                p = n("242412"),
                m = n("846770"),
                E = () => {
                    let e = (0, r.default)();
                    l.useEffect(() => {
                        u.default.trackWithMetadata(c.AnalyticEvents.GUILD_OUTAGE_VIEWED, {})
                    }, []);
                    let t = (0, s.isThemeDark)(e) ? p : m;
                    return (0, a.jsxs)("div", {
                        className: h.container,
                        children: [(0, a.jsxs)(o.default, {
                            toolbar: (0, a.jsx)(l.Fragment, {}),
                            children: [(0, a.jsx)(o.default.Icon, {
                                icon: d.default,
                                "aria-hidden": !0
                            }), (0, a.jsx)(o.default.Title, {
                                children: f.default.Messages.GUILD_UNAVAILABLE_HEADER
                            })]
                        }), (0, a.jsxs)("div", {
                            className: h.content,
                            children: [(0, a.jsx)("img", {
                                alt: "",
                                className: h.splashImage,
                                src: t
                            }), (0, a.jsx)(i.Heading, {
                                className: h.splashHeader,
                                variant: "heading-lg/medium",
                                children: f.default.Messages.GUILD_UNAVAILABLE_TITLE
                            }), (0, a.jsx)(i.Text, {
                                className: h.splashText,
                                variant: "text-md/normal",
                                children: f.default.Messages.GUILD_UNAVAILABLE_BODY
                            })]
                        })]
                    })
                }
        },
        624027: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("394846"),
                i = n("446674"),
                r = n("77078"),
                u = n("120252"),
                o = n("161778"),
                d = n("162771"),
                c = n("941886"),
                f = n("664336"),
                h = n("49111"),
                p = n("782340"),
                m = n("889175");

            function E(e) {
                let t, {
                    channelId: E
                } = e;
                l.useEffect(() => {
                    u.default.loadThread(E)
                });
                let _ = (0, i.useStateFromStores)([d.default], () => d.default.getGuildId()),
                    S = _ === h.FAVORITES,
                    C = (0, i.useStateFromStores)([o.default], () => o.default.theme);
                return t = S ? (0, a.jsx)(c.EmptyStateText, {
                    note: p.default.Messages.FAVORITES_EMPTY_BODY,
                    children: p.default.Messages.FAVORITES_EMPTY_TITLE
                }) : null != E ? (0, a.jsx)(r.Spinner, {
                    type: r.Spinner.Type.SPINNING_CIRCLE
                }) : (0, a.jsx)(c.EmptyStateText, {
                    note: p.default.Messages.CHANNELS_UNAVAILABLE_BODY,
                    children: p.default.Messages.CHANNELS_UNAVAILABLE_TITLE
                }), (0, a.jsxs)("div", {
                    className: m.noChannel,
                    children: [s.isMobile && (0, a.jsx)(f.default, {
                        children: (0, a.jsx)(l.Fragment, {})
                    }), (0, a.jsxs)(c.default, {
                        theme: C,
                        children: [(0, a.jsx)(c.EmptyStateImage, {
                            darkSrc: S ? n("41912") : n("605834"),
                            lightSrc: S ? n("706692") : n("976585"),
                            width: 272,
                            height: 222
                        }), t]
                    })]
                })
            }
        },
        30874: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("77078"),
                s = n("263024"),
                i = n("300322"),
                r = n("782340");

            function u(e) {
                var t;
                let n = (0, i.useCanManageThread)(e),
                    u = (0, i.useCanUnarchiveThread)(e),
                    o = e.isArchivedThread();
                if (o ? u : n) return (null === (t = e.threadMetadata) || void 0 === t ? void 0 : t.archived) ? (0, a.jsx)(l.MenuItem, {
                    id: "unarchive-thread",
                    label: e.isForumPost() ? r.default.Messages.UNARCHIVE_FORUM_POST : r.default.Messages.UNARCHIVE_THREAD,
                    action: () => s.default.unarchiveThread(e, !1)
                }) : (0, a.jsx)(l.MenuItem, {
                    id: "archive-thread",
                    label: e.isForumPost() ? r.default.Messages.ARCHIVE_FORUM_POST : r.default.Messages.ARCHIVE_THREAD,
                    action: () => s.default.archiveThread(e, !1)
                })
            }
        },
        458574: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("281071"),
                s = n("65597"),
                i = n("77078"),
                r = n("867965"),
                u = n("42203"),
                o = n("404008"),
                d = n("49111"),
                c = n("782340");

            function f(e, t, n) {
                let f = (0, s.default)([u.default], () => u.default.getChannel(e.parent_id));
                return (0, a.jsx)(i.MenuItem, {
                    id: "channel-copy-link",
                    label: c.default.Messages.COPY_LINK,
                    action: () => {
                        e.isForumPost() && (0, r.trackForumPostLinkCopied)({
                            postId: e.id,
                            location: {
                                section: d.AnalyticsSections.CONTEXT_MENU
                            }
                        }), (0, l.copy)((0, o.getChannelLinkToCopy)(e, f, t, n))
                    }
                })
            }
        },
        308798: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("446674"),
                s = n("77078"),
                i = n("18054"),
                r = n("819689"),
                u = n("430475"),
                o = n("610730"),
                d = n("271938"),
                c = n("957255"),
                f = n("49111"),
                h = n("782340");

            function p(e) {
                var t;
                let p = e.isForumPost(),
                    m = (0, l.useStateFromStores)([d.default], () => e.isOwner(d.default.getId()), [e]),
                    {
                        canManageChannel: E,
                        canAccessChannel: _
                    } = (0, l.useStateFromStoresObject)([c.default], () => ({
                        canAccessChannel: c.default.can(e.accessPermissions, e),
                        canManageChannel: c.default.can(e.isThread() ? f.Permissions.MANAGE_THREADS : f.Permissions.MANAGE_CHANNELS, e)
                    }), [e]),
                    S = (0, l.useStateFromStores)([o.default], () => null !== (t = o.default.getCount(e.id)) && void 0 !== t ? t : 0, [e.id]),
                    {
                        firstMessage: C
                    } = (0, l.useStateFromStores)([u.default], () => u.default.getMessage(e.id), [e.id]),
                    g = p && (E || m && S < 1),
                    I = p && m && !E && S > 0 && null != C;
                return _ && (E || g || I) ? (0, a.jsx)(s.MenuItem, {
                    id: "delete-channel",
                    label: (() => {
                        if (e.type === f.ChannelTypes.GUILD_CATEGORY) return h.default.Messages.DELETE_CATEGORY;
                        if (e.isForumPost()) return g ? h.default.Messages.DELETE_FORUM_POST : h.default.Messages.DELETE_MESSAGE;
                        if (e.isThread()) return h.default.Messages.DELETE_THREAD;
                        return h.default.Messages.DELETE_CHANNEL
                    })(),
                    color: "danger",
                    action: () => (0, s.openModalLazy)(async () => {
                        let {
                            default: t
                        } = await n.el("575351").then(n.bind(n, "575351"));
                        return n => (0, a.jsx)(t, {
                            ...n,
                            onConfirm: () => {
                                n.onClose(), I ? r.default.deleteMessage(e.id, e.id) : i.default.deleteChannel(e.id)
                            },
                            channel: e
                        })
                    })
                }) : null
            }
        },
        13777: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("917351"),
                i = n.n(s),
                r = n("446674"),
                u = n("77078"),
                o = n("848848"),
                d = n("300322"),
                c = n("800762"),
                f = n("242740"),
                h = n("782340");

            function p(e) {
                let t = (0, d.useCanJoinThreadVoice)(e),
                    n = (0, r.useStateFromStores)([c.default], () => c.default.isInChannel(e.id)),
                    s = (0, r.useStateFromStores)([c.default], () => !i.isEmpty(c.default.getVoiceStatesForChannel(e.id))),
                    {
                        needSubscriptionToAccess: p
                    } = (0, o.default)(e.id),
                    m = l.useCallback(() => {
                        f.default.handleVoiceConnect({
                            channel: e,
                            connected: n,
                            needSubscriptionToAccess: p,
                            locked: !1
                        })
                    }, [e, n, p]);
                return n || !t ? null : (0, a.jsx)(u.MenuItem, {
                    id: "join-thread-voice",
                    label: s ? h.default.Messages.JOIN_CALL : h.default.Messages.START_CALL,
                    action: m
                })
            }
        },
        37774: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("77078"),
                s = n("263024"),
                i = n("300322"),
                r = n("782340");

            function u(e) {
                let t = (0, i.useIsThreadModerator)(e),
                    n = e.isLockedThread();
                if (t) return n ? (0, a.jsx)(l.MenuItem, {
                    id: "unlock-thread",
                    label: e.isForumPost() ? r.default.Messages.UNLOCK_FORUM_POST : r.default.Messages.UNLOCK_THREAD,
                    action: () => s.default.unlockThread(e)
                }) : (0, a.jsx)(l.MenuItem, {
                    id: "lock-thread",
                    label: e.isForumPost() ? r.default.Messages.LOCK_FORUM_POST : r.default.Messages.LOCK_THREAD,
                    action: () => s.default.lockThread(e)
                })
            }
        },
        117399: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return h
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("446674"),
                s = n("77078"),
                i = n("477566"),
                r = n("680986"),
                u = n("263024"),
                o = n("300322"),
                d = n("42203"),
                c = n("724210"),
                f = n("782340");

            function h(e) {
                let t = (0, l.useStateFromStores)([d.default], () => d.default.getChannel(e.parent_id)),
                    n = (0, o.useIsThreadModerator)(e),
                    h = (0, r.useExistingPin)(e);
                return (null == t ? void 0 : t.isForumLikeChannel()) && n ? e.hasFlag(c.ChannelFlags.PINNED) ? (0, a.jsx)(s.MenuItem, {
                    id: "unpin-thread",
                    label: f.default.Messages.UNPIN_POST,
                    action: () => u.default.unpin(e)
                }) : (0, a.jsx)(s.MenuItem, {
                    id: "pin-thread",
                    label: f.default.Messages.PIN_POST,
                    action: function() {
                        null != h ? i.default.show({
                            title: f.default.Messages.FORUM_PIN_CONFIRM_TITLE,
                            body: f.default.Messages.FORUM_PIN_CONFIRM_BODY,
                            onConfirm: async () => {
                                await u.default.unpin(h), u.default.pin(e)
                            }
                        }) : u.default.pin(e)
                    }
                }) : null
            }
        },
        400501: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("77078"),
                s = n("18054"),
                i = n("300322"),
                r = n("782340");

            function u(e) {
                let t = (0, i.useCanManageThread)(e),
                    n = (0, i.useIsActiveChannelOrUnarchivableThread)(e),
                    u = (0, i.useIsNonModInLockedThread)(e);
                return !t || !n || u || __OVERLAY__ ? null : (0, a.jsx)(l.MenuItem, {
                    id: "edit-thread",
                    label: e.isForumPost() ? r.default.Messages.EDIT_FORUM_POST : r.default.Messages.EDIT_THREAD,
                    action: () => {
                        (0, l.closeAllModals)(), s.default.open(e.id)
                    }
                })
            }
        },
        542640: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return _
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("446674"),
                s = n("77078"),
                i = n("272030"),
                r = n("430568"),
                u = n("385976"),
                o = n("404607"),
                d = n("680986"),
                c = n("300322"),
                f = n("42203"),
                h = n("953371"),
                p = n("782340"),
                m = n("208701");

            function E(e) {
                let {
                    tag: t
                } = e, {
                    name: n,
                    emojiId: s,
                    emojiName: i
                } = t, o = (0, l.useStateFromStores)([u.default], () => null != s ? u.default.getUsableCustomEmojiById(s) : null);
                return (0, a.jsxs)(a.Fragment, {
                    children: [(0, a.jsx)(r.default, {
                        className: m.emoji,
                        emojiId: s,
                        emojiName: i,
                        animated: !!(null == o ? void 0 : o.animated)
                    }), n]
                })
            }

            function _(e) {
                let t = (0, l.useStateFromStores)([f.default], () => f.default.getChannel(e), [e]),
                    n = (0, c.useCanManageThread)(t),
                    r = (0, l.useStateFromStores)([f.default], () => f.default.getChannel(null == t ? void 0 : t.parent_id), [t]),
                    u = (0, d.useVisibleForumTags)(r),
                    m = (0, d.useAppliedTags)(t),
                    _ = m.length >= h.MAX_FORUM_POST_TAGS,
                    S = (0, c.useIsActiveChannelOrUnarchivableThread)(t);
                if (null == t) return (0, i.closeContextMenu)(), null;
                if (!n || __OVERLAY__ || !t.isForumPost() || (null == u ? void 0 : u.length) === 0 || !S) return null;
                let C = e => {
                        let n = new Set(m);
                        if (n.has(e)) n.delete(e);
                        else {
                            if (_) return;
                            n.add(e)
                        }
                        let a = Array.from(n).map(e => e.id);
                        o.default.updateForumPostTags(t.id, a)
                    },
                    g = null == u ? void 0 : u.map(e => {
                        let t = m.includes(e);
                        return (0, a.jsx)(s.MenuCheckboxItem, {
                            id: e.id,
                            label: (0, a.jsx)(E, {
                                tag: e
                            }),
                            disabled: _ && !t,
                            action: () => C(e),
                            checked: t
                        }, e.id)
                    });
                return (0, a.jsx)(s.MenuItem, {
                    id: "edit-tags",
                    label: p.default.Messages.FORUM_TAG_POST_EDIT,
                    children: g
                })
            }
        },
        772371: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("446674"),
                s = n("77078"),
                i = n("755624"),
                r = n("263024"),
                u = n("414833"),
                o = n("648564"),
                d = n("782340");

            function c(e) {
                let t = (0, u.useThreadNotificationSetting)(e),
                    n = (0, l.useStateFromStores)([i.default], () => i.default.hasJoined(e.id));
                return n ? (0, a.jsx)(s.MenuItem, {
                    id: "thread-notifications",
                    label: d.default.Messages.NOTIFICATION_SETTINGS,
                    children: (0, o.getThreadNotificationOptions)().map(n => {
                        let {
                            setting: l,
                            label: i
                        } = n;
                        return (0, a.jsx)(s.MenuRadioItem, {
                            group: "thread-notifications",
                            id: "".concat(l),
                            label: i,
                            action: () => r.default.setNotificationSettings(e, {
                                flags: l
                            }),
                            checked: l === t
                        }, l)
                    })
                }) : (0, a.jsx)(s.MenuItem, {
                    id: "notifications-disabled",
                    label: d.default.Messages.NOTIFICATION_SETTINGS,
                    disabled: !0
                })
            }
        },
        604656: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("77078"),
                s = n("263024"),
                i = n("300322"),
                r = n("49111"),
                u = n("782340");

            function o(e) {
                var t, n;
                let o = (0, i.useIsThreadModerator)(e);
                if (!o || e.type !== r.ChannelTypes.PRIVATE_THREAD) return null;
                let d = null === (n = null === (t = e.threadMetadata) || void 0 === t ? void 0 : t.invitable) || void 0 === n || n;
                return (0, a.jsx)(l.MenuCheckboxItem, {
                    id: "toggle-thread-invitable",
                    label: u.default.Messages.THREAD_INVITABLE_TOGGLE_LABEL,
                    checked: d,
                    action: () => s.default.setInvitable(e, !d)
                })
            }
        },
        164586: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("917351"),
                u = n("77078"),
                o = n("716241"),
                d = n("945330"),
                c = n("599110"),
                f = n("49111"),
                h = n("782340"),
                p = n("832025");
            let m = (0, r.debounce)(o.default.trackWithMetadata, 500);
            var E = function(e) {
                let {
                    guild: t,
                    title: n,
                    message: s,
                    image: r,
                    type: E,
                    imageStyles: _,
                    imageMarginX: S,
                    imageMarginTop: C,
                    trackingSource: g,
                    undismissable: I,
                    onDismissed: T,
                    onClick: N,
                    cta: x,
                    ctaColor: v,
                    centerText: A
                } = e;
                l.useEffect(() => {
                    m(f.AnalyticEvents.CHANNEL_NOTICE_VIEWED, {
                        notice_type: E,
                        guild_id: t.id
                    })
                }, [t.id, E]);
                let M = null;
                "function" == typeof x ? M = x() : null != x && (M = (0, a.jsx)(u.Button, {
                    className: p.button,
                    size: u.Button.Sizes.SMALL,
                    onClick: () => {
                        null != E && c.default.track(f.AnalyticEvents.CHANNEL_NOTICE_CTA_CLICKED, {
                            source: g,
                            guild_id: t.id,
                            notice_type: E
                        }), null == N || N()
                    },
                    fullWidth: !0,
                    color: v,
                    children: x
                }));
                let R = null;
                "function" == typeof n ? R = n() : null != n && (R = (0, a.jsx)(u.Text, {
                    variant: "text-md/medium",
                    color: "header-primary",
                    className: i(p.title, {
                        [p.noImageTitle]: null == r
                    }, {
                        [p.center]: A
                    }),
                    children: n
                }));
                let L = null != S ? "".concat(S, "px") : "16px";
                return (0, a.jsxs)("div", {
                    className: p.container,
                    children: [!0 === I ? null : (0, a.jsx)(u.Clickable, {
                        onClick: () => {
                            o.default.trackWithMetadata(f.AnalyticEvents.CHANNEL_NOTICE_CLOSED, {
                                notice_type: E
                            }), null == T || T()
                        },
                        className: p.close,
                        "aria-label": h.default.Messages.DISMISS,
                        children: (0, a.jsx)(d.default, {
                            className: p.closeIcon
                        })
                    }), null != r && (0, a.jsx)("div", {
                        className: p.imageContainer,
                        style: {
                            marginTop: "".concat(C, "px"),
                            marginLeft: L,
                            marginRight: L
                        },
                        children: (0, a.jsx)("img", {
                            className: p.image,
                            style: _,
                            src: r,
                            alt: ""
                        })
                    }), (0, a.jsxs)("div", {
                        className: p.message,
                        children: [R, (0, a.jsx)(u.Text, {
                            className: i({
                                [p.center]: A
                            }),
                            variant: "text-sm/normal",
                            color: "text-muted",
                            children: s
                        }), M]
                    })]
                })
            }
        },
        521803: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return h
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("446674"),
                s = n("151426"),
                i = n("980215"),
                r = n("28561"),
                u = n("509802"),
                o = n("305961"),
                d = n("449008"),
                c = n("994428");

            function f(e) {
                e.stopPropagation()
            }
            var h = function(e) {
                let {
                    channel: t
                } = e, n = (0, l.useStateFromStores)([o.default], () => o.default.getGuild(t.guild_id)), h = (0, i.useClydeProfilesEnabled)(n, !0), p = [];
                return h && (0, d.isNotNullish)(t.guild_id) && p.push(s.DismissibleContent.CLYDE_AI_PERSONALITIES_NUX_MODAL), (0, a.jsx)(u.default, {
                    contentTypes: p,
                    groupName: c.DismissibleContentGroupName.MEMBER_LIST_HEADER,
                    children: e => {
                        let {
                            visibleContent: n,
                            markAsDismissed: l
                        } = e, i = (() => {
                            if (n === s.DismissibleContent.CLYDE_AI_PERSONALITIES_NUX_MODAL) return (0, a.jsx)(r.default, {
                                channel: t,
                                markAsDismissed: l
                            });
                            return null
                        })();
                        return (0, a.jsx)("div", {
                            onContextMenu: f,
                            children: i
                        })
                    }
                })
            }
        },
        28561: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return N
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("446674"),
                i = n("77078"),
                r = n("545158"),
                u = n("206230"),
                o = n("164586"),
                d = n("713135"),
                c = n("305961"),
                f = n("145131"),
                h = n("449008"),
                p = n("701909"),
                m = n("335189"),
                E = n("190045"),
                _ = n("680894"),
                S = n("49111"),
                C = n("782340"),
                g = n("400496"),
                I = n("382719"),
                T = n("559016");

            function N(e) {
                var t;
                let {
                    channel: n,
                    markAsDismissed: N
                } = e, [x, v] = l.useState(!0), A = (0, s.useStateFromStores)([u.default], () => u.default.useReducedMotion), M = (0, s.useStateFromStores)([c.default], () => c.default.getGuild(n.guild_id)), R = (0, s.useStateFromStores)([d.default], () => d.default.getGuildMemberProfile(_.CLYDE_AI_USER_ID, null !== (t = null == M ? void 0 : M.id) && void 0 !== t ? t : "")), L = () => {
                    var e;
                    (0, E.default)(null !== (e = null == M ? void 0 : M.id) && void 0 !== e ? e : ""), N()
                }, O = () => {
                    (0, r.default)(p.default.getArticleURL(S.HelpdeskArticles.CLYDE_AI), !0)
                };
                return (l.useEffect(() => {
                    let e = async () => {
                        if ((0, h.isNotNullish)(M) && null == R) try {
                            await (0, m.addClydeGuildMember)(M.id), v(!1)
                        } catch {} else v(!1)
                    };
                    e()
                }, [R, M]), null == M) ? null : (0, a.jsx)(o.default, {
                    type: S.ChannelNoticeTypes.CLYDE_PERSONALITIES_NUX,
                    image: A ? I : T,
                    imageStyles: {
                        borderRadius: "50%"
                    },
                    imageMarginTop: 8,
                    guild: M,
                    onDismissed: N,
                    centerText: !0,
                    imageMarginX: 64,
                    title: C.default.Messages.CLYDE_PERSONALITY_NUX_HEADER,
                    message: C.default.Messages.CLYDE_PERSONALITY_NUX_INFO,
                    cta: () => (0, a.jsxs)(f.default, {
                        grow: 0,
                        shrink: 0,
                        direction: f.default.Direction.VERTICAL,
                        justify: f.default.Justify.START,
                        align: f.default.Align.STRETCH,
                        wrap: f.default.Wrap.NO_WRAP,
                        className: g.footer,
                        children: [(0, a.jsx)(i.Button, {
                            type: "submit",
                            submitting: x,
                            color: i.Button.Colors.BRAND,
                            onClick: L,
                            children: C.default.Messages.CLYDE_CUSTOMIZE
                        }), (0, a.jsx)(i.Button, {
                            type: "button",
                            look: i.Button.Looks.LINK,
                            color: i.Button.Colors.LINK,
                            onClick: O,
                            children: C.default.Messages.LEARN_MORE
                        })]
                    })
                })
            }
        },
        15433: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                fetchDirectoryEntries: function() {
                    return o
                }
            });
            var a = n("483366"),
                l = n.n(a),
                s = n("872717"),
                i = n("913144"),
                r = n("730647"),
                u = n("49111");
            let o = l(async e => {
                try {
                    i.default.dispatch({
                        type: "EVENT_DIRECTORY_FETCH_START"
                    });
                    let t = await s.default.get({
                        url: u.Endpoints.DIRECTORY_CHANNEL_ENTRIES(e),
                        query: {
                            type: r.DirectoryEntryTypes.GUILD_SCHEDULED_EVENT
                        }
                    });
                    i.default.dispatch({
                        type: "EVENT_DIRECTORY_FETCH_SUCCESS",
                        channelId: e,
                        entries: t.body
                    })
                } catch (e) {
                    i.default.dispatch({
                        type: "EVENT_DIRECTORY_FETCH_FAILURE"
                    })
                }
            }, 200)
        },
        71102: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                fetchDirectoryEntries: function() {
                    return f
                },
                fetchDirectoryCounts: function() {
                    return h
                },
                addDirectoryGuildEntry: function() {
                    return p
                },
                removeDirectoryGuildEntry: function() {
                    return m
                },
                searchDirectoryEntries: function() {
                    return E
                },
                clearDirectorySearch: function() {
                    return _
                },
                updateDirectoryEntry: function() {
                    return S
                },
                selectDirectoryCategory: function() {
                    return C
                },
                fetchGuildEntriesForIds: function() {
                    return g
                }
            });
            var a = n("483366"),
                l = n.n(a),
                s = n("759843"),
                i = n("872717"),
                r = n("913144"),
                u = n("840707"),
                o = n("393467"),
                d = n("730647"),
                c = n("49111");
            let f = l(async (e, t) => {
                    try {
                        r.default.dispatch({
                            type: "GUILD_DIRECTORY_FETCH_START"
                        });
                        let n = await i.default.get({
                            url: c.Endpoints.DIRECTORY_CHANNEL_ENTRIES(e),
                            query: {
                                category_id: t
                            }
                        });
                        r.default.dispatch({
                            type: "GUILD_DIRECTORY_FETCH_SUCCESS",
                            channelId: e,
                            entries: n.body
                        })
                    } catch (e) {
                        r.default.dispatch({
                            type: "GUILD_DIRECTORY_FETCH_FAILURE"
                        })
                    }
                }, 200),
                h = l(async e => {
                    try {
                        let t = await i.default.get({
                            url: c.Endpoints.DIRECTORY_CHANNEL_CATEGORY_COUNTS(e)
                        });
                        r.default.dispatch({
                            type: "GUILD_DIRECTORY_COUNTS_FETCH_SUCCESS",
                            channelId: e,
                            counts: t.body
                        })
                    } catch (e) {}
                }, 200);
            async function p(e, t, n) {
                let a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : d.DirectoryEntryCategories.UNCATEGORIZED,
                    l = await u.default.post({
                        url: c.Endpoints.DIRECTORY_CHANNEL_ENTRY(e, t),
                        body: {
                            description: n,
                            primary_category_id: a
                        },
                        trackedActionData: {
                            event: s.NetworkActionNames.DIRECTORY_GUILD_ENTRY_CREATE,
                            properties: {
                                directory_channel_id: e,
                                guild_id: t,
                                primary_category_id: a
                            }
                        }
                    });
                r.default.dispatch({
                    type: "GUILD_DIRECTORY_ENTRY_CREATE",
                    channelId: e,
                    entry: l.body
                })
            }

            function m(e, t) {
                u.default.delete({
                    url: c.Endpoints.DIRECTORY_CHANNEL_ENTRY(e, t),
                    trackedActionData: {
                        event: s.NetworkActionNames.DIRECTORY_GUILD_ENTRY_DELETE,
                        properties: {
                            directory_channel_id: e,
                            guild_id: t
                        }
                    }
                }), r.default.dispatch({
                    type: "GUILD_DIRECTORY_ENTRY_DELETE",
                    channelId: e,
                    guildId: t
                })
            }
            let E = l(async (e, t) => {
                    let n = o.default.shouldFetch(e, t);
                    if (!n) {
                        r.default.dispatch({
                            type: "GUILD_DIRECTORY_CACHED_SEARCH",
                            channelId: e,
                            query: t
                        });
                        return
                    }
                    try {
                        r.default.dispatch({
                            type: "GUILD_DIRECTORY_SEARCH_START",
                            channelId: e,
                            query: t
                        });
                        let n = await i.default.get({
                            url: c.Endpoints.DIRECTORY_ENTRIES_SEARCH(e),
                            query: {
                                query: t
                            }
                        });
                        r.default.dispatch({
                            type: "GUILD_DIRECTORY_SEARCH_SUCCESS",
                            channelId: e,
                            query: t,
                            results: n.body
                        })
                    } catch (e) {
                        r.default.dispatch({
                            type: "GUILD_DIRECTORY_FETCH_FAILURE"
                        })
                    }
                }, 200),
                _ = e => {
                    r.default.dispatch({
                        type: "GUILD_DIRECTORY_SEARCH_CLEAR",
                        channelId: e
                    })
                },
                S = async function(e, t, n) {
                    let a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : d.DirectoryEntryCategories.UNCATEGORIZED,
                        l = await i.default.patch({
                            url: c.Endpoints.DIRECTORY_CHANNEL_ENTRY(e, t),
                            body: {
                                description: n,
                                primary_category_id: a
                            }
                        });
                    r.default.dispatch({
                        type: "GUILD_DIRECTORY_ENTRY_UPDATE",
                        channelId: e,
                        entry: l.body
                    })
                }, C = (e, t) => {
                    r.default.dispatch({
                        type: "GUILD_DIRECTORY_CATEGORY_SELECT",
                        channelId: e,
                        categoryId: t
                    })
                }, g = async (e, t) => {
                    try {
                        let n = await i.default.get({
                            url: c.Endpoints.DIRECTORY_CHANNEL_LIST_BY_ID(e),
                            query: {
                                entity_ids: t
                            }
                        });
                        r.default.dispatch({
                            type: "GUILD_DIRECTORY_ADMIN_ENTRIES_FETCH_SUCCESS",
                            channelId: e,
                            entries: n.body
                        })
                    } catch (e) {}
                }
        },
        393467: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var a = n("446674"),
                l = n("913144"),
                s = n("513688");
            let i = [],
                r = {},
                u = {};
            class o extends a.default.Store {
                getSearchState(e) {
                    var t;
                    return null !== (t = r[e]) && void 0 !== t ? t : {
                        mostRecentQuery: "",
                        fetching: !1
                    }
                }
                getSearchResults(e, t) {
                    var n, a, l;
                    return null !== (l = null === (a = u[e]) || void 0 === a ? void 0 : null === (n = a[t]) || void 0 === n ? void 0 : n.results) && void 0 !== l ? l : i
                }
                shouldFetch(e, t) {
                    var n, a;
                    let l = null === (a = u[e]) || void 0 === a ? void 0 : null === (n = a[t]) || void 0 === n ? void 0 : n.lastSearchedAt;
                    return null == l || Date.now() - l > 12e4
                }
            }
            o.displayName = "GuildDirectorySearchStore";
            var d = new o(l.default, {
                GUILD_DIRECTORY_SEARCH_START: function(e) {
                    let {
                        channelId: t,
                        query: n
                    } = e;
                    r[t] = {
                        fetching: !0,
                        mostRecentQuery: n
                    }
                },
                GUILD_DIRECTORY_SEARCH_SUCCESS: function(e) {
                    let {
                        channelId: t,
                        query: n,
                        results: a
                    } = e;
                    r[t] = {
                        ...r[t],
                        fetching: !1
                    };
                    let l = [];
                    a.forEach(e => {
                        let t = (0, s.guildDirectoryEntryFromServer)(e);
                        l.push(t)
                    }), u[t] = {
                        ...u[t],
                        [n]: {
                            results: (0, s.orderByTotalMemberCount)(l),
                            lastSearchedAt: Date.now()
                        }
                    }
                },
                GUILD_DIRECTORY_SEARCH_FAILURE: function(e) {
                    let {
                        channelId: t
                    } = e;
                    r[t] = {
                        ...r[t],
                        fetching: !1
                    }
                },
                GUILD_DIRECTORY_SEARCH_CLEAR: function(e) {
                    let {
                        channelId: t
                    } = e;
                    r[t] = {
                        fetching: !1,
                        mostRecentQuery: ""
                    }
                },
                GUILD_DIRECTORY_CACHED_SEARCH: function(e) {
                    let {
                        channelId: t,
                        query: n
                    } = e;
                    r[t] = {
                        fetching: !1,
                        mostRecentQuery: n
                    }
                },
                GUILD_DIRECTORY_ENTRY_DELETE: function(e) {
                    var t;
                    let {
                        channelId: n,
                        guildId: a
                    } = e, l = null === (t = r[n]) || void 0 === t ? void 0 : t.mostRecentQuery;
                    if (null == l) return;
                    let s = u[n][l];
                    if (null == s) return;
                    let i = s.results.filter(e => e.guildId !== a);
                    u[n] = {
                        ...u[n],
                        [r[n].mostRecentQuery]: {
                            ...s,
                            results: i
                        }
                    }
                }
            })
        },
        209397: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return m
                }
            });
            var a = n("446674"),
                l = n("913144"),
                s = n("513688"),
                i = n("730647");
            let r = Object.freeze({}),
                u = !1,
                o = {},
                d = {},
                c = {},
                f = {},
                h = {};
            class p extends a.default.Store {
                isFetching() {
                    return u
                }
                getCurrentCategoryId(e) {
                    var t;
                    return null !== (t = d[e]) && void 0 !== t ? t : i.DirectoryEntryCategories.ALL
                }
                getDirectoryEntries(e, t) {
                    var n;
                    return null != t ? null === (n = c[e]) || void 0 === n ? void 0 : n[t] : o[e]
                }
                getDirectoryEntry(e, t) {
                    var n;
                    return null === (n = o[e]) || void 0 === n ? void 0 : n[t]
                }
                getDirectoryAllEntriesCount(e) {
                    var t;
                    return Object.keys(null !== (t = o[e]) && void 0 !== t ? t : {}).length
                }
                getDirectoryCategoryCounts(e) {
                    var t;
                    return null !== (t = f[e]) && void 0 !== t ? t : r
                }
                getAdminGuildEntryIds(e) {
                    return h[e]
                }
            }
            p.displayName = "GuildDirectoryStore";
            var m = new p(l.default, {
                GUILD_DIRECTORY_FETCH_START: function() {
                    u = !0
                },
                GUILD_DIRECTORY_FETCH_SUCCESS: function(e) {
                    let {
                        channelId: t,
                        entries: n
                    } = e;
                    u = !1;
                    let a = {},
                        l = {};
                    n.forEach(e => {
                        let t = (0, s.guildDirectoryEntryFromServer)(e);
                        a[t.guildId] = t, null != l[t.primaryCategoryId] ? l[t.primaryCategoryId][t.guildId] = t : l[t.primaryCategoryId] = {
                            [t.guildId]: t
                        }
                    }), o[t] = a, c[t] = l
                },
                GUILD_DIRECTORY_FETCH_FAILURE: function() {
                    u = !1
                },
                GUILD_DIRECTORY_ENTRY_CREATE: function(e) {
                    var t, n, a, l, r;
                    let {
                        channelId: u,
                        entry: d
                    } = e, h = (0, s.guildDirectoryEntryFromServer)(d);
                    if (null == h || (null === (t = o[u]) || void 0 === t ? void 0 : t[h.guildId]) != null) return;
                    o[u] = {
                        ...o[u],
                        [h.guildId]: h
                    };
                    let p = null !== (a = h.primaryCategoryId) && void 0 !== a ? a : i.DirectoryEntryCategories.UNCATEGORIZED;
                    if (c[u] = {
                            ...c[u],
                            [p]: {
                                ...null === (n = c[u]) || void 0 === n ? void 0 : n[p],
                                [h.guildId]: h
                            }
                        }, null != f[u]) {
                        let e = null !== (r = null === (l = f[u]) || void 0 === l ? void 0 : l[p]) && void 0 !== r ? r : 0;
                        f[u] = {
                            ...f[u],
                            [p]: e + 1
                        }
                    }
                },
                GUILD_DIRECTORY_ENTRY_DELETE: function(e) {
                    var t, n;
                    let {
                        channelId: a,
                        guildId: l
                    } = e, s = null === (t = o[a]) || void 0 === t ? void 0 : t[l];
                    if (null == s) return;
                    let i = s.primaryCategoryId,
                        r = Object.assign({}, o[a]);
                    delete r[l], null === (n = h[a]) || void 0 === n || n.delete(l), h[a] = new Set(h[a]), o[a] = r;
                    let u = Object.assign({}, c[a][i]);
                    if (delete u[l], c[a] = {
                            ...c[a],
                            [i]: u
                        }, null != f[a]) {
                        let e = f[a][i] - 1;
                        f[a] = {
                            ...f[a],
                            [i]: e >= 0 ? e : 0
                        }
                    }
                },
                GUILD_DIRECTORY_ENTRY_UPDATE: function(e) {
                    var t, n, a, l, r, u, d, h, p;
                    let {
                        channelId: m,
                        entry: E
                    } = e, _ = (0, s.guildDirectoryEntryFromServer)(E), S = null === (t = o[m]) || void 0 === t ? void 0 : t[_.guildId];
                    o[m] = {
                        ...o[m],
                        [_.guildId]: {
                            ...S,
                            ..._
                        }
                    };
                    let C = null !== (l = null == S ? void 0 : S.primaryCategoryId) && void 0 !== l ? l : i.DirectoryEntryCategories.UNCATEGORIZED,
                        g = null !== (r = _.primaryCategoryId) && void 0 !== r ? r : i.DirectoryEntryCategories.UNCATEGORIZED,
                        I = Object.assign({}, null === (n = c[m]) || void 0 === n ? void 0 : n[C]);
                    null != S && C !== g && delete I[_.guildId], c[m] = {
                        ...c[m],
                        [C]: I,
                        [g]: {
                            ...null === (a = c[m]) || void 0 === a ? void 0 : a[g],
                            [_.guildId]: {
                                ...S,
                                ..._
                            }
                        }
                    }, g !== C && null != f[m] && (f[m] = {
                        ...f[m],
                        [C]: (null === (u = f[m]) || void 0 === u ? void 0 : u[C]) > 0 ? (null === (d = f[m]) || void 0 === d ? void 0 : d[C]) - 1 : 0,
                        [g]: (null !== (p = null === (h = f[m]) || void 0 === h ? void 0 : h[g]) && void 0 !== p ? p : 0) + 1
                    })
                },
                GUILD_DIRECTORY_CATEGORY_SELECT: function(e) {
                    let {
                        channelId: t,
                        categoryId: n
                    } = e;
                    d[t] = n
                },
                GUILD_DIRECTORY_COUNTS_FETCH_SUCCESS: function(e) {
                    let {
                        channelId: t,
                        counts: n
                    } = e;
                    f[t] = n
                },
                GUILD_DIRECTORY_ADMIN_ENTRIES_FETCH_SUCCESS: function(e) {
                    let {
                        channelId: t,
                        entries: n
                    } = e, a = new Set;
                    n.forEach(e => {
                        let t = (0, s.guildDirectoryEntryFromServer)(e);
                        a.add(t.guildId)
                    }), h[t] = a
                }
            })
        },
        513688: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                guildDirectoryEntryFromServer: function() {
                    return u
                },
                MAX_CATEGORY_SERVERS: function() {
                    return o
                },
                orderByTotalMemberCount: function() {
                    return d
                },
                rankByDateAdded: function() {
                    return c
                },
                rankGuildEntries: function() {
                    return f
                },
                hasMinimumMemberCount: function() {
                    return h
                }
            });
            var a = n("627445"),
                l = n.n(a),
                s = n("917351"),
                i = n.n(s),
                r = n("730647");

            function u(e) {
                var t, n, a, s, i, u, o;
                return l(e.type === r.DirectoryEntryTypes.GUILD, "Directory entries must be connected to a guild!"), {
                    channelId: e.directory_channel_id,
                    guildId: e.entity_id,
                    type: e.type,
                    authorId: e.author_id,
                    createdAt: e.created_at,
                    description: e.description,
                    primaryCategoryId: e.primary_category_id,
                    name: null === (t = e.guild) || void 0 === t ? void 0 : t.name,
                    icon: null === (n = e.guild) || void 0 === n ? void 0 : n.icon,
                    splash: null === (a = e.guild) || void 0 === a ? void 0 : a.splash,
                    features: new Set(null === (s = e.guild) || void 0 === s ? void 0 : s.features),
                    approximateMemberCount: null === (i = e.guild) || void 0 === i ? void 0 : i.approximate_member_count,
                    approximatePresenceCount: null === (u = e.guild) || void 0 === u ? void 0 : u.approximate_presence_count,
                    featurableInDirectory: null === (o = e.guild) || void 0 === o ? void 0 : o.featurable_in_directory
                }
            }
            let o = 5;

            function d(e) {
                return i.orderBy(e, [e => e.approximateMemberCount], ["desc"])
            }

            function c(e) {
                var t;
                let n = e.filter(e => e.featurableInDirectory && h(e));
                return (t = n, i.orderBy(t, [e => e.createdAt], ["desc"])).slice(0, o)
            }

            function f(e) {
                return d(e)
            }

            function h(e) {
                var t;
                return (null !== (t = e.approximateMemberCount) && void 0 !== t ? t : 0) >= 5
            }
        },
        187163: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                },
                useCanCreateOrAddGuildInDirectory: function() {
                    return o
                }
            });
            var a = n("446674"),
                l = n("42203"),
                s = n("305961"),
                i = n("957255"),
                r = n("49111");

            function u(e) {
                let t = (0, a.useStateFromStores)([s.default], () => s.default.getGuild(e.guildId)),
                    n = (0, a.useStateFromStores)([l.default], () => l.default.getChannel(e.channelId)),
                    u = (0, a.useStateFromStores)([i.default], () => i.default.can(r.Permissions.ADMINISTRATOR, t)),
                    o = (0, a.useStateFromStores)([i.default], () => i.default.can(r.Permissions.MANAGE_MESSAGES, n));
                return {
                    isEntryAdmin: u,
                    canEdit: u || o,
                    canRemove: u || o
                }
            }

            function o(e) {
                return (0, a.useStateFromStores)([i.default], () => i.default.can(r.Permissions.SEND_MESSAGES, e))
            }
        },
        40635: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return x
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("446674"),
                i = n("77078"),
                r = n("913144"),
                u = n("267363"),
                o = n("27978"),
                d = n("660478"),
                c = n("599110"),
                f = n("15433"),
                h = n("71102"),
                p = n("393467"),
                m = n("209397"),
                E = n("187163"),
                _ = n("132615"),
                S = n("663685"),
                C = n("516056"),
                g = n("30176"),
                I = n("730647"),
                T = n("49111"),
                N = n("512233"),
                x = e => {
                    var t;
                    let {
                        channel: x,
                        guild: v
                    } = e, {
                        currentCategoryId: A,
                        directoryEntries: M,
                        categoryCounts: R,
                        allEntriesCount: L,
                        isLoading: O
                    } = (0, s.useStateFromStoresObject)([m.default], () => {
                        let e = m.default.getCurrentCategoryId(x.id),
                            t = m.default.getDirectoryEntries(x.id, e === I.DirectoryEntryCategories.ALL ? null : e),
                            n = m.default.getDirectoryCategoryCounts(x.id),
                            a = m.default.getDirectoryAllEntriesCount(x.id),
                            l = m.default.isFetching();
                        return {
                            currentCategoryId: e,
                            directoryEntries: t,
                            categoryCounts: n,
                            allEntriesCount: a,
                            isLoading: l
                        }
                    });
                    l.useEffect(() => () => {
                        let e = d.default.lastMessageId(x.id);
                        null != e && r.default.wait(() => {
                            (0, u.ack)(x.id, !0, !0, e)
                        })
                    }, [x.id]);
                    let y = l.useMemo(() => null != M ? (0, C.generateDirectoryRows)(Object.values(M), A) : null, [M, A]),
                        {
                            mostRecentQuery: j,
                            searchFetching: P,
                            searchResults: D
                        } = (0, s.useStateFromStoresObject)([p.default], () => {
                            let {
                                mostRecentQuery: e,
                                fetching: t
                            } = p.default.getSearchState(x.id);
                            return {
                                mostRecentQuery: e,
                                searchFetching: t,
                                searchResults: p.default.getSearchResults(x.id, e)
                            }
                        }),
                        [b, U] = l.useState(j),
                        F = "" !== j,
                        {
                            showHubEventsList: w
                        } = o.default.useExperiment({
                            guildId: null !== (t = v.id) && void 0 !== t ? t : "",
                            location: "6f7fb0_1"
                        }, {
                            autoTrackExposure: !1
                        });
                    l.useEffect(() => {
                        h.fetchDirectoryEntries(x.id), h.fetchDirectoryCounts(x.id), w && f.fetchDirectoryEntries(x.id), U(j)
                    }, [x.id]), l.useEffect(() => {
                        c.default.track(T.AnalyticEvents.GUILD_DIRECTORY_CHANNEL_VIEWED, {
                            directory_channel_id: x.id,
                            directory_guild_id: v.id,
                            primary_category_id: A
                        })
                    }, [x.id, v.id, A]);
                    let G = (0, E.useCanCreateOrAddGuildInDirectory)(x),
                        B = G ? () => {
                            (0, i.openModalLazy)(async () => {
                                let {
                                    default: e
                                } = await n.el("467085").then(n.bind(n, "467085"));
                                return t => (0, a.jsx)(e, {
                                    ...t,
                                    directoryGuildName: v.name,
                                    directoryGuildId: v.id,
                                    directoryChannelId: x.id,
                                    currentCategoryId: A === I.DirectoryEntryCategories.ALL ? null : A
                                })
                            })
                        } : void 0,
                        k = e => {
                            0 !== b.trim().length && e.charCode === T.KeyboardKeys.ENTER && (h.searchDirectoryEntries(x.id, b), c.default.track(T.AnalyticEvents.GUILD_DIRECTORY_SEARCH, {
                                directory_channel_id: x.id,
                                directory_guild_id: v.id
                            }))
                        },
                        H = () => {
                            U(""), h.clearDirectorySearch(x.id)
                        };
                    return F ? (0, a.jsx)(g.default, {
                        searchQuery: b,
                        setSearchQuery: U,
                        mostRecentQuery: j,
                        handleSearchKeyPress: k,
                        handleClearSearch: H,
                        handleCreateOrAddGuild: B,
                        searchResults: D,
                        searchFetching: P
                    }) : null == y && null == A ? (0, a.jsx)("div", {
                        className: N.pageContainer,
                        children: (0, a.jsx)(i.Spinner, {
                            className: N.spinner
                        })
                    }) : (null == y ? void 0 : y.length) === 0 && null == A ? (0, a.jsx)("div", {
                        className: N.pageContainer,
                        children: (0, a.jsx)(_.default, {
                            guild: v,
                            onAddGuild: B
                        })
                    }) : (0, a.jsx)(S.default, {
                        channel: x,
                        searchQuery: b,
                        setSearchQuery: U,
                        handleSearchKeyPress: k,
                        handleClearSearch: H,
                        handleCreateOrAddGuild: B,
                        currentCategoryId: A,
                        handleSelectCategory: e => {
                            h.selectDirectoryCategory(x.id, e)
                        },
                        directoryEntries: y,
                        categoryCounts: R,
                        allEntriesCount: L,
                        isLoading: O
                    })
                }
        },
        132615: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("77078"),
                i = n("952999"),
                r = n("49111"),
                u = n("782340"),
                o = n("760472"),
                d = e => {
                    let {
                        guild: t,
                        onAddGuild: d
                    } = e, c = l.useCallback(() => {
                        (0, s.openModalLazy)(async () => {
                            let {
                                default: e
                            } = await n.el("310688").then(n.bind(n, "310688"));
                            return n => (0, a.jsx)(e, {
                                ...n,
                                guild: t,
                                source: r.InstantInviteSources.HUB_DIRECTORY,
                                analyticsLocation: {
                                    section: r.AnalyticsSections.HUB_WELCOME_CTA
                                }
                            })
                        })
                    }, [t]);
                    return (0, a.jsxs)("div", {
                        className: o.emptyWrapper,
                        children: [(0, a.jsx)("img", {
                            className: o.emptyImage,
                            alt: "",
                            src: n("704176")
                        }), (0, a.jsx)(s.Heading, {
                            className: o.emptyTitle,
                            variant: "heading-xl/semibold",
                            children: u.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_TITLE.format({
                                guildName: t.name
                            })
                        }), (0, a.jsx)(s.Text, {
                            variant: "text-md/normal",
                            className: o.emptySubtitle,
                            children: u.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_SUBTITLE
                        }), null != d ? (0, a.jsx)(i.WelcomeMessageCTA, {
                            className: o.emptyCTA,
                            iconUrl: n("233135"),
                            header: u.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_ADD_SERVER,
                            completed: !1,
                            onClick: d
                        }) : null, (0, a.jsx)(i.WelcomeMessageCTA, {
                            className: o.emptyCTA,
                            iconUrl: n("243826"),
                            header: u.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_INVITE,
                            completed: !1,
                            onClick: c
                        })]
                    })
                }
        },
        791679: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                AddEntryCard: function() {
                    return R
                },
                default: function() {
                    return O
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("446674"),
                u = n("77078"),
                o = n("272030"),
                d = n("851387"),
                c = n("407063"),
                f = n("239380"),
                h = n("813006"),
                p = n("305961"),
                m = n("580357"),
                E = n("109024"),
                _ = n("433487"),
                S = n("987772"),
                C = n("587974"),
                g = n("149279"),
                I = n("315102"),
                T = n("187163"),
                N = n("175703"),
                x = n("49111"),
                v = n("782340"),
                A = n("477362"),
                M = n("712967");
            let R = e => {
                let {
                    onClick: t
                } = e;
                return (0, a.jsxs)(u.Clickable, {
                    onClick: t,
                    className: A.addEntryCard,
                    children: [(0, a.jsx)("img", {
                        alt: "",
                        src: M
                    }), (0, a.jsx)(u.Text, {
                        variant: "text-sm/semibold",
                        color: "header-primary",
                        className: A.addServerText,
                        children: v.default.Messages.HUB_ADD_SERVER_CTA
                    })]
                })
            };

            function L(e) {
                let {
                    entry: t
                } = e, [s, r] = l.useState(!1), {
                    canEdit: o
                } = (0, T.default)(t);
                return (0, a.jsx)("div", {
                    className: i(A.actionButtonsContainer, {
                        [A.forceButtonsShow]: s
                    }),
                    children: (0, a.jsxs)(g.default, {
                        children: [o ? (0, a.jsx)(u.Tooltip, {
                            text: v.default.Messages.HUB_ENTRY_UPDATE,
                            hideOnClick: !0,
                            children: e => {
                                let {
                                    onClick: l,
                                    ...s
                                } = e;
                                return (0, a.jsx)(g.Button, {
                                    ...s,
                                    onClick: () => {
                                        null == l || l(), (0, u.openModalLazy)(async () => {
                                            let {
                                                default: e
                                            } = await n.el("895792").then(n.bind(n, "895792"));
                                            return n => (0, a.jsx)(e, {
                                                ...n,
                                                entry: t
                                            })
                                        })
                                    },
                                    "aria-label": v.default.Messages.HUB_ENTRY_UPDATE,
                                    children: (0, a.jsx)(S.default, {
                                        className: A.overflowIcon
                                    })
                                })
                            }
                        }) : null, (0, a.jsx)(N.default, {
                            onRequestOpen: () => r(!0),
                            onRequestClose: () => r(!1),
                            entry: t,
                            hideEditButton: !0,
                            children: e => {
                                let {
                                    onClick: t,
                                    ...n
                                } = e;
                                return (0, a.jsx)(u.Tooltip, {
                                    text: v.default.Messages.MORE,
                                    hideOnClick: !0,
                                    children: e => {
                                        let {
                                            onClick: l,
                                            ...s
                                        } = e;
                                        return (0, a.jsx)(g.Button, {
                                            ...n,
                                            ...s,
                                            onClick: e => {
                                                null == l || l(), t(e)
                                            },
                                            "aria-label": v.default.Messages.MORE,
                                            children: (0, a.jsx)(_.default, {
                                                className: A.overflowIcon
                                            })
                                        })
                                    }
                                })
                            }
                        })]
                    })
                })
            }
            var O = e => {
                var t;
                let {
                    entry: s
                } = e, [i, _] = l.useState(!1), S = (0, r.useStateFromStores)([p.default], () => p.default.getGuild(s.guildId)), g = null != S, T = async () => {
                    _(!0);
                    try {
                        g ? (0, f.transitionToGuild)(s.guildId) : await d.default.joinGuild(s.guildId, {
                            source: x.JoinGuildSources.DIRECTORY_ENTRY
                        })
                    } finally {
                        _(!1)
                    }
                }, N = I.default.getGuildSplashURL({
                    id: s.guildId,
                    splash: s.splash,
                    size: 300 * (0, c.getDevicePixelRatio)()
                }), M = null !== (t = I.default.getGuildIconURL({
                    id: s.guildId,
                    icon: s.icon,
                    size: 40
                })) && void 0 !== t ? t : void 0, R = v.default.Messages.JOIN;
                return g && (R = v.default.Messages.HUB_DIRECTORY_CARD_JOINED_GUILD_BUTTON), (0, a.jsxs)("div", {
                    className: A.card,
                    onContextMenu: e => {
                        (0, o.openContextMenuLazy)(e, async () => {
                            let {
                                default: e
                            } = await n.el("184727").then(n.bind(n, "184727"));
                            return t => (0, a.jsx)(e, {
                                ...t,
                                entry: s
                            })
                        })
                    },
                    children: [(0, a.jsxs)("div", {
                        className: A.cardHeader,
                        children: [(0, a.jsx)("div", {
                            className: A.splash,
                            children: null != N && (0, a.jsx)("img", {
                                src: N,
                                alt: "",
                                className: A.splashImage
                            })
                        }), (0, a.jsx)("div", {
                            className: A.guildIcon,
                            children: (0, a.jsx)(C.default, {
                                mask: C.default.Masks.SQUIRCLE,
                                width: 48,
                                height: 48,
                                children: (0, a.jsx)("div", {
                                    className: A.iconMask,
                                    children: (0, a.jsx)(E.default, {
                                        className: A.icon,
                                        iconSrc: M,
                                        guild: new h.default(s),
                                        size: E.default.Sizes.MEDIUM,
                                        active: !0
                                    })
                                })
                            })
                        })]
                    }), (0, a.jsxs)("div", {
                        className: A.guildInfo,
                        children: [(0, a.jsxs)("div", {
                            className: A.title,
                            children: [(0, a.jsx)(m.default, {
                                className: A.guildBadge,
                                guild: s,
                                tooltipColor: u.Tooltip.Colors.PRIMARY
                            }), (0, a.jsx)(u.Text, {
                                className: A.guildName,
                                variant: "heading-md/semibold",
                                color: "header-primary",
                                children: s.name
                            })]
                        }), (0, a.jsx)(u.Text, {
                            className: A.description,
                            variant: "text-sm/normal",
                            color: "header-secondary",
                            children: s.description
                        }), (0, a.jsxs)("div", {
                            className: A.memberInfo,
                            children: [null != s.approximatePresenceCount && (0, a.jsxs)("div", {
                                className: A.memberCount,
                                children: [(0, a.jsx)("div", {
                                    className: A.dotOnline
                                }), (0, a.jsx)(u.Text, {
                                    variant: "text-xs/normal",
                                    color: "header-secondary",
                                    children: v.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({
                                        membersOnline: s.approximatePresenceCount
                                    })
                                })]
                            }), null != s.approximateMemberCount && (0, a.jsxs)("div", {
                                className: A.memberCount,
                                children: [(0, a.jsx)("div", {
                                    className: A.dotOffline
                                }), (0, a.jsx)(u.Text, {
                                    variant: "text-xs/normal",
                                    color: "header-secondary",
                                    children: v.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({
                                        count: s.approximateMemberCount
                                    })
                                })]
                            })]
                        }), (0, a.jsx)(u.Button, {
                            submitting: i,
                            className: A.joinButton,
                            color: g ? u.Button.Colors.PRIMARY : u.Button.Colors.GREEN,
                            onClick: T,
                            children: R
                        })]
                    }), (0, a.jsx)(L, {
                        entry: s
                    })]
                })
            }
        },
        184727: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return h
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("77078"),
                i = n("272030"),
                r = n("861370"),
                u = n("377114"),
                o = n("907566"),
                d = n("71102"),
                c = n("187163"),
                f = n("782340");

            function h(e) {
                let {
                    entry: t,
                    onSelect: h,
                    closePopout: p,
                    forceLightTheme: m,
                    hideEditButton: E = !1
                } = e, {
                    isEntryAdmin: _,
                    canEdit: S,
                    canRemove: C
                } = (0, c.default)(t), g = (0, r.default)({
                    id: t.guildId,
                    label: f.default.Messages.COPY_ID_GUILD,
                    onSuccess: p
                });
                l.useEffect(() => {
                    !S && !C && null == g && (0, i.closeContextMenu)()
                });
                let I = () => {
                    d.removeDirectoryGuildEntry(t.channelId, t.guildId)
                };

                function T() {
                    (0, i.closeContextMenu)(), null == p || p()
                }
                return (0, a.jsxs)(s.Menu, {
                    className: m ? "theme-light" : null,
                    navId: "guild-entry-context",
                    onClose: T,
                    "aria-label": f.default.Messages.GUILD_ACTIONS_MENU_LABEL,
                    onSelect: h,
                    children: [(0, a.jsxs)(s.MenuGroup, {
                        children: [S && !E ? (0, a.jsx)(s.MenuItem, {
                            id: "update-entry",
                            label: f.default.Messages.HUB_ENTRY_UPDATE,
                            action: function() {
                                (0, s.openModalLazy)(async () => {
                                    let {
                                        default: e
                                    } = await n.el("895792").then(n.bind(n, "895792"));
                                    return n => (0, a.jsx)(e, {
                                        ...n,
                                        entry: t
                                    })
                                }), T()
                            }
                        }) : null, C ? (0, a.jsx)(s.MenuItem, {
                            id: "remove-from-hub",
                            label: f.default.Messages.HUB_ENTRY_REMOVE,
                            action: function() {
                                (0, s.openModal)(e => (0, a.jsx)(s.ConfirmModal, {
                                    header: f.default.Messages.HUB_ENTRY_REMOVE,
                                    confirmText: f.default.Messages.REMOVE,
                                    cancelText: f.default.Messages.CANCEL,
                                    onConfirm: I,
                                    ...e,
                                    children: (0, a.jsx)(s.Text, {
                                        variant: "text-md/normal",
                                        children: f.default.Messages.HUB_ENTRY_REMOVE_BODY.format({
                                            guildName: t.name
                                        })
                                    })
                                })), T()
                            },
                            color: "danger"
                        }) : null, _ ? null : (0, a.jsx)(a.Fragment, {
                            children: (0, a.jsx)(s.MenuItem, {
                                id: "report-server-listing",
                                label: f.default.Messages.REPORT_SERVER_NO_NAME,
                                action: function() {
                                    null != t && ((0, u.showReportModalForGuildDirectoryEntry)(t), T())
                                },
                                icon: o.default,
                                color: "danger"
                            })
                        })]
                    }), (0, a.jsx)(s.MenuGroup, {
                        children: g
                    })]
                })
            }
        },
        175703: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("77078"),
                s = n("184727"),
                i = e => {
                    let {
                        entry: t,
                        forceLightTheme: n,
                        hideEditButton: i,
                        children: r,
                        onRequestOpen: u,
                        onRequestClose: o
                    } = e;
                    return (0, a.jsx)(l.Popout, {
                        onRequestOpen: u,
                        onRequestClose: o,
                        animation: l.Popout.Animation.NONE,
                        position: "bottom",
                        spacing: 4,
                        align: "right",
                        renderPopout: e => {
                            let {
                                closePopout: l
                            } = e;
                            return (0, a.jsx)(s.default, {
                                entry: t,
                                closePopout: l,
                                forceLightTheme: n,
                                hideEditButton: i
                            })
                        },
                        children: r
                    })
                }
        },
        663685: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return x
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("65597"),
                u = n("77078"),
                o = n("737960"),
                d = n("305961"),
                c = n("957255"),
                f = n("646240"),
                h = n("315102"),
                p = n("791679"),
                m = n("730647"),
                E = n("49111"),
                _ = n("782340"),
                S = n("512233"),
                C = n("373586"),
                g = n("981726"),
                I = n("529547");
            let T = (0, o.default)(e => {
                let {
                    searchQuery: t,
                    setSearchQuery: n,
                    handleClearSearch: l,
                    handleSearchKeyPress: s,
                    width: r
                } = e, o = null != r && r <= 800;
                return (0, a.jsxs)("div", {
                    className: C.header,
                    children: [(0, a.jsx)("img", {
                        alt: "",
                        className: C.headerImage,
                        src: o ? I : g
                    }), (0, a.jsx)("div", {
                        className: C.headerContentWrapper,
                        children: (0, a.jsxs)("div", {
                            className: i(C.headerContent, {
                                [C.headerContentSmall]: o
                            }),
                            children: [(0, a.jsx)(u.Heading, {
                                variant: "heading-xl/semibold",
                                className: C.searchTitle,
                                children: _.default.Messages.HUB_DIRECTORY_SEARCH_TITLE
                            }), (0, a.jsx)(u.Text, {
                                variant: "text-md/normal",
                                className: C.searchSubtitle,
                                children: _.default.Messages.HUB_DIRECTORY_SEARCH_SUBTITLE
                            }), (0, a.jsx)(f.default, {
                                searchTerm: t,
                                className: C.searchBox,
                                inputClassName: C.searchBoxInput,
                                closeIconClassName: C.closeIcon,
                                searchIconClassName: C.searchIcon,
                                label: _.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,
                                placeholder: _.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,
                                onChange: n,
                                onClear: l,
                                onKeyPress: s,
                                cta: null != t && t.length > 0 ? _.default.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA : null
                            })]
                        })
                    })]
                })
            });

            function N(e) {
                var t, n;
                let {
                    guild: l,
                    directoryEntries: s,
                    handleCreateOrAddGuild: o,
                    isLoading: d
                } = e, f = (0, r.default)([c.default], () => c.default.can(E.Permissions.ADMINISTRATOR, l)), m = [];
                null != s && s.forEach(e => {
                    m = m.concat(e.entries)
                }), m.sort((e, a) => (null !== (t = a.approximateMemberCount) && void 0 !== t ? t : 0) - (null !== (n = e.approximateMemberCount) && void 0 !== n ? n : 0));
                let g = h.default.getGuildSplashURL({
                    id: l.id,
                    splash: l.splash
                });
                return (0, a.jsx)("div", {
                    className: S.pageContainer,
                    children: (0, a.jsxs)(u.AdvancedScrollerAuto, {
                        className: S.scroller,
                        children: [(0, a.jsxs)("div", {
                            className: C.header,
                            children: [null != g ? (0, a.jsx)("img", {
                                alt: "",
                                className: i(C.headerImage, C.headerImageSimple),
                                src: g
                            }) : null, (0, a.jsx)("div", {
                                className: C.headerImageBG
                            }), (0, a.jsx)("div", {
                                className: C.headerContentWrapper,
                                children: (0, a.jsx)("div", {
                                    className: i(C.headerContent, C.headerContentSmall),
                                    children: (0, a.jsx)(u.Heading, {
                                        variant: "heading-xl/semibold",
                                        color: "always-white",
                                        children: _.default.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({
                                            categoryName: "Midjourney"
                                        })
                                    })
                                })
                            })]
                        }), d && null == s ? (0, a.jsx)(u.Spinner, {
                            className: S.spinner
                        }) : (0, a.jsxs)("div", {
                            className: S.cardsContainer,
                            children: [m.map(e => (0, a.jsx)(p.default, {
                                entry: e
                            }, e.guildId)), f && null != o ? (0, a.jsx)(p.AddEntryCard, {
                                onClick: o
                            }) : null]
                        })]
                    })
                })
            }
            var x = e => {
                let {
                    channel: t,
                    directoryEntries: n,
                    handleCreateOrAddGuild: s,
                    searchQuery: i,
                    setSearchQuery: o,
                    handleClearSearch: c,
                    handleSearchKeyPress: f,
                    currentCategoryId: h,
                    handleSelectCategory: g,
                    categoryCounts: I,
                    allEntriesCount: x,
                    isLoading: v
                } = e, A = (0, r.default)([d.default], () => d.default.getGuild(t.getGuildId()));
                return null != A && A.hasFeature(E.GuildFeatures.SHARD) ? (0, a.jsx)(N, {
                    guild: A,
                    directoryEntries: n,
                    handleCreateOrAddGuild: s,
                    isLoading: v
                }) : (0, a.jsx)("div", {
                    className: S.pageContainer,
                    children: (0, a.jsxs)(u.AdvancedScrollerAuto, {
                        className: S.scroller,
                        children: [(0, a.jsx)(T, {
                            searchQuery: i,
                            setSearchQuery: o,
                            handleClearSearch: c,
                            handleSearchKeyPress: f
                        }), (0, a.jsx)(u.AdvancedScrollerThin, {
                            orientation: "horizontal",
                            children: (0, a.jsxs)(u.TabBar, {
                                className: C.tabBar,
                                type: "top",
                                look: "brand",
                                selectedItem: h,
                                onItemSelect: e => {
                                    g(e)
                                },
                                children: [(0, a.jsx)(u.TabBar.Item, {
                                    className: C.tabBarItem,
                                    id: m.DirectoryEntryCategories.ALL,
                                    children: "".concat(_.default.Messages.DIRECTORY_CATEGORY_ALL, " (").concat(x, ")")
                                }, m.DirectoryEntryCategories.ALL), (0, m.getHubCategories)(t.id).map(e => {
                                    let {
                                        value: t,
                                        label: n
                                    } = e;
                                    return (0, a.jsx)(u.TabBar.Item, {
                                        className: C.tabBarItem,
                                        id: t,
                                        children: "".concat(n, " ").concat(null != I[t] ? "(".concat(I[t], ")") : "")
                                    }, t)
                                })]
                            })
                        }), v && null == n ? (0, a.jsx)(u.Spinner, {
                            className: S.spinner
                        }) : null == n ? void 0 : n.map((e, t) => (0, a.jsxs)(l.Fragment, {
                            children: [void 0 !== e.header ? (0, a.jsx)(u.Text, {
                                variant: "text-md/semibold",
                                className: C.sectionHeader,
                                children: e.header
                            }) : null, (0, a.jsxs)("div", {
                                className: S.cardsContainer,
                                children: [e.entries.map(e => (0, a.jsx)(p.default, {
                                    entry: e
                                }, e.guildId)), e.appendEndCard && null != s ? (0, a.jsx)(p.AddEntryCard, {
                                    onClick: s
                                }) : null]
                            })]
                        }, t))]
                    })
                })
            }
        },
        516056: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                generateDirectoryRows: function() {
                    return i
                }
            });
            var a = n("513688"),
                l = n("730647"),
                s = n("782340");

            function i(e, t) {
                if (t !== l.DirectoryEntryCategories.ALL) return [{
                    entries: (0, a.rankGuildEntries)(e),
                    appendEndCard: !0
                }];
                let n = [],
                    i = (0, a.rankByDateAdded)(e),
                    r = new Set(i.map(e => e.guildId));
                i.length > 0 && n.push({
                    header: s.default.Messages.SEARCH_NEWEST,
                    entries: i,
                    appendEndCard: !1
                });
                let u = e.filter(e => !r.has(e.guildId));
                return (u = (0, a.orderByTotalMemberCount)(u)).length > 0 && n.push({
                    header: s.default.Messages.ALL_SERVERS,
                    entries: u,
                    appendEndCard: !0
                }), n
            }
        },
        30176: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("77078"),
                s = n("646240"),
                i = n("246053"),
                r = n("791679"),
                u = n("782340"),
                o = n("512233"),
                d = n("64298"),
                c = n("16873"),
                f = e => {
                    let t, {
                        searchQuery: n,
                        setSearchQuery: f,
                        mostRecentQuery: h,
                        handleClearSearch: p,
                        handleSearchKeyPress: m,
                        handleCreateOrAddGuild: E,
                        searchResults: _,
                        searchFetching: S
                    } = e;
                    if (S) t = (0, a.jsx)("div", {
                        className: o.pageContainer,
                        children: (0, a.jsx)(l.Spinner, {
                            className: o.spinner
                        })
                    });
                    else if (0 === _.length) {
                        let e = null != E ? u.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_SUBTITLE.format({
                            addServerHook: function(e, t) {
                                return (0, a.jsx)(l.Anchor, {
                                    onClick: E,
                                    children: e
                                }, t)
                            }
                        }) : u.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_NO_ADD;
                        t = (0, a.jsxs)("div", {
                            className: d.emptySearchWrapper,
                            children: [(0, a.jsx)("img", {
                                className: d.emptySearchImage,
                                alt: "",
                                src: c
                            }), (0, a.jsx)(l.Heading, {
                                variant: "heading-xl/semibold",
                                color: "header-primary",
                                className: d.emptySearchTitle,
                                children: u.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_TITLE
                            }), (0, a.jsx)(l.Text, {
                                variant: "text-md/normal",
                                color: "header-secondary",
                                className: d.emptySearchSubtitle,
                                children: e
                            })]
                        })
                    } else t = (0, a.jsx)("div", {
                        className: o.cardsContainer,
                        children: _.map(e => (0, a.jsx)(r.default, {
                            entry: e
                        }, e.guildId))
                    });
                    return (0, a.jsx)("div", {
                        className: o.pageContainer,
                        children: (0, a.jsxs)(l.ScrollerAuto, {
                            className: o.scroller,
                            children: [(0, a.jsxs)("div", {
                                className: d.searchHeader,
                                children: [(0, a.jsxs)("div", {
                                    className: d.headerTitleWrapper,
                                    children: [(0, a.jsx)(l.Clickable, {
                                        onClick: p,
                                        className: d.arrow,
                                        children: (0, a.jsx)(i.default, {
                                            direction: i.default.Directions.LEFT
                                        })
                                    }), (0, a.jsx)(l.Heading, {
                                        variant: "heading-xl/semibold",
                                        className: d.searchPageTitle,
                                        children: u.default.Messages.DIRECTORY_SEARCH_RESULTS_HEADER.format({
                                            numResults: _.length,
                                            query: h
                                        })
                                    })]
                                }), (0, a.jsx)(s.default, {
                                    searchTerm: n,
                                    className: d.searchPageBox,
                                    inputClassName: d.searchPageInput,
                                    label: u.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,
                                    placeholder: u.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,
                                    onChange: f,
                                    onClear: p,
                                    onKeyPress: m,
                                    cta: null != n && n.length > 0 ? u.default.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA : null
                                })]
                            }), t]
                        })
                    })
                }
        },
        526812: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var a = n("446674"),
                l = n("913144");
            let s = new Set;
            class i extends a.default.PersistedStore {
                initialize(e) {
                    null != e && (s = new Set(e))
                }
                hasHidden(e) {
                    return s.has(e)
                }
                getState() {
                    return s
                }
            }
            i.displayName = "ForumChannelAdminOnboardingGuideStore", i.persistKey = "ForumChannelAdminOnboardingGuideStore";
            var r = new i(l.default, {
                ADMIN_ONBOARDING_GUIDE_HIDE: function(e) {
                    let {
                        channelId: t,
                        hide: n
                    } = e;
                    n ? s.add(t) : s.delete(t)
                }
            })
        },
        258039: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                isOnboardingDismissed: function() {
                    return i
                }
            });
            var a = n("866227"),
                l = n.n(a),
                s = n("249654");
            let i = e => {
                let t = s.default.extractTimestamp(e),
                    n = l().isBefore(l(t).add(l.duration(15, "days")));
                return !n
            }
        },
        327432: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return I
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("446674"),
                i = n("272030"),
                r = n("264732"),
                u = n("679653"),
                o = n("176347"),
                d = n("850391"),
                c = n("557809"),
                f = n("393414"),
                h = n("503220"),
                p = n("42203"),
                m = n("474643"),
                E = n("305961"),
                _ = n("664336"),
                S = n("867965"),
                C = n("782340"),
                g = n("435599");

            function I(e) {
                let {
                    channelId: t
                } = e, I = (0, s.useStateFromStores)([p.default], () => p.default.getChannel(t)), T = (0, s.useStateFromStores)([p.default], () => p.default.getChannel(null == I ? void 0 : I.parent_id)), N = (0, s.useStateFromStores)([E.default], () => E.default.getGuild(null == I ? void 0 : I.getGuildId())), x = (0, u.default)(I), v = l.useRef(!1);
                if (l.useEffect(() => {
                        null != I && !v.current && (v.current = !0, (0, S.trackForumPostSidebarViewed)(I))
                    }, [I]), null == I || null == N) return null;
                let A = (0, a.jsx)(h.default, {
                    channel: I
                });
                return (0, a.jsxs)(a.Fragment, {
                    children: [(0, a.jsx)(r.default, {
                        channel: I,
                        draftType: m.DraftType.ChannelMessage
                    }), (0, a.jsx)(_.default, {
                        toolbar: A,
                        "aria-label": C.default.Messages.THREAD_HEADER_BAR_A11Y_LABEL,
                        children: (0, c.renderTitle)({
                            channel: I,
                            parentChannel: T,
                            channelName: x,
                            guild: N,
                            inSidebar: !0,
                            handleContextMenu: function(e) {
                                (0, i.openContextMenuLazy)(e, async () => {
                                    let {
                                        default: e
                                    } = await n.el("994827").then(n.bind(n, "994827"));
                                    return t => (0, a.jsx)(e, {
                                        ...t,
                                        channel: I
                                    })
                                })
                            },
                            handleClick: function() {
                                null != I && (0, f.transitionToGuild)(I.guild_id, I.id)
                            }
                        })
                    }), (0, a.jsx)("div", {
                        className: g.chat,
                        children: (0, a.jsx)(o.default, {
                            channel: I,
                            guild: N,
                            chatInputType: d.ChatInputTypes.SIDEBAR
                        }, t)
                    })]
                })
            }
        },
        845038: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return s
                }
            });
            var a = n("171644"),
                l = n("782340");

            function s(e) {
                switch (e) {
                    case a.GameConsoleTypes.XBOX:
                        return l.default.Messages.XBOX_REMOTE_CONNECTED_RAW;
                    case a.GameConsoleTypes.PLAYSTATION:
                        return l.default.Messages.PLAYSTATION_REMOTE_CONNECTED_RAW
                }
            }
        },
        889486: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                handoffRemote: function() {
                    return d
                }
            });
            var a = n("627445"),
                l = n.n(a),
                s = n("629109"),
                i = n("987317"),
                r = n("42887"),
                u = n("700507"),
                o = n("780338");

            function d(e, t) {
                var n;
                let a = null !== (n = e.sessionId) && void 0 !== n ? n : "";
                (0, u.remoteDisconnect)(a), (0, u.disconnectRemote)();
                let d = null != t ? t : e.channelId;
                l(null != d, "attempted to transfer to unknown channel"), e.selfMute !== r.default.isSelfMute() && s.default.toggleSelfMute(), e.selfDeaf !== r.default.isSelfDeaf() && s.default.toggleSelfDeaf(), (0, o.default)(d, "discord_client", a), i.default.selectVoiceChannel(d, !1)
            }
        },
        742898: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var a = n("446674"),
                l = n("47319"),
                s = n("449008"),
                i = n("49111");

            function r() {
                return (0, a.useStateFromStoresArray)([l.default], () => [l.default.getAccount(null, i.PlatformTypes.XBOX), l.default.getAccount(null, i.PlatformTypes.PLAYSTATION), l.default.getAccount(null, i.PlatformTypes.PLAYSTATION_STAGING)].filter(s.isNotNullish))
            }
        },
        813893: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return m
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("627445"),
                s = n.n(l),
                i = n("917351"),
                r = n.n(i),
                u = n("5667"),
                o = n("49111"),
                d = n("782340"),
                c = n("591526"),
                f = n("21719"),
                h = n("117861");
            let p = null;

            function m(e) {
                let {
                    onDismiss: t,
                    onAccept: n,
                    popoutPosition: l,
                    gameConsoleAccounts: i
                } = e;
                s(i.length > 0, "Rendering ConsoleNUXTooltip without a game console account"), (null == p || null == i.find(e => e.type === p)) && (p = r.shuffle(i)[0].type);
                let m = null,
                    E = null;
                switch (p) {
                    case o.PlatformTypes.XBOX:
                        m = d.default.Messages.CONSOLE_NUX_TOOLTIP_BODY_XBOX, E = h;
                        break;
                    case o.PlatformTypes.PLAYSTATION:
                    case o.PlatformTypes.PLAYSTATION_STAGING:
                        m = d.default.Messages.CONSOLE_NUX_TOOLTIP_BODY_PS5, E = f
                }
                return (0, a.jsx)(u.default, {
                    header: d.default.Messages.CONSOLE_NUX_TOOLTIP_HEADER,
                    content: m,
                    asset: (0, a.jsx)("img", {
                        src: E,
                        alt: "",
                        className: c.art
                    }),
                    onClick: n,
                    onSecondaryClick: t,
                    markAsDismissed: t,
                    buttonCTA: d.default.Messages.CONSOLE_NUX_TOOLTIP_ACCEPT,
                    secondaryButtonCTA: d.default.Messages.CONSOLE_NUX_TOOLTIP_DISMISS,
                    caretPosition: "top" === l ? u.CaretPosition.BOTTOM_LEFT : u.CaretPosition.TOP_LEFT
                })
            }
        },
        710560: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return x
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("446674"),
                i = n("151426"),
                r = n("77078"),
                u = n("191145"),
                o = n("509802"),
                d = n("124824"),
                c = n("981913"),
                f = n("778588"),
                h = n("235660"),
                p = n("261552"),
                m = n("742898"),
                E = n("813893"),
                _ = n("424024"),
                S = n("379304"),
                C = n("171644"),
                g = n("49111"),
                I = n("782340"),
                T = n("309607");

            function N(e) {
                let {
                    onClose: t,
                    channel: n
                } = e, l = (0, S.default)(n);
                return (0, a.jsx)(r.Menu, {
                    onClose: t,
                    onSelect: () => null,
                    navId: "transfer-menu",
                    "aria-label": I.default.Messages.TRANSFER,
                    children: l
                })
            }

            function x(e) {
                var t;
                let {
                    channel: n,
                    showLeftDivider: S = !1,
                    ...x
                } = e, v = (0, p.default)(), A = (0, s.useStateFromStores)([h.default], () => {
                    var e;
                    return null === (e = h.default.getSessionById(null !== (t = null == v ? void 0 : v.sessionId) && void 0 !== t ? t : "")) || void 0 === e ? void 0 : e.clientInfo.os
                }), M = (0, s.useStateFromStores)([f.default], () => f.default.hasLayers()), [R, L] = (0, s.useStateFromStoresArray)([u.default], () => [u.default.getMode(n.id), u.default.getLayout(n.id)]), O = (0, r.useModalsStore)(r.hasAnyModalOpenSelector), y = (0, m.default)(), j = y.filter(e => e.twoWayLink), [P, D] = l.useState(!1);
                if (null == v && 0 === y.length || n.isBroadcastChannel()) return null;
                let b = g.ChannelModes.VOICE !== R && [g.ChannelLayouts.NO_CHAT, g.ChannelLayouts.FULL_SCREEN].includes(L) ? "top" : "bottom",
                    U = [];
                return j.length > 0 && U.push(i.DismissibleContent.DONUT_DESKTOP_NUX), (0, a.jsx)(o.default, {
                    contentTypes: U,
                    children: e => {
                        let {
                            visibleContent: t,
                            markAsDismissed: l
                        } = e, s = t === i.DismissibleContent.DONUT_DESKTOP_NUX;
                        return (0, a.jsxs)(a.Fragment, {
                            children: [S ? (0, a.jsx)("div", {
                                className: T.leftDivider
                            }) : null, (0, a.jsx)(r.Popout, {
                                position: b,
                                spacing: s ? 16 : void 0,
                                positionKey: "".concat(R, ":").concat(L),
                                onRequestClose: () => D(!1),
                                shouldShow: (s || P) && !M && !O,
                                renderPopout: e => {
                                    let {
                                        closePopout: t
                                    } = e;
                                    return (0, a.jsx)(d.default, {
                                        children: s ? (0, a.jsx)(E.default, {
                                            popoutPosition: b,
                                            onDismiss: l,
                                            onAccept: () => {
                                                l(), D(!0)
                                            },
                                            gameConsoleAccounts: j
                                        }) : (0, a.jsx)(N, {
                                            onClose: () => {
                                                t()
                                            },
                                            channel: n
                                        })
                                    })
                                },
                                children: e => {
                                    var t;
                                    return (0, a.jsx)(c.default, {
                                        ...e,
                                        ...x,
                                        onClick: () => D(!0),
                                        label: null != (t = A) ? t === C.GameConsoleTypes.XBOX ? I.default.Messages.XBOX_REMOTE_CONNECTED_RAW : I.default.Messages.PLAYSTATION_REMOTE_CONNECTED_RAW : I.default.Messages.CONSOLE_TRANSFER,
                                        iconComponent: (0, _.default)(A)
                                    })
                                }
                            })]
                        })
                    }
                })
            }
        },
        424024: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var a = n("303800"),
                l = n("998564"),
                s = n("420145"),
                i = n("171644");

            function r(e) {
                return null != e ? e === i.GameConsoleTypes.XBOX ? s.default : l.default : a.default
            }
        },
        379304: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("65597"),
                s = n("77078"),
                i = n("926994"),
                r = n("495194"),
                u = n("945956"),
                o = n("800762"),
                d = n("889486"),
                c = n("261552"),
                f = n("742898"),
                h = n("424024"),
                p = n("49111"),
                m = n("782340");

            function E(e) {
                let t = (0, l.default)([u.default], () => u.default.getChannelId() === e.id),
                    E = (0, c.default)(),
                    _ = (null == E ? void 0 : E.channelId) === e.id,
                    S = (0, r.useIsVoiceChannelLocked)(e) && !e.isPrivate(),
                    C = (0, r.default)(e),
                    g = (0, l.default)([o.default], () => o.default.isInChannel(e.id)),
                    I = !g && C || S,
                    T = (0, f.default)();
                if (!_ && 0 === T.length) return null;
                let N = t => {
                    if (!t.twoWayLink || t.revoked) {
                        (0, i.default)(t.type, "Console Transfer Item");
                        return
                    }
                    t.type === p.PlatformTypes.XBOX ? (0, s.openModalLazy)(async () => {
                        let {
                            default: t
                        } = await n.el("613895").then(n.bind(n, "613895"));
                        return n => (0, a.jsx)(t, {
                            ...n,
                            channel: e
                        })
                    }) : (t.type === p.PlatformTypes.PLAYSTATION || t.type === p.PlatformTypes.PLAYSTATION_STAGING) && (0, s.openModalLazy)(async () => {
                        let {
                            default: l
                        } = await n.el("962512").then(n.bind(n, "962512"));
                        return n => (0, a.jsx)(l, {
                            ...n,
                            platform: t.type,
                            channel: e
                        })
                    })
                };
                return (0, a.jsx)(a.Fragment, {
                    children: _ ? (0, a.jsx)(s.MenuItem, {
                        label: m.default.Messages.TRANSFER_VOICE_TO_DEVICE,
                        id: "handoff",
                        action: () => {
                            (0, d.handoffRemote)(E)
                        },
                        icon: (0, h.default)(void 0),
                        disabled: I
                    }) : T.map(e => (0, a.jsx)(s.MenuItem, {
                        id: "transfer-".concat(e.type, "-").concat(e.id),
                        label: function(e, t) {
                            if (e === p.PlatformTypes.XBOX) return t ? m.default.Messages.TRANSFER_VOICE_TO_XBOX : m.default.Messages.JOIN_ON_XBOX;
                            if (e === p.PlatformTypes.PLAYSTATION) return t ? m.default.Messages.CONSOLE_PLAYSTATION_TRANSFER_VOICE : m.default.Messages.CONSOLE_PLAYSTATION_JOIN_VOICE;
                            if (e === p.PlatformTypes.PLAYSTATION_STAGING) return t ? m.default.Messages.CONSOLE_PLAYSTATION_STAGING_TRANSFER_VOICE : m.default.Messages.CONSOLE_PLAYSTATION_STAGING_JOIN_VOICE
                        }(e.type, t),
                        action: () => N(e),
                        icon: (0, h.default)(e.type),
                        disabled: I
                    }, e.id))
                })
            }
        },
        795026: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var a = n("374014"),
                l = n("223913"),
                s = n("49111"),
                i = n("782340");

            function r(e, t, n, r) {
                return null == t || t.state === s.ApplicationStreamStates.ENDED || (0, a.encodeStreamKey)(t) !== (0, a.encodeStreamKey)(e) ? (0, l.getStreamCTAString)(r) : t.ownerId === n ? i.default.Messages.WATCH_STREAM_STREAMING : i.default.Messages.WATCH_STREAM_WATCHING
            }
        },
        264429: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return L
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("446674"),
                u = n("77078"),
                o = n("463848"),
                d = n("750560"),
                c = n("532602"),
                f = n("76393"),
                h = n("373469"),
                p = n("271938"),
                m = n("305961"),
                E = n("957255"),
                _ = n("824563"),
                S = n("800762"),
                C = n("822332"),
                g = n("599110"),
                I = n("223913"),
                T = n("582415"),
                N = n("795026"),
                x = n("673527"),
                v = n("49111"),
                A = n("782340"),
                M = n("995068");
            class R extends l.PureComponent {
                componentDidMount() {
                    let {
                        user: e,
                        streamApplication: t
                    } = this.props;
                    g.default.track(v.AnalyticEvents.OPEN_POPOUT, {
                        type: "Stream Preview",
                        other_user_id: e.id,
                        application_id: null != t ? t.id : null,
                        application_name: null != t ? t.name : null,
                        game_id: null != t ? t.id : null,
                        is_streaming: !0
                    })
                }
                renderPreview(e) {
                    let {
                        onWatch: t,
                        activeStream: n,
                        currentUserId: l,
                        canWatch: s,
                        unavailableReason: i
                    } = this.props;
                    return (0, a.jsxs)(u.Clickable, {
                        onClick: t,
                        className: M.previewContainer,
                        children: [(0, a.jsx)(x.default, {
                            className: M.previewImage,
                            stream: e
                        }), s ? (0, a.jsx)("div", {
                            className: M.previewHover,
                            children: (0, a.jsx)(u.Text, {
                                variant: "text-sm/normal",
                                color: "none",
                                className: M.white,
                                children: (0, N.default)(e, n, l, i)
                            })
                        }) : null]
                    })
                }
                render() {
                    let {
                        activity: e,
                        user: t,
                        stream: n,
                        previewIsOpen: l
                    } = this.props;
                    return null == n ? null : (0, a.jsx)("div", {
                        className: i(M.streamPreviewWrapper, {
                            [M.mounted]: l
                        }),
                        children: (0, a.jsxs)("div", {
                            className: M.streamPreview,
                            children: [this.renderPreview(n), (0, a.jsxs)("div", {
                                className: M.body,
                                children: [null != e ? (0, a.jsx)(o.default, {
                                    hideHeader: !0,
                                    type: o.UserActivityTypes.STREAM_PREVIEW,
                                    activity: e,
                                    user: t,
                                    guildId: n.guildId,
                                    channelId: n.channelId
                                }) : (0, a.jsx)(c.default, {
                                    type: o.UserActivityTypes.STREAM_PREVIEW,
                                    applicationStream: n,
                                    user: t,
                                    guildId: n.guildId,
                                    channelId: n.channelId,
                                    className: M.activityActions,
                                    color: M.watchButton
                                }), (0, a.jsx)(C.default, {
                                    type: C.default.Types.INLINE,
                                    className: M.protip,
                                    children: __OVERLAY__ ? A.default.Messages.WATCH_STREAM_IN_APP : A.default.Messages.WATCH_STREAM_TIP
                                })]
                            })]
                        })
                    })
                }
            }

            function L(e) {
                let {
                    user: t,
                    channel: n,
                    ...s
                } = e, [i, u] = (0, r.useStateFromStoresArray)([S.default, m.default, E.default, f.default], () => (0, I.canWatchStream)(n, S.default, m.default, E.default, f.default)), o = (0, r.useStateFromStores)([h.default], () => h.default.getStreamForUser(t.id, n.getGuildId())), c = (0, r.useStateFromStores)([h.default], () => h.default.getActiveStreamForApplicationStream(o)), C = (0, r.useStateFromStores)([p.default], () => p.default.getId()), g = (0, r.useStateFromStores)([_.default], () => (0, T.getStreamerApplication)(o, _.default)), N = (0, r.useStateFromStores)([_.default], () => (0, T.getStreamerActivity)(o, _.default)), x = l.useMemo(() => ({
                    [n.guild_id]: [t.id]
                }), [n.guild_id, t.id]);
                return (0, d.useSubscribeGuildMembers)(x), (0, a.jsx)(R, {
                    ...s,
                    canWatch: i,
                    unavailableReason: u,
                    user: t,
                    streamApplication: g,
                    stream: o,
                    activeStream: c,
                    currentUserId: C,
                    activity: N
                })
            }
        },
        237542: function(e, t, n) {
            "use strict";
            var a;
            n.r(t), n.d(t, {
                GuildPrompts: function() {
                    return a
                }
            }), (a || (a = {})).REAL_NAME_PROMPT = "REAL_NAME_PROMPT"
        },
        928265: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return l
                }
            });
            var a = n("913144"),
                l = {
                    viewPrompt: function(e, t) {
                        a.default.wait(() => {
                            a.default.dispatch({
                                type: "GUILD_PROMPT_VIEWED",
                                prompt: e,
                                guildId: t
                            })
                        })
                    }
                }
        },
        204743: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var a = n("446674"),
                l = n("913144");
            let s = {};
            class i extends a.default.PersistedStore {
                initialize(e) {
                    for (let t in e) {
                        let n = e[t];
                        s[t] = new Set(n)
                    }
                }
                hasViewedPrompt(e, t) {
                    let n = s[t];
                    return null != n && (!!n.has(e) || !1)
                }
                getState() {
                    return s
                }
            }
            i.displayName = "GuildPromptsStore", i.persistKey = "GuildPromptsStore";
            var r = new i(l.default, {
                GUILD_PROMPT_VIEWED: function(e) {
                    let {
                        prompt: t,
                        guildId: n
                    } = e, a = s[n];
                    return null == a ? (s[n] = new Set, s[n].add(t), !0) : !a.has(t) && (a.add(t), !0)
                },
                GUILD_DELETE: function(e) {
                    let {
                        guild: t
                    } = e;
                    return null != s[t.id] && !t.unavailable && (delete s[t.id], !0)
                }
            })
        },
        278483: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                openDisableCommunication: function() {
                    return s
                },
                openEnableCommunication: function() {
                    return i
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("77078");

            function s(e, t, s) {
                (0, l.openModalLazy)(async () => {
                    let {
                        default: l
                    } = await n.el("693120").then(n.bind(n, "693120"));
                    return n => (0, a.jsx)(l, {
                        guildId: e,
                        userId: t,
                        anaylticsLocations: s,
                        ...n
                    })
                })
            }

            function i(e, t, s) {
                (0, l.openModalLazy)(async () => {
                    let {
                        default: l
                    } = await n.el("750331").then(n.bind(n, "750331"));
                    return n => (0, a.jsx)(l, {
                        guildId: e,
                        userId: t,
                        anaylticsLocations: s,
                        ...n
                    })
                })
            }
        },
        209700: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                isInGuildMemberModViewExperiment: function() {
                    return i
                },
                useGuildMemberModViewExperiment: function() {
                    return r
                }
            });
            var a = n("812204"),
                l = n("862205");
            let s = (0, l.createExperiment)({
                    kind: "guild",
                    id: "2023-08_guild_member_mod_view",
                    label: "Guild Member Mod View",
                    defaultConfig: {
                        enabled: !1
                    },
                    treatments: [{
                        id: 1,
                        label: "Guild Member Mod View",
                        config: {
                            enabled: !0
                        }
                    }]
                }),
                i = function(e) {
                    let {
                        autoTrackExposure: t = !1,
                        disable: n = !1,
                        location: l = a.default.GUILD_MEMBER_MOD_VIEW
                    } = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, {
                        enabled: i
                    } = s.getCurrentConfig({
                        guildId: e,
                        location: l
                    }, {
                        autoTrackExposure: t,
                        disable: n
                    });
                    return i
                },
                r = function(e) {
                    let {
                        autoTrackExposure: t = !1,
                        disable: n = !1,
                        location: l = a.default.GUILD_MEMBER_MOD_VIEW
                    } = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, {
                        enabled: i
                    } = s.useExperiment({
                        guildId: e,
                        location: l
                    }, {
                        autoTrackExposure: t,
                        disable: n
                    });
                    return i
                }
        },
        459824: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                canAccessGuildMemberModViewWithExperiment: function() {
                    return c
                },
                useCanAccessGuildMemberModView: function() {
                    return f
                }
            });
            var a = n("316693"),
                l = n("446674"),
                s = n("466818"),
                i = n("305961"),
                r = n("697218"),
                u = n("991170"),
                o = n("209700");
            let d = function(e) {
                    let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [i.default, r.default],
                        [n, l] = t,
                        o = n.getGuild(e);
                    if (null == o) return !1;
                    let d = l.getCurrentUser(),
                        c = a.default.hasAny(u.default.computePermissions({
                            user: d,
                            context: o,
                            checkElevated: !1
                        }), s.MemberSafetyPagePermissions);
                    return c
                },
                c = function(e) {
                    let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                        n = arguments.length > 2 ? arguments[2] : void 0,
                        a = d(e),
                        l = (0, o.isInGuildMemberModViewExperiment)(e, {
                            autoTrackExposure: t,
                            disable: !a,
                            location: n
                        });
                    return a && l
                };

            function f(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                    n = arguments.length > 2 ? arguments[2] : void 0,
                    a = (0, l.useStateFromStores)([i.default, r.default], () => d(e, [i.default, r.default]), [e]),
                    s = (0, o.useGuildMemberModViewExperiment)(e, {
                        autoTrackExposure: t,
                        disable: !a,
                        location: n
                    });
                return a && s
            }
        },
        180968: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                HAS_NO_COUNT: function() {
                    return c
                },
                useServerActivityForUser: function() {
                    return _
                }
            });
            var a, l, s = n("884691"),
                i = n("308503"),
                r = n("16470"),
                u = n("84339"),
                o = n("390933"),
                d = n("49111");
            let c = -1;
            (a = l || (l = {})).MENTIONS = "mentions", a.MESSAGES = "messages";
            let f = {
                    searchFetcher: null,
                    messageCount: c,
                    lastMessage: null
                },
                h = (0, i.default)(() => new Map),
                p = (e, t) => {
                    h.setState(n => {
                        let a = n.get(e);
                        return null == a ? n.set(e, {
                            ...f,
                            ...t
                        }) : n.set(e, {
                            ...a,
                            ...t
                        }), n
                    })
                },
                m = e => h(t => t.get(e), r.default);

            function E(e, t, n) {
                let a = s.useMemo(() => {
                        var a, l, s;
                        return a = e, l = t, s = n, "guild_".concat(l, "_search_").concat(s, "_for_").concat(a)
                    }, [e, t, n]),
                    i = m(a),
                    r = (0, u.default)(a),
                    [h, E] = s.useState({});
                return s.useEffect(() => {
                    if (r !== a) {
                        let s = function(e, t) {
                                switch (t) {
                                    case l.MENTIONS:
                                        return {
                                            mentions: e
                                        };
                                    case l.MESSAGES:
                                        return {
                                            author_id: e
                                        }
                                }
                            }(e, n),
                            i = new o.default(t, d.SearchTypes.GUILD, s);
                        p(a, {
                            searchFetcher: i,
                            messageCount: c,
                            lastMessage: null
                        }), setTimeout(() => {
                            i.fetch(e => {
                                let t = e.body.messages[0];
                                p(a, {
                                    searchFetcher: i,
                                    messageCount: e.body.total_results,
                                    lastMessage: t
                                }), E({})
                            }, e => {}, e => {
                                p(a, {
                                    messageCount: 0,
                                    lastMessage: null
                                }), E({})
                            })
                        })
                    }
                    return () => {}
                }, [e, t, i, a, n]), null != i ? i : f
            }

            function _(e, t) {
                let n = E(e, t, l.MESSAGES),
                    a = E(e, t, l.MENTIONS);
                return {
                    messageCount: n.messageCount,
                    mentionsCount: a.messageCount,
                    lastMessage: n.lastMessage,
                    lastMention: a.lastMessage
                }
            }
        },
        813071: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("811022"),
                i = n("517001"),
                r = n("697218");
            let u = new s.default("ErrorBoundary"),
                o = {
                    error: null,
                    componentStack: null
                };
            class d extends l.Component {
                static getDerivedStateFromError(e) {
                    return {
                        error: e,
                        hasError: !0
                    }
                }
                componentDidCatch(e, t) {
                    let {
                        componentStack: n
                    } = t;
                    u.error("JANK ErrorBoundary", {
                        error: e,
                        componentStack: n
                    });
                    let {
                        onError: a
                    } = this.props;
                    null == a || a(e, n), this.setState({
                        error: e,
                        componentStack: n
                    })
                }
                render() {
                    let {
                        fallback: e,
                        children: t
                    } = this.props, {
                        error: n,
                        componentStack: l
                    } = this.state;
                    if (!(0, i.isStaffEnv)(r.default.getCurrentUser())) return t;
                    if (null != n) {
                        if ("function" == typeof e) {
                            let t = {
                                error: n,
                                componentStack: l,
                                onResetError: this.onResetError
                            };
                            return (0, a.jsx)(e, {
                                ...t
                            })
                        }
                        return (0, a.jsx)("h1", {
                            children: n.message
                        })
                    }
                    return t
                }
                constructor(...e) {
                    super(...e), this.state = {
                        ...o
                    }, this.onResetError = () => {
                        this.setState({
                            ...o
                        })
                    }
                }
            }
        },
        744568: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("459824"),
                u = n("813071"),
                o = n("249957"),
                d = n("986358"),
                c = n("623529");

            function f(e) {
                let {
                    userId: t,
                    guildId: n,
                    onClose: s,
                    className: f,
                    infoPanelClassName: h,
                    style: p
                } = e, m = (0, r.useCanAccessGuildMemberModView)(n, !0);
                return (l.useEffect(() => {
                    !m && s()
                }, [m, s]), m) ? (0, a.jsx)("div", {
                    className: i(c.sidebarContianer, f),
                    style: p,
                    children: (0, a.jsx)(u.default, {
                        children: (0, a.jsxs)(a.Fragment, {
                            children: [(0, a.jsx)(d.default, {
                                userId: t,
                                guildId: n,
                                onClose: s
                            }), (0, a.jsx)(o.default, {
                                userId: t,
                                guildId: n,
                                className: h
                            })]
                        })
                    })
                }) : null
            }
        },
        703433: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return g
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("414456"),
                s = n.n(l),
                i = n("65597"),
                r = n("77078"),
                u = n("917397"),
                o = n("305961"),
                d = n("124969"),
                c = n("36694"),
                f = n("984678"),
                h = n("153769"),
                p = n("83900"),
                m = n("556081"),
                E = n("216947"),
                _ = n("592866"),
                S = n("782340"),
                C = n("63893");

            function g(e) {
                let {
                    member: t
                } = e, n = (0, i.default)([o.default], () => o.default.getGuild(t.guildId), [t.guildId]), l = (0, u.useUserEmailVerification)(t.userId), g = (0, u.useUserPhoneVerification)(t.userId), I = (0, u.useUserRulesAgreementLevel)(t.userId, t.guildId), T = (0, u.useUserAccountAgeDate)(t.userId), N = (0, u.useGuildMemberJoinedAtDate)(t.userId, t.guildId), x = (0, u.useGuildMemberInviteLinkCode)(t.userId, t.guildId);
                return null == n ? null : (0, a.jsx)("div", {
                    className: s(C.safetySignalsMainContainer),
                    children: (0, a.jsx)(r.FormItem, {
                        title: S.default.Messages.ACCOUNT,
                        titleClassName: C.infoTitle,
                        children: (0, a.jsxs)(_.UserModInfoItemContainer, {
                            children: [(0, a.jsx)(_.UserModInfoItem, {
                                icon: (0, a.jsx)(m.default, {
                                    width: _.USER_MOD_ICON_SIZE_PX,
                                    height: _.USER_MOD_ICON_SIZE_PX,
                                    className: C.unusualDMLabelIcon
                                }),
                                name: (0, a.jsx)(r.Text, {
                                    variant: "text-sm/medium",
                                    color: "text-normal",
                                    children: S.default.Messages.MEMBER_VERIFICATION_EMAIL_VERIFIED
                                }),
                                description: l ? (0, a.jsx)(c.default, {
                                    className: s(C.verifiedIcon),
                                    width: _.USER_MOD_ICON_SIZE_PX,
                                    height: _.USER_MOD_ICON_SIZE_PX
                                }) : (0, a.jsx)(f.default, {
                                    className: s(C.unverifiedIcon),
                                    width: _.USER_MOD_ICON_SIZE_PX,
                                    height: _.USER_MOD_ICON_SIZE_PX
                                })
                            }), (0, a.jsx)(_.UserModInfoItem, {
                                icon: (0, a.jsx)(E.default, {
                                    width: _.USER_MOD_ICON_SIZE_PX,
                                    height: _.USER_MOD_ICON_SIZE_PX,
                                    className: C.unusualDMLabelIcon
                                }),
                                name: (0, a.jsx)(r.Text, {
                                    variant: "text-sm/medium",
                                    color: "text-normal",
                                    children: S.default.Messages.GUILD_MEMBER_MOD_VIEW_PHONE_VERIFIED
                                }),
                                description: g ? (0, a.jsx)(c.default, {
                                    className: s(C.verifiedIcon),
                                    width: _.USER_MOD_ICON_SIZE_PX,
                                    height: _.USER_MOD_ICON_SIZE_PX
                                }) : (0, a.jsx)(f.default, {
                                    className: s(C.unverifiedIcon),
                                    width: _.USER_MOD_ICON_SIZE_PX,
                                    height: _.USER_MOD_ICON_SIZE_PX
                                })
                            }), I !== u.UserRulesAgreementLevel.NO_GATE && (0, a.jsx)(_.UserModInfoItem, {
                                icon: (0, a.jsx)(E.default, {
                                    width: _.USER_MOD_ICON_SIZE_PX,
                                    height: _.USER_MOD_ICON_SIZE_PX,
                                    className: C.unusualDMLabelIcon
                                }),
                                name: (0, a.jsx)(r.Text, {
                                    variant: "text-sm/medium",
                                    color: "text-normal",
                                    children: S.default.Messages.GUILD_MEMBER_MOD_VIEW_AGREE_TO_RULES
                                }),
                                description: I === u.UserRulesAgreementLevel.AGREED ? (0, a.jsx)(c.default, {
                                    className: s(C.verifiedIcon),
                                    width: _.USER_MOD_ICON_SIZE_PX,
                                    height: _.USER_MOD_ICON_SIZE_PX
                                }) : (0, a.jsx)(f.default, {
                                    className: s(C.unverifiedIcon),
                                    width: _.USER_MOD_ICON_SIZE_PX,
                                    height: _.USER_MOD_ICON_SIZE_PX
                                })
                            }), (0, a.jsx)(_.UserModInfoItem, {
                                icon: (0, a.jsx)(h.default, {
                                    width: _.USER_MOD_ICON_SIZE_PX,
                                    height: _.USER_MOD_ICON_SIZE_PX
                                }),
                                name: (0, a.jsx)(r.Text, {
                                    variant: "text-sm/medium",
                                    color: "text-normal",
                                    children: S.default.Messages.GUILD_MEMBER_MOD_VIEW_DISCORD_JOIN_DATE
                                }),
                                description: (0, a.jsx)(r.Text, {
                                    variant: "text-sm/medium",
                                    color: "text-normal",
                                    children: T
                                })
                            }), (0, a.jsx)(_.UserModInfoItem, {
                                icon: (0, a.jsx)(d.GuildIcon, {
                                    guild: n,
                                    size: d.GuildIcon.Sizes.SMOL,
                                    animate: !1,
                                    className: C.guildIcon
                                }),
                                name: (0, a.jsx)(r.Text, {
                                    variant: "text-sm/medium",
                                    color: "text-normal",
                                    children: S.default.Messages.GUILD_MEMBER_MOD_VIEW_GUILD_JOIN_DATE
                                }),
                                description: (0, a.jsx)(r.Text, {
                                    variant: "text-sm/medium",
                                    color: "text-normal",
                                    children: N
                                })
                            }), (0, a.jsx)(_.UserModInfoItem, {
                                icon: (0, a.jsx)(p.default, {
                                    width: _.USER_MOD_ICON_SIZE_PX,
                                    height: _.USER_MOD_ICON_SIZE_PX
                                }),
                                name: (0, a.jsx)(r.Text, {
                                    variant: "text-sm/medium",
                                    color: "text-normal",
                                    children: S.default.Messages.GUILD_MEMBER_MOD_VIEW_INVITE_LINK_LABEL
                                }),
                                description: (0, a.jsx)(r.Text, {
                                    variant: "text-sm/medium",
                                    color: "text-normal",
                                    children: null != x ? x : "-"
                                })
                            })]
                        })
                    })
                })
            }
        },
        21363: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return C
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("65597"),
                u = n("77078"),
                o = n("178406"),
                d = n("553275"),
                c = n("412013"),
                f = n("305961"),
                h = n("957255"),
                p = n("151185"),
                m = n("592866"),
                E = n("49111"),
                _ = n("782340"),
                S = n("63893");

            function C(e) {
                let {
                    member: t
                } = e, n = (0, r.default)([f.default], () => f.default.getGuild(t.guildId), [t.guildId]), s = l.useMemo(() => {
                    var e, a, l;
                    if (null == n) return [];
                    let s = null !== (e = null == n ? void 0 : n.roles) && void 0 !== e ? e : {};
                    return null == t.highestRoleId ? t.roles : t.roles.filter(e => null != e && e !== t.highestRoleId).sort((e, t) => {
                        var n, i;
                        return null !== (l = null !== (a = null === (n = s[t]) || void 0 === n ? void 0 : n.position) && void 0 !== a ? a : 0 - (null === (i = s[e]) || void 0 === i ? void 0 : i.position)) && void 0 !== l ? l : 0
                    })
                }, [t.roles, t.highestRoleId, n]), C = (0, r.default)([o.default], () => o.default.getEnhancedMember(t.guildId, t.userId), [t.guildId, t.userId]), g = (0, d.useHighestRole)(C), I = new Intl.NumberFormat(_.default.getLocale()).format(s.length), T = (0, d.useContextMenuModerateRoles)(t), N = (0, r.default)([h.default], () => h.default.can(E.Permissions.MANAGE_ROLES, n), [n]);
                return null == n ? null : (0, a.jsx)(u.FormItem, {
                    title: _.default.Messages.ROLES,
                    titleClassName: S.infoTitle,
                    children: (0, a.jsx)(m.UserModInfoItemContainer, {
                        children: (0, a.jsx)(m.UserModInfoItem, {
                            description: (0, a.jsxs)("div", {
                                className: S.roleContainer,
                                children: [null != g && (0, a.jsx)(c.default, {
                                    className: i(S.roleTooltipItem, S.highestRole),
                                    role: g,
                                    guildId: t.guildId
                                }), s.length > 0 && (0, a.jsx)(u.Tooltip, {
                                    "aria-label": _.default.Messages.MEMBER_SAFETY_COMMUNICATION_DISABLED_TOOLTIP,
                                    tooltipContentClassName: S.roleTooltip,
                                    allowOverflow: !0,
                                    text: (0, a.jsx)("div", {
                                        className: S.roleTooltipItemContainer,
                                        children: s.map(e => (0, a.jsx)(c.default, {
                                            className: i(S.roleTooltipItem),
                                            role: n.roles[e],
                                            guildId: t.guildId
                                        }, e))
                                    }),
                                    children: e => {
                                        let {
                                            onMouseEnter: t,
                                            onMouseLeave: n
                                        } = e;
                                        return (0, a.jsx)(u.Clickable, {
                                            className: i(S.otherRoles),
                                            onMouseEnter: t,
                                            onMouseLeave: n,
                                            children: (0, a.jsxs)(u.Text, {
                                                variant: "text-xs/medium",
                                                color: "header-primary",
                                                children: ["+", I]
                                            })
                                        })
                                    }
                                }), N && (0, a.jsx)(u.Clickable, {
                                    className: i(S.otherRoles, S.addRoleContainer),
                                    onClick: T,
                                    children: (0, a.jsx)(p.default, {
                                        className: i(S.addRoleIcon),
                                        width: m.USER_MOD_ICON_SIZE_PX,
                                        height: m.USER_MOD_ICON_SIZE_PX
                                    })
                                })]
                            })
                        })
                    })
                })
            }
        },
        592866: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                USER_MOD_ICON_SIZE_PX: function() {
                    return r
                },
                UserModInfoItem: function() {
                    return u
                },
                UserModInfoItemContainer: function() {
                    return o
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("414456"),
                s = n.n(l),
                i = n("558595");
            let r = 16;

            function u(e) {
                let {
                    description: t,
                    name: n,
                    icon: l
                } = e;
                return (0, a.jsxs)("div", {
                    className: s(i.modInfoItem),
                    children: [null != l && (0, a.jsx)("div", {
                        className: s(i.modInfoItemIcon),
                        children: l
                    }), null != n && (0, a.jsx)("div", {
                        className: s(i.modInfoItemName),
                        children: n
                    }), (0, a.jsx)("div", {
                        className: s(i.modInfoItemDescription),
                        children: t
                    })]
                })
            }

            function o(e) {
                let {
                    children: t
                } = e;
                return (0, a.jsx)("div", {
                    className: s(i.modInfoItemContainer),
                    children: t
                })
            }
        },
        249957: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("414456"),
                s = n.n(l),
                i = n("65597"),
                r = n("26989"),
                u = n("697218"),
                o = n("703433"),
                d = n("21363"),
                c = n("608973"),
                f = n("132881"),
                h = n("63893");

            function p(e) {
                let {
                    userId: t,
                    guildId: n,
                    location: l,
                    className: p
                } = e, m = (0, i.default)([u.default], () => u.default.getUser(t), [t]), E = (0, i.default)([r.default], () => r.default.getMember(n, t), [n, t]);
                return null == m || null == E ? null : (0, a.jsxs)("div", {
                    className: s(h.container, p),
                    children: [(0, a.jsx)(c.default, {
                        member: E
                    }), (0, a.jsx)(d.default, {
                        member: E
                    }), (0, a.jsx)(f.default, {
                        member: E
                    }), (0, a.jsx)(o.default, {
                        member: E
                    })]
                })
            }
        },
        608973: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("65597"),
                i = n("77078"),
                r = n("509"),
                u = n("178406"),
                o = n("998940"),
                d = n("91551"),
                c = n("4845"),
                f = n("491401"),
                h = n("592866"),
                p = n("782340"),
                m = n("63893");

            function E(e) {
                let {
                    member: t
                } = e, n = t.userId, E = t.guildId, _ = (0, s.default)([u.default], () => u.default.getEnhancedMember(E, n), [n, E]), S = null != _ ? _ : t, C = S.unusualDMActivityUntil, g = l.useCallback(e => {
                    if (null == e) return null;
                    let t = new Date(e).getTime();
                    return (0, o.formatDateRelativeTime)(t, o.MembersTableDateFormats.JOINED_AT)
                }, []), I = l.useMemo(() => null == t ? null : g(C), [t, g, C]), T = l.useMemo(() => (0, r.isCommunicationDisabled)(t.communicationDisabledUntil), [t.communicationDisabledUntil]), N = l.useMemo(() => null == t.communicationDisabledUntil ? new Date : new Date(t.communicationDisabledUntil), [t.communicationDisabledUntil]), x = null == C && !T;
                return x ? null : (0, a.jsx)(i.FormItem, {
                    title: p.default.Messages.MEMBER_SAFETY_TABLE_HEADER_FLAGS,
                    titleClassName: m.infoTitle,
                    children: (0, a.jsxs)(h.UserModInfoItemContainer, {
                        children: [null != C && (0, a.jsx)(h.UserModInfoItem, {
                            icon: (0, a.jsx)(c.default, {
                                width: h.USER_MOD_ICON_SIZE_PX,
                                height: h.USER_MOD_ICON_SIZE_PX,
                                className: m.unusualDMLabelIcon
                            }),
                            name: (0, a.jsx)(i.Text, {
                                variant: "text-sm/semibold",
                                color: "text-normal",
                                children: p.default.Messages.MEMBER_SAFETY_UNUSUAL_DM_ACTIVITY
                            }),
                            description: (0, a.jsx)(i.Text, {
                                variant: "text-sm/semibold",
                                color: "text-normal",
                                children: I
                            })
                        }), T && null != N && (0, a.jsx)(h.UserModInfoItem, {
                            icon: (0, a.jsx)(f.default, {
                                width: h.USER_MOD_ICON_SIZE_PX,
                                height: h.USER_MOD_ICON_SIZE_PX,
                                className: m.unusualDMLabelIcon
                            }),
                            name: (0, a.jsx)(i.Text, {
                                variant: "text-sm/semibold",
                                color: "text-normal",
                                children: p.default.Messages.GUILD_COMMUNICATION_DISABLED_ON_MEMBER
                            }),
                            description: (0, a.jsx)(i.Text, {
                                variant: "text-sm/semibold",
                                color: "text-normal",
                                children: (0, a.jsx)(d.default, {
                                    deadline: N,
                                    showUnits: !0,
                                    stopAtOneSec: !0
                                })
                            })
                        })]
                    })
                })
            }
        },
        132881: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("77078"),
                s = n("116320"),
                i = n("109264"),
                r = n("180968"),
                u = n("592866"),
                o = n("782340"),
                d = n("63893");

            function c(e) {
                let {
                    member: t
                } = e, {
                    messageCount: n,
                    mentionsCount: c
                } = (0, r.useServerActivityForUser)(t.userId, t.guildId), f = new Intl.NumberFormat(o.default.getLocale()).format(n), h = new Intl.NumberFormat(o.default.getLocale()).format(c);
                return (0, a.jsx)(l.FormItem, {
                    title: o.default.Messages.GUILD_MEMBER_MOD_VIEW_GUILD_MESSAGE_ACTIVITY_TITLE,
                    titleClassName: d.infoTitle,
                    children: (0, a.jsxs)(u.UserModInfoItemContainer, {
                        children: [(0, a.jsx)(u.UserModInfoItem, {
                            icon: (0, a.jsx)(i.default, {
                                width: u.USER_MOD_ICON_SIZE_PX,
                                height: u.USER_MOD_ICON_SIZE_PX
                            }),
                            name: (0, a.jsx)(l.Text, {
                                variant: "text-sm/semibold",
                                color: "text-normal",
                                children: o.default.Messages.MESSAGES
                            }),
                            description: n === r.HAS_NO_COUNT ? (0, a.jsx)(l.Spinner, {
                                type: l.SpinnerTypes.SPINNING_CIRCLE,
                                className: d.loadingSpinner
                            }) : (0, a.jsx)(l.Text, {
                                variant: "text-sm/semibold",
                                color: "text-muted",
                                children: f
                            })
                        }), (0, a.jsx)(u.UserModInfoItem, {
                            icon: (0, a.jsx)(s.default, {
                                width: u.USER_MOD_ICON_SIZE_PX,
                                height: u.USER_MOD_ICON_SIZE_PX
                            }),
                            name: (0, a.jsx)(l.Text, {
                                variant: "text-sm/semibold",
                                color: "text-normal",
                                children: o.default.Messages.MENTIONS
                            }),
                            description: c === r.HAS_NO_COUNT ? (0, a.jsx)(l.Spinner, {
                                type: l.SpinnerTypes.SPINNING_CIRCLE,
                                className: d.loadingSpinner
                            }) : (0, a.jsx)(l.Text, {
                                variant: "text-sm/semibold",
                                color: "text-muted",
                                children: h
                            })
                        })]
                    })
                })
            }
        },
        986358: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return w
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("414456"),
                s = n.n(l),
                i = n("65597"),
                r = n("77078"),
                u = n("450911"),
                o = n("841098"),
                d = n("509"),
                c = n("278483"),
                f = n("700179"),
                h = n("130037"),
                p = n("430312"),
                m = n("271938"),
                E = n("26989"),
                _ = n("305961"),
                S = n("957255"),
                C = n("824563"),
                g = n("101125"),
                I = n("697218"),
                T = n("530346"),
                N = n("109264"),
                x = n("491401"),
                v = n("945330"),
                A = n("662255"),
                M = n("152224"),
                R = n("306160"),
                L = n("387111"),
                O = n("158998"),
                y = n("49111"),
                j = n("590456"),
                P = n("782340"),
                D = n("298028");

            function b(e) {
                let {
                    user: t,
                    guildId: n,
                    onClose: l
                } = e, s = t.id, u = (0, i.default)([g.default, C.default, m.default], () => s === m.default.getId() ? g.default.getStatus() : C.default.getStatus(s, n), [s, n]);
                return (0, a.jsxs)("div", {
                    className: D.topRow,
                    children: [(0, a.jsxs)("div", {
                        className: D.memberNameContainer,
                        children: [(0, a.jsx)("div", {
                            className: D.memberAvatar,
                            children: (0, a.jsx)(r.Avatar, {
                                src: t.getAvatarURL(n, 48),
                                "aria-label": t.username,
                                size: r.AvatarSizes.SIZE_48,
                                status: u
                            })
                        }), (0, a.jsx)("div", {
                            className: D.memberName,
                            children: (0, a.jsx)(r.Text, {
                                variant: "text-lg/medium",
                                children: (0, a.jsx)(r.NameWithRole, {
                                    name: L.default.getName(n, null, t),
                                    color: r.tokens.colors.HEADER_PRIMARY.css
                                })
                            })
                        }), (0, a.jsx)("div", {
                            className: D.memberGlobalName,
                            children: (0, a.jsx)(r.Text, {
                                variant: "text-md/medium",
                                color: "text-normal",
                                children: O.default.getUserTag(t)
                            })
                        })]
                    }), (0, a.jsx)("div", {
                        className: D.close,
                        children: (0, a.jsx)(r.Text, {
                            variant: "text-md/medium",
                            color: "text-normal",
                            children: (0, a.jsx)(r.Clickable, {
                                className: D.closeAction,
                                onClick: l,
                                children: (0, a.jsx)(v.default, {})
                            })
                        })
                    })]
                })
            }

            function U(e) {
                let {
                    tag: t = "div",
                    disabled: n,
                    children: l,
                    onClick: i,
                    ...u
                } = e;
                return (0, a.jsx)(r.Clickable, {
                    ...u,
                    tag: t,
                    className: s(D.bottomRowAction, {
                        [D.bottomRowActionDisabled]: n
                    }),
                    onClick: n ? void 0 : i,
                    children: l
                })
            }

            function F(e) {
                let {
                    user: t,
                    member: l,
                    guildId: s,
                    location: o
                } = e, p = (0, i.default)([_.default], () => _.default.getGuild(s)), {
                    canKickUser: m,
                    canBanUser: E,
                    canModerateMembers: C
                } = (0, i.useStateFromStoresObject)([S.default, I.default, _.default], () => ({
                    canKickUser: null != p && S.default.canManageUser(y.Permissions.KICK_MEMBERS, t, p),
                    canBanUser: null != p && S.default.canManageUser(y.Permissions.BAN_MEMBERS, t, p),
                    canModerateMembers: null != p && (0, f.canToggleCommunicationDisableOnUser)(p.id, t.id, [I.default, _.default, S.default])
                }), [t, p]), g = (0, d.isMemberCommunicationDisabled)(l), v = null != o ? [o] : [], L = (0, h.useTrackModerationAction)(s, {
                    targetUserId: t.id,
                    location: o
                });
                return (0, a.jsxs)("div", {
                    className: D.bottomRow,
                    children: [(0, a.jsxs)(U, {
                        "aria-label": P.default.Messages.SEND_DM,
                        onClick: () => {
                            u.default.openPrivateChannel(t.id)
                        },
                        children: [(0, a.jsx)(N.default, {
                            width: 22,
                            height: 22
                        }), (0, a.jsx)(r.Text, {
                            variant: "text-sm/normal",
                            color: "none",
                            children: P.default.Messages.SEND_DM
                        })]
                    }), (0, a.jsxs)(U, {
                        disabled: !m,
                        "aria-label": P.default.Messages.KICK,
                        onClick: () => {
                            (0, r.openModalLazy)(async () => {
                                let {
                                    default: e
                                } = await n.el("125104").then(n.bind(n, "125104"));
                                return n => (0, a.jsx)(e, {
                                    ...n,
                                    location: o,
                                    guildId: s,
                                    user: t
                                })
                            })
                        },
                        children: [(0, a.jsx)(M.default, {
                            width: 22,
                            height: 22,
                            color: r.tokens.colors.TEXT_NORMAL.css
                        }), (0, a.jsx)(r.Text, {
                            variant: "text-sm/normal",
                            color: "none",
                            children: P.default.Messages.KICK
                        })]
                    }), (0, a.jsxs)(U, {
                        disabled: !E,
                        "aria-label": P.default.Messages.BAN,
                        onClick: () => {
                            (0, r.openModalLazy)(async () => {
                                let {
                                    default: e
                                } = await n.el("743506").then(n.bind(n, "743506"));
                                return n => (0, a.jsx)(e, {
                                    ...n,
                                    location: o,
                                    guildId: s,
                                    user: t
                                })
                            })
                        },
                        children: [(0, a.jsx)(T.default, {
                            width: 22,
                            height: 22,
                            color: r.tokens.colors.TEXT_NORMAL.css
                        }), (0, a.jsx)(r.Text, {
                            variant: "text-sm/normal",
                            color: "none",
                            children: P.default.Messages.BAN
                        })]
                    }), (0, a.jsxs)(U, {
                        disabled: !C,
                        "aria-label": P.default.Messages.TIMEOUT_USER,
                        onClick: () => {
                            g ? (0, c.openEnableCommunication)(l.guildId, l.userId, v) : (0, c.openDisableCommunication)(l.guildId, l.userId, v)
                        },
                        children: [(0, a.jsx)(x.default, {
                            width: 22,
                            height: 22,
                            color: r.tokens.colors.TEXT_NORMAL.css
                        }), (0, a.jsx)(r.Text, {
                            variant: "text-sm/normal",
                            color: "none",
                            children: g ? P.default.Messages.REMOVE_TIME_OUT : P.default.Messages.TIMEOUT_USER
                        })]
                    }), (0, a.jsxs)(U, {
                        "aria-label": P.default.Messages.COPY_ID,
                        onClick: () => {
                            L(h.ModerationActionType.COPY_ID), (0, R.copy)(t.id)
                        },
                        disabled: !R.SUPPORTS_COPY,
                        children: [(0, a.jsx)(A.default, {
                            width: 22,
                            height: 22,
                            color: r.tokens.colors.TEXT_NORMAL.css
                        }), (0, a.jsx)(r.Text, {
                            variant: "text-sm/normal",
                            color: "none",
                            children: P.default.Messages.COPY_ID
                        })]
                    })]
                })
            }

            function w(e) {
                let {
                    userId: t,
                    guildId: n,
                    onClose: l
                } = e, r = (0, i.default)([I.default], () => I.default.getUser(t), [t]), u = (0, i.default)([E.default], () => E.default.getMember(n, t), [n, t]), d = (0, o.default)();
                return null == r || null == u ? null : (0, a.jsx)(p.default, {
                    user: r,
                    guildId: n,
                    profileType: j.UserProfileTypes.CARD,
                    forceShowPremium: !0,
                    children: (0, a.jsx)("div", {
                        className: s(D.container, "theme-".concat(d)),
                        children: (0, a.jsxs)("div", {
                            className: D.innerBoarderedContainer,
                            children: [(0, a.jsx)(b, {
                                user: r,
                                guildId: n,
                                onClose: l
                            }), (0, a.jsx)(F, {
                                user: r,
                                member: u,
                                guildId: n,
                                location: location
                            })]
                        })
                    })
                })
            }
        },
        917397: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useUserPhoneVerification: function() {
                    return _
                },
                UserRulesAgreementLevel: function() {
                    return l
                },
                useUserRulesAgreementLevel: function() {
                    return S
                },
                useUserEmailVerification: function() {
                    return C
                },
                useUserAccountAgeDate: function() {
                    return g
                },
                useGuildMemberJoinedAtDate: function() {
                    return I
                },
                useGuildMemberInviteLinkCode: function() {
                    return T
                }
            });
            var a, l, s = n("884691"),
                i = n("866227"),
                r = n.n(i),
                u = n("65597"),
                o = n("26989"),
                d = n("305961"),
                c = n("697218"),
                f = n("568734"),
                h = n("299039"),
                p = n("178406"),
                m = n("645266"),
                E = n("657944");

            function _(e) {
                let t = (0, u.default)([c.default], () => c.default.getUser(e), [e]);
                return null != t && t.isPhoneVerified()
            }

            function S(e, t) {
                var n, a;
                let s = (0, u.default)([c.default], () => c.default.getUser(e), [e]),
                    i = (0, u.default)([o.default], () => o.default.getMember(t, e), [t, e]),
                    r = (0, u.default)([d.default], () => d.default.getGuild(t), [t]),
                    h = null == r ? void 0 : r.hasVerificationGate();
                return h ? null == s || null == i || null == r ? l.NO_AGREEMENT : (0, f.hasFlag)(null !== (n = i.flags) && void 0 !== n ? n : 0, E.GuildMemberFlags.BYPASSES_VERIFICATION) || (0, f.hasFlag)(null !== (a = i.flags) && void 0 !== a ? a : 0, E.GuildMemberFlags.COMPLETED_ONBOARDING) ? l.AGREED : l.NO_AGREEMENT : l.NO_GATE
            }

            function C(e) {
                let t = (0, u.default)([c.default], () => c.default.getUser(e), [e]);
                if (null == t) return !1;
                let n = (null == t ? void 0 : t.isPhoneVerified()) || (null == t ? void 0 : t.isStaff());
                return t.verified || n
            }

            function g(e) {
                return s.useMemo(() => {
                    let t = h.default.extractTimestamp(e);
                    return r(new Date(t)).format("MMM DD, YYYY")
                }, [e])
            }

            function I(e, t) {
                let n = (0, u.default)([o.default], () => o.default.getMember(t, e), [t, e]),
                    a = null == n ? void 0 : n.joinedAt;
                return s.useMemo(() => null == a ? "" : r(new Date(a)).format("MMM DD, YYYY"), [a])
            }

            function T(e, t) {
                var n;
                let [a, l] = s.useState(null), i = s.useRef(null), r = (0, u.default)([p.default], () => p.default.getEnhancedMember(t, e), [t, e]), o = null !== (n = null == r ? void 0 : r.sourceInviteCode) && void 0 !== n ? n : null;
                return s.useEffect(() => {
                    if (null != o && l(o), null != i.current) return () => {
                        i.current = null
                    };
                    i.current = (0, m.getMemberSupplemental)(t, [e]).then(e => {
                        if (e.length > 0) {
                            var t, n;
                            l(null !== (n = null === (t = e[0]) || void 0 === t ? void 0 : t.sourceInviteCode) && void 0 !== n ? n : null)
                        }
                    })
                }, [e, t, o]), null != a ? a : null
            }(a = l || (l = {}))[a.NO_GATE = 0] = "NO_GATE", a[a.NO_AGREEMENT = 1] = "NO_AGREEMENT", a[a.AGREED = 2] = "AGREED"
        },
        809167: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var a = n("884691"),
                l = n("133797"),
                s = n("577357"),
                i = n("41391"),
                r = n("782340");

            function u(e) {
                let {
                    includeFlairAsBenefit: t,
                    listing: n,
                    guildId: u
                } = e, o = 0, d = 0;
                for (let e of n.role_benefits.benefits)(0, s.isChannelBenefit)(e) ? o += 1 : (0, s.isIntangibleBenefit)(e) && (d += 1);
                let c = n.role_id,
                    f = (0, i.default)(u),
                    h = f.filter(e => e.roles.includes(c)).length;
                return a.useMemo(() => {
                    let e = [];
                    return !0 === t && e.push(r.default.Messages.GUILD_ROLE_SUBSCRIPTION_BENEFIT_VISUAL_FLAIR), 0 !== o && e.push(r.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_EXCLUSIVE_CHANNELS_SUBTITLE.format({
                        channelCount: o
                    })), 0 !== d && e.push(r.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_BENEFITS_SUBTITLE.format({
                        benefitCount: d
                    })), 0 !== h && e.push(r.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_EMOJI_SUBTITLE.format({
                        emojiCount: h
                    })), new l.default(e)
                }, [o, d, h, t])
            }
        },
        176687: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var a = n("884691"),
                l = n("446674"),
                s = n("775433"),
                i = n("10514"),
                r = n("521012"),
                u = n("648825"),
                o = n("136185"),
                d = n("49111");

            function c(e) {
                let t = (0, l.useStateFromStores)([r.default], () => r.default.getSubscriptions()),
                    n = a.useMemo(() => {
                        if (null == t) return {};
                        let e = {};
                        for (let n of Object.values(t))
                            if (n.type === d.SubscriptionTypes.GUILD) {
                                let t = (0, o.getRoleSubscriptionPlanId)(n);
                                e[t] = n
                            } return e
                    }, [t]),
                    {
                        activeSubscription: c,
                        activeSubscriptionListing: f
                    } = (0, l.useStateFromStoresObject)([u.default], () => {
                        var t;
                        let a;
                        let l = null,
                            s = null != e ? u.default.getSubscriptionGroupListing(e) : null,
                            i = null !== (t = null == s ? void 0 : s.subscription_listings_ids) && void 0 !== t ? t : [];
                        for (let e of i) {
                            let t = u.default.getSubscriptionListing(e),
                                s = null == t ? void 0 : t.subscription_plans[0].id;
                            if (null == s) continue;
                            let i = n[s];
                            if (null != i) {
                                l = i, a = t;
                                break
                            }
                        }
                        return {
                            activeSubscription: l,
                            activeSubscriptionListing: a
                        }
                    }),
                    h = null == f ? void 0 : f.subscription_plans[0],
                    p = null == h ? void 0 : h.id,
                    m = null == h ? void 0 : h.sku_id,
                    E = (0, l.useStateFromStores)([i.default], () => null != p ? i.default.get(p) : null),
                    _ = null == f ? void 0 : f.soft_deleted;
                return a.useEffect(() => {
                    null == E && null != m && !i.default.isFetchingForSKU(m) && (0, s.fetchSubscriptionPlansForSKU)(m, void 0, void 0, _)
                }, [E, m, _]), {
                    activeSubscription: c,
                    activeSubscriptionListing: f,
                    activeSubscriptionPlanFromStore: E
                }
            }
        },
        492548: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useGetTrialPurchaseEligibility: function() {
                    return s
                }
            });
            var a = n("884691"),
                l = n("719726");
            let s = () => {
                let [e, t] = a.useState(!1), [n, s] = a.useState(null), i = a.useCallback(async (e, n, a) => {
                    t(!0), s(null);
                    try {
                        let t = await (0, l.getGuildRoleSubscriptionTrialEligibility)(e, n, a);
                        return t
                    } catch (e) {
                        s(e)
                    } finally {
                        t(!1)
                    }
                }, []);
                return {
                    loading: e,
                    error: n,
                    getTrialPurchaseEligibility: i
                }
            }
        },
        595197: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return s
                }
            });
            var a = n("884691"),
                l = n("837008");

            function s(e, t) {
                let n = (0, l.useSubscriptionTrial)(t);
                return a.useMemo(() => {
                    var e;
                    return null != n && (null == n.max_num_active_trial_users || n.max_num_active_trial_users > (null !== (e = n.num_active_trial_users) && void 0 !== e ? e : 0))
                }, [n])
            }
        },
        373622: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            });
            var a = n("617258"),
                l = n("769846"),
                s = n("834897"),
                i = n("677795");
            let r = (0, a.cssValueToNumber)(l.default.GUILD_ROLE_SUBSCRIPTION_CARD_BASIC_INFO_TIER_IMAGE_SIZE),
                u = (0, a.cssValueToNumber)(l.default.GUILD_ROLE_SUBSCRIPTION_CARD_BASIC_INFO_TIER_IMAGE_SIZE_MOBILE);

            function o() {
                let e = (0, s.default)(i.RESPONSIVE_MOBILE_WIDTH_SIZE_QUERY);
                return e ? u : r
            }
        },
        291444: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useSubscriptionListingsForChannel: function() {
                    return c
                }
            });
            var a = n("316693"),
                l = n("446674"),
                s = n("38654"),
                i = n("42203"),
                r = n("305961"),
                u = n("837008"),
                o = n("866595"),
                d = n("49111");

            function c(e) {
                let {
                    guildId: t,
                    channelId: n
                } = e, c = (0, u.useSubscriptionListingsForGuild)(t);
                return (0, l.useStateFromStoresArray)([i.default, r.default, s.default], () => {
                    let e = i.default.getChannel(n),
                        l = r.default.getGuild(t),
                        u = s.default.isViewingSubscriptionRoles(t);
                    return null != l && null != e ? c.filter(t => (function(e, t, n) {
                        let {
                            isPreviewingRoles: l = !1
                        } = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};
                        if (!(l || e.published)) return !1;
                        let s = n.permissionOverwrites[e.role_id];
                        if ((0, o.isChannelAccessGrantedBy)(n, s)) return !0;
                        let i = t.getRole(t.id),
                            r = null != i && !a.default.has(i.permissions, d.Permissions.VIEW_CHANNEL),
                            u = (0, o.isChannelAccessDeniedBy)(n, n.permissionOverwrites[t.id]),
                            c = t.getRole(e.role_id);
                        return r && !u && null != c && (0, o.isAllChannelsRole)(c) && !(0, o.isChannelAccessDeniedBy)(n, s)
                    })(t, l, e, {
                        isPreviewingRoles: u
                    })) : []
                }, [t, n, c])
            }
        },
        847426: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return h
                }
            });
            var a = n("884691"),
                l = n("446674"),
                s = n("716241"),
                i = n("685665"),
                r = n("393414"),
                u = n("599110"),
                o = n("257869"),
                d = n("648825"),
                c = n("176687"),
                f = n("49111");

            function h(e) {
                var t;
                let {
                    guildId: n,
                    groupListingId: h,
                    location: p,
                    relevantSubscriptionListingIds: m
                } = e, E = (0, o.useGroupListingsFetchContext)("useTrackRoleSubscriptionUpsellAnalytics"), {
                    activeSubscription: _
                } = (0, c.default)(h), S = null != _, C = (0, l.useStateFromStoresArray)([d.default], () => (null != m ? m : []).filter(e => {
                    var t;
                    return (null === (t = d.default.getSubscriptionListing(e)) || void 0 === t ? void 0 : t.published) === !0
                }), [m]), {
                    analyticsLocations: g
                } = (0, i.default)(null !== (t = (0, r.getLastRouteChangeSourceLocationStack)()) && void 0 !== t ? t : []), I = a.useRef(!1);
                a.useEffect(() => {
                    E && null != h && null != C && !I.current && (I.current = !0, u.default.track(f.AnalyticEvents.ROLE_SUBSCRIPTION_LISTING_UPSELL_PAGE_VIEWED, {
                        role_subscription_group_listing_id: h,
                        role_subscription_listing_ids: C,
                        is_premium_member: S,
                        location_stack: g,
                        location: p,
                        ...(0, s.collectGuildAnalyticsMetadata)(n)
                    }))
                }, [n, h, E, p, C, S, g])
            }
        },
        93252: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("77078"),
                s = n("592407"),
                i = n("479756"),
                r = n("432153"),
                u = n("49111"),
                o = n("782340"),
                d = n("573431"),
                c = n("408426");

            function f(e) {
                let {
                    guildId: t
                } = e;
                return (0, a.jsx)("div", {
                    className: d.upsellPage,
                    children: (0, a.jsxs)("div", {
                        className: d.upsellContainer,
                        children: [(0, a.jsx)("img", {
                            src: c,
                            alt: ""
                        }), (0, a.jsxs)("div", {
                            className: d.upsellContent,
                            children: [(0, a.jsx)(l.Heading, {
                                variant: "heading-xl/semibold",
                                children: o.default.Messages.GUILD_ROLE_SUBSCRIPTION_TEMPLATE_PREVIEW_CHANNEL_UPSELL_HEADER
                            }), (0, a.jsx)(l.Text, {
                                variant: "text-sm/normal",
                                className: d.bodyText,
                                children: o.default.Messages.GUILD_ROLE_SUBSCRIPTION_TEMPLATE_PREVIEW_CHANNEL_UPSELL_BODY
                            }), (0, a.jsx)(l.Button, {
                                size: l.Button.Sizes.MEDIUM,
                                onClick: () => {
                                    (0, i.stopImpersonating)(t), s.default.open(t, u.GuildSettingsSections.ROLE_SUBSCRIPTIONS, void 0, u.GuildSettingsSubsections.ROLE_SUBSCRIPTION_TIERS), (0, r.announceDeleteTemplateChannels)(t)
                                },
                                className: d.button,
                                children: o.default.Messages.GUILD_ROLE_SUBSCRIPTION_TEMPLATE_PREVIEW_CHANNEL_UPSELL_BUTTON
                            })]
                        })]
                    })
                })
            }
        },
        548683: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("77078"),
                u = n("808388"),
                o = n("782340"),
                d = n("635845");

            function c(e) {
                let {
                    text: t,
                    hasScrolled: n
                } = e;
                return (0, a.jsxs)("div", {
                    className: i(d.container, {
                        [d.containerHide]: n
                    }),
                    children: [(0, a.jsx)("div", {
                        className: d.notice,
                        children: (0, a.jsx)(r.Text, {
                            className: d.label,
                            variant: "text-md/medium",
                            color: "header-primary",
                            children: t
                        })
                    }), (0, a.jsx)("div", {
                        className: d.noticeArrow
                    })]
                })
            }

            function f(e) {
                let [t, n] = l.useState(), [s, i] = l.useState(), [r, d] = l.useState(!1), [f, h] = l.useState(!1), {
                    enabled: p
                } = (0, u.useRoleSubscriptionMaxTiersExperiment)(e);
                l.useEffect(() => {
                    p && null != t && null != s ? d(t < s) : d(!1)
                }, [p, t, s]);
                let m = l.useMemo(() => r ? (0, a.jsx)(c, {
                    text: o.default.Messages.GUILD_ROLE_SUBSCRIPTION_LISTINGS_SCROLLABLE_NOTICE,
                    hasScrolled: f
                }) : null, [r, f]);
                return {
                    horizontalScrollNotice: m,
                    handleScroll: () => h(!0),
                    handleSetScrollerRef: e => {
                        var t;
                        return i(null == e ? void 0 : null === (t = e.getScrollerState()) || void 0 === t ? void 0 : t.scrollWidth)
                    },
                    handleSetContainerRef: e => n(null == e ? void 0 : e.clientWidth)
                }
            }
        },
        900076: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("414456"),
                s = n.n(l),
                i = n("394846"),
                r = n("77078"),
                u = n("548683"),
                o = n("158238");

            function d(e) {
                let {
                    guildId: t,
                    children: n,
                    className: l
                } = e, {
                    horizontalScrollNotice: d,
                    handleScroll: c,
                    handleSetScrollerRef: f,
                    handleSetContainerRef: h
                } = (0, u.default)(t), p = (0, a.jsx)("div", {
                    className: o.tierPreviewsContainer,
                    children: (0, a.jsx)("div", {
                        className: s(o.tierPreviews, l),
                        children: n
                    })
                });
                return !i.isMobile && (p = (0, a.jsxs)(a.Fragment, {
                    children: [d, (0, a.jsx)(r.AdvancedScroller, {
                        className: o.scroller,
                        orientation: "horizontal",
                        ref: f,
                        onScroll: c,
                        children: p
                    })]
                })), (0, a.jsx)("div", {
                    className: o.carouselMaxWidth,
                    ref: h,
                    children: p
                })
            }
        },
        226965: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("414456"),
                s = n.n(l),
                i = n("77078"),
                r = n("484456"),
                u = n("559979"),
                o = n("70695"),
                d = n("441641");

            function c(e) {
                let {
                    benefit: t,
                    guildId: n
                } = e, l = (0, o.default)(n, t.ref_id), c = (0, a.jsx)(r.default, {
                    guildId: n,
                    emojiId: t.emoji_id,
                    emojiName: t.emoji_name
                }), f = null != l ? (0, a.jsx)(i.Clickable, {
                    className: d.channelLink,
                    onClick: l.navigateToChannel,
                    "aria-label": l.ariaLabel,
                    role: "link",
                    children: (0, a.jsx)(i.Text, {
                        variant: "text-md/medium",
                        color: "header-primary",
                        className: s(d.name, d.linkedName),
                        children: (0, u.default)(t)
                    })
                }) : (0, a.jsx)(i.Text, {
                    variant: "text-md/medium",
                    color: "header-primary",
                    className: d.name,
                    children: (0, u.default)(t)
                });
                return (0, a.jsxs)("div", {
                    className: d.container,
                    children: [(0, a.jsxs)("div", {
                        className: d.infoContainer,
                        children: [f, (0, a.jsx)(i.Text, {
                            color: "interactive-normal",
                            variant: "text-sm/normal",
                            children: t.description
                        })]
                    }), (0, a.jsx)("div", {
                        className: d.emojiContainer,
                        children: c
                    })]
                })
            }
        },
        108314: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                GuildRoleSubscriptionBenefits: function() {
                    return w
                },
                default: function() {
                    return B
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("446674"),
                u = n("77078"),
                o = n("834897"),
                d = n("38654"),
                c = n("160299"),
                f = n("191814"),
                h = n("476765"),
                p = n("837899"),
                m = n("425190"),
                E = n("68238"),
                _ = n("315102"),
                S = n("577357"),
                C = n("837008"),
                g = n("167109"),
                I = n("176687"),
                T = n("595197"),
                N = n("41391"),
                x = n("549590"),
                v = n("833531"),
                A = n("270295"),
                M = n("246506"),
                R = n("226965"),
                L = n("944256"),
                O = n("97116"),
                y = n("320946"),
                j = n("677795"),
                P = n("49111"),
                D = n("782340"),
                b = n("938088");
            let U = e => {
                    let {
                        benefits: t,
                        header: n,
                        guildId: s
                    } = e, [i, r] = l.useState(!1), o = i ? t : t.slice(0, 5), d = t.length > 5, c = t.length - 5, p = D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_SHOW_MORE_DESCRIPTION_WITH_ITEMS.format({
                        numTruncated: c
                    }), m = (0, h.useUID)();
                    return 0 === t.length ? null : (0, a.jsxs)("div", {
                        className: b.benefitsSection,
                        children: [(0, a.jsx)(u.Heading, {
                            variant: "text-xs/bold",
                            color: "header-secondary",
                            className: b.sectionHeader,
                            id: m,
                            children: n
                        }), (0, a.jsx)(f.default, {
                            size: 12
                        }), (0, a.jsx)("ul", {
                            className: b.benefitsList,
                            "aria-labelledby": m,
                            children: o.map((e, t) => (0, a.jsx)("li", {
                                children: (0, a.jsx)(R.default, {
                                    guildId: s,
                                    benefit: e
                                }, (0, S.getBenefitKey)(e))
                            }, t))
                        }), d && (0, a.jsx)(G, {
                            isViewAll: i,
                            onToggle: () => r(e => !e),
                            showMoreText: p
                        })]
                    })
                },
                F = e => {
                    var t;
                    let {
                        guildId: n,
                        listingId: l
                    } = e, s = (0, N.default)(n), [i] = g.useTierEmojiIds(l, n), r = s.filter(e => i.has(e.id));
                    return 0 === r.length ? null : (0, a.jsxs)("div", {
                        className: b.benefitsSection,
                        children: [(0, a.jsx)(u.Heading, {
                            variant: "text-xs/bold",
                            color: "header-secondary",
                            className: b.sectionHeader,
                            children: D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_EMOJI_SECTION_TITLE.format({
                                count: r.length
                            })
                        }), (0, a.jsx)(f.default, {
                            size: 12
                        }), (0, a.jsx)("div", {
                            className: b.emojiList,
                            children: r.map((e, n) => (0, a.jsx)(u.Tooltip, {
                                text: e.name,
                                "aria-label": !1,
                                children: t => {
                                    var n;
                                    return (0, a.jsx)("img", {
                                        ...t,
                                        className: b.emojiListEmoji,
                                        src: (n = e, _.default.getEmojiURL({
                                            id: n.id,
                                            animated: n.animated,
                                            size: 24
                                        })),
                                        width: 24,
                                        height: 24,
                                        alt: e.name
                                    })
                                }
                            }, null !== (t = e.id) && void 0 !== t ? t : n))
                        })]
                    })
                },
                w = e => {
                    let {
                        listingId: t,
                        guildId: n,
                        className: l
                    } = e, s = (0, x.default)(n, t), [r] = g.useChannelBenefits(t), o = (0, v.default)(r), [d] = g.useIntangibleBenefits(t), c = g.useRole(t, n), [h] = g.useTierEmojiIds(t, n);
                    return null == s && 0 === o.length && 0 === d.length && 0 === h.size ? null : (0, a.jsxs)("div", {
                        className: i(b.subscriptionPerks, l),
                        children: [null != s && (0, a.jsxs)(u.HeadingLevel, {
                            component: (0, a.jsx)(u.Heading, {
                                variant: "text-xs/bold",
                                color: "header-secondary",
                                className: b.sectionHeader,
                                children: D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_MEMBER_PREVIEW
                            }),
                            children: [(0, a.jsx)(f.default, {
                                size: 8
                            }), (0, a.jsx)(M.default, {
                                role: c,
                                guildId: n,
                                className: b.roleMessagePreview
                            })]
                        }), (0, a.jsx)(U, {
                            header: D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_EXCLUSIVE_CHANNELS_SECTION_TITLE,
                            benefits: o,
                            guildId: n
                        }), (0, a.jsx)(U, {
                            header: D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_ADDITIONAL_BENEFITS_SECTION_TITLE,
                            benefits: d,
                            guildId: n
                        }), (0, a.jsx)(F, {
                            guildId: n,
                            listingId: t
                        })]
                    })
                },
                G = e => {
                    let t, {
                        onToggle: n,
                        isViewAll: l,
                        showMoreText: s
                    } = e;
                    return t = l ? (0, a.jsxs)(a.Fragment, {
                        children: [D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_SHOW_LESS_DESCRIPTION, (0, a.jsx)(m.default, {
                            className: b.toggleTruncationButtonIcon
                        })]
                    }) : (0, a.jsxs)(a.Fragment, {
                        children: [s, (0, a.jsx)(p.default, {
                            className: b.toggleTruncationButtonIcon
                        })]
                    }), (0, a.jsx)(u.Button, {
                        look: u.Button.Looks.BLANK,
                        size: u.Button.Sizes.NONE,
                        className: b.toggleTruncationButton,
                        innerClassName: b.toggleTruncationButtonInner,
                        onClick: n,
                        children: t
                    })
                };
            var B = e => {
                var t;
                let {
                    listingId: n,
                    guildId: s,
                    groupListingId: h,
                    analyticsLocation: p
                } = e, m = (0, C.useSubscriptionListing)(n), {
                    openModal: _,
                    canOpenModal: N,
                    cannotOpenReason: x,
                    isCheckingTrialEligibility: v
                } = (0, y.default)(m, s, h, p), M = (0, r.useStateFromStores)([c.default], () => c.default.isSyncing), {
                    activeSubscription: R,
                    activeSubscriptionListing: U
                } = (0, I.default)(h), F = (null == U ? void 0 : U.id) === n, B = (null == R ? void 0 : R.status) === P.SubscriptionStatusTypes.CANCELED, [k, H] = l.useState(!1), [V, W] = l.useState(!1), Y = l.useCallback(e => {
                    let t = !1;
                    null != e && (t = e.scrollHeight - e.clientHeight > 1), W(t)
                }, []), [z] = g.useName(n), [K] = g.useDescription(n), [X] = g.useTrialInterval(n), [q] = g.useTrialLimit(n), Z = (0, T.default)(s, n), Q = null != X && null == R && Z, J = (0, o.default)(j.RESPONSIVE_MOBILE_WIDTH_SIZE_QUERY), [$, ee] = l.useState(!1), et = $ || !J, en = (0, r.useStateFromStores)([d.default], () => d.default.isViewingSubscriptionRoles(s)), ea = (null == m ? void 0 : m.published) === !0, el = (null == m ? void 0 : m.soft_deleted) === !0, es = D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_SHOW_MORE_DESCRIPTION;
                return (ea || en) && !el ? (0, a.jsxs)("article", {
                    className: b.container,
                    "aria-label": z,
                    children: [Q && (0, a.jsxs)("div", {
                        className: i(b.tierTrialIndicator, b.tierTopIndicator),
                        children: [D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_PERIOD.format({
                            trialPeriodDuration: (0, S.formatPlanIntervalDuration)({
                                interval: X.interval,
                                interval_count: X.interval_count
                            })
                        }), (0, a.jsx)(u.Tooltip, {
                            clickableOnMobile: !0,
                            text: D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_DISCLAIMER.format({
                                activeTrialUserLimit: null != q ? q : 0
                            }),
                            children: e => (0, a.jsx)(E.default, {
                                className: b.tierTrialIndicatorIcon,
                                ...e
                            })
                        })]
                    }), (0, a.jsxs)("div", {
                        className: Q ? void 0 : b.cardContainerWithoutTopIndicator,
                        children: [(0, a.jsxs)("div", {
                            className: b.tierInfoContainer,
                            children: [J ? (0, a.jsx)(O.GuildRoleSubscriptionCollapsibleCardBasicInfo, {
                                listingId: n,
                                isListingPublished: ea,
                                expanded: et,
                                onToggleExpanded: () => ee(e => !e)
                            }) : (0, a.jsx)(L.GuildRoleSubscriptionCardBasicInfo, {
                                listingId: n,
                                isListingPublished: ea
                            }), et && (0, a.jsxs)(a.Fragment, {
                                children: [J && (0, a.jsx)("div", {
                                    className: b.divider
                                }), F ? (0, a.jsx)(u.Button, {
                                    fullWidth: !0,
                                    look: u.Button.Looks.OUTLINED,
                                    color: u.Button.Colors.PRIMARY,
                                    disabled: !0,
                                    children: B ? D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_CANCELED_LABEL : D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_SUBSCRIBED_LABEL
                                }) : (0, a.jsx)(u.Tooltip, {
                                    text: N ? null : x,
                                    "aria-label": null !== (t = N && x) && void 0 !== t && t,
                                    children: e => (0, a.jsx)(A.default, {
                                        ...e,
                                        fullWidth: !0,
                                        disabled: !N || M,
                                        submitting: v,
                                        onClick: _,
                                        onlyShineOnHover: !0,
                                        children: D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_SUBSCRIBE_LABEL
                                    })
                                }), (0, a.jsx)(f.default, {
                                    size: 16
                                }), (0, a.jsx)(u.Text, {
                                    variant: "text-sm/normal",
                                    color: "text-normal",
                                    className: i((!V || !k) && b.tierDescriptionTruncate),
                                    children: (0, a.jsx)("div", {
                                        ref: Y,
                                        children: K
                                    })
                                }), V && (0, a.jsx)(G, {
                                    isViewAll: k,
                                    onToggle: () => H(e => !e),
                                    showMoreText: es
                                })]
                            })]
                        }), et && (0, a.jsx)(u.HeadingLevel, {
                            children: (0, a.jsx)(w, {
                                listingId: n,
                                guildId: s
                            })
                        })]
                    })]
                }) : null
            }
        },
        944256: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                GuildRoleSubscriptionCardTierName: function() {
                    return h
                },
                GuildRoleSubscriptionCardTierImage: function() {
                    return p
                },
                GuildRoleSubscriptionCardDraftTierBadge: function() {
                    return m
                },
                GuildRoleSubscriptionCardBasicInfo: function() {
                    return E
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("669491"),
                s = n("77078"),
                i = n("956089"),
                r = n("153160"),
                u = n("577357"),
                o = n("167109"),
                d = n("373622"),
                c = n("782340"),
                f = n("118338");
            let h = e => {
                let {
                    listingName: t
                } = e;
                return (0, a.jsx)(s.Heading, {
                    variant: "text-md/normal",
                    color: "interactive-active",
                    className: f.tierName,
                    children: t
                })
            };

            function p(e) {
                let {
                    image: t
                } = e;
                return null == t ? null : (0, a.jsx)("img", {
                    src: t,
                    alt: "",
                    className: f.tierImage
                })
            }
            let m = () => (0, a.jsx)(i.TextBadge, {
                    color: l.default.unsafe_rawColors.YELLOW_300.css,
                    text: c.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_MANAGEMENT_DRAFT_LABEL,
                    className: f.draftBadge
                }),
                E = e => {
                    let {
                        listingId: t,
                        isListingPublished: n
                    } = e, l = (0, d.default)(), [i] = o.useName(t), [E] = o.useImage(t, l), [_] = o.useSubscriptionPlan(t);
                    return (0, a.jsxs)(a.Fragment, {
                        children: [(0, a.jsx)(h, {
                            listingName: i
                        }), (0, a.jsx)(p, {
                            image: E
                        }), !n && (0, a.jsx)("div", {
                            className: f.draftBadgeContainer,
                            children: (0, a.jsx)(m, {})
                        }), (0, a.jsx)(s.Text, {
                            variant: "heading-xl/semibold",
                            className: f.tierPrice,
                            tag: "div",
                            children: (0, r.formatPrice)(_.price, _.currency)
                        }), (0, a.jsx)(s.Text, {
                            variant: "text-xs/normal",
                            color: "interactive-normal",
                            className: f.tierPeriod,
                            children: c.default.Messages.GUILD_ROLE_SUBSCRIPTION_AMOUNT_PER_PERIOD.format({
                                period: (0, u.formatPlanInterval)({
                                    interval: _.interval,
                                    interval_count: _.interval_count
                                })
                            })
                        })]
                    })
                }
        },
        97116: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                GuildRoleSubscriptionCollapsibleCardBasicInfo: function() {
                    return p
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("77078"),
                s = n("837899"),
                i = n("425190"),
                r = n("153160"),
                u = n("577357"),
                o = n("167109"),
                d = n("373622"),
                c = n("944256"),
                f = n("782340"),
                h = n("948286");
            let p = e => {
                let {
                    listingId: t,
                    isListingPublished: n,
                    expanded: p,
                    onToggleExpanded: m
                } = e, E = (0, d.default)(), [_] = o.useName(t), [S] = o.useImage(t, E), [C] = o.useSubscriptionPlan(t);
                return (0, a.jsxs)("div", {
                    className: h.container,
                    children: [(0, a.jsx)(c.GuildRoleSubscriptionCardTierImage, {
                        image: S
                    }), (0, a.jsxs)("div", {
                        className: h.tierTextInfoContainer,
                        children: [(0, a.jsx)(c.GuildRoleSubscriptionCardTierName, {
                            listingName: _
                        }), (0, a.jsxs)("div", {
                            className: h.tierPriceContainer,
                            children: [!n && (0, a.jsx)(c.GuildRoleSubscriptionCardDraftTierBadge, {}), (0, a.jsxs)(l.Text, {
                                variant: "text-xs/normal",
                                className: h.tierPrice,
                                children: [(0, r.formatPrice)(C.price, C.currency), " ", f.default.Messages.GUILD_ROLE_SUBSCRIPTION_AMOUNT_PER_PERIOD.format({
                                    period: (0, u.formatPlanInterval)({
                                        interval: C.interval,
                                        interval_count: C.interval_count
                                    })
                                })]
                            })]
                        })]
                    }), (0, a.jsx)(l.Clickable, {
                        onClick: m,
                        children: p ? (0, a.jsx)(i.default, {
                            className: h.toggleButton
                        }) : (0, a.jsx)(s.default, {
                            className: h.toggleButton
                        })
                    })]
                })
            }
        },
        18544: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                PurchaseConfirmationLite: function() {
                    return c
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("446674"),
                s = n("77078"),
                i = n("724038"),
                r = n("305961"),
                u = n("809167"),
                o = n("782340"),
                d = n("646839");
            let c = e => {
                let {
                    onClose: t,
                    listing: n,
                    guildId: c
                } = e, f = (0, l.useStateFromStores)([r.default], () => r.default.getGuild(c), [c]), h = (0, u.default)({
                    listing: n,
                    guildId: c
                });
                return (0, a.jsxs)("div", {
                    className: d.confirmationContainer,
                    children: [(0, a.jsx)(s.Heading, {
                        className: d.confirmationHeader,
                        variant: "heading-lg/extrabold",
                        children: o.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_TITLE.format({
                            serverName: null == f ? void 0 : f.toString(),
                            tierName: n.name
                        })
                    }), !h.isEmpty() && (0, a.jsx)(s.Text, {
                        className: d.confirmationSubtitle,
                        variant: "text-sm/normal",
                        color: "header-secondary",
                        children: o.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_SUBTITLE.format({
                            benefits: h.asString()
                        })
                    }), (0, a.jsx)(s.Button, {
                        className: d.openDiscordButton,
                        onClick: () => (0, i.default)("role_sub_mweb_success_modal"),
                        children: o.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_OPEN_DISCORD_BUTTON
                    }), (0, a.jsx)(s.Button, {
                        className: d.doneButton,
                        look: s.Button.Looks.BLANK,
                        onClick: () => t(!0),
                        children: o.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_DONE_BUTTON
                    })]
                })
            }
        },
        258501: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                Header: function() {
                    return T
                },
                PurchaseConfirmation: function() {
                    return N
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("414456"),
                s = n.n(l),
                i = n("446674"),
                r = n("77078"),
                u = n("430568"),
                o = n("834897"),
                d = n("85336"),
                c = n("305961"),
                f = n("945330"),
                h = n("271560"),
                p = n("577357"),
                m = n("837008"),
                E = n("41391"),
                _ = n("833531"),
                S = n("393381"),
                C = n("677795"),
                g = n("782340"),
                I = n("751071");
            let T = e => {
                    let {
                        onClose: t,
                        listing: n,
                        step: l,
                        guildId: i
                    } = e, u = (0, m.useSubscriptionsSettings)(i), c = (0, o.default)(C.RESPONSIVE_MOBILE_HEIGHT_SMALL_QUERY);
                    return (0, a.jsxs)("div", {
                        className: s(I.headerContainer, {
                            [I.headerEmpty]: c
                        }),
                        children: [(() => {
                            var e;
                            if (c) return null;
                            let t = (null == u ? void 0 : null === (e = u.cover_image_asset) || void 0 === e ? void 0 : e.application_id) != null ? (0, h.getAssetURL)(u.cover_image_asset.application_id, u.cover_image_asset, 440) : void 0;
                            return (0, a.jsx)("img", {
                                src: t,
                                alt: "",
                                className: I.headerImage
                            })
                        })(), (() => {
                            if (l !== d.Step.CONFIRM) return null;
                            let e = null == n.image_asset ? void 0 : (0, h.getAssetURL)(n.application_id, n.image_asset, 80);
                            return (0, a.jsx)("div", {
                                className: I.tierImageContainer,
                                children: (0, a.jsx)("img", {
                                    src: e,
                                    alt: "",
                                    className: I.tierImage
                                })
                            })
                        })(), (0, a.jsx)(r.Clickable, {
                            className: I.closeContainer,
                            onClick: () => t(!1),
                            "aria-label": g.default.Messages.CLOSE,
                            children: (0, a.jsx)(f.default, {
                                className: I.closeIcon
                            })
                        })]
                    })
                },
                N = e => {
                    let {
                        onClose: t,
                        listing: n,
                        guildId: l
                    } = e, s = (0, i.useStateFromStores)([c.default], () => c.default.getGuild(l), [l]), o = (0, E.default)(l), d = o.filter(e => e.roles.includes(n.role_id)), f = n.role_benefits.benefits.filter(p.isChannelBenefit).slice(0, null === d.length ? 4 : 3), h = (0, _.default)(f).slice(0, null === d.length ? 4 : 3);
                    return (0, a.jsxs)("div", {
                        className: I.confirmationContainer,
                        children: [(0, a.jsx)(r.Heading, {
                            className: I.confirmationHeader,
                            variant: "heading-xl/semibold",
                            color: "header-secondary",
                            children: g.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_TITLE.format({
                                serverName: null == s ? void 0 : s.toString()
                            })
                        }), (0, a.jsx)(r.Text, {
                            className: I.confirmationSubtitle,
                            variant: "text-md/normal",
                            color: "header-secondary",
                            children: g.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_SUBTITLE.format({
                                tier: n.name
                            })
                        }), h.length > 0 && (0, a.jsxs)(a.Fragment, {
                            children: [(0, a.jsx)(r.Text, {
                                variant: "text-xs/normal",
                                color: "header-secondary",
                                className: I.confirmationSectionLabel,
                                children: g.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_CHANNEL_PREVIEW
                            }), (0, a.jsx)("div", {
                                className: I.confirmationBenefits,
                                children: h.map(e => (0, a.jsx)(S.default, {
                                    benefit: e,
                                    guildId: l,
                                    onClick: () => t(!0)
                                }, (0, p.getBenefitKey)(e)))
                            })]
                        }), (() => {
                            var e;
                            if (0 === d.length) return null;
                            let t = d[0];
                            return (0, a.jsxs)(a.Fragment, {
                                children: [(0, a.jsx)(r.Text, {
                                    variant: "text-xs/medium",
                                    color: "header-secondary",
                                    className: I.confirmationSectionLabel,
                                    children: g.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_PREMIUM_EMOJI_PREVIEW_TITLE
                                }), (0, a.jsxs)("div", {
                                    className: I.emojiBenefitsRow,
                                    children: [(0, a.jsx)(u.default, {
                                        emojiId: t.id,
                                        emojiName: t.name,
                                        animated: null !== (e = t.animated) && void 0 !== e && e,
                                        className: I.emojiImage
                                    }), (0, a.jsxs)("div", {
                                        children: [(0, a.jsx)(r.Text, {
                                            variant: "text-md/medium",
                                            color: "header-primary",
                                            className: I.emojiName,
                                            children: g.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_PREMIUM_EMOJI_BENEFIT_TEXT
                                        }), (0, a.jsx)(r.Text, {
                                            color: "interactive-normal",
                                            variant: "text-sm/normal",
                                            children: g.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_PREMIUM_EMOJI_BENEFIT_DESCRIPTION.format({
                                                count: d.length
                                            })
                                        })]
                                    })]
                                })]
                            })
                        })(), (0, a.jsx)(r.Button, {
                            className: I.confirmationButton,
                            onClick: () => t(!0),
                            children: g.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_DONE_BUTTON
                        })]
                    })
                }
        },
        393381: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("77078"),
                s = n("461380"),
                i = n("484456"),
                r = n("559979"),
                u = n("70695"),
                o = n("73495");

            function d(e) {
                let {
                    benefit: t,
                    guildId: n,
                    onClick: d
                } = e, c = (0, u.default)(n, t.ref_id), f = (0, a.jsx)(i.default, {
                    guildId: n,
                    emojiId: t.emoji_id,
                    emojiName: t.emoji_name
                });
                return (0, a.jsxs)(l.Clickable, {
                    className: o.container,
                    onClick: () => {
                        null == c || c.navigateToChannel(), d()
                    },
                    "aria-label": null == c ? void 0 : c.ariaLabel,
                    role: "link",
                    children: [(0, a.jsx)("div", {
                        className: o.emojiContainer,
                        children: f
                    }), (0, a.jsxs)("div", {
                        className: o.infoContainer,
                        children: [(0, a.jsx)(l.Text, {
                            variant: "text-md/medium",
                            color: "header-primary",
                            className: o.name,
                            children: (0, r.default)(t)
                        }), (0, a.jsx)(l.Text, {
                            color: "interactive-normal",
                            variant: "text-sm/normal",
                            children: t.description
                        })]
                    }), (0, a.jsx)(s.default, {
                        direction: s.default.Directions.RIGHT,
                        className: o.caret
                    })]
                })
            }
        },
        320946: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return j
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("627445"),
                i = n.n(s),
                r = n("866227"),
                u = n.n(r),
                o = n("446674"),
                d = n("913144"),
                c = n("775433"),
                f = n("834897"),
                h = n("685665"),
                p = n("233322"),
                m = n("567054"),
                E = n("982527"),
                _ = n("157186"),
                S = n("267567"),
                C = n("666391"),
                g = n("10514"),
                I = n("701909"),
                T = n("577357"),
                N = n("837008"),
                x = n("136185"),
                v = n("176687"),
                A = n("492548"),
                M = n("18544"),
                R = n("258501"),
                L = n("677795"),
                O = n("49111"),
                y = n("782340"),
                j = (e, t, n, s) => {
                    let r;
                    let j = (0, o.useStateFromStores)([S.default], () => S.default.isLurking(t)),
                        P = (0, _.useShowMemberVerificationGate)(t),
                        D = (0, o.useStateFromStores)([E.default], () => null != t ? E.default.getRequest(t) : null),
                        b = (null == D ? void 0 : D.applicationStatus) === m.GuildJoinRequestApplicationStatuses.SUBMITTED,
                        U = null == e ? void 0 : e.subscription_plans[0],
                        F = null == U ? void 0 : U.id,
                        w = (null == e ? void 0 : e.published) === !0,
                        G = null == U ? void 0 : U.sku_id,
                        B = (0, o.useStateFromStores)([g.default], () => null != F ? g.default.get(F) : null),
                        {
                            activeSubscription: k,
                            activeSubscriptionPlanFromStore: H
                        } = (0, v.default)(n),
                        V = null == k || null != H,
                        W = (0, N.useSubscriptionListingsForGroup)(n, {
                            includeSoftDeleted: !0
                        }),
                        Y = W.map(e => e.subscription_plans[0].id),
                        z = (0, x.getRoleSubscriptionMutationPlanId)(k),
                        K = null != z,
                        X = (null == k ? void 0 : k.trialId) != null,
                        {
                            loading: q,
                            getTrialPurchaseEligibility: Z
                        } = (0, A.useGetTrialPurchaseEligibility)(),
                        Q = (0, N.useSubscriptionTrial)(null == e ? void 0 : e.id),
                        {
                            analyticsLocations: J
                        } = (0, h.default)(),
                        $ = (null == k ? void 0 : k.paymentGateway) === O.PaymentGateways.APPLE_PARTNER;
                    b ? r = y.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_REQUIRE_APPROVED_MEMBER : j && !P ? r = y.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_REQUIRE_APPROVED_MEMBER : z === F ? r = y.default.Messages.GUILD_ROLE_SUBSCRIPTION_HAS_PENDING_MUTATION_TO_CURRENT_LISTING.format({
                        changeDate: null != k ? u(k.currentPeriodEnd).format("MMM DD, YYYY") : ""
                    }) : K ? r = y.default.Messages.GUILD_ROLE_SUBSCRIPTION_HAS_PENDING_MUTATION : X ? r = y.default.Messages.GUILD_ROLE_SUBSCRIPTION_CHANGE_TIER_DISABLED_IN_TRIAL : $ && (r = y.default.Messages.GUILD_ROLE_SUBSCRIPTION_CHANGE_TIER_DISABLED_IF_IAP);
                    let ee = (0, f.default)(L.RESPONSIVE_MOBILE_WIDTH_SIZE_QUERY);
                    l.useEffect(() => {
                        w && null != G && d.default.wait(() => {
                            (0, c.fetchSubscriptionPlansForSKU)(G)
                        })
                    }, [w, G]);
                    let et = l.useCallback(async () => {
                            var n;
                            let l, r;
                            if (i(null != e, "No subscription listing"), i(null != U, "No subscription plan"), i(w, "Cannot purchase this unpublished plan"), (null == Q ? void 0 : Q.active_trial) != null) {
                                let a = await Z(t, e.id, Q.active_trial.id);
                                (null == a ? void 0 : a.is_eligible) === !0 ? l = null == Q ? void 0 : null === (n = Q.active_trial) || void 0 === n ? void 0 : n.id : r = y.default.Messages.GUILD_ROLE_SUBSCRIPTION_INELIGIBLE_TRIAL_DISCLAIMER
                            }(0, C.default)({
                                activeSubscription: k,
                                analyticsSubscriptionType: O.SubscriptionTypes.GUILD,
                                trialId: l,
                                trialFooterMessageOverride: (null == Q ? void 0 : Q.active_trial) != null ? y.default.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_RENEWAL_FOOTER.format({
                                    trialInterval: (0, T.formatPlanIntervalDuration)(Q.active_trial),
                                    days: 1,
                                    contactLink: O.MarketingURLs.CONTACT,
                                    helpdeskArticle: I.default.getArticleURL(O.HelpdeskArticles.ROLE_SUBSCRIPTION_TRIAL)
                                }) : void 0,
                                analyticsLocations: J,
                                analyticsLocation: s,
                                renderHeader: (n, l, s) => (0, a.jsx)(R.Header, {
                                    onClose: l,
                                    listing: e,
                                    step: s,
                                    guildId: t
                                }),
                                initialPlanId: U.id,
                                skuId: U.sku_id,
                                planGroup: Y,
                                renderPurchaseConfirmation: (n, l) => ee ? (0, a.jsx)(M.PurchaseConfirmationLite, {
                                    listing: e,
                                    onClose: l,
                                    guildId: t
                                }) : (0, a.jsx)(R.PurchaseConfirmation, {
                                    listing: e,
                                    onClose: l,
                                    guildId: t
                                }),
                                reviewWarningMessage: r
                            })
                        }, [w, e, U, k, Y, t, J, s, Z, Q, ee]),
                        en = l.useCallback(() => {
                            (0, p.openMemberVerificationModal)(t)
                        }, [t]);
                    return {
                        openModal: P ? en : et,
                        canOpenModal: !j && null != B && V && !b && !K && !X && !$,
                        cannotOpenReason: r,
                        isCheckingTrialEligibility: q
                    }
                }
        },
        661455: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return _
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("446674"),
                i = n("77078"),
                r = n("42203"),
                u = n("305961"),
                o = n("837008"),
                d = n("291444"),
                c = n("847426"),
                f = n("900076"),
                h = n("108314"),
                p = n("49111"),
                m = n("782340"),
                E = n("528392");

            function _(e) {
                let {
                    guildId: t,
                    channelId: n
                } = e, _ = (0, d.useSubscriptionListingsForChannel)({
                    guildId: t,
                    channelId: n
                }), S = (0, o.useGroupListingsForGuild)(t), C = (0, o.useSubscriptionsSettings)(t), g = (0, s.useStateFromStores)([u.default], () => u.default.getGuild(t), [t]), I = null == g ? void 0 : g.name, T = (0, s.useStateFromStores)([r.default], () => r.default.getChannel(n)), N = l.useMemo(() => {
                    let e = {};
                    for (let t of S)
                        for (let n of t.subscription_listings_ids) e[n] = t.id;
                    return e
                }, [S]);
                return ((0, c.default)({
                    guildId: t,
                    location: p.AnalyticsLocations.ROLE_SUBSCRIPTION_GATED_CHANNEL,
                    relevantSubscriptionListingIds: _.map(e => e.id)
                }), null == g) ? (0, a.jsx)("div", {
                    className: E.spinnerContainer,
                    children: (0, a.jsx)(i.Spinner, {
                        className: E.spinner
                    })
                }) : (0, a.jsxs)(i.ScrollerAuto, {
                    className: E.pageContainer,
                    children: [(0, a.jsx)(i.Heading, {
                        variant: "heading-xl/semibold",
                        className: E.joinCtaTitle,
                        children: m.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_UPSELL_PAGE_CTA.format({
                            serverName: I,
                            channelName: null == T ? void 0 : T.name
                        })
                    }), (0, a.jsx)(i.Text, {
                        className: E.joinCtaSubtitle,
                        variant: "text-md/normal",
                        color: "header-secondary",
                        children: null == C ? void 0 : C.description
                    }), (0, a.jsx)(f.default, {
                        guildId: t,
                        children: _.filter(e => null != N[e.id]).map(e => (0, a.jsx)(h.default, {
                            guildId: t,
                            listingId: e.id,
                            groupListingId: N[e.id],
                            analyticsLocation: p.AnalyticsLocations.ROLE_SUBSCRIPTION_GATED_CHANNEL
                        }, e.id))
                    })]
                })
            }
        },
        70695: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var a = n("446674"),
                l = n("139375"),
                s = n("242740"),
                i = n("393414"),
                r = n("42203"),
                u = n("800762"),
                o = n("848848"),
                d = n("49111");

            function c(e, t) {
                let n = (0, a.useStateFromStores)([r.default], () => r.default.getChannel(t)),
                    {
                        needSubscriptionToAccess: c
                    } = (0, o.default)(null == n ? void 0 : n.id);
                if (null == n || c) return null;
                let f = n.isGuildVocal(),
                    h = (0, l.default)({
                        channel: n
                    });
                return {
                    navigateToChannel: () => {
                        f ? s.default.handleVoiceConnect({
                            channel: n,
                            connected: u.default.isInChannel(n.id),
                            needSubscriptionToAccess: !1,
                            routeDirectlyToChannel: !0
                        }) : (0, i.transitionTo)(d.Routes.CHANNEL(e, n.id))
                    },
                    ariaLabel: h
                }
            }
        },
        941298: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("77078"),
                s = n("664336"),
                i = n("393745"),
                r = n("782340"),
                u = n("223209");

            function o(e) {
                let {
                    guildEvent: t
                } = e;
                return null == t ? null : (0, a.jsxs)(a.Fragment, {
                    children: [(0, a.jsx)(s.default.Divider, {
                        className: u.divider
                    }), (0, a.jsx)(i.GuildEventTimeStatus, {
                        startTime: t.scheduled_start_time,
                        status: t.status,
                        liveText: r.default.Messages.LIVE_EVENT,
                        className: u.eventSchedule,
                        textVariant: "text-lg/semibold",
                        eventType: t.entity_type
                    }), (0, a.jsx)(l.Text, {
                        color: "header-secondary",
                        variant: "text-md/normal",
                        className: u.eventName,
                        children: t.name
                    })]
                })
            }
        },
        18517: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("669491"),
                s = n("77078"),
                i = n("943232"),
                r = n("842672"),
                u = n("888237"),
                o = n("782340");

            function d(e) {
                let {
                    className: t,
                    guildId: d
                } = e, c = (0, r.default)();
                return (0, a.jsx)(u.default, {
                    className: t,
                    icon: (0, a.jsx)(i.default, {
                        height: 20,
                        width: 20
                    }),
                    color: l.default.unsafe_rawColors.BRAND_500.css,
                    title: o.default.Messages.SCHEDULE_EVENT,
                    description: o.default.Messages.SCHEDULE_EVENT_DESCRIPTION,
                    onClick: function() {
                        (0, s.openModalLazy)(async () => {
                            let {
                                default: e
                            } = await n.el("590942").then(n.bind(n, "590942"));
                            return t => (0, a.jsx)(e, {
                                ...t,
                                guildId: d
                            })
                        }, c)
                    }
                })
            }
        },
        487984: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("669491"),
                s = n("244201"),
                i = n("751661"),
                r = n("228427"),
                u = n("888237"),
                o = n("782340");

            function d(e) {
                let {
                    className: t,
                    channel: n,
                    highlight: d
                } = e, c = (0, s.useAppContext)();
                return (0, a.jsx)(u.default, {
                    highlight: null != d && d,
                    className: t,
                    icon: (0, a.jsx)(r.default, {
                        height: 20,
                        width: 20
                    }),
                    color: l.default.unsafe_rawColors.GREEN_360.css,
                    title: o.default.Messages.STAGE_CHANNEL_START_TITLE,
                    description: o.default.Messages.STAGE_CHANNEL_START_SUBTITLE,
                    onClick: function() {
                        (0, i.openStageChannelSettings)(n, c)
                    }
                })
            }
        },
        201380: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                MoreVoiceUser: function() {
                    return y
                },
                AudienceVoiceUser: function() {
                    return j
                },
                default: function() {
                    return D
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("77078"),
                u = n("255397"),
                o = n("272030"),
                d = n("987317"),
                c = n("990766"),
                f = n("650912"),
                h = n("76393"),
                p = n("845038"),
                m = n("374014"),
                E = n("223913"),
                _ = n("709463"),
                S = n("264429"),
                C = n("506885"),
                g = n("981601"),
                I = n("271938"),
                T = n("305961"),
                N = n("957255"),
                x = n("800762"),
                v = n("272339"),
                A = n("68148"),
                M = n("171644"),
                R = n("706530"),
                L = n("782340"),
                O = n("375674");

            function y(e) {
                let {
                    numUsers: t
                } = e;
                return (0, a.jsx)("div", {
                    className: O.moreContainer,
                    children: (0, a.jsxs)(r.Text, {
                        color: "text-muted",
                        variant: "text-sm/medium",
                        children: ["+", t]
                    })
                })
            }

            function j(e) {
                let {
                    numAudience: t,
                    collapsed: n
                } = e, l = n ? t : L.default.Messages.LISTENING_COUNT.format({
                    count: t
                });
                return (0, a.jsxs)("div", {
                    className: i(O.audienceContainer, {
                        [O.audienceContainerCollapsed]: n
                    }),
                    children: [(0, a.jsx)("div", {
                        className: O.audienceIconContainer,
                        children: (0, a.jsx)(v.default, {
                            className: O.audienceIcon
                        })
                    }), (0, a.jsx)(r.Text, {
                        color: "text-muted",
                        variant: "text-sm/medium",
                        children: l
                    })]
                })
            }
            class P extends l.PureComponent {
                get canWatchStream() {
                    let {
                        channel: e,
                        isStreaming: t
                    } = this.props;
                    return t && (0, E.canWatchStream)(e, x.default, T.default, N.default, h.default)[0]
                }
                render() {
                    let {
                        userPopoutOpen: e
                    } = this.state, {
                        connectUserDragSource: t,
                        canDrag: n,
                        isSelfOnOtherClient: l,
                        user: s,
                        channel: i
                    } = this.props, u = (0, a.jsx)("div", {
                        className: O.draggable,
                        "data-dnd-name": i.name,
                        onMouseEnter: l ? void 0 : this.handleMouseEnter,
                        onMouseLeave: l ? void 0 : this.handleHidePreview,
                        children: (0, a.jsx)(r.Popout, {
                            preload: () => (0, C.default)(s.id, s.getAvatarURL(i.guild_id, 80), {
                                guildId: i.guild_id,
                                channelId: i.id
                            }),
                            position: "right",
                            renderPopout: this.renderUserPopout,
                            shouldShow: e,
                            onRequestClose: this.handleCloseUserPopout,
                            children: e => this.renderUser(e)
                        })
                    });
                    return n ? t(u) : u
                }
                constructor(...e) {
                    super(...e), this.domElementRef = l.createRef(), this.state = {
                        userPopoutOpen: !1
                    }, this.handleClickUser = () => {
                        this.setState({
                            userPopoutOpen: !this.state.userPopoutOpen
                        })
                    }, this.handleCloseUserPopout = () => {
                        this.setState({
                            userPopoutOpen: !1
                        })
                    }, this.handleHidePreview = () => {
                        let {
                            hidePreview: e,
                            isStreaming: t,
                            user: n
                        } = this.props;
                        if (t) null == e || e(n.id)
                    }, this.handleMouseEnter = () => {
                        let {
                            user: e,
                            showPreview: t,
                            isStreaming: n
                        } = this.props;
                        if (n) null == t || t(e.id)
                    }, this.handleWatchStream = () => {
                        let {
                            user: e,
                            channel: t,
                            isWatching: n,
                            hidePreview: a
                        } = this.props;
                        if (!this.canWatchStream) return;
                        let l = {
                            streamType: R.StreamTypes.GUILD,
                            ownerId: e.id,
                            channelId: t.id,
                            guildId: t.guild_id
                        };
                        I.default.getId() !== e.id && d.default.selectVoiceChannel(t.id), n ? ((0, _.default)(l), u.default.selectParticipant(l.channelId, (0, m.encodeStreamKey)(l))) : (0, c.watchStreamAndTransitionToStream)(l), null == a || a(e.id)
                    }, this.handleUserContextMenu = e => {
                        let {
                            channel: t,
                            user: l
                        } = this.props;
                        (0, o.openContextMenuLazy)(e, async () => {
                            let {
                                default: e
                            } = await n.el("834247").then(n.bind(n, "834247"));
                            return n => (0, a.jsx)(e, {
                                ...n,
                                user: l,
                                guildId: t.guild_id,
                                channel: t,
                                showMediaItems: !0,
                                showStageChannelItems: t.isGuildStageVoice()
                            })
                        })
                    }, this.renderUserPopout = e => {
                        let {
                            channel: t,
                            user: n
                        } = this.props, l = t.getGuildId();
                        return (0, a.jsx)(g.default, {
                            userId: n.id,
                            guildId: null != l ? l : void 0,
                            channelId: t.id,
                            ...e
                        })
                    }, this.renderStreamPopout = () => {
                        let {
                            user: e,
                            channel: t,
                            previewIsOpen: n,
                            location: l
                        } = this.props;
                        return (0, a.jsx)(S.default, {
                            user: e,
                            channel: t,
                            onWatch: this.handleWatchStream,
                            previewIsOpen: n,
                            location: l
                        })
                    }, this.renderUser = e => {
                        let {
                            isSelfOnOtherClient: t,
                            otherClientSessionType: n,
                            voicePlatform: l,
                            shouldShowPreview: s,
                            mute: u,
                            localMute: o,
                            localVideoDisabled: d,
                            speaking: c,
                            user: f,
                            deaf: h,
                            priority: m,
                            collapsed: E,
                            isStreaming: _,
                            isGuest: S,
                            nick: C,
                            video: g,
                            serverMute: I,
                            serverDeaf: T,
                            tabIndex: N,
                            embeddedApplication: x,
                            channel: v
                        } = this.props, {
                            userPopoutOpen: R
                        } = this.state, y = M.GAME_CONSOLE_SESSIONS.has(null != n ? n : ""), j = {
                            user: f,
                            speaking: c,
                            mute: u,
                            localMute: o,
                            localVideoDisabled: d,
                            isStreaming: _,
                            isGuest: S,
                            video: g,
                            priority: m,
                            deaf: h,
                            nick: C,
                            collapsed: E,
                            overlap: E,
                            serverMute: I,
                            serverDeaf: T,
                            tabIndex: N,
                            otherClientSessionType: n,
                            voicePlatform: l,
                            embeddedApplication: x,
                            avatarContainerClass: i({
                                [O.userAvatar]: !0
                            }),
                            disabled: t && !y,
                            selected: R,
                            onClick: y ? void 0 : this.handleClickUser,
                            onDoubleClick: this.handleWatchStream,
                            onContextMenu: this.handleUserContextMenu,
                            guildId: v.guild_id
                        };
                        if (t) {
                            var P;
                            return (0, a.jsx)(r.Tooltip, {
                                text: null !== (P = (0, p.default)(n)) && void 0 !== P ? P : L.default.Messages.CONNECTED_ON_ANOTHER_CLIENT,
                                children: e => {
                                    let {
                                        onClick: t,
                                        onContextMenu: n,
                                        ...l
                                    } = e;
                                    return (0, a.jsx)(A.default, {
                                        ...j,
                                        ...l
                                    })
                                }
                            })
                        }
                        return (0, a.jsx)(r.Popout, {
                            position: "right",
                            renderPopout: this.renderStreamPopout,
                            shouldShow: s && !R,
                            onRequestClose: this.handleHidePreview,
                            spacing: 0,
                            children: () => (0, a.jsx)(A.default, {
                                ...j,
                                onMouseDown: e.onMouseDown,
                                onKeyDown: e.onKeyDown
                            })
                        })
                    }
                }
            }
            P.defaultProps = {
                isSelfOnOtherClient: !1
            };
            var D = (0, f.makeVoiceUserDraggable)(P)
        },
        884155: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return L
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("446674"),
                u = n("862337"),
                o = n("899633"),
                d = n("191225"),
                c = n("442939"),
                f = n("835040"),
                h = n("373469"),
                p = n("271938"),
                m = n("26989"),
                E = n("42887"),
                _ = n("957255"),
                S = n("235660"),
                C = n("280168"),
                g = n("800762"),
                I = n("68148"),
                T = n("158998"),
                N = n("201380"),
                x = n("49111"),
                v = n("39141"),
                A = n("707155");
            let M = l.memo(e => {
                var t;
                let {
                    mute: n,
                    deaf: l,
                    user: s,
                    channel: i,
                    sessionId: u,
                    nick: _
                } = e, I = s.id, A = (0, r.useStateFromStores)([p.default], () => p.default.getId() === I, [I]), [M, R, L] = (0, r.useStateFromStoresArray)([E.default], () => A ? [!E.default.isSupported() || E.default.isSelfMute() || E.default.isSelfMutedTemporarily(), E.default.isSelfDeaf(), !1] : [!E.default.isSupported() || E.default.isLocalMute(I), !1, E.default.isLocalVideoDisabled(I)], [A, I]), O = (0, r.useStateFromStores)([C.default], () => C.default.isPrioritySpeaker(I)), y = (0, o.default)({
                    userId: I,
                    checkSoundSharing: !0
                }), j = (0, r.useStateFromStores)([m.default], () => m.default.isGuestOrLurker(i.guild_id, I)), P = (0, r.useStateFromStores)([d.default], () => d.default.getEmbeddedActivitiesForChannel(i.id).find(e => {
                    let {
                        connections: t
                    } = e;
                    return t.has(I)
                }), [I, i.id]), D = (0, c.default)(null != P ? [P.application_id] : []), [b, U] = (0, r.useStateFromStoresArray)([h.default], () => [h.default.getStreamForUser(I, i.getGuildId()), h.default.getActiveStreamForUser(I, i.getGuildId())], [i, I]), F = (0, r.useStateFromStores)([S.default], () => S.default.getSessionById(u)), w = T.default.useName(s), G = (0, r.useStateFromStores)([g.default], () => g.default.getVoicePlatformForChannel(i.id, I), [i.id, I]);
                return (0, a.jsx)(f.default, {
                    shakeLocation: v.ShakeLocation.VOICE_USER,
                    isShaking: y,
                    children: (0, a.jsx)(N.default, {
                        ...e,
                        nick: null != _ ? _ : w,
                        canDrag: e.canDrag && !j,
                        otherClientSessionType: null == F ? void 0 : null === (t = F.clientInfo) || void 0 === t ? void 0 : t.os,
                        voicePlatform: G,
                        localMute: M && !A,
                        localVideoDisabled: L,
                        mute: n || M,
                        deaf: l || R,
                        speaking: y,
                        priority: O,
                        embeddedApplication: D[0],
                        isStreaming: null != b && b.channelId === i.id,
                        isWatching: null != U && U.state !== x.ApplicationStreamStates.ENDED,
                        isGuest: j
                    })
                })
            });
            M.displayName = "ConnectedVoiceUser";
            class R extends l.Component {
                renderVoiceUsers() {
                    let {
                        channel: e,
                        allowDragging: t,
                        voiceStates: n,
                        collapsed: l,
                        collapsedMax: s = 6,
                        tabIndex: i,
                        location: r,
                        numAudience: u
                    } = this.props, {
                        previewUserId: o,
                        previewIsOpen: d
                    } = this.state;
                    if (null == n || 0 === n.length) return null;
                    let c = l && n.length > s + 1 ? n.slice(0, s) : n,
                        f = c.map(n => {
                            var s;
                            let {
                                user: u,
                                nick: c,
                                voiceState: f
                            } = n;
                            return (0, a.jsx)(M, {
                                user: u,
                                nick: c,
                                isSelfOnOtherClient: p.default.getId() === u.id && f.sessionId !== p.default.getSessionId(),
                                mute: f.isVoiceMuted(),
                                deaf: f.isVoiceDeafened(),
                                video: f.selfVideo,
                                serverMute: f.mute,
                                serverDeaf: f.deaf,
                                sessionId: null !== (s = f.sessionId) && void 0 !== s ? s : "",
                                channel: e,
                                collapsed: l,
                                canDrag: t && _.default.can(x.Permissions.MOVE_MEMBERS, e),
                                showPreview: this.handleShowPreview,
                                hidePreview: this.handleHidePreview,
                                previewIsOpen: d,
                                shouldShowPreview: o === u.id,
                                tabIndex: i,
                                location: r
                            }, u.id)
                        });
                    return null != u && u > 0 ? f.push((0, a.jsx)(N.AudienceVoiceUser, {
                        collapsed: l,
                        numAudience: u
                    })) : l && n.length > s + 1 && f.push((0, a.jsx)(N.MoreVoiceUser, {
                        numUsers: n.length - s
                    })), f
                }
                render() {
                    let e = this.renderVoiceUsers(),
                        {
                            collapsed: t,
                            className: n,
                            children: l
                        } = this.props;
                    return null == e && null == l ? null : (0, a.jsxs)(I.VoiceUserList, {
                        className: i(n, A.list, {
                            [A.collapsed]: t
                        }),
                        collapsed: t,
                        children: [e, l]
                    })
                }
                constructor(...e) {
                    super(...e), this.showPreview = new u.DelayedCall(50, () => {
                        this.setState({
                            previewUserId: this.previewUserIdAfterDelay
                        }), this.previewUserIdAfterDelay = null
                    }), this.hidePreview = new u.DelayedCall(175, () => {
                        this.setState({
                            previewUserId: null
                        })
                    }), this.previewUserIdAfterDelay = null, this.state = {
                        previewUserId: null,
                        previewIsOpen: !1
                    }, this.handleShowPreview = e => {
                        this.props.allowPreviews && (this.setState({
                            previewIsOpen: !0
                        }), this.hidePreview.cancel(), this.previewUserIdAfterDelay = e, this.showPreview.delay())
                    }, this.handleHidePreview = e => {
                        if (!this.props.allowPreviews) return;
                        let {
                            previewUserId: t
                        } = this.state;
                        this.showPreview.cancel(), t === e && (this.setState({
                            previewIsOpen: !1
                        }), this.hidePreview.delay())
                    }
                }
            }
            R.defaultProps = {
                allowPreviews: !0,
                allowDragging: !0
            };
            var L = R
        },
        230035: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("65597"),
                i = n("151426"),
                r = n("551042"),
                u = n("77078"),
                o = n("509802"),
                d = n("619443"),
                c = n("162771"),
                f = n("994428");

            function h(e) {
                return "dismissible_content_".concat(f.DismissibleContentGroupName.GUILD_TAKEOVER_MODAL, "-").concat(e)
            }
            var p = l.memo(function() {
                return ! function() {
                    let e = function() {
                            let e = (0, s.default)([d.default], () => d.default.isConnected());
                            return e ? [] : []
                        }(),
                        [t, p] = (0, o.useDismissibleContentGroup)(e, f.DismissibleContentGroupName.GUILD_TAKEOVER_MODAL),
                        m = (0, r.useHasAnyModalOpen)(),
                        E = l.useRef(null);
                    l.useEffect(() => {
                        if (null == t) {
                            E.current = null;
                            return
                        }!m && E.current !== t && (! function(e) {
                            let {
                                dismissibleContent: t,
                                markAsDismissed: l
                            } = e, s = {
                                onCloseCallback: l,
                                modalKey: h(t)
                            }, r = c.default.getGuildId();
                            if (t === i.DismissibleContent.SERVER_SHOP_UPSELL) null != r && (0, u.openModalLazy)(async () => {
                                let {
                                    default: e
                                } = await n.el("730801").then(n.bind(n, "730801"));
                                return t => (0, a.jsx)(e, {
                                    ...t,
                                    guildId: r,
                                    markAsDismissed: l
                                })
                            }, s)
                        }({
                            dismissibleContent: t,
                            markAsDismissed: p
                        }), E.current = t)
                    }, [t, m, p]), l.useEffect(() => () => {
                        null != t && (0, r.closeModal)(h(t))
                    }, [t])
                }(), null
            })
        },
        993063: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return s
                }
            });
            var a = n("862205");
            let l = (0, a.createExperiment)({
                kind: "user",
                id: "2021-04_longer_group_dm_invites",
                label: "Longer Group DM Invites",
                defaultConfig: {
                    inviteMaxAgeSeconds: 86400
                },
                treatments: [{
                    id: 1,
                    label: "Makes group DM invites expire after 1 week.",
                    config: {
                        inviteMaxAgeSeconds: 604800
                    }
                }]
            });
            var s = l
        },
        155832: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return h
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("446674"),
                s = n("289867"),
                i = n("716241"),
                r = n("982108"),
                u = n("162771"),
                o = n("155207"),
                d = n("664336"),
                c = n("49111"),
                f = n("782340");

            function h(e) {
                let {
                    channelId: t
                } = e, n = (0, l.useStateFromStores)([r.default], () => r.default.getSection(t)), h = (0, l.useStateFromStores)([u.default], () => u.default.getGuildId()), p = n === c.ChannelSections.MEMBERS;
                return (0, a.jsx)(d.Icon, {
                    tooltip: p ? f.default.Messages.MEMBER_LIST_SHOWN : f.default.Messages.MEMBER_LIST_HIDDEN,
                    icon: o.default,
                    onClick: () => {
                        i.default.trackWithMetadata(c.AnalyticEvents.MEMBER_LIST_TOGGLED, {
                            channel_id: t,
                            guild_id: h,
                            member_list_open: !p
                        }), s.default.toggleMembersSection()
                    },
                    selected: p
                })
            }
        },
        353054: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return _
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("446674"),
                i = n("77078"),
                r = n("519705"),
                u = n("282109"),
                o = n("660279"),
                d = n("998650"),
                c = n("664336"),
                f = n("659500"),
                h = n("957825"),
                p = n("49111"),
                m = n("782340"),
                E = n("290236");

            function _(e) {
                let {
                    channel: t
                } = e, [n, _] = (0, s.useStateFromStoresArray)([u.default], () => [u.default.isChannelMuted(t.getGuildId(), t.id), u.default.resolvedMessageNotifications(t)], [t]), [S, C] = l.useState(!1);
                l.useEffect(() => {
                    let e = () => C(!0);
                    return f.ComponentDispatch.subscribe(p.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS, e), () => {
                        f.ComponentDispatch.unsubscribe(p.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS, e)
                    }
                }, []);
                let g = e => {
                        e.shiftKey ? r.default.updateChannelOverrideSettings(t.guild_id, t.id, {
                            muted: !n
                        }) : C(e => !e)
                    },
                    I = m.default.Messages.NOTIFICATION_SETTINGS;
                return (0, a.jsx)(i.Popout, {
                    shouldShow: S,
                    animation: i.Popout.Animation.NONE,
                    position: "bottom",
                    align: "right",
                    autoInvert: !1,
                    onRequestClose: () => C(!1),
                    renderPopout: e => (0, a.jsx)(h.default, {
                        ...e,
                        channel: t,
                        navId: "channel-context",
                        label: m.default.Messages.CHANNEL_ACTIONS_MENU_LABEL
                    }),
                    children: (e, t) => {
                        let {
                            isShown: l
                        } = t;
                        return (0, a.jsx)(c.default.Icon, {
                            ...e,
                            onClick: g,
                            tooltip: l ? null : I,
                            icon: n || _ !== p.UserNotificationSettings.ALL_MESSAGES ? d.default : o.default,
                            foreground: n ? E.strikethrough : null,
                            "aria-label": I,
                            selected: l
                        })
                    }
                })
            }
        },
        262956: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return S
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("446674"),
                i = n("77078"),
                r = n("112821"),
                u = n("244201"),
                o = n("274870"),
                d = n("247013"),
                c = n("660478"),
                f = n("697218"),
                h = n("566998"),
                p = n("664336"),
                m = n("659500"),
                E = n("49111"),
                _ = n("782340"),
                S = function(e) {
                    let {
                        channel: t
                    } = e, n = (0, s.useStateFromStores)([d.default, f.default], () => {
                        let e = f.default.getCurrentUser();
                        return null == e || t.isNSFW() && (!e.nsfwAllowed || !d.default.didAgree(t.getGuildId()))
                    }, [t]), [S, C] = l.useState(!1), g = (0, s.useStateFromStores)([c.default], () => c.default.hasUnreadPins(t.id), [t]), I = (0, u.useWindowDispatch)(), T = (0, o.useIsBroadcastingGDM)(t.id), N = l.useCallback(() => {
                        !n && C(e => !e)
                    }, [n]);

                    function x(e) {
                        !(null == e ? void 0 : e.shiftKey) && I.dispatch(E.ComponentActions.POPOUT_CLOSE)
                    }
                    return (l.useEffect(() => (m.ComponentDispatch.subscribe(E.ComponentActions.TOGGLE_CHANNEL_PINS, N), () => {
                        m.ComponentDispatch.unsubscribe(E.ComponentActions.TOGGLE_CHANNEL_PINS, N)
                    }), [N]), T) ? null : (0, a.jsx)(i.Popout, {
                        shouldShow: S,
                        animation: i.Popout.Animation.NONE,
                        position: "bottom",
                        align: "right",
                        autoInvert: !1,
                        ignoreModalClicks: !0,
                        onRequestClose: () => C(!1),
                        renderPopout: function(e) {
                            return (0, a.jsx)(r.default, {
                                ...e,
                                onJump: x,
                                channel: t
                            })
                        },
                        children: (e, t) => {
                            let {
                                isShown: l
                            } = t;
                            return (0, a.jsx)(p.Icon, {
                                ...e,
                                onClick: N,
                                tooltip: l ? null : _.default.Messages.PINNED_MESSAGES,
                                icon: h.default,
                                "aria-label": _.default.Messages.PINNED_MESSAGES,
                                disabled: n,
                                showBadge: g,
                                selected: l
                            })
                        }
                    })
                }
        },
        723431: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return h
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("446674"),
                s = n("793237"),
                i = n("347738"),
                r = n("909004"),
                u = n("664336"),
                o = n("599110"),
                d = n("49111"),
                c = n("995307"),
                f = n("782340");

            function h(e) {
                let {
                    channel: t
                } = e, n = (0, l.useStateFromStores)([i.default], () => i.default.shouldShowTopicsBar());
                return (0, a.jsx)(u.default.Icon, {
                    icon: r.default,
                    onClick: () => {
                        o.default.track(d.AnalyticEvents.SUMMARIES_SIDEBAR_TOGGLED, {
                            summaries_sidebar_open: !n,
                            source: c.SummariesSidebarToggledSource.TOOLBAR_BUTTON,
                            guild_id: t.guild_id,
                            channel_id: t.id,
                            channel_type: t.type
                        }), (0, s.toggleTopicsBar)()
                    },
                    tooltip: n ? f.default.Messages.SUMMARIES_SHOWN : f.default.Messages.SUMMARIES_HIDDEN,
                    selected: n,
                    "aria-expanded": n
                })
            }
        },
        977983: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return m
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("446674"),
                s = n("526812"),
                i = n("404607"),
                r = n("670902"),
                u = n("339792"),
                o = n("680986"),
                d = n("258039"),
                c = n("821343"),
                f = n("68238"),
                h = n("664336"),
                p = n("782340");

            function m(e) {
                var t, n;
                let {
                    channel: m
                } = e, E = (0, o.useCanManageChannel)(m), _ = (0, l.useStateFromStores)([s.default], () => s.default.hasHidden(m.id)), S = (0, d.isOnboardingDismissed)(m.id), {
                    sortOrder: C,
                    tagFilter: g
                } = (0, u.useForumChannelStore)(m.id), I = (0, l.useStateFromStores)([r.default, c.default], () => {
                    let e = r.default.getThreadIds(m.id, C, g);
                    if (e.length > 0) return !0;
                    let t = c.default.getThreads(m.id, C, g);
                    return !!(t.length > 0) || !1
                }, [m.id, C, g]), T = m.isMediaChannel();
                if (!E || S || T && I) return null;
                let N = (t = _, n = T, t ? n ? p.default.Messages.MEDIA_CHANNEL_ADMIN_EDUCATION_SHOW : p.default.Messages.FORUM_CHANNEL_ONBOARDING_SHOW : n ? p.default.Messages.MEDIA_CHANNEL_ADMIN_EDUCATION_HIDE : p.default.Messages.FORUM_CHANNEL_ONBOARDING_HIDE);
                return (0, a.jsx)(h.Icon, {
                    tooltip: N,
                    icon: f.default,
                    onClick: () => i.default.hideAdminOnboarding(m.id, !_),
                    selected: !_
                })
            }
        },
        849324: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return m
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("414456"),
                s = n.n(l),
                i = n("974667"),
                r = n("446674"),
                u = n("77078"),
                o = n("145079"),
                d = n("87657"),
                c = n("824563"),
                f = n("145131"),
                h = n("158998"),
                p = n("539058");

            function m(e) {
                let {
                    user: t,
                    row: n,
                    hideDiscriminator: l,
                    comparator: m,
                    selected: E,
                    checked: _,
                    onClick: S,
                    onMouseEnter: C,
                    "aria-setsize": g,
                    "aria-posinset": I
                } = e, T = (0, r.useStateFromStores)([c.default], () => c.default.getStatus(t.id)), N = (0, i.useListItem)(String(t.id));
                return (0, a.jsx)(u.Clickable, {
                    id: "user-row-".concat(n),
                    className: p.friendWrapper,
                    onClick: () => {
                        null != S && S(t.id)
                    },
                    onMouseEnter: () => {
                        null != C && C(n)
                    },
                    ...N,
                    role: "option",
                    "aria-selected": _,
                    "aria-setsize": g,
                    "aria-posinset": I,
                    children: (0, a.jsxs)(f.default, {
                        align: f.default.Align.CENTER,
                        className: s(p.friend, {
                            [p.friendSelected]: E
                        }),
                        children: [(0, a.jsx)(d.default, {
                            user: t,
                            status: T,
                            className: p.avatar
                        }), (0, a.jsxs)(f.default, {
                            className: p.match,
                            align: f.default.Align.BASELINE,
                            children: [(0, a.jsx)(u.Text, {
                                tag: "strong",
                                className: p.nickname,
                                "aria-hidden": !0,
                                variant: "text-md/medium",
                                children: null != m && m === t.tag ? h.default.getName(t) : null != m && "" !== m ? m : h.default.getName(t)
                            }), (0, a.jsx)(o.default, {
                                user: t,
                                hideDiscriminator: l,
                                className: p.discordTag,
                                usernameClass: p.weightMedium,
                                discriminatorClass: p.weightMedium,
                                forceUsername: !0
                            })]
                        }), (0, a.jsx)(u.Checkbox, {
                            displayOnly: !0,
                            size: 22,
                            value: _,
                            className: p.checkbox
                        })]
                    })
                })
            }
        },
        853189: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return w
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("446674"),
                i = n("151426"),
                r = n("77078"),
                u = n("561288"),
                o = n("987317"),
                d = n("244201"),
                c = n("206230"),
                f = n("702173"),
                h = n("191145"),
                p = n("10641"),
                m = n("509802"),
                E = n("889014"),
                _ = n("5667"),
                S = n("19065"),
                C = n("727284"),
                g = n("950104"),
                I = n("778588"),
                T = n("42887"),
                N = n("27618"),
                x = n("697218"),
                v = n("800762"),
                A = n("887657"),
                M = n("437825"),
                R = n("664336"),
                L = n("58608"),
                O = n("659500"),
                y = n("701909"),
                j = n("49111"),
                P = n("994428"),
                D = n("353927"),
                b = n("782340"),
                U = n("367731");
            class F extends l.PureComponent {
                componentDidMount() {
                    O.ComponentDispatch.subscribe(j.ComponentActions.CALL_START, this.handleVoiceClick)
                }
                componentWillUnmount() {
                    O.ComponentDispatch.unsubscribe(j.ComponentActions.CALL_START, this.handleVoiceClick)
                }
                renderVideoCallButton() {
                    let e, t;
                    let {
                        inCall: n,
                        callActive: l,
                        callUnavailable: s,
                        isBlocked: i,
                        channel: u,
                        mode: o
                    } = this.props;
                    if (n || l && o === j.ChannelModes.VOICE) return null;
                    let d = u.isManaged(),
                        c = null,
                        f = !1;
                    return T.default.supports(D.Features.VIDEO) ? i ? (c = b.default.Messages.CALL_UNAVAILABLE_BLOCKED_USERS, e = r.Tooltip.Colors.RED, f = !0) : l && o === j.ChannelModes.VIDEO ? (t = this.handleJoinVideoCall, c = d ? b.default.Messages.CONNECT : b.default.Messages.JOIN_VIDEO_CALL) : (t = this.handleStartVideoCall, c = d ? b.default.Messages.CONNECT : b.default.Messages.START_VIDEO_CALL) : (f = !0, t = this.handleBrowserNotSupported, c = b.default.Messages.BROWSER_NOT_SUPPORTED), (0, a.jsx)(R.default.Icon, {
                        icon: M.default,
                        onClick: t,
                        disabled: f || s,
                        tooltip: c,
                        tooltipColor: e
                    })
                }
                renderVoiceCallButton() {
                    let e;
                    let {
                        inCall: t,
                        canShowTooltip: n,
                        callActive: l,
                        callUnavailable: s,
                        isBlocked: u,
                        channel: o,
                        canShowActivityGdmTooltip: d,
                        dismissibleContentTypes: c,
                        useReducedMotion: f
                    } = this.props;
                    if (t) return null;
                    let h = o.isManaged(),
                        p = "",
                        E = !1;
                    s ? (p = h ? b.default.Messages.VOICE_UNAVAILABLE : b.default.Messages.CALL_UNAVAILABLE, e = r.Tooltip.Colors.RED, E = !0) : u ? (p = b.default.Messages.CALL_UNAVAILABLE_BLOCKED_USERS, e = r.Tooltip.Colors.RED, E = !0) : p = l ? h ? b.default.Messages.CONNECT : b.default.Messages.JOIN_VOICE_CALL : h ? b.default.Messages.CONNECT : b.default.Messages.START_VOICE_CALL;
                    let S = (0, a.jsx)(R.default.Icon, {
                        icon: A.default,
                        onClick: this.handleVoiceClick,
                        disabled: E,
                        tooltip: p,
                        tooltipColor: e
                    });
                    return (0, a.jsx)(m.default, {
                        contentTypes: c,
                        children: e => {
                            let {
                                visibleContent: l,
                                markAsDismissed: s
                            } = e;
                            if (l === i.DismissibleContent.ACTIVITY_GDM_CALL_TOOLTIP) return (0, a.jsx)(r.Popout, {
                                position: "bottom",
                                align: "center",
                                animation: r.Popout.Animation.TRANSLATE,
                                shouldShow: n && d && !t,
                                renderPopout: e => {
                                    let {
                                        closePopout: t
                                    } = e;
                                    return (0, a.jsx)(_.default, {
                                        header: (0, a.jsxs)("div", {
                                            children: [(0, a.jsx)(L.default, {
                                                className: U.tooltipImage,
                                                autoPlay: !f,
                                                src: "https://cdn.discordapp.com/attachments/860252504826445825/1078051428028924006/mobile_coachmark.mp4",
                                                width: 248,
                                                height: 139.5,
                                                loop: !0,
                                                muted: !0
                                            }), (0, a.jsx)(r.Heading, {
                                                variant: "heading-md/bold",
                                                color: "always-white",
                                                children: b.default.Messages.EMBEDDED_ACTIVITIES_DM_TOOLTIP_HEADER
                                            })]
                                        }),
                                        content: (0, a.jsxs)("div", {
                                            children: [(0, a.jsx)(r.Text, {
                                                variant: "text-sm/normal",
                                                color: "always-white",
                                                children: b.default.Messages.EMBEDDED_ACTIVITIES_DM_TOOLTIP_BODY
                                            }), (0, a.jsx)(r.Anchor, {
                                                href: y.default.getArticleURL(j.HelpdeskArticles.ACTIVITIES),
                                                children: b.default.Messages.LEARN_MORE
                                            })]
                                        }),
                                        buttonCTA: b.default.Messages.GOT_IT,
                                        onClick: () => {
                                            t(), s()
                                        },
                                        className: U.tooltip
                                    })
                                },
                                children: () => S
                            });
                            return S
                        }
                    })
                }
                render() {
                    return (0, a.jsxs)(l.Fragment, {
                        children: [this.renderVoiceCallButton(), this.renderVideoCallButton()]
                    })
                }
                constructor(...e) {
                    super(...e), this.handleStartCall = (e, t) => {
                        let {
                            channel: n,
                            notFriend: a,
                            appContext: l
                        } = this.props, s = a ? n.getRecipientId() : null, i = () => u.default.call(n.id, t, !a && !n.isManaged() && !(null == e ? void 0 : e.shiftKey), s);
                        t ? (0, C.default)(i, l) : i()
                    }, this.handleJoinCall = e => {
                        o.default.selectVoiceChannel(this.props.channel.id, e)
                    }, this.handleVoiceClick = e => {
                        let {
                            callUnavailable: t,
                            callActive: n,
                            canShowActivityGdmTooltip: a
                        } = this.props;
                        if (a && (0, p.markDismissibleContentAsDismissed)(i.DismissibleContent.ACTIVITY_GDM_CALL_TOOLTIP, {
                                dismissAction: P.ContentDismissActionType.AUTO
                            }), t);
                        else if (n) return this.handleJoinCall(!1);
                        else return this.handleStartCall(e, !1)
                    }, this.handleStartVideoCall = e => {
                        this.handleStartCall(e, !0)
                    }, this.handleJoinVideoCall = () => {
                        let {
                            appContext: e
                        } = this.props;
                        (0, C.default)(() => this.handleJoinCall(!0), e)
                    }, this.handleBrowserNotSupported = () => {
                        (0, S.default)()
                    }
                }
            }

            function w(e) {
                let {
                    channel: t
                } = e, n = (0, E.default)(), r = (0, s.useStateFromStores)([h.default], () => h.default.getMode(t.id)), u = (0, s.useStateFromStores)([v.default], () => v.default.isInChannel(t.id)), o = (0, s.useStateFromStores)([c.default], () => c.default.useReducedMotion), {
                    callActive: p,
                    callUnavailable: m
                } = (0, s.useStateFromStoresObject)([g.default], () => ({
                    callActive: g.default.isCallActive(t.id),
                    callUnavailable: g.default.isCallUnavailable(t.id)
                })), _ = t.getRecipientId(), {
                    notFriend: S,
                    isBlocked: C
                } = (0, s.useStateFromStoresObject)([N.default], () => ({
                    notFriend: t.type === j.ChannelTypes.DM && null != _ && !N.default.isFriend(_),
                    isBlocked: t.type === j.ChannelTypes.DM && null != _ && N.default.isBlocked(_)
                })), T = (0, s.useStateFromStores)([x.default], () => x.default.getUser(_)), A = (0, d.useAppContext)(), M = [], R = (0, f.default)(t.id), L = (0, s.useStateFromStores)([I.default], () => I.default.hasLayers());
                R && !L && M.push(i.DismissibleContent.ACTIVITY_GDM_CALL_TOOLTIP);
                let [O, y] = l.useState(!1);
                return (l.useEffect(() => {
                    let e = setTimeout(() => {
                        y(!0)
                    }, 250);
                    return () => clearTimeout(e)
                }, []), n || (null == T ? void 0 : T.bot)) ? null : (0, a.jsx)(F, {
                    channel: t,
                    mode: r,
                    inCall: u,
                    callActive: p,
                    callUnavailable: m,
                    notFriend: S,
                    isBlocked: C,
                    appContext: A,
                    canShowTooltip: O,
                    canShowActivityGdmTooltip: R,
                    dismissibleContentTypes: M,
                    useReducedMotion: o
                })
            }
        },
        718091: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return ed
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("917351"),
                u = n.n(r),
                o = n("866227"),
                d = n.n(o),
                c = n("394846"),
                f = n("249654"),
                h = n("446674"),
                p = n("77078"),
                m = n("913144"),
                E = n("561288"),
                _ = n("450911"),
                S = n("630086"),
                C = n("970728"),
                g = n("369008"),
                I = n("736964"),
                T = n("304580"),
                N = n("137223"),
                x = n("244201"),
                v = n("716241"),
                A = n("274870"),
                M = n("843962"),
                R = n("679653"),
                L = n("52393"),
                O = n("393414"),
                y = n("233069"),
                j = n("42203"),
                P = n("330154"),
                D = n("501090"),
                b = n("945956"),
                U = n("660478"),
                F = n("27618"),
                w = n("102985"),
                G = n("697218"),
                B = n("145131"),
                k = n("476765"),
                H = n("570443"),
                V = n("76539"),
                W = n("664336"),
                Y = n("599110"),
                z = n("306160"),
                K = n("659500"),
                X = n("449008"),
                q = n("158998"),
                Z = n("993063"),
                Q = n("849324"),
                J = n("49111"),
                $ = n("782340"),
                ee = n("629722"),
                et = n("905518"),
                en = n("926622");
            let ea = (0, k.uid)(),
                el = (0, k.uid)();

            function es(e) {
                let {
                    className: t,
                    children: n
                } = e;
                return (0, a.jsxs)(B.default, {
                    align: B.default.Align.CENTER,
                    justify: B.default.Justify.CENTER,
                    direction: B.default.Direction.VERTICAL,
                    className: i(ee.errorState, t),
                    children: [(0, a.jsx)("div", {
                        className: i(ee.errorStateIcon, en.marginBottom20)
                    }), n]
                })
            }
            let ei = e => {
                    var t, n;
                    let {
                        channel: l,
                        onClose: s
                    } = e, i = null !== (t = (0, R.default)(l)) && void 0 !== t ? t : "", r = (0, h.useStateFromStores)([U.default], () => null !== (n = U.default.lastMessageId(l.id)) && void 0 !== n ? n : l.id);
                    return (0, a.jsx)(p.Clickable, {
                        onClick: () => {
                            (0, O.transitionToGuild)(J.ME, l.id), s()
                        },
                        children: (0, a.jsxs)("div", {
                            className: ee.confirmChannelItemContainer,
                            children: [(0, a.jsx)(p.Avatar, {
                                src: (0, M.getChannelIconURL)(l),
                                size: p.AvatarSizes.SIZE_24,
                                "aria-label": i
                            }), (0, a.jsx)("span", {
                                className: ee.confirmChannelName,
                                children: i
                            }), (0, a.jsx)("span", {
                                className: ee.lastActiveTimestamp,
                                children: d(f.default.extractTimestamp(r)).fromNow()
                            })]
                        })
                    })
                },
                er = e => {
                    let {
                        onConfirm: t,
                        channelIds: n,
                        ...l
                    } = e, s = (0, h.useStateFromStores)([j.default], () => Array.from(n).map(j.default.getChannel), [n]);
                    return (0, a.jsxs)(p.ConfirmModal, {
                        header: $.default.Messages.GROUP_DM_INVITE_CONFIRM,
                        confirmText: $.default.Messages.GROUP_DM_INVITE_CONFIRM_BUTTON,
                        cancelText: $.default.Messages.CANCEL,
                        onConfirm: t,
                        confirmButtonColor: p.Button.Colors.BRAND,
                        ...l,
                        children: [(0, a.jsx)(p.Text, {
                            variant: "text-md/normal",
                            children: $.default.Messages.GROUP_DM_INVITE_CONFIRM_DESCRIPTION
                        }), (0, a.jsx)(p.FormTitle, {
                            className: ee.selectExistingFormHeader,
                            children: $.default.Messages.GROUP_DM_INVITE_SELECT_EXISTING
                        }), (0, a.jsx)(p.Scroller, {
                            className: ee.confirmInviteScroller,
                            children: s.filter(X.isNotNullish).sort((e, t) => {
                                var n, a;
                                let l = null !== (n = e.lastMessageId) && void 0 !== n ? n : e.id,
                                    s = null !== (a = t.lastMessageId) && void 0 !== a ? a : t.id;
                                return f.default.compare(s, l)
                            }).map(e => (0, a.jsx)(ei, {
                                onClose: l.onClose,
                                channel: e
                            }, e.id))
                        })]
                    })
                };
            class eu extends l.PureComponent {
                componentDidMount() {
                    let {
                        channel: e
                    } = this.props;
                    m.default.wait(() => g.default.open(null == e ? void 0 : e.id));
                    let t = (0, v.collectChannelAnalyticsMetadata)(e);
                    null != e ? e.isDM() ? Y.default.track(J.AnalyticEvents.OPEN_POPOUT, {
                        ...t,
                        type: "Add Friends to DM",
                        source: "DM",
                        is_friend: !this.isNotFriends()
                    }) : Y.default.track(J.AnalyticEvents.OPEN_POPOUT, {
                        ...t,
                        type: "Add Friends to DM",
                        source: "Group DM"
                    }) : Y.default.track(J.AnalyticEvents.OPEN_POPOUT, {
                        ...t,
                        type: "New Group DM",
                        source: "Friends List"
                    }), K.ComponentDispatch.subscribe(J.ComponentActions.SCROLL_PAGE_UP, this.scrollPageUp), K.ComponentDispatch.subscribe(J.ComponentActions.SCROLL_PAGE_DOWN, this.scrollPageDown)
                }
                componentWillUnmount() {
                    K.ComponentDispatch.unsubscribe(J.ComponentActions.SCROLL_PAGE_UP, this.scrollPageUp), K.ComponentDispatch.unsubscribe(J.ComponentActions.SCROLL_PAGE_DOWN, this.scrollPageDown), null != this.copyTimeout && clearTimeout(this.copyTimeout), m.default.wait(() => g.default.close())
                }
                isNotFriends() {
                    let {
                        channel: e
                    } = this.props;
                    if (null == e || !e.isDM()) return !1;
                    let t = e.getRecipientId();
                    if (null == t) throw Error("no recipient in DM");
                    return !F.default.isFriend(t)
                }
                createInvite() {
                    let {
                        channel: e
                    } = this.props;
                    if (null == e || !e.isMultiUserDM() || this.isPartyFull()) return;
                    let {
                        inviteMaxAgeSeconds: t
                    } = Z.default.getCurrentConfig({
                        location: "5326c5_1"
                    }, {
                        autoTrackExposure: !1
                    });
                    C.default.createInvite(e.id, {
                        max_age: t
                    }, J.InstantInviteSources.GROUP_DM)
                }
                isPartyFull() {
                    let {
                        channel: e
                    } = this.props;
                    return null != e && e.recipients.length + 1 >= this.getMaxParticipants()
                }
                getMaxParticipants() {
                    let {
                        channel: e
                    } = this.props, t = G.default.getCurrentUser();
                    return null != t && t.isStaff() ? J.MAX_GROUP_DM_STAFF_PARTICIPANTS : null != e && e.isBroadcastChannel() ? J.MAX_GROUP_DM_BROADCAST_PARTICIPANTS : null != e && e.userLimit > 0 ? e.userLimit : J.MAX_GROUP_DM_PARTICIPANTS
                }
                getRemaining() {
                    let {
                        channel: e,
                        selectedUsers: t
                    } = this.props, n = (null == e ? 0 : e.recipients.length) + 1;
                    return this.getMaxParticipants() - t.size - n
                }
                renderCreateGroupButton() {
                    let {
                        channel: e,
                        selectedUsers: t
                    } = this.props, n = this.getRemaining(), l = null != e && 0 === t.size || n < 0, s = t.size > 1 ? $.default.Messages.CREATE_GROUP_DM : $.default.Messages.CREATE_DM;
                    return (0, a.jsx)(p.Button, {
                        fullWidth: !0,
                        disabled: l,
                        onClick: this.handleInviteUsers,
                        children: s
                    })
                }
                renderAddUsersButton() {
                    let {
                        channel: e,
                        selectedUsers: t
                    } = this.props;
                    if (null == e || e.isDM()) return;
                    let n = this.getRemaining(),
                        l = 0 === t.size || n < 0;
                    return (0, a.jsx)("div", {
                        className: ee.addButton,
                        children: (0, a.jsx)(p.Button, {
                            size: p.Button.Sizes.SMALL,
                            disabled: l,
                            onClick: this.handleInviteUsers,
                            children: $.default.Messages.ADD
                        })
                    })
                }
                renderSubtitle() {
                    if (!this.props.hasFriends || this.isNotFriends() || this.isPartyFull()) return null;
                    let e = this.getRemaining(),
                        t = e <= 0 ? $.default.Messages.GROUP_DM_INVITE_FULL_SUB2.format({
                            number: this.getMaxParticipants()
                        }) : $.default.Messages.GROUP_DM_INVITE_REMAINING.format({
                            number: e
                        });
                    return (0, a.jsx)(p.Text, {
                        variant: "text-xs/normal",
                        className: i(ee.subtitle, {
                            [ee.subtitleWarning]: e < 0
                        }, en.marginTop4),
                        children: t
                    })
                }
                renderSearchBar() {
                    var e;
                    let {
                        query: t,
                        hasFriends: n,
                        results: l,
                        selectedRow: s,
                        selectedUsers: r
                    } = this.props;
                    if (!n || this.isNotFriends()) return null;
                    let u = [];
                    return r.forEach(e => {
                        let t = G.default.getUser(e);
                        null != t && u.push(q.default.getName(t))
                    }), (0, a.jsxs)(B.default, {
                        className: i(ee.searchBar, en.marginTop20),
                        children: [(0, a.jsx)(N.default, {
                            ref: this.searchBarRef,
                            className: ee.searchBarComponent,
                            autoFocus: !0,
                            placeholder: 0 === r.size ? $.default.Messages.GROUP_DM_SEARCH_PLACEHOLDER : void 0,
                            disabled: this.isPartyFull(),
                            size: N.default.Sizes.MEDIUM,
                            query: t,
                            selectedRow: s,
                            sections: [null !== (e = null == l ? void 0 : l.length) && void 0 !== e ? e : 0],
                            tags: u,
                            onSelect: this.handleSelect,
                            onSelectionChange: this.handleSelectionChange,
                            onQueryChange: this.handleQueryChange,
                            onRemoveTag: this.handleRemoveUser,
                            inputProps: {
                                "aria-labelledby": ea,
                                "aria-controls": el,
                                "aria-expanded": !0,
                                "aria-activedescendant": "user-row-".concat(s)
                            }
                        }), this.renderAddUsersButton()]
                    })
                }
                renderHeader() {
                    let e = null != this.scrollerRef.current && this.state.separator,
                        t = this.isNotFriends() ? $.default.Messages.GROUP_DM_ADD_FRIENDS : $.default.Messages.GROUP_DM_HEADER;
                    return (0, a.jsxs)(p.ModalHeader, {
                        direction: B.default.Direction.VERTICAL,
                        align: B.default.Align.STRETCH,
                        className: ee.header,
                        separator: e,
                        children: [c.isMobile ? this.renderMobileCloseButton() : null, (0, a.jsx)(p.Heading, {
                            id: ea,
                            variant: "heading-lg/semibold",
                            children: t
                        }), this.renderSubtitle(), this.renderSearchBar()]
                    })
                }
                renderBody() {
                    let {
                        channel: e,
                        hasFriends: t,
                        results: n
                    } = this.props;
                    if (this.isNotFriends()) {
                        let t = null != e ? e.getRecipientId() : null;
                        if (null == t) throw Error("no recipient in DM");
                        let n = G.default.getUser(t),
                            l = null != n ? n.username : "",
                            s = null != n && F.default.getRelationshipType(n.id) === J.RelationshipTypes.PENDING_OUTGOING;
                        return (0, a.jsxs)(es, {
                            className: ee.notFriends,
                            children: [(0, a.jsx)("div", {
                                children: $.default.Messages.GROUP_DM_INVITE_NOT_FRIENDS.format({
                                    username: l
                                })
                            }), (0, a.jsx)(p.Button, {
                                disabled: s,
                                size: p.Button.Sizes.SMALL,
                                onClick: () => null != n ? this.handleAddFriend(n) : null,
                                className: en.marginTop20,
                                children: s ? $.default.Messages.ADD_FRIEND_BUTTON_AFTER : $.default.Messages.ADD_FRIEND_BUTTON
                            })]
                        })
                    }
                    return t ? this.isPartyFull() ? (0, a.jsxs)(es, {
                        className: ee.partyFull,
                        children: [(0, a.jsx)("div", {
                            children: $.default.Messages.GROUP_DM_INVITE_FULL_MAIN
                        }), (0, a.jsx)("div", {
                            children: $.default.Messages.GROUP_DM_INVITE_FULL_SUB2.format({
                                number: this.getMaxParticipants()
                            })
                        })]
                    }) : 0 === n.length ? (0, a.jsx)(es, {
                        className: i(ee.noResults, en.marginBottom20),
                        children: (0, a.jsx)("div", {
                            children: $.default.Messages.GROUP_DM_INVITE_EMPTY
                        })
                    }) : (0, a.jsx)(p.List, {
                        ref: this.scrollerRef,
                        sections: [n.length],
                        className: ee.scroller,
                        renderRow: this.renderRow,
                        rowHeight: this.getRowHeight,
                        renderSection: this.renderSection,
                        sectionHeight: 0,
                        onScroll: this.handleScroll,
                        paddingTop: 0,
                        paddingBottom: 14,
                        fade: !0,
                        role: void 0,
                        innerRole: "listbox",
                        innerId: el,
                        innerAriaMultiselectable: !0,
                        innerAriaOrientation: "vertical"
                    }) : (0, a.jsxs)(es, {
                        className: ee.noFriends,
                        children: [(0, a.jsx)("div", {
                            children: $.default.Messages.GROUP_DM_INVITE_NO_FRIENDS
                        }), (0, a.jsx)(p.Button, {
                            autoFocus: !0,
                            color: p.Button.Colors.GREEN,
                            fullWidth: !0,
                            size: p.Button.Sizes.SMALL,
                            onClick: this.handleAddFriendNavigation,
                            className: en.marginTop20,
                            children: $.default.Messages.ADD_FRIEND
                        })]
                    })
                }
                renderSection() {
                    return null
                }
                renderInviteLink() {
                    let {
                        channel: e,
                        invite: t,
                        hideInstantInvites: n
                    } = this.props, {
                        copied: s
                    } = this.state;
                    if (null == e || !e.isMultiUserDM() || this.isPartyFull()) return null;
                    let r = null != t ? (0, L.default)(t.code) : "";
                    return (0, a.jsxs)(l.Fragment, {
                        children: [(0, a.jsx)(p.FormTitle, {
                            tag: "h5",
                            className: en.marginBottom8,
                            children: $.default.Messages.GROUP_DM_INVITE_LINK_TITLE
                        }), (0, a.jsxs)(B.default, {
                            className: i(et.input, {
                                [et.success]: s
                            }),
                            justify: B.default.Justify.BETWEEN,
                            align: B.default.Align.CENTER,
                            children: [r.length > 0 ? (0, a.jsx)(p.TextInput, {
                                className: ee.copyInput,
                                name: "invite",
                                value: n ? $.default.Messages.INSTANT_INVITE_HIDDEN : r,
                                editable: !1,
                                inputClassName: ee.noBorder,
                                spellCheck: "false",
                                onClick: e => e.currentTarget.select()
                            }) : (0, a.jsx)(p.TextInput, {
                                className: ee.copyInput,
                                name: "invite",
                                value: r,
                                placeholder: (0, L.default)($.default.Messages.GROUP_DM_INVITE_LINK_EXAMPLE),
                                editable: !1,
                                inputClassName: ee.noBorder,
                                spellCheck: "false",
                                onClick: () => this.createInvite()
                            }), z.SUPPORTS_COPY && r.length > 0 ? (0, a.jsx)(p.Button, {
                                size: p.Button.Sizes.SMALL,
                                color: s ? p.Button.Colors.GREEN : p.Button.Colors.BRAND,
                                className: ee.copyButton,
                                onClick: () => this.handleCopyInvite(r),
                                children: s ? $.default.Messages.INVITE_COPIED : $.default.Messages.COPY
                            }) : null, 0 === r.length ? (0, a.jsx)(p.Button, {
                                size: p.Button.Sizes.SMALL,
                                color: p.Button.Colors.BRAND,
                                className: ee.copyButton,
                                onClick: () => this.createInvite(),
                                children: $.default.Messages.GROUP_DM_INVITE_LINK_CREATE
                            }) : null]
                        }), r.length > 0 ? (0, a.jsx)(p.Text, {
                            variant: "text-xs/normal",
                            className: i(en.marginTop8, ee.footerText),
                            children: $.default.Messages.INVITE_EXPIRES_HOURS.format({
                                numHours: "".concat(24)
                            })
                        }) : null]
                    })
                }
                renderFooter() {
                    let {
                        hasFriends: e,
                        channel: t
                    } = this.props;
                    if (this.isNotFriends() || !e || this.isPartyFull()) return null;
                    let n = null == t || t.isDM() ? this.renderCreateGroupButton() : this.renderInviteLink();
                    if (null != n) return (0, a.jsxs)(l.Fragment, {
                        children: [(0, a.jsx)("div", {
                            className: ee.footerSeparator
                        }), (0, a.jsx)(B.default, {
                            direction: B.default.Direction.VERTICAL,
                            className: ee.footer,
                            children: n
                        })]
                    })
                }
                render() {
                    let {
                        transitionState: e
                    } = this.props;
                    return (0, a.jsxs)(p.ModalRoot, {
                        transitionState: null != e ? e : p.ModalTransitionState.ENTERED,
                        className: ee.popout,
                        children: [this.renderHeader(), this.renderBody(), this.renderFooter()]
                    })
                }
                handleAddFriend(e) {
                    this.props.onClose(), I.default.sendRequest({
                        discordTag: q.default.getUserTag(e, {
                            identifiable: "always"
                        }),
                        context: {
                            location: "Group DM"
                        }
                    })
                }
                constructor(...e) {
                    super(...e), this.state = {
                        separator: !1,
                        copied: !1
                    }, this.scrollerRef = l.createRef(), this.searchBarRef = l.createRef(), this._mobileCloseRef = l.createRef(), this.scrollPageUp = () => {
                        var e;
                        null === (e = this.scrollerRef.current) || void 0 === e || e.scrollPageUp({
                            animate: !0
                        })
                    }, this.scrollPageDown = () => {
                        var e;
                        null === (e = this.scrollerRef.current) || void 0 === e || e.scrollPageDown({
                            animate: !0
                        })
                    }, this.renderMobileCloseButton = () => (0, a.jsx)("div", {
                        className: i(ee.mobileToolsContainer),
                        ref: this._mobileCloseRef,
                        children: (0, a.jsx)(p.FocusRingScope, {
                            containerRef: this._mobileCloseRef,
                            children: (0, a.jsx)("div", {
                                children: (0, a.jsx)(T.default, {
                                    className: ee.mobileToolsCloseIcon,
                                    closeAction: this.props.onClose,
                                    keybind: "ESC"
                                })
                            })
                        })
                    }), this.getRowHeight = (e, t) => {
                        if (e > 0) return 0;
                        let {
                            results: n
                        } = this.props, a = n[t];
                        return null != a ? 42 : 0
                    }, this.renderRow = e => {
                        let {
                            section: t,
                            row: n
                        } = e;
                        if (t > 0) return null;
                        let {
                            results: l,
                            selectedUsers: s,
                            selectedRow: i,
                            hideDiscriminator: r
                        } = this.props, u = l[n];
                        if (null == u) return null;
                        let {
                            user: o,
                            comparator: d
                        } = u, c = s.has(o.id);
                        return (0, a.jsx)(Q.default, {
                            row: n,
                            user: o,
                            hideDiscriminator: r,
                            comparator: d,
                            checked: c,
                            selected: n === i,
                            onClick: this.handleClick,
                            onMouseEnter: this.focusResult,
                            "aria-posinset": n + 1,
                            "aria-setsize": l.length
                        }, o.id)
                    }, this.forceFocus = () => {
                        let e = this.searchBarRef.current;
                        null == e || e.focus()
                    }, this.focusResult = e => {
                        g.default.select(e)
                    }, this.handleSelect = (e, t) => {
                        let {
                            results: n,
                            channel: a
                        } = this.props;
                        if (null == t) g.default.clear(null == a ? void 0 : a.id);
                        else null != n && this.handleClick(n[t].user.id)
                    }, this.handleSelectionChange = (e, t) => {
                        g.default.select(t);
                        let n = this.scrollerRef.current;
                        null != n && n.scrollToIndex({
                            section: e,
                            row: t,
                            padding: 8
                        })
                    }, this.handleQueryChange = e => {
                        let {
                            channel: t
                        } = this.props;
                        g.default.search(e, null == t ? void 0 : t.id)
                    }, this.handleRemoveUser = e => {
                        let t = Array.from(this.props.selectedUsers);
                        g.default.removeUser(t[e]), this.forceFocus()
                    }, this.handleClick = e => {
                        let {
                            selectedUsers: t,
                            query: n,
                            channel: a
                        } = this.props, l = !t.has(e);
                        if (l) {
                            if (g.default.addUser(e), n.length > 0) g.default.clear(null == a ? void 0 : a.id)
                        } else g.default.removeUser(e);
                        this.forceFocus()
                    }, this.handleAddFriendNavigation = () => {
                        (0, O.transitionTo)(J.Routes.FRIENDS), S.default.setSection(J.FriendsSections.ADD_FRIEND), this.props.onClose()
                    }, this.handleScroll = () => {
                        let e = this.scrollerRef.current;
                        null != e && this.setState({
                            separator: !e.isScrolledToTop()
                        })
                    }, this.createNewDM = e => {
                        _.default.openPrivateChannel(e, !1, !1, "New Group DM")
                    }, this.pushToExistingDM = (e, t) => {
                        let n = b.default.getChannelId() === e.id;
                        _.default.addRecipients(e.id, t, J.AnalyticsLocations.ADD_FRIENDS_TO_DM).then(a => {
                            if (n) {
                                if (e.isDM() && a !== e.id) {
                                    E.default.call(a, !1, !0);
                                    return
                                }
                                E.default.ring(a, t)
                            }
                        })
                    }, this.handleInviteUsers = () => {
                        let {
                            channel: e,
                            selectedUsers: t,
                            onClose: n
                        } = this.props, l = Array.from(t);
                        if (null != e) {
                            let t = ec(Array.from(new Set([...e.recipients, ...l])));
                            t.size > 0 ? (0, p.openModal)(n => (0, a.jsx)(er, {
                                ...n,
                                onConfirm: () => this.pushToExistingDM(e, l),
                                channelIds: t
                            }), {}, (0, p.modalContextFromAppContext)(this.context.appContext)) : this.pushToExistingDM(e, l)
                        } else {
                            let e = ec(l);
                            l.length > 1 && e.size > 0 ? (0, p.openModal)(t => (0, a.jsx)(er, {
                                ...t,
                                onConfirm: () => this.createNewDM(l),
                                channelIds: e
                            }), {}, (0, p.modalContextFromAppContext)(this.context.appContext)) : this.createNewDM(l)
                        }
                        n()
                    }, this.handleCopyInvite = e => {
                        let {
                            channel: t,
                            invite: n
                        } = this.props;
                        null != n && (0, z.copy)(e), null != this.copyTimeout && clearTimeout(this.copyTimeout), this.setState({
                            copied: !0
                        }), this.copyTimeout = setTimeout(() => {
                            this.setState({
                                copied: !1
                            })
                        }, 1e3), Y.default.track(J.AnalyticEvents.COPY_INSTANT_INVITE, {
                            server: null,
                            channel: null != t ? t.id : null,
                            channel_type: null != t ? t.type : null,
                            location: J.AnalyticsLocations.ADD_FRIENDS_TO_DM,
                            code: null != n ? n.code : null
                        })
                    }
                }
            }
            eu.contextType = x.default;
            let eo = h.default.connectStores([D.default, P.default, w.default], e => {
                let t, {
                    channel: n
                } = e;
                return null != n && null != (t = P.default.getInvite(n.id)) && t.isExpired() && (t = null), {
                    ...D.default.getState(),
                    invite: t,
                    hideDiscriminator: w.default.hidePersonalInformation,
                    hideInstantInvites: w.default.hideInstantInvites
                }
            })(eu);

            function ed(e) {
                let {
                    channel: t,
                    iconClassName: n,
                    icon: s,
                    tooltip: i,
                    tooltipPosition: r = "bottom",
                    popoutPosition: u = "bottom",
                    popoutAlign: o = "right",
                    subscribeToGlobalHotkey: d = !1
                } = e, [c, f] = l.useState(null != t && t.isGroupDM() && 0 === t.recipients.length), h = (0, A.useIsBroadcastingGDM)(null == t ? void 0 : t.id), m = l.useCallback(() => f(e => !e), []);
                return (l.useEffect(() => (d && K.ComponentDispatch.subscribe(J.ComponentActions.TOGGLE_DM_CREATE, m), () => {
                    K.ComponentDispatch.unsubscribe(J.ComponentActions.TOGGLE_DM_CREATE, m)
                }), [d, m]), h) ? null : (0, a.jsx)(p.Popout, {
                    renderPopout: e => (0, a.jsx)(eo, {
                        ...e,
                        onClose: e.closePopout,
                        channel: t
                    }),
                    position: u,
                    shouldShow: c,
                    align: o,
                    onRequestClose: () => f(!1),
                    animation: p.Popout.Animation.NONE,
                    children: e => (0, a.jsx)(W.default.Icon, {
                        ...e,
                        onClick: m,
                        icon: null != s ? s : null == t ? H.default : V.default,
                        className: n,
                        iconClassName: n,
                        tooltip: i,
                        tooltipPosition: r
                    })
                })
            }

            function ec(e) {
                let t = ef(e);
                return new Set(u(j.default.getMutablePrivateChannels()).values().filter(e => (0, y.isMultiUserDM)(e.type)).filter(e => ef(e.recipients) === t).map(e => e.id).value())
            }

            function ef(e) {
                return JSON.stringify(e.sort())
            }
        },
        922164: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("446674"),
                s = n("289867"),
                i = n("217513"),
                r = n("893980"),
                u = n("58351"),
                o = n("982108"),
                d = n("849483"),
                c = n("664336"),
                f = n("49111"),
                h = n("782340");

            function p(e) {
                let {
                    channel: t,
                    showCall: n
                } = e, p = (0, l.useStateFromStores)([o.default], () => o.default.getSection(t.id, null == t ? void 0 : t.isDM())), m = (0, i.default)(t.getRecipientId()), E = (0, u.default)(), _ = p === f.ChannelSections.PROFILE && !E;
                return (0, a.jsx)(c.Icon, {
                    disabled: E || n,
                    tooltip: E || n ? h.default.Messages.SHOW_USER_PROFILE_UNAVAILABLE : _ ? h.default.Messages.HIDE_USER_PROFILE : h.default.Messages.SHOW_USER_PROFILE,
                    icon: d.default,
                    onClick: () => {
                        (0, r.trackProfilePanelToggled)(m, !_), s.default.toggleProfilePanelSection()
                    },
                    selected: _ && !E && !n
                })
            }
        },
        148205: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return C
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("917351"),
                i = n.n(s),
                r = n("446674"),
                u = n("242740"),
                o = n("889014"),
                d = n("848848"),
                c = n("300322"),
                f = n("957255"),
                h = n("800762"),
                p = n("887657"),
                m = n("664336"),
                E = n("659500"),
                _ = n("49111"),
                S = n("782340"),
                C = l.memo(function(e) {
                    let {
                        channel: t
                    } = e, n = (0, o.default)(), s = (0, r.useStateFromStores)([h.default], () => h.default.isInChannel(t.id)), C = (0, r.useStateFromStores)([h.default], () => !i.isEmpty(h.default.getVoiceStatesForChannel(t.id))), g = (0, r.useStateFromStores)([f.default], () => f.default.can(_.Permissions.CONNECT, t)), {
                        needSubscriptionToAccess: I
                    } = (0, d.default)(t.id), T = (0, c.useIsActiveChannelOrUnarchivableThread)(t), N = l.useCallback(() => {
                        u.default.handleVoiceConnect({
                            channel: t,
                            connected: s,
                            needSubscriptionToAccess: I,
                            locked: !1
                        })
                    }, [t, s, I]);
                    return (l.useEffect(() => (E.ComponentDispatch.subscribe(_.ComponentActions.CALL_START, N), () => {
                        E.ComponentDispatch.unsubscribe(_.ComponentActions.CALL_START, N)
                    }), [N]), c.VoiceInThreadsExperiment.useExperiment({
                        guildId: t.guild_id,
                        location: "63250c_1"
                    }, {
                        autoTrackExposure: !1
                    }).enabled && !n && !s && g && T && t.isVocalThread()) ? (0, a.jsx)(m.default.Icon, {
                        icon: p.default,
                        onClick: N,
                        tooltip: C ? S.default.Messages.JOIN_VOICE_CALL : S.default.Messages.START_VOICE_CALL
                    }) : null
                })
        },
        11291: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useHalloween2023Enabled: function() {
                    return s
                },
                isHalloween2023Enabled: function() {
                    return i
                },
                subscribeToHalloweenExperiment: function() {
                    return r
                }
            });
            var a = n("862205");
            let l = (0, a.createExperiment)({
                    kind: "user",
                    id: "2023-10_halloween_2023",
                    label: "Halloween assets 2023",
                    defaultConfig: {
                        enabled: !1
                    },
                    treatments: [{
                        id: 1,
                        label: "Halloween assets enabled",
                        config: {
                            enabled: !0
                        }
                    }]
                }),
                s = () => {
                    let {
                        enabled: e
                    } = l.useExperiment({
                        location: "1"
                    }, {
                        autoTrackExposure: !1
                    });
                    return e
                },
                i = () => {
                    let {
                        enabled: e
                    } = l.getCurrentConfig({
                        location: "1"
                    }, {
                        autoTrackExposure: !1
                    });
                    return e
                },
                r = e => l.subscribe({
                    location: "subscribe"
                }, e)
        },
        684581: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var a = n("11291"),
                l = n("782340"),
                s = n("356002"),
                i = n("197492");
            let r = {
                ringtone: {
                    name: "call_ringing_halloween",
                    filename: "call_ringing_halloween.mp3"
                },
                soundSettingsLabel: () => l.default.Messages.SOUND_INCOMING_RING_HALLOWEEN + " \uD83C\uDF83",
                subscribeToEligibility: a.subscribeToHalloweenExperiment,
                isEligible: a.isHalloween2023Enabled,
                useIsEligible: a.useHalloween2023Enabled,
                getAppSpinnerSources: () => {
                    let e = Date.now();
                    if (!(e < 16976484e5) && !(e > 16990308e5)) return {
                        webmDark: s,
                        webmLight: i
                    }
                },
                getLoadingTips: () => {
                    let e = Date.now();
                    if (!(e < 16976484e5) && !(e > 16990308e5)) return [l.default.Messages.HALLOWEEN_LOADING_TEXT_1, l.default.Messages.HALLOWEEN_LOADING_TEXT_2, l.default.Messages.HALLOWEEN_LOADING_TEXT_3, l.default.Messages.HALLOWEEN_LOADING_TEXT_4, l.default.Messages.HALLOWEEN_LOADING_TEXT_5, l.default.Messages.HALLOWEEN_LOADING_TEXT_6, l.default.Messages.HALLOWEEN_LOADING_TEXT_7, l.default.Messages.HALLOWEEN_LOADING_TEXT_8, l.default.Messages.HALLOWEEN_LOADING_TEXT_9]
                }
            };
            var u = r
        },
        27978: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return a
                }
            });
            var a = (0, n("862205").createExperiment)({
                kind: "guild",
                id: "2021-11_hub_events",
                label: "Hub Events",
                defaultConfig: {
                    showHubEventsList: !1
                },
                treatments: [{
                    id: 1,
                    label: "Show Hub Events List",
                    config: {
                        showHubEventsList: !0
                    }
                }]
            })
        },
        969103: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var a = n("884691"),
                l = n("446674"),
                s = n("928265"),
                i = n("204743"),
                r = n("26989"),
                u = n("697218"),
                o = n("49111"),
                d = n("237542"),
                c = e => {
                    let t = (0, l.useStateFromStores)([i.default], () => (null == e ? void 0 : e.hasFeature(o.GuildFeatures.HUB)) ? i.default.hasViewedPrompt(d.GuildPrompts.REAL_NAME_PROMPT, e.id) : null),
                        n = (0, l.useStateFromStores)([u.default], () => u.default.getCurrentUser()),
                        c = (0, l.useStateFromStores)([r.default], () => (null == e ? void 0 : e.id) != null && null != n ? r.default.getMember(null == e ? void 0 : e.id, n.id) : null),
                        f = (null == c ? void 0 : c.nick) != null;
                    return a.useEffect(() => {
                        f && null != e && !1 === t && s.default.viewPrompt(d.GuildPrompts.REAL_NAME_PROMPT, e.id)
                    }, [f, e, t]), !1 === t && !f
                }
        },
        666391: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("77078"),
                s = n("49111");

            function i(e) {
                let {
                    initialPlanId: t,
                    activeSubscription: i,
                    trialId: r,
                    trialFooterMessageOverride: u,
                    onClose: o,
                    analyticsObject: d,
                    analyticsLocation: c,
                    analyticsLocations: f,
                    analyticsSubscriptionType: h,
                    renderHeader: p,
                    renderPurchaseConfirmation: m,
                    planGroup: E,
                    reviewWarningMessage: _,
                    skuId: S
                } = e;
                (0, l.openModalLazy)(async () => {
                    let {
                        PaymentContextProvider: e
                    } = await n.el("642906").then(n.bind(n, "642906")), {
                        PaymentModal: l
                    } = await n.el("385179").then(n.bind(n, "385179")), {
                        STEPS: s
                    } = await n.el("646139").then(n.bind(n, "646139"));
                    return n => {
                        let {
                            onClose: C,
                            ...g
                        } = n;
                        return (0, a.jsx)(e, {
                            activeSubscription: i,
                            stepConfigs: s,
                            skuIDs: [S],
                            children: (0, a.jsx)(l, {
                                ...g,
                                initialPlanId: t,
                                onClose: e => {
                                    C(), null == o || o(e)
                                },
                                analyticsLocations: f,
                                analyticsObject: d,
                                analyticsLocation: c,
                                analyticsSubscriptionType: h,
                                skuId: S,
                                renderHeader: p,
                                renderPurchaseConfirmation: m,
                                planGroup: E,
                                trialId: r,
                                trialFooterMessageOverride: u,
                                reviewWarningMessage: _
                            })
                        })
                    }
                }, {
                    onCloseCallback: () => {
                        null == o || o(!1)
                    },
                    onCloseRequest: s.NOOP
                })
            }
        },
        724110: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return I
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("746379"),
                i = n("77078"),
                r = n("716241"),
                u = n("368639"),
                o = n("33942"),
                d = n("506885"),
                c = n("401642"),
                f = n("315102"),
                h = n("701909"),
                p = n("253981"),
                m = n("252063"),
                E = n("49111"),
                _ = n("782340"),
                S = n("402739"),
                C = n("271861");
            let g = new Set(["Spacebar", " ", "Enter"]);

            function I(e) {
                let {
                    channelId: t,
                    transitionState: n,
                    onClose: I
                } = e, {
                    fetched: T,
                    applicationsShelf: N,
                    installedIntegrations: x
                } = (0, m.usePrivateChannelIntegrationState)({
                    channelId: t
                });
                l.useEffect(() => {
                    (0, r.trackWithMetadata)(E.AnalyticEvents.GDM_STARTER_APPS_VIEWED)
                }, []);
                let v = e => {
                        var t;
                        (0, d.default)(null !== (t = null == e ? void 0 : e.id) && void 0 !== t ? t : "", null == e ? void 0 : e.getAvatarURL(void 0, 80), {
                            dispatchWait: !0
                        })
                    },
                    A = (e, t) => {
                        g.has(e.key) && v(t)
                    },
                    M = l.useCallback(e => {
                        let {
                            application: t,
                            location: n
                        } = e;
                        if (null == n) return !1;
                        let {
                            host: a,
                            path: l
                        } = s.parse(n, !0), i = p.default.isDiscordHostname(a) || window.location.host === a;
                        return !!i && l === E.Routes.OAUTH2_AUTHORIZED && (null != t && I(), !0)
                    }, [I]);
                return (0, a.jsxs)(i.ModalRoot, {
                    transitionState: n,
                    size: i.ModalSize.DYNAMIC,
                    className: S.modal,
                    children: [(0, a.jsx)(i.ModalContent, {
                        className: S.modalContent,
                        children: (0, a.jsxs)(a.Fragment, {
                            children: [(0, a.jsx)("img", {
                                src: C,
                                alt: "",
                                className: S.image
                            }), (0, a.jsxs)("div", {
                                className: S.headingContainer,
                                children: [(0, a.jsx)(i.Heading, {
                                    variant: "heading-xl/bold",
                                    className: S.modalHeader,
                                    children: _.default.Messages.PRIVATE_CHANNEL_AVAILABLE_APPS
                                }), (0, a.jsx)(i.Text, {
                                    variant: "text-md/medium",
                                    className: S.modalHeader,
                                    children: _.default.Messages.PRIVATE_CHANNEL_INTEGRATION_MORE_APPS_INFO_LINKED.format({
                                        helpCenterLink: h.default.getArticleURL(E.HelpdeskArticles.PRIVATE_CHANNEL_INTEGRATIONS)
                                    })
                                })]
                            }), (0, a.jsx)("div", {
                                className: S.applicationRowContainer,
                                children: T ? N.map(e => {
                                    if (null != x.find(t => t.application.id === e.id)) return null;
                                    let n = null != e.description ? (0, u.parseBioReact)(e.description) : null,
                                        l = f.default.getApplicationIconURL({
                                            id: e.id,
                                            icon: e.icon,
                                            size: 40
                                        }),
                                        s = (0, a.jsxs)(a.Fragment, {
                                            children: [null != l && (0, a.jsx)("img", {
                                                className: S.applicationIcon,
                                                alt: "",
                                                "aria-hidden": !0,
                                                src: l,
                                                width: 40,
                                                height: 40
                                            }), (0, a.jsxs)("div", {
                                                className: S.applicationRowContent,
                                                children: [(0, a.jsxs)("div", {
                                                    className: S.applicationText,
                                                    children: [(0, a.jsx)(i.Heading, {
                                                        variant: "heading-md/medium",
                                                        children: e.name
                                                    }), null != e.description && (0, a.jsx)(i.Text, {
                                                        variant: "text-sm/normal",
                                                        color: "text-muted",
                                                        lineClamp: 1,
                                                        children: n
                                                    })]
                                                }), (0, a.jsx)(i.Button, {
                                                    type: "button",
                                                    innerClassName: S.applicationButtonHack,
                                                    onClick: n => {
                                                        n.stopPropagation(), (0, o.openOAuth2Modal)({
                                                            clientId: e.id,
                                                            scopes: [E.OAuth2Scopes.APPLICATIONS_COMMANDS],
                                                            channelId: t,
                                                            disableGuildSelect: !0,
                                                            callback: M
                                                        })
                                                    },
                                                    size: i.Button.Sizes.SMALL,
                                                    color: i.Button.Colors.PRIMARY,
                                                    children: _.default.Messages.ADD
                                                })]
                                            })]
                                        }),
                                        {
                                            bot: r
                                        } = e;
                                    return null != r ? (0, a.jsx)(i.ClickableContainer, {
                                        onMouseDown: () => v(r),
                                        onKeyDown: e => A(e, r),
                                        className: S.applicationRow,
                                        onClick: () => {
                                            (0, c.openUserProfileModal)({
                                                userId: r.id,
                                                channelId: t,
                                                analyticsLocation: {
                                                    section: E.AnalyticsSections.ADD_PRIVATE_CHANNEL_INTEGRATION_MODAL
                                                }
                                            })
                                        },
                                        "aria-label": _.default.Messages.PRIVATE_CHANNEL_INTEGRATION_ADD_MODAL_ROW_INFO.format({
                                            appName: e.name
                                        }),
                                        children: s
                                    }, e.id) : (0, a.jsx)("div", {
                                        className: S.applicationRow,
                                        children: s
                                    }, e.id)
                                }) : (0, a.jsx)(i.Spinner, {
                                    className: S.spinner,
                                    type: i.Spinner.Type.SPINNING_CIRCLE
                                })
                            })]
                        })
                    }), (0, a.jsxs)(i.ModalFooter, {
                        className: S.modalFooter,
                        children: [(0, a.jsx)(i.Button, {
                            onClick: I,
                            children: _.default.Messages.DONE
                        }), (0, a.jsx)(i.Button, {
                            look: i.Button.Looks.LINK,
                            onClick: I,
                            color: i.Button.Colors.PRIMARY,
                            children: _.default.Messages.CANCEL
                        })]
                    })]
                })
            }
        },
        632892: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                FeatureBorderTypes: function() {
                    return l
                },
                default: function() {
                    return c
                }
            });
            var a, l, s = n("37983"),
                i = n("884691"),
                r = n("414456"),
                u = n.n(r),
                o = n("623682");
            (a = l || (l = {})).PREMIUM = "premium", a.LIMITED = "limited";
            let d = {
                [l.PREMIUM]: {
                    border: o.premiumFeatureBorder,
                    background: o.premiumBackground
                },
                [l.LIMITED]: {
                    border: o.limitedFeatureBorder,
                    background: o.limitedBackground
                }
            };
            var c = i.forwardRef(function(e, t) {
                let {
                    children: n,
                    type: a = l.PREMIUM,
                    isShown: i,
                    hasBackground: r = !1,
                    className: c,
                    backgroundClassName: f
                } = e;
                if (!i) return (0, s.jsx)(s.Fragment, {
                    children: n
                });
                let {
                    border: h,
                    background: p
                } = d[a];
                return (0, s.jsx)("div", {
                    ref: t,
                    className: u(h, c),
                    children: (0, s.jsx)("div", {
                        className: u(r ? p : o.background, f),
                        children: n
                    })
                })
            })
        },
        767094: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            });
            var a = n("446674"),
                l = n("419135"),
                s = n("692038"),
                i = n("95045"),
                r = n("27618"),
                u = n("744983");

            function o(e) {
                let t = (0, a.useStateFromStores)([u.default], () => {
                        var t;
                        let n = u.default.getQuery(e),
                            a = u.default.getRawResults(e);
                        if (null == n || null == a) return [];
                        let r = (0, l.createASTHighlighter)(null !== (t = n.content) && void 0 !== t ? t : "");
                        return a.map(e => e.map(e => {
                            let t = (0, s.createMessageRecord)(e);
                            return t.isSearchHit ? t.set("customRenderedContent", (0, i.default)(t, {
                                postProcessor: r,
                                allowHeading: !0,
                                allowList: !0
                            })) : t
                        }))
                    }, [e], a.statesWillNeverBeEqual),
                    [n, o] = (0, a.useStateFromStores)([r.default], () => {
                        let e = 0,
                            n = t.map(t => t.filter(t => {
                                let n = r.default.isBlocked(t.author.id);
                                return n && t.isSearchHit && e++, !n || t.isSearchHit
                            }));
                        return [n, e]
                    }, [t], a.statesWillNeverBeEqual);
                return {
                    searchResults: n,
                    blockCount: o
                }
            }
        },
        565996: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("77078"),
                s = n("701909"),
                i = n("49111"),
                r = n("782340"),
                u = n("14310");

            function o(e) {
                let {
                    searchMode: t,
                    searchByMode: n
                } = e;
                return (0, a.jsxs)("header", {
                    className: u.searchHeader,
                    children: [(0, a.jsx)(d, {
                        ...e
                    }), (0, a.jsxs)(l.TabBar, {
                        orientation: "horizontal",
                        className: u.searchHeaderTabList,
                        selectedItem: t,
                        onItemSelect: n,
                        children: [(0, a.jsx)(l.TabBar.Item, {
                            id: i.SearchModes.NEWEST,
                            children: r.default.Messages.SEARCH_NEWEST_SHORT
                        }), (0, a.jsx)(l.TabBar.Item, {
                            id: i.SearchModes.OLDEST,
                            children: r.default.Messages.SEARCH_OLDEST_SHORT
                        }), (0, a.jsx)(l.TabBar.Item, {
                            id: i.SearchModes.MOST_RELEVANT,
                            children: r.default.Messages.SEARCH_MOST_RELEVANT_SHORT
                        })]
                    })]
                })
            }

            function d(e) {
                let t;
                let {
                    isSearching: n,
                    isIndexing: s,
                    documentsIndexed: i
                } = e;
                (s || n) && (t = (0, a.jsx)("div", {
                    className: u.spinnerWrapper,
                    children: (0, a.jsx)(l.Spinner, {
                        type: l.Spinner.Type.SPINNING_CIRCLE,
                        className: u.spinner,
                        itemClassName: u.spinnerPath
                    })
                }));
                let o = s && !n;
                return (0, a.jsxs)("div", {
                    className: u.totalResults,
                    role: "status",
                    children: [o ? (0, a.jsx)(l.Tooltip, {
                        text: r.default.Messages.SEARCH_STILL_INDEXING_HINT.format({
                            count: i
                        }),
                        children: n => (0, a.jsxs)("div", {
                            className: u.totalResultsWrapper,
                            ...n,
                            children: [(0, a.jsx)(c, {
                                ...e
                            }), t]
                        })
                    }) : (0, a.jsx)(c, {
                        ...e
                    }), o ? null : t]
                })
            }

            function c(e) {
                let {
                    isSearching: t,
                    isIndexing: n,
                    totalResults: o
                } = e;
                if (t) return (0, a.jsx)(l.Text, {
                    variant: "text-md/normal",
                    color: "header-primary",
                    children: r.default.Messages.SEARCHING
                });
                {
                    if (n) return (0, a.jsx)(l.Text, {
                        variant: "text-md/normal",
                        children: (0, a.jsx)(l.Anchor, {
                            className: u.helpdeskLink,
                            href: s.default.getArticleURL(i.HelpdeskArticles.SEARCH_INDEXING),
                            children: r.default.Messages.STILL_INDEXING
                        })
                    });
                    let e = o.toLocaleString();
                    return (0, a.jsx)(l.Text, {
                        variant: "text-md/normal",
                        color: "header-primary",
                        children: r.default.Messages.TOTAL_RESULTS.format({
                            count: e
                        })
                    })
                }
            }
        },
        420861: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("77078"),
                s = n("102499");

            function i(e) {
                let {
                    changePage: t,
                    offset: n,
                    totalResults: i,
                    pageLength: r
                } = e;
                return (0, a.jsx)("div", {
                    className: s.container,
                    children: (0, a.jsx)(l.Paginator, {
                        currentPage: Math.floor(n / r) + 1,
                        totalCount: i,
                        pageSize: r,
                        onPageChange: t,
                        maxVisiblePages: 5
                    })
                })
            }
        },
        18061: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("917351"),
                i = n.n(s),
                r = n("118810"),
                u = n("77078"),
                o = n("272030"),
                d = n("699473"),
                c = n("42203"),
                f = n("782340"),
                h = n("821867");
            class p extends l.PureComponent {
                render() {
                    let {
                        result: e,
                        listItemProps: t,
                        searchOffset: n,
                        index: l,
                        totalResults: s
                    } = this.props, r = i.find(e, e => e.isSearchHit);
                    if (null == r) return null;
                    let o = c.default.getChannel(r.channel_id);
                    if (null == o) return null;
                    let p = "search-result-".concat(r.id);
                    return (0, a.jsx)(u.FocusRing, {
                        ringTarget: this.hitRef,
                        ringClassName: h.searchResultFocusRing,
                        offset: 4,
                        children: (0, a.jsxs)("li", {
                            className: h.container,
                            ...t,
                            "aria-posinset": 1 + n + l,
                            "aria-setsize": s,
                            "aria-labelledby": p,
                            children: [(0, a.jsx)(u.Clickable, {
                                tabIndex: -1,
                                onClick: this.handleMessageClick,
                                innerRef: this.containerRef,
                                className: h.searchResult,
                                focusProps: {
                                    enabled: !1
                                },
                                children: (0, a.jsx)("div", {
                                    ref: this.hitRef,
                                    className: h.message,
                                    children: (0, a.jsx)(d.default, {
                                        id: p,
                                        message: r,
                                        channel: o,
                                        onContextMenu: e => this.handleContextMenu(e, r),
                                        animateAvatar: !1,
                                        subscribeToComponentDispatch: !1,
                                        trackAnnouncementViews: !0
                                    })
                                }, r.id)
                            }), (0, a.jsx)("div", {
                                className: h.buttonsContainer,
                                "aria-hidden": !0,
                                children: (0, a.jsx)(u.Clickable, {
                                    className: h.button,
                                    onClick: this.jumpTo,
                                    children: f.default.Messages.JUMP
                                })
                            })]
                        })
                    })
                }
                constructor(...e) {
                    super(...e), this.containerRef = l.createRef(), this.hitRef = l.createRef(), this.handleContextMenu = (e, t) => {
                        let l = c.default.getChannel(t.channel_id);
                        null != l && (e.stopPropagation(), (0, o.openContextMenuLazy)(e, async () => {
                            let {
                                default: e
                            } = await n.el("13406").then(n.bind(n, "13406"));
                            return n => (0, a.jsx)(e, {
                                ...n,
                                message: t,
                                channel: l
                            })
                        }))
                    }, this.jumpTo = e => {
                        null != e && (e.preventDefault(), e.stopPropagation());
                        let {
                            onJump: t,
                            result: n
                        } = this.props, a = n.find(e => e.isSearchHit);
                        null != a && t(a)
                    }, this.handleMessageClick = e => {
                        if (function(e, t) {
                                var n;
                                let a = null === (n = window) || void 0 === n ? void 0 : n.getSelection();
                                if (null != a && !a.isCollapsed) return !0;
                                if (null == e || null == t) return !1;
                                for (;
                                    (0, r.isElement)(e) && e !== t;) {
                                    ;
                                    let {
                                        tagName: t
                                    } = e;
                                    if ("A" === t || "IMG" === t || "BUTTON" === t) return !0;
                                    e = e.parentNode
                                }
                                return !1
                            }(e.target, this.containerRef.current)) {
                            e.stopPropagation();
                            return
                        }
                        this.jumpTo(e)
                    }
                }
            }
        },
        535260: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return j
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("880317"),
                i = n("77078"),
                r = n("404118"),
                u = n("819689"),
                o = n("378438"),
                d = n("419135"),
                c = n("206230"),
                f = n("679653"),
                h = n("619335"),
                p = n("70845"),
                m = n("95045"),
                E = n("393414"),
                _ = n("144491"),
                S = n("845579"),
                C = n("42203"),
                g = n("957255"),
                I = n("27618"),
                T = n("744983"),
                N = n("18494"),
                x = n("697218"),
                v = n("505684"),
                A = n("593195"),
                M = n("420861"),
                R = n("18061"),
                L = n("49111"),
                O = n("782340"),
                y = n("211631");

            function j(e) {
                var t;
                let {
                    search: n,
                    searchId: f,
                    renderEmbeds: h,
                    scrollTo: p,
                    searchResults: m,
                    blockCount: _
                } = e, {
                    offset: S,
                    totalResults: g,
                    isSearching: N,
                    showBlockedResults: x
                } = n, v = l.useCallback(e => {
                    !N && o.changePage(f, e - 1)
                }, [f, N]), A = l.useCallback(e => {
                    if (e.blocked) r.default.show({
                        title: O.default.Messages.UNBLOCK_TO_JUMP_TITLE,
                        body: O.default.Messages.UNBLOCK_TO_JUMP_BODY.format({
                            name: e.author.username
                        }),
                        confirmText: O.default.Messages.OKAY
                    });
                    else {
                        let t = C.default.getChannel(e.channel_id),
                            n = null != t ? t.getGuildId() : null;
                        u.default.trackJump(e.channel_id, e.id, "Search Results", {
                            search_id: T.default.getAnalyticsId(f)
                        }), (0, E.transitionTo)(L.Routes.CHANNEL(n, e.channel_id, e.id))
                    }
                }, [f]), R = l.useMemo(() => {
                    let e;
                    if (null == m) return [];
                    let t = 0;
                    return m.reduce((n, a) => {
                        let l = a.find(e => e.isSearchHit);
                        if (!x && null != l && I.default.isBlocked(l.author.id)) return n;
                        let s = C.default.getChannel(a[0].channel_id);
                        return null == s ? n : ((null == e || e !== s.id) && n.push({
                            channel: s,
                            results: [],
                            startIndex: t
                        }), t += 1, n[n.length - 1].results.push(a), e = null == s ? void 0 : s.id, n)
                    }, [])
                }, [m, x]), j = l.useRef([]), D = R.reduce((e, t) => e + 1 + t.results.length, 0), b = l.useCallback((e, t) => {
                    if (!c.default.keyboardModeEnabled) return;
                    let n = j.current,
                        a = null != t ? n[t] : void 0;
                    if (null == a || null == a.hitRef.current) return;
                    let l = a.hitRef.current.getClientRects()[0],
                        s = l.top - .5 * l.height;
                    p(s, !1, () => {
                        var t;
                        null === (t = document.getElementById(e)) || void 0 === t || t.focus()
                    })
                }, [p]), U = l.useCallback(e => {
                    let t = j.current[e];
                    null == t || t.jumpTo()
                }, []), F = (0, s.useListNavigator)({
                    navId: "search-results",
                    itemCount: D,
                    focusedIndex: 0,
                    setFocus: b,
                    onSelect: U
                }), w = T.default.getQuery(f), G = (0, d.createASTHighlighter)(null !== (t = null == w ? void 0 : w.content) && void 0 !== t ? t : ""), B = R.map(e => {
                    let {
                        channel: t,
                        results: n,
                        startIndex: l
                    } = e;
                    return (0, a.jsx)(P, {
                        channel: t,
                        results: n,
                        highlighter: G,
                        startIndex: l,
                        resultRefs: j,
                        totalResults: g,
                        scrollTo: p,
                        searchId: f,
                        renderEmbeds: h,
                        offset: S,
                        jumpToMessage: A,
                        listNavigator: F
                    }, "".concat(t.id, "-").concat(l))
                });
                B.push();
                let k = l.useRef(null);
                l.useLayoutEffect(() => {
                    var e;
                    null === (e = k.current) || void 0 === e || e.focus()
                }, [m]);
                let H = (0, i.useFocusJumpSection)();
                return (0, a.jsxs)(a.Fragment, {
                    children: [(0, a.jsx)("div", {
                        ref: k,
                        ...F.getContainerProps(),
                        ...H,
                        "aria-busy": N,
                        children: B
                    }), _ > 0 ? (0, a.jsxs)(i.Clickable, {
                        tag: "div",
                        className: y.resultsBlocked,
                        onClick: () => o.setShowBlockedResults(f, !x),
                        children: [(0, a.jsx)("div", {
                            className: y.resultsBlockedImage
                        }), (0, a.jsx)("div", {
                            className: y.resultsBlockedText,
                            children: x ? O.default.Messages.SEARCH_HIDE_BLOCKED_MESSAGES.format({
                                count: _
                            }) : O.default.Messages.SEARCH_NUM_RESULTS_BLOCKED_NOT_SHOWN.format({
                                count: _
                            })
                        })]
                    }) : null, !N && (0, a.jsx)(M.default, {
                        changePage: v,
                        offset: S,
                        totalResults: g,
                        pageLength: L.SEARCH_PAGE_SIZE
                    })]
                })
            }

            function P(e) {
                var t;
                let {
                    channel: n,
                    results: s,
                    highlighter: r,
                    startIndex: u,
                    resultRefs: o,
                    totalResults: d,
                    scrollTo: c,
                    searchId: E,
                    renderEmbeds: T,
                    offset: M,
                    jumpToMessage: O,
                    listNavigator: j
                } = e, P = S.RenderSpoilers.useSetting(), D = l.useCallback(e => {
                    if (e === N.default.getChannelId()) return;
                    let t = C.default.getChannel(e);
                    if (null != t) g.default.can(L.Permissions.VIEW_CHANNEL, t) && (0, _.transitionToChannel)(t.id)
                }, []), b = null != n ? (0, f.computeChannelName)(n, x.default, I.default, !1) : "???", U = (null == n ? void 0 : n.parent_id) != null ? C.default.getChannel(n.parent_id) : null, F = null != U ? U.name : null, w = null !== (t = (0, h.default)(n)) && void 0 !== t ? t : A.default, G = null != U ? (0, h.default)(U) : null, B = g.default.can(L.Permissions.MANAGE_MESSAGES, n), {
                    content: k
                } = (0, m.default)({
                    content: b,
                    embeds: []
                }, {
                    postProcessor: r
                }), H = l.useRef(null), [V, W] = l.useState(!1);
                return l.useEffect(() => {
                    let e = H.current;
                    null != e && null != e.offsetWidth && null != e.scrollWidth && W(e.offsetWidth < e.scrollWidth)
                }, []), (0, a.jsx)(v.ObscuredDisplayContext.Provider, {
                    value: (0, p.default)(P, B),
                    children: (0, a.jsxs)("ul", {
                        role: "group",
                        className: y.searchResultGroup,
                        "aria-label": null == F ? b : "".concat(b, ", ").concat(F),
                        children: [(0, a.jsx)(i.Clickable, {
                            onClick: () => D(n.id),
                            children: (0, a.jsxs)("div", {
                                className: y.channelNameContainer,
                                children: [(0, a.jsx)(w, {
                                    className: y.channelNameIcon,
                                    width: 16,
                                    height: 16
                                }), (0, a.jsx)(i.Tooltip, {
                                    text: b,
                                    shouldShow: V,
                                    children: e => (0, a.jsx)("span", {
                                        ...e,
                                        ref: H,
                                        className: y.channelNameText,
                                        children: k
                                    })
                                }), null != U && null != F && null != G ? (0, a.jsxs)(i.Clickable, {
                                    className: y.parentChannelNameClickable,
                                    onClick: e => {
                                        e.stopPropagation(), D(U.id)
                                    },
                                    children: [(0, a.jsx)(G, {
                                        className: y.parentChannelNameIcon,
                                        width: 12,
                                        height: 12
                                    }), (0, a.jsx)(i.Text, {
                                        className: y.parentChannelNameText,
                                        variant: "text-xs/medium",
                                        color: "header-secondary",
                                        children: F
                                    })]
                                }) : null]
                            })
                        }), s.map((e, t) => {
                            let n = u + t;
                            return (0, a.jsx)(R.default, {
                                ref: e => o.current[n] = e,
                                totalResults: d,
                                scrollTo: c,
                                searchId: E,
                                renderEmbeds: T,
                                searchOffset: M,
                                pageResultsLength: s.length,
                                result: e,
                                index: n,
                                onJump: O,
                                listItemProps: j.getItemProps({
                                    index: n
                                })
                            }, "search-result-".concat(n))
                        })]
                    })
                })
            }
        },
        56778: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return L
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("917351"),
                u = n.n(r),
                o = n("446674"),
                d = n("77078"),
                c = n("970728"),
                f = n("378438"),
                h = n("716241"),
                p = n("161778"),
                m = n("845579"),
                E = n("744983"),
                _ = n("18494"),
                S = n("230559"),
                C = n("659500"),
                g = n("767094"),
                I = n("565996"),
                T = n("535260"),
                N = n("49111"),
                x = n("782340"),
                v = n("557398");
            class A extends l.Component {
                componentDidMount() {
                    this.autoAnalytics()
                }
                componentDidUpdate(e) {
                    (this.props.searchAnalyticsId !== e.searchAnalyticsId || this.props.searchOffset !== e.searchOffset) && this.autoAnalytics(e.searchAnalyticsId)
                }
                render() {
                    return null
                }
                constructor(...e) {
                    var t;
                    super(...e), t = this, this.autoAnalytics = function() {
                        let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                        if (null == t.props.searchAnalyticsId) return;
                        let n = 0,
                            a = 0,
                            l = 0,
                            s = 0;
                        null != t.props.searchResults && u(t.props.searchResults).flatten().filter(e => e.isSearchHit).forEach(e => {
                            null != e.content && "" !== e.content && (n++, /https?:\/\/[^\s]+/.test(e.content) && s++), null != e.embeds && e.embeds.length > 0 && l++, null != e.attachments && e.attachments.length > 0 && a++
                        }), h.default.trackWithMetadata(N.AnalyticEvents.SEARCH_RESULT_VIEWED, {
                            search_type: t.props.searchType,
                            search_id: t.props.searchAnalyticsId,
                            prev_search_id: e !== t.props.searchAnalyticsId ? e : null,
                            is_error: t.props.searchHasError,
                            limit: t.props.searchLimit,
                            offset: t.props.searchOffset,
                            page: Math.floor(t.props.searchOffset / t.props.searchLimit) + 1,
                            total_results: t.props.searchTotalResults,
                            page_results: null != t.props.searchResults ? t.props.searchResults.length : null,
                            is_indexing: t.props.searchIsIndexing,
                            page_num_messages: n,
                            page_num_links: s,
                            page_num_embeds: l,
                            page_num_attach: a
                        })
                    }
                }
            }
            let M = e => {
                let {
                    children: t
                } = e;
                return (0, a.jsx)("div", {
                    className: v.emptyResultsWrap,
                    children: (0, a.jsx)("div", {
                        className: v.emptyResultsContent,
                        children: t
                    })
                })
            };
            class R extends l.PureComponent {
                componentDidMount() {
                    C.ComponentDispatch.subscribe(N.ComponentActions.SEARCH_RESULTS_CLOSE, this.handleSearchResultsClose)
                }
                componentWillUnmount() {
                    C.ComponentDispatch.unsubscribe(N.ComponentActions.SEARCH_RESULTS_CLOSE, this.handleSearchResultsClose)
                }
                componentDidUpdate(e) {
                    let {
                        search: t
                    } = e;
                    if (this.props.search.showBlockedResults !== t.showBlockedResults) {
                        let e = this.scrollerRef.current;
                        if (null == e) return;
                        e.scrollToBottom()
                    }
                    let n = E.default.getQuery(this.props.searchId);
                    JSON.stringify(n) !== JSON.stringify(this.state.searchQuery) && this.setState({
                        searchQuery: n,
                        searchMode: N.SearchModes.NEWEST
                    })
                }
                render() {
                    let {
                        searchAnalyticsId: e,
                        searchType: t,
                        searchResults: n
                    } = this.props, {
                        offset: l,
                        hasError: s,
                        totalResults: i,
                        isHistoricalIndexing: r
                    } = this.props.search;
                    return (0, a.jsxs)("section", {
                        className: v.searchResultsWrap,
                        "aria-label": x.default.Messages.SEARCH_RESULTS_SECTION_LABEL,
                        children: [this.renderHeader(), (0, a.jsx)(d.AdvancedScroller, {
                            ref: this.scrollerRef,
                            className: v.scroller,
                            children: this.renderContent()
                        }), (0, a.jsx)(A, {
                            searchType: t,
                            searchAnalyticsId: e,
                            searchResults: n,
                            searchOffset: l,
                            searchLimit: N.SEARCH_PAGE_SIZE,
                            searchHasError: s,
                            searchTotalResults: i,
                            searchIsIndexing: r
                        })]
                    })
                }
                constructor(...e) {
                    super(...e), this.state = {
                        searchMode: N.SearchModes.NEWEST,
                        searchQuery: null
                    }, this.scrollerRef = l.createRef(), this.scrollTo = (e, t, n) => {
                        let a = this.scrollerRef.current;
                        if (null == a) return;
                        let l = a.getScrollerState().scrollTop - e;
                        a.scrollTo({
                            to: l,
                            animate: t,
                            callback: n
                        })
                    }, this.selectChannel = e => {
                        e !== _.default.getChannelId() && c.default.transitionToInviteChannelSync(e)
                    }, this.searchPrevious = () => {
                        let {
                            searchId: e,
                            search: {
                                isSearching: t
                            }
                        } = this.props;
                        !t && f.searchPreviousPage(e)
                    }, this.searchNext = () => {
                        let {
                            searchId: e,
                            search: {
                                isSearching: t
                            }
                        } = this.props;
                        !t && f.searchNextPage(e)
                    }, this.handleSearchResultsClose = () => {
                        let {
                            searchId: e
                        } = this.props;
                        f.clearSearchState(e)
                    }, this.searchByMode = e => {
                        let {
                            searchId: t,
                            search: {
                                isSearching: n
                            }
                        } = this.props, {
                            searchMode: a
                        } = this.state;
                        e !== a && !n && (h.default.trackWithMetadata(N.AnalyticEvents.SEARCH_RESULT_SORT_CHANGED, {
                            search_id: E.default.getAnalyticsId(t),
                            new_sort_type: e
                        }), f.searchByMode(t, e), this.setState({
                            searchMode: e
                        }))
                    }, this.toggleShowBlockedMessages = () => {
                        let {
                            searchId: e,
                            search: {
                                showBlockedResults: t
                            }
                        } = this.props;
                        f.setShowBlockedResults(e, !t)
                    }, this.renderHeader = () => {
                        let {
                            searchMode: e
                        } = this.state, {
                            totalResults: t,
                            isSearching: n,
                            isHistoricalIndexing: l,
                            documentsIndexed: s
                        } = this.props.search;
                        return (0, a.jsx)(I.default, {
                            searchMode: e,
                            searchByMode: this.searchByMode,
                            totalResults: t,
                            isSearching: n,
                            isIndexing: l,
                            documentsIndexed: s
                        })
                    }, this.renderIndexing = () => {
                        let e = E.default.getSearchType(this.props.searchId),
                            t = e === N.SearchTypes.GUILD ? x.default.Messages.SEARCH_GUILD_STILL_INDEXING : x.default.Messages.SEARCH_DM_STILL_INDEXING;
                        return (0, a.jsxs)(M, {
                            children: [(0, a.jsx)(S.default, {}), (0, a.jsx)("div", {
                                className: (v.emptyResultsText, v.stillIndexing),
                                children: t
                            })]
                        })
                    }, this.renderNoResults = () => {
                        let {
                            showNoResultsAlt: e
                        } = this.props.search, t = e ? x.default.Messages.SEARCH_NO_RESULTS_ALT : x.default.Messages.SEARCH_NO_RESULTS;
                        return (0, a.jsxs)(M, {
                            children: [(0, a.jsx)("div", {
                                className: i(v.noResultsImage, {
                                    [v.alt]: e
                                })
                            }), (0, a.jsx)("div", {
                                className: i(v.emptyResultsText, v.noResults, {
                                    [v.alt]: e
                                }),
                                children: t
                            })]
                        })
                    }, this.renderError = () => (0, a.jsxs)(M, {
                        children: [(0, a.jsx)("div", {
                            className: v.errorImage
                        }), (0, a.jsx)("div", {
                            className: i(v.emptyResultsText, v.errorMessage),
                            children: x.default.Messages.SEARCH_ERROR
                        })]
                    }), this.renderContent = () => {
                        let {
                            searchResults: e,
                            blockCount: t
                        } = this.props, {
                            totalResults: n,
                            isSearching: l,
                            isIndexing: s,
                            hasError: i
                        } = this.props.search;
                        return i ? this.renderError() : s ? this.renderIndexing() : l ? null : n > 0 ? (0, a.jsx)(T.default, {
                            search: this.props.search,
                            searchResults: e,
                            blockCount: t,
                            searchId: this.props.searchId,
                            renderEmbeds: this.props.renderEmbeds,
                            scrollTo: this.scrollTo
                        }) : this.renderNoResults()
                    }
                }
            }

            function L(e) {
                let {
                    searchId: t
                } = e;
                return (0, a.jsx)(R, {
                    searchId: t,
                    ...(0, o.useStateFromStoresObject)([E.default], () => ({
                        search: E.default.getResultsState(t),
                        searchAnalyticsId: E.default.getAnalyticsId(t),
                        searchType: E.default.getSearchType()
                    }), [t]),
                    ...(0, g.default)(t),
                    renderEmbeds: m.RenderEmbeds.useSetting(),
                    developerMode: m.DeveloperMode.useSetting(),
                    ...(0, o.useStateFromStoresObject)([p.default], () => {
                        let {
                            theme: e
                        } = p.default;
                        return {
                            theme: e
                        }
                    })
                })
            }
        },
        429829: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                CustomCallSoundUpsell: function() {
                    return T
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("446674"),
                s = n("271841"),
                i = n("605451"),
                r = n("577776"),
                u = n("77078"),
                o = n("79112"),
                d = n("635956"),
                c = n("632892"),
                f = n("697218"),
                h = n("945330"),
                p = n("216422"),
                m = n("719923"),
                E = n("49111"),
                _ = n("994428"),
                S = n("646718"),
                C = n("397336"),
                g = n("782340"),
                I = n("948197");

            function T(e) {
                var t;
                let {
                    onClose: n,
                    markAsDismissed: T
                } = e, N = (0, l.useStateFromStores)([f.default], () => f.default.getCurrentUser());
                let x = (t = null == N ? void 0 : N.premiumType) === S.PremiumTypes.TIER_2 ? g.default.Messages.CALL_SOUNDS_UPSELL_DESCRIPTION_TIER_2 : null == t ? g.default.Messages.CALL_SOUNDS_UPSELL_DESCRIPTION_NON_SUB : g.default.Messages.CALL_SOUNDS_UPSELL_DESCRIPTION_NON_TIER_2,
                    v = m.default.canUseCustomCallSounds(N);
                return (0, a.jsxs)(c.default, {
                    isShown: !0,
                    type: c.FeatureBorderTypes.PREMIUM,
                    className: I.upsellOuter,
                    backgroundClassName: I.upsellInner,
                    children: [null != T ? (0, a.jsx)(u.Clickable, {
                        className: I.close,
                        onClick: () => null == T ? void 0 : T(_.ContentDismissActionType.DISMISS),
                        "aria-label": g.default.Messages.CLOSE,
                        children: (0, a.jsx)(h.default, {
                            className: I.closeIcon,
                            width: 16,
                            height: 16
                        })
                    }) : null, (0, a.jsxs)("div", {
                        className: I.upsellTitle,
                        children: [(0, a.jsx)(p.default, {
                            className: I.nitroWheel,
                            width: 18,
                            height: 18
                        }), (0, a.jsx)(i.Heading, {
                            variant: "heading-sm/bold",
                            children: g.default.Messages.CALL_SOUNDS_UPSELL_TITLE_NON_SUB
                        })]
                    }), (0, a.jsx)(r.Text, {
                        variant: "text-sm/normal",
                        children: x
                    }), v ? (0, a.jsx)(s.Button, {
                        onClick: function() {
                            o.default.open(E.UserSettingsSections.VOICE, C.SOUNDBOARD_SUBSECTION), null == n || n(), null == T || T(_.ContentDismissActionType.PRIMARY)
                        },
                        children: g.default.Messages.CHECK_IT_OUT
                    }) : (0, a.jsx)(d.default, {
                        buttonText: g.default.Messages.PREMIUM_UPSELL_GET_NITRO,
                        subscriptionTier: S.PremiumSubscriptionSKUs.TIER_2,
                        premiumModalAnalyticsLocation: {
                            section: E.AnalyticsSections.SOUNDBOARD_SOUND_PICKER,
                            object: E.AnalyticsObjects.BUTTON_CTA
                        },
                        color: s.Button.Colors.GREEN,
                        onSubscribeModalClose: () => null == T ? void 0 : T(_.ContentDismissActionType.PRIMARY)
                    })]
                })
            }
        },
        844208: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                participantMemberInfo: function() {
                    return s
                }
            });
            var a = n("158998"),
                l = n("782340");

            function s(e) {
                var t, n, s;
                if ((0, a.isNewUser)(e.user)) return l.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NEW_TO_DISCORD;
                let i = null === (t = e.member) || void 0 === t ? void 0 : t.joinedAt;
                if (null == i) return l.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NON_MEMBER;
                if (null != e.member && e.member.roles.length > 0) return null !== (s = null === (n = e.role) || void 0 === n ? void 0 : n.name) && void 0 !== s ? s : l.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_MEMBER_ROLES;
                let r = new Date().getTime() - Date.parse(i);
                return r < 864e5 ? l.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NEW_MEMBER : l.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_MEMBER
            }
        },
        111542: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                updateStageMusicMuted: function() {
                    return l
                },
                updateStageMusicShouldPlay: function() {
                    return s
                }
            });
            var a = n("913144");

            function l(e) {
                a.default.dispatch({
                    type: "STAGE_MUSIC_MUTE",
                    muted: e
                })
            }

            function s(e) {
                a.default.dispatch({
                    type: "STAGE_MUSIC_PLAY",
                    play: e
                })
            }
        },
        734019: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var a = n("271938"),
                l = n("488464"),
                s = n("998716"),
                i = n("325861"),
                r = n("834052");

            function u(e) {
                if (!e.isGuildStageVoice()) return !1;
                let t = r.default.isLive(e.id);
                if (!t) return !1;
                let n = a.default.getId(),
                    u = i.default.isModerator(n, e.id);
                if (!u) return !1;
                let o = i.default.isSpeaker(n, e.id);
                if (!o) return !1;
                let d = l.default.getMutableParticipants(e.id),
                    c = d.find(t => t.user.id !== n && i.default.isModerator(t.user.id, e.id));
                if (null == c) return !0;
                let f = l.default.getMutableParticipants(e.id, s.StageChannelParticipantNamedIndex.SPEAKER),
                    h = f.find(t => t.user.id !== n && i.default.isModerator(t.user.id, e.id));
                return null == h
            }
        },
        519581: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var a = n("446674"),
                l = n("271938"),
                s = n("808422");

            function i(e) {
                let t = (0, a.useStateFromStores)([l.default], () => l.default.getId()),
                    n = (0, s.default)(t, e);
                return n === s.RequestToSpeakStates.ON_STAGE
            }
        },
        413882: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useRequestToSpeakPermission: function() {
                    return o
                }
            });
            var a = n("884691"),
                l = n("446674"),
                s = n("42203"),
                i = n("991170"),
                r = n("244480"),
                u = n("49111");

            function o(e) {
                let t = (0, l.useStateFromStores)([s.default], () => s.default.getChannel(e), [e]),
                    n = i.default.canEveryoneRole(u.Permissions.REQUEST_TO_SPEAK, t),
                    [o, d] = a.useState(n);
                return a.useEffect(() => {
                    n !== o && d(n)
                }, [n]), [o, e => {
                    null != t && (d(e), (0, r.setEveryoneRolePermissionAllowed)(t, u.Permissions.REQUEST_TO_SPEAK, e))
                }]
            }
        },
        223378: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useThrottleDurationForChannel: function() {
                    return p
                },
                useStageChannelParticipantsListThrottled: function() {
                    return m
                }
            });
            var a, l, s = n("884691"),
                i = n("917351"),
                r = n("446674"),
                u = n("560103"),
                o = n("191145"),
                d = n("334572"),
                c = n("488464"),
                f = n("567469"),
                h = n("998716");

            function p(e) {
                let t = (0, f.useStageParticipantsCount)(e, h.StageChannelParticipantNamedIndex.AUDIENCE),
                    [n, a] = s.useState(!1);
                return s.useEffect(() => {
                    t > 100 ? a(!0) : t < 75 && a(!1)
                }, [t]), n ? 5e3 : 0
            }

            function m(e, t, n) {
                let a = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
                    f = function(e, t, n) {
                        let a = (0, r.useStateFromStores)([c.default], () => [e, c.default.getParticipantsVersion(e)], [e], d.isVersionEqual),
                            l = (0, r.useStateFromStores)([o.default], () => o.default.getSelectedParticipantId(e), [e]);
                        return s.useMemo(() => {
                            let s = [],
                                r = [],
                                u = -1,
                                o = [];
                            if (n) {
                                let t = c.default.getMutableParticipants(e, h.StageChannelParticipantNamedIndex.SPEAKER);
                                for (let e of t)
                                    if (e.type === h.StageChannelParticipantTypes.STREAM) e.id !== l && o.push(e), u++;
                                    else break
                            }
                            let d = (e, t, n) => {
                                    let a = n ? e.filter((e, t) => e.id !== l && t > u) : e,
                                        o = (0, i.chunk)(a, t);
                                    r.push(o), s.push(o.length)
                                },
                                f = null != l ? c.default.getParticipant(e, l) : null;
                            return (null == f ? void 0 : f.speaker) ? d([f], 1, !1) : d([], 1, !1), [h.StageChannelParticipantNamedIndex.SPEAKER, h.StageChannelParticipantNamedIndex.AUDIENCE].forEach(e => {
                                d(c.default.getMutableParticipants(a[0], e), t[e], e === h.StageChannelParticipantNamedIndex.SPEAKER)
                            }), d(o, 1, !1), [s, r]
                        }, [a, t, l, n, e])
                    }(e, t, a),
                    [p, m] = f,
                    [E, _] = (0, u.useThrottledState)(f, n, [t[h.StageChannelParticipantNamedIndex.AUDIENCE]]),
                    S = [p[a ? l.MEDIA : l.SELECTED], p[l.SPEAKER], E[l.AUDIENCE]],
                    C = [m[a ? l.MEDIA : l.SELECTED], m[l.SPEAKER], _[l.AUDIENCE]];
                return [S, C]
            }(a = l || (l = {}))[a.SELECTED = 0] = "SELECTED", a[a.SPEAKER = 1] = "SPEAKER", a[a.AUDIENCE = 2] = "AUDIENCE", a[a.MEDIA = 3] = "MEDIA"
        },
        759718: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var a = n("446674"),
                l = n("334572"),
                s = n("488464"),
                i = n("998716");

            function r(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3,
                    [n] = (0, a.useStateFromStores)([s.default], () => {
                        let n = s.default.getMutableParticipants(e).filter(e => e.type === i.StageChannelParticipantTypes.VOICE),
                            a = [];
                        for (let e of n) {
                            if (a.length >= t) break;
                            null == a.find(t => t.id === e.user.id) && a.push(e.user)
                        }
                        return [{
                            participants: n,
                            usersInSummary: a
                        }, s.default.getParticipantsVersion(e)]
                    }, [e, t], l.isVersionEqual);
                return n
            }
        },
        709752: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var a = n("884691"),
                l = n("446674"),
                s = n("271938"),
                i = n("244480"),
                r = n("808422");

            function u(e) {
                let t = (0, l.useStateFromStores)([s.default], () => s.default.getId()),
                    n = (0, r.default)(t, e.id),
                    u = n === r.RequestToSpeakStates.REQUESTED_TO_SPEAK || n === r.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,
                    [o, d] = a.useState(u);
                return a.useEffect(() => {
                    d(u)
                }, [u]), [o, function() {
                    n === r.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK ? (0, i.audienceAckRequestToSpeak)(e, !0) : (0, i.toggleRequestToSpeak)(e, !o), d(!o)
                }]
            }
        },
        973137: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("552700"),
                i = n("894233"),
                r = l.memo(function(e) {
                    let {
                        channel: t,
                        participants: n,
                        maxTiles: l
                    } = e;
                    if (0 === n.length) return null;
                    let r = [];
                    for (let e = 0; e < l; e++)
                        if (e < n.length) {
                            let l = n[e];
                            r.push((0, a.jsx)(s.default, {
                                channel: t,
                                participant: l
                            }, l.id))
                        } else r.push((0, a.jsx)(s.AudienceEmptyTile, {}, e));
                    return (0, a.jsx)("div", {
                        className: i.participants,
                        children: r
                    })
                })
        },
        552700: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                AudienceEmptyTile: function() {
                    return v
                },
                default: function() {
                    return A
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("627445"),
                u = n.n(r),
                o = n("446674"),
                d = n("669491"),
                c = n("77078"),
                f = n("272030"),
                h = n("244201"),
                p = n("506885"),
                m = n("981601"),
                E = n("26989"),
                _ = n("328275"),
                S = n("118503"),
                C = n("711486"),
                g = n("387111"),
                I = n("808422"),
                T = n("5668");
            let N = l.memo(function(e) {
                    let {
                        guildId: t,
                        channelId: n,
                        user: l,
                        isPremium: s,
                        isBlocked: i
                    } = e;
                    return (0, a.jsxs)("div", {
                        className: T.textContainer,
                        children: [i ? (0, a.jsx)(_.default, {
                            className: T.blockedIcon,
                            color: d.default.unsafe_rawColors.RED_400.css
                        }) : null, (0, a.jsx)(c.Text, {
                            className: T.text,
                            variant: "text-sm/normal",
                            color: "header-primary",
                            children: g.default.getName(t, n, l)
                        }), s ? (0, a.jsx)(S.default, {
                            className: T.boost,
                            color: d.default.unsafe_rawColors.GUILD_BOOSTING_PINK.css
                        }) : null]
                    })
                }),
                x = l.memo(function(e) {
                    var t;
                    let {
                        participant: n,
                        guildId: l,
                        channel: s,
                        isPremium: r
                    } = e, {
                        user: u,
                        blocked: o,
                        rtsState: d
                    } = n, c = d === I.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK, f = d === I.RequestToSpeakStates.REQUESTED_TO_SPEAK || c;
                    return (0, a.jsxs)(a.Fragment, {
                        children: [(0, a.jsxs)("div", {
                            className: T.avatarContainer,
                            children: [f && (0, a.jsx)(C.default, {
                                className: i(T.icon, {
                                    [T.invited]: c
                                })
                            }), (0, a.jsx)("img", {
                                src: null !== (t = u.getAvatarURL(s.guild_id, 56, !1)) && void 0 !== t ? t : void 0,
                                alt: u.username,
                                "aria-label": u.username,
                                className: i(T.avatar, {
                                    [T.faded]: o
                                })
                            })]
                        }), (0, a.jsx)(N, {
                            guildId: l,
                            channelId: s.id,
                            user: u,
                            isPremium: r,
                            isBlocked: o
                        })]
                    })
                }),
                v = () => (0, a.jsx)("div", {
                    className: T.tileBaseContainer
                });
            var A = l.memo(function(e) {
                let {
                    participant: t,
                    channel: s
                } = e, {
                    user: r,
                    blocked: d
                } = t, _ = s.getGuildId(), S = (0, h.useAppContext)(), C = (0, o.useStateFromStores)([E.default], () => {
                    var e;
                    return null != _ && (null === (e = E.default.getMember(_, r.id)) || void 0 === e ? void 0 : e.premiumSince) != null
                }, [_, r.id]);
                u(null != _, "Channel cannot be guildless");
                let g = l.useCallback(e => {
                        (0, f.openContextMenuLazy)(e, async () => {
                            let {
                                default: e
                            } = await n.el("834247").then(n.bind(n, "834247"));
                            return t => (0, a.jsx)(e, {
                                ...t,
                                user: r,
                                guildId: _,
                                channel: s,
                                showMediaItems: !0,
                                showStageChannelItems: !0,
                                showChatItems: !1
                            })
                        }, {
                            context: S
                        })
                    }, [r, _, s, S]),
                    I = l.useCallback(e => (0, a.jsx)(m.default, {
                        ...e,
                        guildId: _,
                        channelId: s.id,
                        userId: r.id
                    }), [s.id, _, r.id]);
                return (0, a.jsx)(c.Popout, {
                    preload: () => (0, p.default)(r.id, r.getAvatarURL(s.guild_id, 80), {
                        guildId: s.guild_id,
                        channelId: s.id
                    }),
                    renderPopout: I,
                    position: "right",
                    spacing: 8,
                    children: e => (0, a.jsx)(c.Clickable, {
                        className: i(T.tileContainer, {
                            [T.singleIcon]: C || d,
                            [T.doubleIcon]: C && d
                        }),
                        onContextMenu: g,
                        ...e,
                        children: (0, a.jsx)(x, {
                            participant: t,
                            guildId: _,
                            channel: s,
                            isPremium: C
                        })
                    })
                })
            })
        },
        584199: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("679243"),
                s = n("42887"),
                i = n("944832"),
                r = n("929018");

            function u(e) {
                let {
                    aspectRatio: t,
                    blocked: n,
                    channel: u,
                    className: o,
                    focused: d,
                    children: c,
                    inCall: f,
                    inPopout: h,
                    noBorder: p,
                    onClick: m,
                    onContextMenu: E,
                    onDoubleClick: _,
                    onVideoResize: S,
                    paused: C,
                    pulseSpeakingIndicator: g,
                    participant: I,
                    width: T,
                    ...N
                } = e, x = s.default.getVideoComponent();
                return (0, a.jsx)("div", {
                    style: {
                        width: T
                    },
                    className: r.spaceBetweenTiles,
                    children: (0, a.jsxs)(i.default, {
                        className: r.tileSizer,
                        aspectRatio: t,
                        children: [(0, a.jsx)(l.default, {
                            blocked: n,
                            channel: u,
                            className: o,
                            focused: d,
                            inCall: f,
                            inPopout: h,
                            noBorder: p,
                            onClick: m,
                            onContextMenu: E,
                            onDoubleClick: _,
                            onVideoResize: S,
                            participant: I,
                            paused: C,
                            pulseSpeakingIndicator: g,
                            videoComponent: x,
                            width: T,
                            ...N
                        }), c]
                    })
                })
            }
        },
        119184: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("414456"),
                s = n.n(l),
                i = n("782340"),
                r = n("53061"),
                u = n("284434"),
                o = n("315956");

            function d(e) {
                let {
                    className: t,
                    children: n
                } = e;
                return (0, a.jsxs)("div", {
                    className: s(r.container, t),
                    children: [(0, a.jsx)("img", {
                        alt: i.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,
                        src: o,
                        className: s(r.sparkleIcon, r.sparkleBottom)
                    }), n, (0, a.jsx)("img", {
                        alt: i.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,
                        src: u,
                        className: s(r.sparkleIcon, r.sparkleTop)
                    })]
                })
            }
        },
        116386: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("669491"),
                s = n("77078"),
                i = n("625687"),
                r = n("782340"),
                u = n("32352"),
                o = () => (0, a.jsx)(s.Tooltip, {
                    text: r.default.Messages.STAGE_MODERATOR_TOOLTIP,
                    children: e => (0, a.jsx)("div", {
                        ...e,
                        className: u.container,
                        children: (0, a.jsx)(i.default, {
                            color: l.default.unsafe_rawColors.WHITE_500.css
                        })
                    })
                })
        },
        876534: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("228427"),
                s = n("119184"),
                i = n("984742");

            function r(e) {
                let {
                    className: t
                } = e;
                return (0, a.jsx)(s.default, {
                    className: t,
                    children: (0, a.jsx)("div", {
                        className: i.background,
                        children: (0, a.jsx)(l.default, {
                            className: i.foreground,
                            width: 32,
                            height: 32
                        })
                    })
                })
            }
        },
        506466: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("748820"),
                u = n("77078"),
                o = n("981913"),
                d = n("782340"),
                c = n("281848");

            function f(e) {
                let {
                    width: t = 24,
                    height: n = 24,
                    isBadged: s = !1
                } = e, [i] = l.useState(() => (0, r.v4)());
                return (0, a.jsxs)("svg", {
                    width: t,
                    height: n,
                    viewBox: "0 0 24 24",
                    children: [(0, a.jsx)("defs", {
                        children: (0, a.jsxs)("mask", {
                            id: i,
                            children: [(0, a.jsx)("rect", {
                                fill: "white",
                                width: "100%",
                                height: "100%"
                            }), s && (0, a.jsx)("circle", {
                                cx: "20",
                                cy: "19",
                                r: "10",
                                fill: "black"
                            })]
                        })
                    }), (0, a.jsx)("path", {
                        fill: "currentColor",
                        fillRule: "evenodd",
                        clipRule: "evenodd",
                        d: "M20.53 7.76998C20.455 7.60998 20.31 7.48998 20.135 7.44498C20.075 7.42832 20.0106 7.41165 19.9462 7.39498L19.85 7.36998C19.305 7.22998 18.635 7.56498 18.35 8.11498L17.37 9.99998C17.085 10.55 16.725 10.51 16.57 9.90998L14.395 1.38498C14.24 0.779981 13.64 0.459981 13.05 0.664981C12.46 0.869981 12.095 1.52498 12.225 2.13498L13.495 7.95998C13.63 8.56998 13.575 9.11498 13.375 9.18498C13.175 9.25498 12.85 8.83498 12.65 8.24498L10.55 2.07498C10.35 1.48498 9.71004 1.17498 9.12004 1.37998C8.53004 1.58498 8.21504 2.22998 8.41004 2.81998L10.47 8.99998C10.665 9.58998 10.665 10.125 10.465 10.195C10.265 10.265 9.88504 9.86498 9.62504 9.29998L7.27504 4.29998C7.01004 3.73998 6.32004 3.44498 5.73004 3.64998C5.14504 3.85498 4.87504 4.47498 5.14004 5.03998L8.10004 11.045C8.36004 11.61 8.41004 12.125 8.21004 12.195C8.01004 12.265 7.53004 11.93 7.14004 11.445L5.10504 8.82498C4.71504 8.33998 4.04004 8.07498 3.59504 8.22998C3.15504 8.38498 3.04004 8.94498 3.34504 9.48998L5.84504 13.865C5.90004 14.02 7.35504 16.8 7.46004 16.915C8.50004 18.565 10.145 19.51 12.23 18.79L12.96 18.5372V15.84C12.96 14.2494 14.2494 12.96 15.84 12.96H18.3887C18.763 12.143 19.1735 11.2467 19.5492 10.4262L19.5592 10.4045L19.5647 10.3926L19.5648 10.3922L19.5702 10.3804L19.581 10.3569C19.9595 9.53048 20.3003 8.78624 20.53 8.28498C20.605 8.11498 20.605 7.92998 20.53 7.76998ZM11.81 20.51L12.96 20.0792V23.395H11.815L11.185 22.03C11.055 21.75 11.045 21.425 11.165 21.135C11.285 20.845 11.52 20.62 11.81 20.51ZM14.4 16.32C14.4 15.2596 15.2596 14.4 16.32 14.4H22.08C23.1404 14.4 24 15.2596 24 16.32V22.08C24 23.1404 23.1404 24 22.08 24H16.32C15.2596 24 14.4 23.1404 14.4 22.08V16.32ZM16.32 16.56H22.08V17.52H16.32V16.56ZM22.08 18.72H16.32V19.68H22.08V18.72ZM16.32 20.88H22.08V21.84H16.32V20.88Z",
                        mask: "url(#".concat(i, ")")
                    })]
                })
            }

            function h(e) {
                let {
                    className: t,
                    numRequestToSpeak: n
                } = e, l = n > 0;
                return (0, a.jsxs)("div", {
                    className: i(c.raisedHandIcon, t),
                    children: [(0, a.jsx)(f, {
                        isBadged: l
                    }), l ? (0, a.jsx)(u.Text, {
                        className: c.raisedHandCount,
                        variant: "text-xs/semibold",
                        children: n > 99 ? "99+" : n
                    }) : null]
                })
            }

            function p(e) {
                let {
                    toggleRequestToSpeakSidebar: t,
                    showRequestToSpeakSidebar: n,
                    className: s,
                    numRequestToSpeak: i,
                    onClick: r,
                    ...u
                } = e, c = l.useCallback(() => {
                    null == r || r(), t()
                }, [r, t]);
                return (0, a.jsx)(o.default, {
                    onClick: c,
                    label: n ? d.default.Messages.REQUEST_TO_SPEAK_AREA_CLOSE : d.default.Messages.REQUEST_TO_SPEAK_AREA_OPEN,
                    className: s,
                    iconComponent: () => (0, a.jsx)(h, {
                        numRequestToSpeak: i,
                        className: s
                    }),
                    ...u
                })
            }
        },
        145635: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return w
                }
            });
            var a, l, s = n("37983"),
                i = n("884691"),
                r = n("414456"),
                u = n.n(r),
                o = n("627445"),
                d = n.n(o),
                c = n("446674"),
                f = n("77078"),
                h = n("272030"),
                p = n("308289"),
                m = n("750560"),
                E = n("506885"),
                _ = n("981601"),
                S = n("26989"),
                C = n("957255"),
                g = n("824563"),
                I = n("945330"),
                T = n("277174"),
                N = n("711486"),
                x = n("664336"),
                v = n("244480"),
                A = n("567469"),
                M = n("844208"),
                R = n("808422"),
                L = n("413882"),
                O = n("876534"),
                y = n("843455"),
                j = n("782340"),
                P = n("455518");
            let D = i.memo(function(e) {
                    let {
                        toggleRequestToSpeakSidebar: t,
                        chatOpen: n
                    } = e, a = (0, s.jsx)(x.default.Icon, {
                        icon: I.default,
                        tooltip: j.default.Messages.CLOSE,
                        onClick: t
                    });
                    return (0, s.jsxs)(x.default, {
                        toolbar: a,
                        className: u(P.headerContainer, {
                            [P.chatOpen]: n
                        }),
                        children: [(0, s.jsx)(x.default.Icon, {
                            icon: N.default,
                            disabled: !0,
                            "aria-label": j.default.Messages.REQUEST_TO_SPEAK_AREA_TITLE
                        }), (0, s.jsx)(x.default.Title, {
                            children: j.default.Messages.REQUEST_TO_SPEAK_AREA_TITLE
                        })]
                    })
                }),
                b = i.memo(function(e) {
                    var t;
                    let {
                        channel: a,
                        participant: l,
                        tempDisableOnInit: r = !1
                    } = e, [o, C] = i.useState(r);
                    i.useEffect(() => {
                        if (!o) return;
                        let e = setTimeout(() => C(!1), 1e3);
                        return () => clearTimeout(e)
                    }, []);
                    let N = a.getGuildId();
                    d(null != N, "Channel cannot be guildless");
                    let {
                        isMobile: x,
                        status: A
                    } = (0, c.useStateFromStoresObject)([g.default], () => ({
                        isMobile: g.default.isMobileOnline(l.user.id),
                        status: g.default.getStatus(l.user.id, N)
                    })), L = (0, c.useStateFromStores)([S.default], () => S.default.getMember(N, l.user.id)), O = i.useMemo(() => ({
                        [N]: [l.user.id]
                    }), [N, l.user.id]);
                    (0, m.useSubscribeGuildMembers)(O);
                    let y = l.rtsState === R.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;

                    function D() {
                        (0, v.setUserSuppress)(a, l.user.id, !1)
                    }

                    function b() {
                        (0, v.setUserSuppress)(a, l.user.id, !0)
                    }
                    let U = e => {
                        (0, h.openContextMenuLazy)(e, async () => {
                            let {
                                default: e
                            } = await n.el("834247").then(n.bind(n, "834247"));
                            return t => (0, s.jsx)(e, {
                                ...t,
                                user: l.user,
                                guildId: N,
                                channel: a,
                                showMediaItems: !0
                            })
                        })
                    };
                    return (0, s.jsxs)("div", {
                        className: P.participantRowContainer,
                        children: [(0, s.jsx)(f.Popout, {
                            preload: () => (0, E.default)(l.user.id, l.user.getAvatarURL(a.guild_id, 80), {
                                guildId: a.guild_id,
                                channelId: a.id
                            }),
                            renderPopout: e => (0, s.jsx)(_.default, {
                                ...e,
                                userId: l.user.id,
                                guildId: N,
                                channelId: a.id
                            }),
                            position: "left",
                            spacing: 16,
                            children: e => (0, s.jsxs)(f.Clickable, {
                                className: P.participantMemberContainer,
                                onContextMenu: U,
                                ...e,
                                children: [(0, s.jsx)(p.default, {
                                    size: f.AvatarSizes.SIZE_40,
                                    className: P.participantAvatar,
                                    user: l.user,
                                    isMobile: x,
                                    status: A
                                }), (0, s.jsxs)("div", {
                                    className: P.participantTextContainer,
                                    children: [(0, s.jsx)(f.NameWithRole, {
                                        name: l.userNick,
                                        color: null !== (t = null == L ? void 0 : L.colorString) && void 0 !== t ? t : void 0,
                                        className: P.participantName
                                    }), (0, s.jsx)(f.Text, {
                                        variant: "text-xs/normal",
                                        color: "header-secondary",
                                        children: (0, M.participantMemberInfo)(l)
                                    })]
                                })]
                            })
                        }), (0, s.jsx)(f.Tooltip, {
                            text: y ? j.default.Messages.REQUEST_TO_SPEAK_INVITATION_SEND : j.default.Messages.REQUEST_TO_SPEAK_ACCEPT,
                            children: e => (0, s.jsx)(f.Button, {
                                ...e,
                                innerClassName: P.buttonContainer,
                                look: f.Button.Looks.BLANK,
                                size: f.Button.Sizes.NONE,
                                onClick: D,
                                disabled: y || o,
                                children: (0, s.jsx)(T.default, {
                                    width: 16,
                                    height: 16
                                })
                            })
                        }), (0, s.jsx)(f.Tooltip, {
                            text: j.default.Messages.REQUEST_TO_SPEAK_DECLINE,
                            children: e => (0, s.jsx)(f.Button, {
                                ...e,
                                innerClassName: u(P.buttonContainer, P.buttonMargin),
                                look: f.Button.Looks.BLANK,
                                size: f.Button.Sizes.NONE,
                                onClick: b,
                                children: (0, s.jsx)(I.default, {
                                    width: 16,
                                    height: 16
                                })
                            })
                        })]
                    })
                }),
                U = i.memo(function(e) {
                    let {
                        channel: t
                    } = e, [n, a] = (0, L.useRequestToSpeakPermission)(t.id);
                    return (0, s.jsx)(f.FormSwitch, {
                        className: P.toggle,
                        onChange: a,
                        value: n,
                        children: j.default.Messages.MODERATOR_ALLOW_EVERYONE_RAISE_HAND
                    })
                }),
                F = i.memo(function() {
                    return (0, s.jsxs)("div", {
                        className: P.emptyStateContainer,
                        children: [(0, s.jsx)(O.default, {}), (0, s.jsx)(f.Text, {
                            className: P.emptyStateTitle,
                            variant: "text-lg/semibold",
                            color: "header-primary",
                            children: j.default.Messages.REQUEST_TO_SPEAK_EMPTY_LIST_TITLE
                        }), (0, s.jsx)(f.Text, {
                            className: P.emptyStateBody,
                            variant: "text-sm/normal",
                            color: "header-secondary",
                            children: j.default.Messages.REQUEST_TO_SPEAK_EMPTY_LIST_BODY
                        })]
                    })
                });

            function w(e) {
                let {
                    channel: t,
                    toggleRequestToSpeakSidebar: n,
                    chatOpen: a
                } = e, i = (0, A.useSortedRequestToSpeakParticipants)(t.id), r = (0, c.useStateFromStores)([C.default], () => C.default.can(y.Permissions.MANAGE_CHANNELS, t) || C.default.can(y.Permissions.MANAGE_ROLES, t)), o = [r ? 1 : 0, Math.max(1, i.length)];
                return (0, s.jsxs)("div", {
                    className: u(P.container, {
                        [P.chatOpen]: a
                    }),
                    children: [(0, s.jsx)(D, {
                        toggleRequestToSpeakSidebar: n,
                        chatOpen: a
                    }), (0, s.jsx)(f.List, {
                        className: P.contentContainer,
                        sections: o,
                        sectionHeight: function(e) {
                            if (e === l.PARTICIPANTS) return 40;
                            return 0
                        },
                        rowHeight: function(e) {
                            switch (e) {
                                case l.TOGGLE_REQUEST_TO_SPEAK:
                                    return 66;
                                case l.PARTICIPANTS:
                                    if (0 === i.length) return 178;
                                    return 48
                            }
                            return 0
                        },
                        renderRow: function(e) {
                            let {
                                section: n,
                                row: a
                            } = e;
                            switch (n) {
                                case l.TOGGLE_REQUEST_TO_SPEAK:
                                    return (0, s.jsx)(U, {
                                        channel: t
                                    }, "rts-toggle");
                                case l.PARTICIPANTS: {
                                    if (0 === i.length) return (0, s.jsx)(F, {}, "participants-empty");
                                    let e = i[a];
                                    return (0, s.jsx)(b, {
                                        channel: t,
                                        participant: e,
                                        tempDisableOnInit: !0
                                    }, e.id)
                                }
                            }
                            return null
                        },
                        renderSection: function(e) {
                            let {
                                section: t
                            } = e;
                            if (t === l.PARTICIPANTS) return (0, s.jsx)(f.Text, {
                                className: P.listTitle,
                                variant: "text-xs/bold",
                                color: "header-secondary",
                                children: i.length > 0 ? j.default.Messages.REQUEST_TO_SPEAK_LIST_TITLE.format({
                                    numHands: i.length
                                }) : j.default.Messages.REQUEST_TO_SPEAK_AREA_TITLE
                            }, "participants-section");
                            return null
                        }
                    })]
                })
            }(a = l || (l = {}))[a.TOGGLE_REQUEST_TO_SPEAK = 0] = "TOGGLE_REQUEST_TO_SPEAK", a[a.PARTICIPANTS = 1] = "PARTICIPANTS"
        },
        58343: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return es
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("917351"),
                u = n("446674"),
                o = n("95410"),
                d = n("77078"),
                c = n("913144"),
                f = n("731898"),
                h = n("244201"),
                p = n("191145"),
                m = n("161306"),
                E = n("412090"),
                _ = n("452027"),
                S = n("383294"),
                C = n("292687"),
                g = n("393414"),
                I = n("486030"),
                T = n("115531"),
                N = n("620592"),
                x = n("336971"),
                v = n("555038"),
                A = n("634472"),
                M = n("271938"),
                R = n("712234"),
                L = n("305961"),
                O = n("957255"),
                y = n("18494"),
                j = n("773336"),
                P = n("439932"),
                D = n("50885"),
                b = n("716214"),
                U = n("567469"),
                F = n("998716"),
                w = n("834052"),
                G = n("534471"),
                B = n("145635"),
                k = n("277354"),
                H = n("100082"),
                V = n("598050"),
                W = n("977026"),
                Y = n("679703"),
                z = n("92447"),
                K = n("96151"),
                X = n("49111"),
                q = n("99795"),
                Z = n("782340"),
                Q = n("580105");
            let J = "HasBeenInStageChannel",
                $ = (e, t) => () => {
                    let n = e.getGuildId();
                    null != n && null != t && (0, g.transitionToGuild)(n, t), S.openChannelCallPopout(e)
                },
                ee = () => {
                    c.default.wait(() => S.close(X.PopoutWindowKeys.CHANNEL_CALL_POPOUT))
                },
                et = e => {
                    S.setAlwaysOnTop(X.PopoutWindowKeys.CHANNEL_CALL_POPOUT, e)
                };

            function en(e) {
                let {
                    channel: t,
                    appContext: n,
                    popoutOpen: s,
                    popoutWindow: i,
                    popoutWindowAlwaysOnTop: r,
                    selectedParticipant: o
                } = e, d = t.getGuildId(), c = (0, u.useStateFromStores)([y.default], () => y.default.getMostRecentSelectedTextChannelId(d), [d]), f = M.default.getId(), h = (0, u.useStateFromStores)([p.default], () => p.default.isFullscreenInContext(n)), E = !h && (!j.isPlatformEmbedded || j.isPlatformEmbedded && D.default.supportsFeature(X.NativeFeatures.POPOUT_WINDOWS)), _ = null != o && o.type !== q.ParticipantTypes.ACTIVITY && o.user.id !== f, S = l.useMemo(() => {
                    var e;
                    return null !== (e = null == i ? void 0 : i.window) && void 0 !== e ? e : window
                }, [i]), C = (0, z.default)({
                    channel: t,
                    appContext: n,
                    popoutOpen: s,
                    popoutWindow: i,
                    currentWindow: S
                }), g = n === X.AppContext.POPOUT && j.isPlatformEmbedded && D.default.supportsFeature(X.NativeFeatures.POPOUT_WINDOWS);
                return (0, a.jsxs)(a.Fragment, {
                    children: [_ ? (0, a.jsx)(A.default, {
                        context: (0, m.default)(o.type),
                        userId: o.user.id,
                        currentWindow: S,
                        sliderClassName: Q.volumeSlider
                    }) : null, g ? (0, a.jsx)(v.default, {
                        className: Q.rightTrayIcon,
                        popoutWindowAlwaysOnTop: r,
                        onToggleStayOnTop: et
                    }) : null, E ? (0, a.jsx)(x.default, {
                        className: Q.rightTrayIcon,
                        popoutOpen: s,
                        onOpenPopout: $(t, c),
                        onClosePopout: ee
                    }) : null, C]
                })
            }

            function ea(e) {
                let {
                    channel: t
                } = e, n = (0, h.useAppContext)(), l = (0, u.useStateFromStores)([O.default], () => O.default.can(X.Permissions.CREATE_INSTANT_INVITE, t)), s = (0, u.useStateFromStores)([L.default], () => L.default.getGuild(t.guild_id)), i = (0, u.useStateFromStores)([w.default], () => w.default.getStageInstanceByChannel(t.id)), r = l || (null == i ? void 0 : i.invite_code) != null;
                return null != s && r ? (0, a.jsx)(I.default, {
                    channel: t,
                    appContext: n,
                    className: Q.leftTrayIcon,
                    analyticsLocation: X.AnalyticsPages.GUILD_CHANNEL
                }) : null
            }

            function el(e) {
                let t, {
                        channel: n,
                        toggleRequestToSpeakSidebar: s,
                        showRequestToSpeakSidebar: o,
                        popoutWindow: d,
                        popoutWindowAlwaysOnTop: c,
                        popoutOpen: f,
                        chatOpen: m
                    } = e,
                    _ = (0, h.useAppContext)(),
                    S = (0, u.useStateFromStores)([y.default], () => y.default.getVoiceChannelId() === n.id, [n.id]),
                    C = (0, u.useStateFromStores)([O.default], () => O.default.can(X.Permissions.CONNECT, n)),
                    g = (0, U.useStageParticipants)(n.id, F.StageChannelParticipantNamedIndex.SPEAKER),
                    I = (0, u.useStateFromStores)([p.default], () => p.default.getSelectedParticipant(n.id)),
                    x = f && _ !== X.AppContext.POPOUT,
                    [v, A] = l.useState(0),
                    {
                        isOnStartStageScreen: M
                    } = (0, G.default)();
                (0, G.useUpdateIsOnStartStageScreenEffect)(n);
                let L = (0, u.useStateFromStores)([R.default], () => R.default.getToastsEnabled(n.id)),
                    j = (0, K.default)(n),
                    P = j ? null != I ? "84px" : "124px" : null != I ? "0px" : "48px";
                return t = M ? (0, a.jsx)(Y.default, {
                    channel: n,
                    onContinueClick: () => {
                        (0, G.setIsOnStartStageScreen)(!1), !S && (0, b.connectToStage)(n)
                    }
                }) : S ? (0, a.jsx)(V.default, {
                    channel: n,
                    onScroll: e => {
                        let {
                            scrollTop: t
                        } = e.target;
                        (0, r.debounce)(() => A(t), 1e3, {
                            leading: !0
                        })()
                    }
                }) : (0, a.jsx)(k.default, {
                    participants: g,
                    channel: n,
                    hasConnectPermission: C
                }), (0, a.jsx)(N.default, {
                    style: {
                        height: "calc(100% - ".concat(P, ")"),
                        paddingTop: P
                    },
                    disableGradients: 0 === v && N.DisableGradient.TOP,
                    renderBottomLeft: () => (0, a.jsx)(ea, {
                        channel: n
                    }),
                    renderBottomCenter: () => S ? (0, a.jsx)(W.default, {
                        channel: n,
                        isOnStartStageScreen: M
                    }) : null,
                    renderBottomRight: () => S ? (0, a.jsx)(en, {
                        channel: n,
                        appContext: _,
                        popoutOpen: f,
                        popoutWindow: d,
                        popoutWindowAlwaysOnTop: c,
                        selectedParticipant: I
                    }) : null,
                    renderHeader: () => (0, a.jsx)(H.default, {
                        toggleRequestToSpeakSidebar: s,
                        showRequestToSpeakSidebar: o,
                        channel: n
                    }),
                    renderChatToasts: () => !L || m || x ? null : (0, a.jsx)(E.default, {
                        children: (0, a.jsx)(T.default, {
                            className: i(Q.chatToasts, {
                                [Q.rtsSidebarOpen]: o
                            }),
                            channelId: n.id
                        })
                    }),
                    onActive: () => {},
                    onPreventIdle: () => {},
                    onAllowIdle: () => {},
                    onForceIdle: () => {},
                    screenMessage: x ? {
                        mainText: Z.default.Messages.POPOUT_PLAYER_OPENED
                    } : null,
                    idle: !1,
                    children: !x && t
                })
            }

            function es(e) {
                let {
                    channel: t
                } = e, [s, r] = l.useState(!1), c = l.useCallback(() => {
                    r(!s)
                }, [s, r]), {
                    popoutWindow: m,
                    popoutWindowAlwaysOnTop: S
                } = (0, u.useStateFromStoresObject)([C.default], () => ({
                    popoutWindow: C.default.getWindow(X.PopoutWindowKeys.CHANNEL_CALL_POPOUT),
                    popoutWindowAlwaysOnTop: C.default.getIsAlwaysOnTop(X.PopoutWindowKeys.CHANNEL_CALL_POPOUT)
                })), g = null != m && !m.closed, I = (0, h.useAppContext)(), T = (0, u.useStateFromStores)([p.default], () => p.default.getChatOpen(t.id), [t.id]), N = (0, u.useStateFromStores)([L.default], () => L.default.getGuild(t.guild_id), [t.guild_id]);
                l.useEffect(() => {
                    null == o.default.get(J) && ((0, d.openModalLazy)(async () => {
                        let {
                            default: e
                        } = await n.el("108838").then(n.bind(n, "108838"));
                        return t => (0, a.jsx)(e, {
                            ...t
                        })
                    }), o.default.set(J, Date.now()))
                }, []);
                let {
                    width: x = 0,
                    ref: v
                } = (0, f.default)();
                return (0, a.jsxs)(E.ChannelCallChatLayerProvider, {
                    children: [(0, a.jsxs)("div", {
                        className: Q.container,
                        ref: v,
                        children: [(0, a.jsx)("div", {
                            className: i(Q.callContainer, (0, P.getThemeClass)(X.ThemeTypes.DARK), {
                                [Q.sidebarVisible]: s,
                                [Q.sidebarOrChatVisible]: s || T
                            }),
                            children: (0, a.jsx)(el, {
                                channel: t,
                                toggleRequestToSpeakSidebar: c,
                                showRequestToSpeakSidebar: s,
                                popoutWindow: m,
                                popoutWindowAlwaysOnTop: S,
                                popoutOpen: g,
                                chatOpen: T
                            })
                        }), s ? (0, a.jsx)(B.default, {
                            channel: t,
                            toggleRequestToSpeakSidebar: c,
                            chatOpen: T
                        }) : null, (0, a.jsx)("div", {
                            className: Q.channelChatWrapper,
                            children: T && (!g || g && I === X.AppContext.POPOUT) && (0, a.jsx)(_.default, {
                                channel: t,
                                guild: N,
                                maxWidth: x - 550
                            })
                        })]
                    }), (0, a.jsx)(E.ChannelCallChatLayerContainer, {})]
                })
            }
        },
        277354: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return S
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("446674"),
                i = n("77078"),
                r = n("987317"),
                u = n("191145"),
                o = n("233322"),
                d = n("157186"),
                c = n("679243"),
                f = n("449008"),
                h = n("387111"),
                p = n("998716"),
                m = n("782340"),
                E = n("704414");
            let _ = (e, t) => h.default.getName(e.getGuildId(), e.id, t.user);
            var S = function(e) {
                var t, n;
                let {
                    participants: h,
                    channel: S,
                    hasConnectPermission: C
                } = e, g = (0, d.useShowMemberVerificationGate)(S.guild_id), I = l.useCallback(() => {
                    g ? (0, o.openMemberVerificationModal)(S.guild_id, () => r.default.selectVoiceChannel(S.id)) : r.default.selectVoiceChannel(S.id)
                }, [S.id, S.guild_id, g]), T = h.filter(e => e.type === p.StageChannelParticipantTypes.VOICE), N = 4 === T.length ? 2 : 3, x = (0, s.useStateFromStoresArray)([u.default], () => T.map(e => u.default.getParticipant(S.id, e.id)).filter(f.isNotNullish), [S.id, T]);
                return (0, a.jsxs)("div", {
                    className: E.container,
                    children: [(0, a.jsx)("div", {
                        className: E.tiles,
                        style: {
                            maxWidth: 168 * N
                        },
                        children: x.slice(0, 5).map(e => (0, a.jsx)(c.default, {
                            participant: e,
                            channel: S,
                            className: E.tile,
                            paused: !0,
                            inCall: !0,
                            noVideoRender: !0,
                            inPopout: !1,
                            width: 48
                        }, e.id))
                    }), (0, a.jsx)(i.Heading, {
                        className: E.channelName,
                        variant: "heading-xxl/semibold",
                        children: S.name
                    }), (0, a.jsx)("div", {
                        className: E.participantsRow,
                        children: (0, a.jsx)(i.Text, {
                            color: "header-secondary",
                            variant: "text-sm/normal",
                            children: (t = S, 0 === (n = T).length ? m.default.Messages.CURRENTLY_IN_STAGE_EMPTY : 1 === n.length ? m.default.Messages.CURRENTLY_IN_STAGE_1.format({
                                a: _(t, n[0])
                            }) : 2 === n.length ? m.default.Messages.CURRENTLY_IN_STAGE_2.format({
                                a: _(t, n[0]),
                                b: _(t, n[1])
                            }) : n.length > 2 ? m.default.Messages.CURRENTLY_IN_STAGE_2_N.format({
                                a: _(t, n[0]),
                                b: _(t, n[1]),
                                n: n.length - 2
                            }) : void 0)
                        })
                    }), (0, a.jsx)(i.Button, {
                        disabled: !C,
                        className: E.joinButton,
                        color: C ? i.Button.Colors.GREEN : i.Button.Colors.PRIMARY,
                        onClick: I,
                        size: i.Button.Sizes.MEDIUM,
                        children: C ? m.default.Messages.STAGE_CHANNEL_JOIN : m.default.Messages.CHANNEL_LOCKED_SHORT
                    })]
                })
            }
        },
        100082: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return K
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("446674"),
                u = n("669491"),
                o = n("77078"),
                d = n("255397"),
                c = n("789394"),
                f = n("244201"),
                h = n("191145"),
                p = n("777274"),
                m = n("679653"),
                E = n("992207"),
                _ = n("95039"),
                S = n("539938"),
                C = n("557809"),
                g = n("311197"),
                I = n("550410"),
                T = n("124824"),
                N = n("640553"),
                x = n("104815"),
                v = n("305961"),
                A = n("957255"),
                M = n("181114"),
                R = n("849467"),
                L = n("155207"),
                O = n("228427"),
                y = n("664336"),
                j = n("599110"),
                P = n("439932"),
                D = n("567469"),
                b = n("998716"),
                U = n("619395"),
                F = n("923510"),
                w = n("834052"),
                G = n("506466"),
                B = n("199811"),
                k = n("96151"),
                H = n("49111"),
                V = n("646718"),
                W = n("782340"),
                Y = n("76066");

            function z(e) {
                let {
                    channel: t,
                    toggleRequestToSpeakSidebar: n,
                    showRequestToSpeakSidebar: s
                } = e, u = (0, f.useAppContext)(), c = (0, r.useStateFromStores)([h.default], () => h.default.getChatOpen(t.id)), m = (0, U.useCanModerateRequestToSpeak)(t.id), _ = (0, D.useStageParticipantsCount)(t.id, b.StageChannelParticipantNamedIndex.REQUESTED_TO_SPEAK_ONLY), {
                    preventIdle: S,
                    allowIdle: C
                } = (0, I.usePreventIdle)("popup");
                return (0, a.jsxs)(a.Fragment, {
                    children: [(0, a.jsx)(E.default, {
                        channelId: t.id
                    }), (0, a.jsx)(o.Popout, {
                        position: "bottom",
                        animation: o.Popout.Animation.NONE,
                        align: "right",
                        renderPopout: e => (0, a.jsx)(T.default, {
                            children: (0, a.jsx)(B.default, {
                                ...e,
                                channelId: t.id,
                                appContext: u
                            })
                        }),
                        autoInvert: !1,
                        children: (e, t) => {
                            let {
                                isShown: n
                            } = t;
                            return (0, l.createElement)(x.default, {
                                ...e,
                                key: "more-options",
                                isActive: n,
                                className: Y.button,
                                iconClassName: Y.buttonIcon
                            })
                        }
                    }, "more-options-popout"), (0, a.jsx)(g.default, {
                        onOpen: S,
                        onClose: C,
                        className: Y.button
                    }, "recents"), !s && m ? (0, a.jsx)("div", {
                        className: Y.button,
                        children: (0, a.jsx)(G.default, {
                            toggleRequestToSpeakSidebar: () => {
                                c && d.default.updateChatOpen(t.id, !1), n()
                            },
                            showRequestToSpeakSidebar: s,
                            numRequestToSpeak: _
                        })
                    }) : null, (0, a.jsx)(p.CallscopeChannelCallIssueMarker, {
                        className: Y.button
                    }), !c && (0, a.jsx)("div", {
                        className: i(Y.button, {
                            [Y.sidebarOpen]: s
                        }),
                        children: (0, a.jsx)(N.ChatButton, {
                            channelId: t.id,
                            showRequestToSpeakSidebar: s,
                            toggleRequestToSpeakSidebar: n,
                            iconClassName: Y.buttonIcon
                        })
                    })]
                })
            }

            function K(e) {
                var t, n;
                let {
                    channel: s,
                    toggleRequestToSpeakSidebar: f,
                    showRequestToSpeakSidebar: h
                } = e, p = (0, m.default)(s), E = (0, r.useStateFromStores)([w.default], () => w.default.getStageInstanceByChannel(s.id)), g = (0, D.useActualStageSpeakerCount)(s.id), I = (0, D.useStageParticipantsCount)(s.id, b.StageChannelParticipantNamedIndex.AUDIENCE), T = (0, r.useStateFromStores)([v.default], () => v.default.getGuild(s.guild_id), [s.guild_id]), N = null !== (t = null == T ? void 0 : T.maxStageVideoChannelUsers) && void 0 !== t ? t : 0, x = (null == T ? void 0 : T.isCommunity()) ? N < H.MAX_STAGE_VIDEO_USER_LIMIT_UNCAPPED : (null == T ? void 0 : T.premiumTier) !== H.BoostedGuildTiers.TIER_3 && N <= H.MAX_STAGE_VIDEO_USER_LIMIT_TIER2, U = (0, k.default)(s), G = (0, r.useStateFromStores)([A.default], () => A.default.can(F.MODERATE_STAGE_CHANNEL_PERMISSIONS, s)), B = () => {
                    d.default.updateStageVideoLimitBoostUpsellDismissed(s.id, !0), j.default.track(H.AnalyticEvents.BOOSTING_UPSELL_CLICKED, {
                        guild_id: s.guild_id,
                        type: V.PremiumUpsellTypes.VIDEO_STAGE_LIMIT,
                        is_moderator: G,
                        action: V.BoostingUpsellAction.DISMISS
                    })
                };
                l.useEffect(() => {
                    U && j.default.track(H.AnalyticEvents.BOOSTING_UPSELL_VIEWED, {
                        guild_id: s.guild_id,
                        type: V.PremiumUpsellTypes.VIDEO_STAGE_LIMIT,
                        is_moderator: G,
                        listener_count: g + I
                    })
                }, [U]);
                let {
                    enabled: K,
                    left: q
                } = c.ChannelEmojisExperiment.useExperiment({
                    location: "f2c6da_2"
                }, {
                    autoTrackExposure: !1
                }), Z = K && (0, a.jsx)(C.ChannelEmoji, {
                    channel: s
                }), Q = (0, a.jsxs)(y.default, {
                    toolbar: (0, a.jsx)(z, {
                        toggleRequestToSpeakSidebar: f,
                        showRequestToSpeakSidebar: h,
                        channel: s
                    }),
                    onDoubleClick: S.handleDoubleClick,
                    transparent: !0,
                    className: i((0, P.getThemeClass)(H.ThemeTypes.DARK), Y.participants),
                    children: [q && Z, (0, a.jsx)(y.default.Icon, {
                        icon: O.default,
                        disabled: !0,
                        "aria-label": W.default.Messages.STAGE_CHANNEL,
                        className: Y.icon,
                        color: null != E ? u.default.unsafe_rawColors.GREEN_360.css : void 0
                    }), !q && Z, (0, a.jsx)(y.default.Title, {
                        className: Y.channelName,
                        wrapperClassName: Y.channelNameWrapper,
                        children: null !== (n = null == E ? void 0 : E.topic) && void 0 !== n ? n : p
                    }), (0, a.jsx)(y.default.Divider, {
                        className: Y.divider
                    }), (0, a.jsxs)(y.default.Title, {
                        children: [(0, a.jsx)(R.default, {
                            width: 16,
                            height: 16
                        }), (0, a.jsx)(o.Text, {
                            variant: "text-xs/medium",
                            color: "header-secondary",
                            className: Y.speakerCount,
                            children: W.default.Messages.SPEAKING_COUNT.format({
                                count: g
                            })
                        }), (0, a.jsx)(L.default, {
                            width: 16,
                            height: 16
                        }), (0, a.jsx)(o.Text, {
                            variant: "text-xs/medium",
                            color: "header-secondary",
                            className: Y.speakerCount,
                            children: W.default.Messages.LISTENING_COUNT.format({
                                count: I
                            })
                        })]
                    })]
                });
                return U ? (0, a.jsxs)("div", {
                    children: [Q, (0, a.jsxs)("div", {
                        className: Y.boostUpsell,
                        children: [(0, a.jsx)(X, {}), (0, a.jsxs)("div", {
                            className: Y.text,
                            children: [(0, a.jsx)(o.Text, {
                                variant: "text-md/medium",
                                color: "header-primary",
                                children: x ? W.default.Messages.STAGE_FULL_MODERATOR_TITLE : W.default.Messages.STAGE_FULL_MODERATOR_MAX_TITLE
                            }), (0, a.jsx)(o.Text, {
                                variant: "text-xs/medium",
                                color: "text-normal",
                                children: x ? W.default.Messages.STAGE_FULL_MODERATOR_BODY : W.default.Messages.STAGE_FULL_MAX_BODY
                            })]
                        }), (0, a.jsx)("div", {
                            className: Y.buttons,
                            children: x ? (0, a.jsxs)(a.Fragment, {
                                children: [(0, a.jsx)(o.Button, {
                                    className: Y.notNowButton,
                                    onClick: B,
                                    look: o.Button.Looks.BLANK,
                                    size: o.Button.Sizes.SMALL,
                                    children: W.default.Messages.NOT_NOW
                                }), (0, a.jsx)(M.default, {
                                    size: o.Button.Sizes.SMALL,
                                    onClick: () => {
                                        (0, _.openGuildBoostingMarketingModal)({
                                            guildId: s.guild_id,
                                            location: {
                                                section: H.AnalyticsSections.STAGE_VIDEO_LIMIT
                                            }
                                        }), j.default.track(H.AnalyticEvents.BOOSTING_UPSELL_CLICKED, {
                                            guild_id: s.guild_id,
                                            type: V.PremiumUpsellTypes.VIDEO_STAGE_LIMIT,
                                            is_moderator: G,
                                            action: V.BoostingUpsellAction.BOOST
                                        })
                                    },
                                    className: Y.boostButton,
                                    children: W.default.Messages.PREMIUM_GUILD_SUBSCRIPTION
                                })]
                            }) : (0, a.jsx)(o.Button, {
                                className: Y.notNowButton,
                                onClick: B,
                                look: o.Button.Looks.BLANK,
                                size: o.Button.Sizes.SMALL,
                                children: W.default.Messages.DISMISS
                            })
                        })]
                    })]
                }) : Q
            }

            function X() {
                return (0, a.jsxs)("svg", {
                    width: "36",
                    height: "36",
                    viewBox: "0 0 36 36",
                    fill: "none",
                    children: [(0, a.jsxs)("g", {
                        clipPath: "url(#clip0_595_59940)",
                        children: [(0, a.jsx)("path", {
                            d: "M36 18C36 19.8 33.075 21.15 32.625 22.725C32.175 24.3 33.525 27.225 32.625 28.575C31.725 29.925 28.35 29.25 27 30.375C25.65 31.5 25.2 34.425 23.625 35.1C22.05 35.775 19.8 33.3 18 33.3C16.2 33.3 13.95 35.55 12.375 35.1C10.8 34.65 10.35 31.275 9 30.375C7.65 29.475 4.5 29.925 3.375 28.575C2.25 27.225 3.825 24.525 3.375 22.725C2.925 20.925 0 19.8 0 18C0 16.2 2.925 14.85 3.375 13.275C3.825 11.7 2.475 8.77497 3.375 7.42496C4.275 6.07497 7.65 6.74997 9 5.62497C10.35 4.49997 10.8 1.57497 12.375 0.899965C13.95 0.224965 16.2 2.69997 18 2.69997C19.8 2.69997 22.05 0.449965 23.625 0.899965C25.2 1.34997 25.65 4.49997 27 5.62497C28.35 6.74997 31.5 6.07497 32.625 7.42496C33.75 8.77497 32.175 11.475 32.625 13.275C33.075 15.075 36 16.2 36 18Z",
                            fill: "url(#paint0_linear_595_59940)"
                        }), (0, a.jsx)("path", {
                            d: "M15.75 20.7001L18 22.9501L20.25 20.7001V15.3001L18 13.0501L15.75 15.3001V20.7001Z",
                            fill: "white"
                        }), (0, a.jsx)("path", {
                            d: "M18 6.75L11.25 13.5V22.5L18 29.25L24.75 22.5V13.5L18 6.75ZM22.5 21.6L18 26.1L13.5 21.6V14.4L18 9.9L22.5 14.4V21.6Z",
                            fill: "white"
                        })]
                    }), (0, a.jsxs)("defs", {
                        children: [(0, a.jsxs)("linearGradient", {
                            id: "paint0_linear_595_59940",
                            x1: "2.4046e-06",
                            y1: "35.2166",
                            x2: "35.7182",
                            y2: "-1.45185",
                            gradientUnits: "userSpaceOnUse",
                            children: [(0, a.jsx)("stop", {
                                stopColor: "#3E70DD"
                            }), (0, a.jsx)("stop", {
                                offset: "1",
                                stopColor: "#B377F3"
                            })]
                        }), (0, a.jsx)("clipPath", {
                            id: "clip0_595_59940",
                            children: (0, a.jsx)("rect", {
                                width: "36",
                                height: "36",
                                fill: "white"
                            })
                        })]
                    })]
                })
            }
        },
        199811: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return T
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("627445"),
                s = n.n(l),
                i = n("446674"),
                r = n("77078"),
                u = n("244201"),
                o = n("191145"),
                d = n("769928"),
                c = n("321135"),
                f = n("976074"),
                h = n("639537"),
                p = n("619436"),
                m = n("42203"),
                E = n("957255"),
                _ = n("751661"),
                S = n("923510"),
                C = n("834052"),
                g = n("99795"),
                I = n("782340");

            function T(e) {
                let {
                    channelId: t,
                    closePopout: n,
                    appContext: l,
                    onSelect: T
                } = e, N = (0, i.useStateFromStores)([o.default], () => o.default.getSelectedParticipant(t)), x = (null == N ? void 0 : N.type) === g.ParticipantTypes.STREAM ? N.stream : null, v = (0, h.default)(t);
                return (0, a.jsxs)(r.Menu, {
                    navId: "stage-channel-call-overflow-popout",
                    onClose: n,
                    "aria-label": I.default.Messages.CHANNEL_CALL_OVERFLOW_MENU_LABEL,
                    onSelect: T,
                    children: [function(e) {
                        let t = (0, i.useStateFromStores)([m.default], () => m.default.getChannel(e), [e]),
                            n = (0, i.useStateFromStores)([E.default], () => E.default.can(S.MODERATE_STAGE_CHANNEL_PERMISSIONS, t)),
                            l = (0, i.useStateFromStores)([C.default], () => C.default.getStageInstanceByChannel(e), [e]),
                            s = (0, u.useAppContext)(),
                            o = () => null != t && (0, _.openStageChannelSettings)(t, s);
                        return (null == t ? void 0 : t.isGuildStageVoice()) && n ? null != l ? (0, a.jsx)(r.MenuItem, {
                            id: "edit-stage",
                            label: I.default.Messages.EDIT_STAGE_SUBTITLE,
                            action: o
                        }) : (0, a.jsx)(r.MenuItem, {
                            id: "start-stage",
                            label: I.default.Messages.STAGE_CHANNEL_START_TITLE,
                            action: o
                        }) : null
                    }(t), function(e) {
                        let t = (0, i.useStateFromStores)([m.default], () => m.default.getChannel(e), [e]);
                        return s(null != t, "useNotificationSettingsItem: channel cannot be undefined"), (0, p.default)(t)
                    }(t), (0, c.default)(), (0, d.default)(t), v, (0, f.default)(x, l)]
                })
            }
        },
        598050: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return v
                }
            });
            var a, l, s = n("37983"),
                i = n("884691"),
                r = n("446674"),
                u = n("737960"),
                o = n("191145"),
                d = n("488464"),
                c = n("567469"),
                f = n("998716"),
                h = n("223378"),
                p = n("973137"),
                m = n("661917"),
                E = n("85427"),
                _ = n("620103"),
                S = n("297446"),
                C = n("782340"),
                g = n("478107");
            let I = {
                singleSpeaker: 424,
                twoSpeakers: 624,
                threeSpeakers: 824
            };
            (a = l || (l = {}))[a.SELECTED = 0] = "SELECTED", a[a.SPEAKER = 1] = "SPEAKER", a[a.AUDIENCE = 2] = "AUDIENCE";
            let T = (e, t) => {
                    let n = Math.floor(e / t - 8),
                        a = Math.floor(n / S.SPEAKER_TILE_ASPECT_RATIO);
                    return {
                        speakerTileWidth: n,
                        speakerTileHeight: a
                    }
                },
                N = (e, t) => e < I.singleSpeaker ? 1 : e < I.twoSpeakers ? 2 : e < I.threeSpeakers ? 3 : t ? 3 : 4,
                x = e => Math.floor((e - 32) / 102);
            var v = (0, u.default)(e => {
                var t, n;
                let {
                    channel: a,
                    width: u,
                    onScroll: I
                } = e, {
                    selectedParticipantId: v,
                    largeStream: A,
                    chatOpen: M
                } = (0, r.useStateFromStoresObject)([o.default], () => ({
                    selectedParticipantId: o.default.getSelectedParticipantId(a.id),
                    largeStream: o.default.getStageStreamSize(a.id),
                    chatOpen: o.default.getChatOpen(a.id)
                }), [a.id]), R = (0, c.useActualStageSpeakerCount)(a.id), L = (0, c.useStageParticipantsCount)(a.id, f.StageChannelParticipantNamedIndex.AUDIENCE), O = (0, r.useStateFromStores)([d.default], () => null != v ? d.default.getParticipant(a.id, v) : null), y = (0, c.useStageParticipants)(a.id, f.StageChannelParticipantNamedIndex.SPEAKER), j = y.filter(e => e.type === f.StageChannelParticipantTypes.VOICE), P = null != y.find(e => e.type === f.StageChannelParticipantTypes.STREAM), D = x(u), b = N(u, M), U = {
                    [f.StageChannelParticipantNamedIndex.SPEAKER]: b,
                    [f.StageChannelParticipantNamedIndex.AUDIENCE]: D,
                    [f.StageChannelParticipantNamedIndex.SELECTED]: 1
                }, F = (0, h.useThrottleDurationForChannel)(a.id), [w, G] = (0, h.useStageChannelParticipantsListThrottled)(a.id, U, F), B = [Math.max(null !== (t = w[l.SELECTED]) && void 0 !== t ? t : 1, 1), Math.max(null !== (n = w[l.SPEAKER]) && void 0 !== n ? n : 1, 1), w[l.AUDIENCE]], {
                    speakerTileWidth: k,
                    speakerTileHeight: H
                } = T(u, b), V = A ? u - 32 : Math.min(u - 64, 3 * k + 8), W = e => e === w.length - 1 || 0 === L && 1 === e, [Y, z] = i.useState(!1), [K, X] = i.useState(!1);
                return (0, s.jsx)(m.default, {
                    sections: B,
                    renderSection: e => {
                        let {
                            section: t
                        } = e;
                        if (t === l.SPEAKER) return 0 === R ? null : (0, s.jsx)(_.default, {
                            participantCount: R,
                            label: C.default.Messages.SPEAKER_LABEL,
                            className: g.header,
                            onClick: () => z(!Y),
                            collapsed: Y,
                            speakers: j,
                            channel: a,
                            isStreamLive: P
                        }, "speaker-header-".concat(t));
                        if (t === l.AUDIENCE) return 0 === L ? null : (0, s.jsx)(_.default, {
                            participantCount: L,
                            label: C.default.Messages.AUDIENCE_LABEL,
                            className: g.header,
                            onClick: () => X(!K),
                            collapsed: K,
                            channel: a
                        }, "audience-header-".concat(t));
                        return null
                    },
                    sectionHeight: e => 48,
                    renderRow: e => {
                        let {
                            section: t,
                            row: n
                        } = e, r = G[t][n];
                        if ((null == r ? void 0 : r.length) == null) return null;
                        switch (t) {
                            case l.SELECTED:
                                if (0 === r.length || null == r[0]) return null;
                                return (0, s.jsx)("div", {
                                    className: g.focusedRow,
                                    children: (0, s.jsx)(S.default, {
                                        channel: a,
                                        participant: r[0],
                                        width: V
                                    })
                                }, "selected-participant");
                            case l.SPEAKER:
                                if (Y) return null;
                                return (0, s.jsx)(i.Fragment, {
                                    children: (0, s.jsx)(E.default, {
                                        tileWidth: k,
                                        channel: a,
                                        participants: r,
                                        selectedParticipant: O
                                    })
                                }, "speakers-".concat(t, "-").concat(n));
                            case l.AUDIENCE:
                                if (K) return null;
                                return (0, s.jsx)(p.default, {
                                    channel: a,
                                    participants: r,
                                    maxTiles: D
                                }, "audience-".concat(t, "-").concat(n));
                            default:
                                return null
                        }
                    },
                    rowHeight: e => {
                        let t = null == G[e][l.SELECTED];
                        return t ? 0 : e === l.SELECTED ? V / S.SPEAKER_TILE_ASPECT_RATIO + 8 : e === l.SPEAKER ? Y ? 0 : H : K ? 0 : 98
                    },
                    renderFooter: e => {
                        let {
                            section: t
                        } = e;
                        return W(t) ? (0, s.jsx)("div", {
                            className: g.spacer
                        }, "bottom-spacer") : null
                    },
                    footerHeight: e => e === l.SPEAKER ? 8 : e === l.SELECTED ? 12 : W(e) ? 88 : 0,
                    className: g.scroller,
                    chunkSize: 60,
                    onScroll: I
                })
            })
        },
        977026: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return e_
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("446674"),
                u = n("77078"),
                o = n("987317"),
                d = n("244201"),
                c = n("191145"),
                f = n("266392"),
                h = n("458685"),
                p = n("338677"),
                m = n("76393"),
                E = n("479788"),
                _ = n("398604"),
                S = n("109526"),
                C = n("487984"),
                g = n("817963"),
                I = n("999180"),
                T = n("830210"),
                N = n("289180"),
                x = n("244390"),
                v = n("581389"),
                A = n("19065"),
                M = n("124824"),
                R = n("981913"),
                L = n("785344"),
                O = n("116439"),
                y = n("271938"),
                j = n("42887"),
                P = n("957255"),
                D = n("18494"),
                b = n("697218"),
                U = n("887657"),
                F = n("293137"),
                w = n("381546"),
                G = n("293499"),
                B = n("277174"),
                k = n("711486"),
                H = n("394640"),
                V = n("343571"),
                W = n("751661"),
                Y = n("244480"),
                z = n("716214"),
                K = n("619395"),
                X = n("923510"),
                q = n("325861"),
                Z = n("834052"),
                Q = n("819450"),
                J = n("111542"),
                $ = n("924872"),
                ee = n("274438"),
                et = n("734019"),
                en = n("519581"),
                ea = n("58763"),
                el = n("709752"),
                es = n("49111"),
                ei = n("782340"),
                er = n("134095");

            function eu(e) {
                let {
                    channel: t,
                    appContext: n
                } = e, a = (0, et.default)(t);
                if (a) {
                    (0, W.openEndStageModal)(t, n);
                    return
                }
                o.default.disconnect()
            }

            function eo(e) {
                var t, n;
                let {
                    channel: l
                } = e, s = (0, en.default)(l.id), [i, u] = (0, el.default)(l), o = (0, r.useStateFromStores)([P.default], () => P.default.can(es.Permissions.REQUEST_TO_SPEAK, l));
                if (s) return null;
                return (0, a.jsx)(R.CenterControlButton, {
                    isActive: i,
                    label: (t = i, n = o, t ? ei.default.Messages.AUDIENCE_LOWER_HAND : n ? ei.default.Messages.AUDIENCE_RAISE_HAND_CTA : ei.default.Messages.AUDIENCE_RAISE_HAND_NO_PERMISSION),
                    iconComponent: () => (0, a.jsx)(k.default, {
                        className: i ? er.raisedHandButtonIconActive : er.raisedHandButtonIcon
                    }),
                    onClick: u,
                    className: er.buttonSpacing,
                    disabled: !o && !i
                })
            }
            let ed = l.memo(function(e) {
                let {
                    channel: t
                } = e, n = (0, r.useStateFromStores)([D.default], () => D.default.getVoiceChannelId() === t.id, [t.id]);
                return (0, a.jsxs)("div", {
                    className: er.container,
                    children: [(0, a.jsx)(ep, {
                        channelId: t.id
                    }), n ? (0, a.jsx)(eo, {
                        channel: t
                    }) : null, (0, a.jsx)(ef, {
                        channel: t
                    })]
                })
            });

            function ec(e) {
                let {
                    onClick: t
                } = e;
                return (0, a.jsx)(u.Button, {
                    size: u.Button.Sizes.MEDIUM,
                    color: er.primaryButtonColor,
                    className: i(er.buttonSpacing, er.buttonWithTextButton),
                    onClick: t,
                    children: (0, a.jsxs)("div", {
                        className: er.buttonWithTextInnerContainer,
                        children: [(0, a.jsx)(B.default, {
                            height: 24,
                            width: 24,
                            className: er.buttonWithTextIcon
                        }), (0, a.jsx)(u.Text, {
                            color: "none",
                            variant: "text-sm/medium",
                            children: ei.default.Messages.MODERATOR_RAISE_OWN_HAND
                        })]
                    })
                })
            }

            function ef(e) {
                let {
                    channel: t,
                    onSelect: n
                } = e, l = (0, d.useAppContext)(), {
                    canManageGuildEvent: s
                } = (0, g.useManageResourcePermissions)(t), o = (0, r.useStateFromStores)([Z.default], () => Z.default.getStageInstanceByChannel(t.id), [t.id]), c = (0, r.useStateFromStores)([_.default], () => _.default.getGuildScheduledEvent(null == o ? void 0 : o.guild_scheduled_event_id)), f = (0, r.useStateFromStores)([D.default], () => D.default.getVoiceChannelId() === t.id, [t.id]), {
                    suppress: h
                } = (0, x.default)(t), p = y.default.getId(), [m] = (0, el.default)(t), E = q.default.isModerator(p, t.id), S = (0, K.useCanModerateRequestToSpeak)(t.id), C = s(c);
                return f ? (E || C) && null != o ? (0, a.jsx)(u.Popout, {
                    renderPopout: e => {
                        let {
                            closePopout: s
                        } = e;
                        return (0, a.jsx)(M.default, {
                            children: (0, a.jsx)(u.Menu, {
                                navId: "exit-options",
                                "aria-label": ei.default.Messages.SET_STATUS,
                                onClose: s,
                                onSelect: n,
                                children: (0, a.jsx)(u.MenuItem, {
                                    id: "end-stage",
                                    color: "danger",
                                    action: () => (0, W.openEndGuildEventConfirmationModal)(t, l),
                                    label: ei.default.Messages.END_GUILD_EVENT_FOR_EVERYONE,
                                    icon: w.default
                                })
                            })
                        })
                    },
                    align: "center",
                    position: "top",
                    animation: u.Popout.Animation.FADE,
                    children: (e, n) => {
                        let {
                            onClick: s
                        } = e, {
                            isShown: i
                        } = n;
                        return (0, a.jsx)(R.CenterControlButton, {
                            className: er.buttonSpacing,
                            label: ei.default.Messages.EXIT_EVENT_STAGE_OPTIONS_LABEL,
                            color: "red",
                            iconComponent: () => (0, a.jsx)(F.default, {
                                height: 24,
                                width: 24
                            }),
                            onClick: () => eu({
                                channel: t,
                                appContext: l
                            }),
                            onPopoutClick: s,
                            popoutOpen: i
                        })
                    }
                }) : h && !S || m ? (0, a.jsx)(u.Button, {
                    size: u.Button.Sizes.MEDIUM,
                    color: u.Button.Colors.RED,
                    className: i(er.buttonSpacing, er.buttonWithTextButton),
                    onClick: () => eu({
                        channel: t,
                        appContext: l
                    }),
                    children: (0, a.jsxs)("div", {
                        className: er.buttonWithTextInnerContainer,
                        children: [(0, a.jsx)(F.default, {
                            height: 24,
                            width: 24,
                            className: er.buttonWithTextIcon
                        }), (0, a.jsx)(u.Text, {
                            color: "none",
                            variant: "text-sm/medium",
                            children: ei.default.Messages.AUDIENCE_DISCONNECT
                        })]
                    })
                }) : (0, a.jsx)(R.CenterControlButton, {
                    className: er.buttonSpacing,
                    label: ei.default.Messages.EXIT_EVENT_STAGE_OPTIONS_LABEL,
                    color: "red",
                    iconComponent: () => (0, a.jsx)(F.default, {
                        height: 24,
                        width: 24
                    }),
                    onClick: () => eu({
                        channel: t,
                        appContext: l
                    })
                }) : (0, a.jsx)(u.Button, {
                    size: u.Button.Sizes.MEDIUM,
                    color: u.Button.Colors.GREEN,
                    className: i(er.buttonSpacing, er.buttonWithTextButton),
                    onClick: () => {
                        var e;
                        return e = t, void(0, z.connectToStage)(e)
                    },
                    children: (0, a.jsxs)("div", {
                        className: er.buttonWithTextInnerContainer,
                        children: [(0, a.jsx)(U.default, {
                            height: 24,
                            width: 24,
                            className: er.buttonWithTextIcon
                        }), (0, a.jsx)(u.Text, {
                            color: "none",
                            variant: "text-sm/medium",
                            children: ei.default.Messages.STAGE_CHANNEL_JOIN
                        })]
                    })
                })
            }

            function eh(e) {
                let {
                    onClick: t
                } = e;
                return (0, a.jsx)(u.Button, {
                    size: u.Button.Sizes.MEDIUM,
                    color: er.primaryButtonColor,
                    className: i(er.buttonSpacing, er.buttonWithTextButton),
                    onClick: t,
                    children: (0, a.jsxs)("div", {
                        className: er.buttonWithTextInnerContainer,
                        children: [(0, a.jsx)(G.default, {
                            height: 24,
                            width: 24,
                            className: er.buttonWithTextIcon
                        }), (0, a.jsx)(u.Text, {
                            color: "none",
                            variant: "text-sm/medium",
                            children: ei.default.Messages.MOVE_ME_TO_AUDIENCE
                        })]
                    })
                })
            }

            function ep(e) {
                let {
                    channelId: t
                } = e, n = (0, r.useStateFromStores)([ee.default], () => ee.default.isMuted()), l = (0, $.useShowStageMusicMuteButton)(t), s = (0, r.useStateFromStores)([ee.default], () => ee.default.shouldPlay());
                return l ? (0, a.jsx)(R.CenterControlButton, {
                    isActive: n,
                    className: er.buttonSpacing,
                    label: n ? ei.default.Messages.STAGE_MUSIC_UNMUTE : ei.default.Messages.STAGE_MUSIC_MUTE,
                    iconComponent: () => n ? (0, a.jsx)(V.default, {
                        height: 24,
                        width: 24
                    }) : (0, a.jsx)(H.default, {
                        height: 24,
                        width: 24
                    }),
                    onClick: () => (0, J.updateStageMusicMuted)(!n)
                }) : (0, a.jsx)(R.CenterControlButton, {
                    isActive: s,
                    className: er.buttonSpacing,
                    label: s ? ei.default.Messages.STAGE_MUSIC_MUTE : ei.default.Messages.STAGE_MUSIC_UNMUTE,
                    iconComponent: () => s ? (0, a.jsx)(H.default, {
                        height: 24,
                        width: 24
                    }) : (0, a.jsx)(V.default, {
                        height: 24,
                        width: 24
                    }),
                    onClick: () => (0, J.updateStageMusicShouldPlay)(!s)
                })
            }
            let em = l.memo(function(e) {
                let {
                    channel: t
                } = e, {
                    suppress: n,
                    selfMute: l,
                    mute: s
                } = (0, x.default)(t), o = (0, K.useCanModerateRequestToSpeak)(t.id), d = (0, r.useStateFromStores)([m.default], () => null != m.default.getAwaitingRemoteSessionInfo()), {
                    cameraUnavailable: _,
                    enabled: S
                } = (0, I.default)(), C = (0, N.default)(t), {
                    limit: g,
                    reachedLimit: R
                } = (0, T.default)(t), y = (0, r.useStateFromStores)([b.default], () => b.default.getCurrentUser()), P = (0, r.useStateFromStores)([j.default], () => (0, E.default)(j.default)), U = (0, r.useStateFromStores)([D.default], () => D.default.getVoiceChannelId() === t.id, [t.id]), F = (0, r.useStateFromStores)([c.default], () => c.default.getStreamParticipants(t.id)[0], [t.id]), w = (0, Q.useStageHasMedia)(t.id), G = R && !w || null != F && F.user.id !== (null == y ? void 0 : y.id);
                if (null == y) return null;
                let B = (0, a.jsxs)(a.Fragment, {
                    children: [(0, a.jsx)(u.Popout, {
                        renderPopout: e => {
                            let {
                                closePopout: t
                            } = e;
                            return (0, a.jsx)(M.default, {
                                children: (0, a.jsx)(h.default, {
                                    onClose: t
                                })
                            })
                        },
                        position: "top",
                        align: "center",
                        animation: u.Popout.Animation.FADE,
                        children: (e, t) => {
                            let {
                                onClick: n
                            } = e, {
                                isShown: l
                            } = t;
                            return (0, a.jsx)(O.default, {
                                centerButton: !0,
                                hasPermission: C,
                                enabled: S,
                                cameraUnavailable: _,
                                onChange: v.handleToggleVideo,
                                onCameraUnavailable: A.default,
                                channelLimitReached: R,
                                channelLimit: g,
                                popoutOpen: l,
                                onPopoutClick: n
                            })
                        }
                    }), (0, a.jsx)(v.GoLiveButton, {
                        channel: t,
                        currentUser: y,
                        exitFullScreen: () => null,
                        canGoLive: P,
                        hasPermission: C,
                        disabled: G
                    })]
                });
                return (0, a.jsxs)("div", {
                    className: er.container,
                    children: [(0, a.jsx)(ep, {
                        channelId: t.id
                    }), U && (0, a.jsx)(eo, {
                        channel: t
                    }), U && !n ? (0, a.jsxs)("div", {
                        className: i(er.avControls, er.buttonSpacing),
                        children: [g > 0 && g > 0 && B, (0, a.jsx)(u.Popout, {
                            renderPopout: e => {
                                let {
                                    closePopout: t
                                } = e;
                                return (0, a.jsx)(M.default, {
                                    children: (0, a.jsx)(f.default, {
                                        onClose: t,
                                        renderInputDevices: !0,
                                        renderOutputDevices: !0
                                    })
                                })
                            },
                            align: "center",
                            position: "top",
                            animation: u.Popout.Animation.FADE,
                            children: (e, t) => {
                                let {
                                    onClick: i
                                } = e, {
                                    isShown: r
                                } = t;
                                return (0, a.jsx)(L.default, {
                                    centerButton: !0,
                                    onPopoutClick: i,
                                    selfMute: l,
                                    serverMute: s,
                                    suppress: n,
                                    popoutOpen: r,
                                    onClick: () => (0, p.default)(s, n),
                                    awaitingRemote: d
                                })
                            }
                        })]
                    }) : null, U && o && n && (0, a.jsx)(ec, {
                        onClick: () => (0, Y.audienceAckRequestToSpeak)(t, !1)
                    }), U && !n && (0, a.jsx)(eh, {
                        onClick: () => (0, Y.moveSelfToAudience)(t)
                    }), (0, a.jsx)(ef, {
                        channel: t
                    })]
                })
            });

            function eE(e) {
                let {
                    channel: t
                } = e;
                return (0, a.jsxs)("div", {
                    className: er.container,
                    children: [(0, a.jsx)(ep, {
                        channelId: t.id
                    }), (0, a.jsx)(ef, {
                        channel: t
                    })]
                })
            }
            var e_ = l.memo(function(e) {
                let {
                    channel: t,
                    isOnStartStageScreen: n
                } = e, l = (0, en.default)(t.id), s = (0, K.useCanModerateRequestToSpeak)(t.id), i = (0, r.useStateFromStores)([P.default], () => P.default.can(X.MODERATE_STAGE_CHANNEL_PERMISSIONS, t), [t]), u = (0, ea.default)(t.id), o = (0, r.useStateFromStores)([c.default], () => null != t ? c.default.getSelectedParticipant(t.id) : null), d = !u && null == o;
                if (n) return (0, a.jsx)(eE, {
                    channel: t
                });
                if (l || s) return (0, a.jsxs)("div", {
                    className: er.containerColumn,
                    children: [(0, a.jsxs)("div", {
                        className: er.eventPrompts,
                        children: [d ? (0, a.jsx)(S.default, {
                            channelId: null == t ? void 0 : t.id
                        }) : null, (0, a.jsx)("div", {
                            className: er.separator
                        }), d && i ? (0, a.jsx)(C.default, {
                            highlight: !0,
                            channel: t
                        }) : null, (0, a.jsx)("div", {
                            className: er.separator
                        })]
                    }), (0, a.jsx)(em, {
                        channel: t
                    })]
                });
                return (0, a.jsx)(ed, {
                    channel: t
                })
            })
        },
        661917: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            });
            var a, l = n("405665"),
                s = n("77078"),
                i = n("657454"),
                r = n("517614");
            let u = (0, s.createListScroller)(i.auto, i.fade, r.customTheme, null !== (a = window.ResizeObserver) && void 0 !== a ? a : l.ResizeObserver);
            var o = u
        },
        85427: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("297446"),
                i = n("602580"),
                r = l.memo(function(e) {
                    let {
                        channel: t,
                        participants: n,
                        tileWidth: l,
                        selectedParticipant: r
                    } = e;
                    return (0, a.jsx)("div", {
                        className: i.rowContainer,
                        children: n.map(e => e.id === (null == r ? void 0 : r.id) ? null : (0, a.jsx)(s.default, {
                            channel: t,
                            participant: e,
                            width: l
                        }, e.id))
                    })
                })
        },
        620103: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("77078"),
                u = n("837899"),
                o = n("849467"),
                d = n("155207"),
                c = n("980423"),
                f = n("215536"),
                h = n("154017"),
                p = l.memo(function(e) {
                    let {
                        label: t,
                        participantCount: n,
                        onClick: l,
                        className: s,
                        collapsed: p,
                        speakers: m,
                        channel: E,
                        isStreamLive: _
                    } = e;
                    return (0, a.jsxs)(r.Clickable, {
                        onClick: l,
                        className: i(h.container, s),
                        children: [null == m ? (0, a.jsx)(d.default, {
                            width: 20,
                            height: 20,
                            className: h.micIcon
                        }) : (0, a.jsx)(o.default, {
                            width: 20,
                            height: 20,
                            className: h.micIcon
                        }), (0, a.jsxs)(r.Text, {
                            color: "header-primary",
                            variant: "text-md/semibold",
                            className: h.text,
                            children: [t, " — ", n]
                        }), p && null != E && null != m && m.length > 0 && (0, a.jsxs)(a.Fragment, {
                            children: [(0, a.jsx)(f.default, {
                                channel: E,
                                speakers: m
                            }), _ && (0, a.jsx)(c.default, {})]
                        }), (0, a.jsx)(u.default, {
                            width: 20,
                            height: 20,
                            className: i(h.downIcon, {
                                [h.upIcon]: p
                            })
                        })]
                    })
                })
        },
        215536: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return _
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("77078"),
                u = n("272030"),
                o = n("899633"),
                d = n("244201"),
                c = n("506885"),
                f = n("981601"),
                h = n("533403"),
                p = n("315102"),
                m = n("324328");

            function E(e) {
                let {
                    channel: t,
                    speaker: s,
                    className: h
                } = e, E = (0, d.useAppContext)(), {
                    reducedMotion: _
                } = l.useContext(r.AccessibilityPreferencesContext), S = (0, o.default)({
                    userId: s.id
                }), C = null != s.member ? (0, p.getGuildMemberAvatarURL)(s.member) : null, g = e => {
                    (0, u.openContextMenuLazy)(e, async () => {
                        let {
                            default: e
                        } = await n.el("834247").then(n.bind(n, "834247"));
                        return n => (0, a.jsx)(e, {
                            ...n,
                            user: s.user,
                            guildId: t.guild_id,
                            channel: t,
                            showMediaItems: !0,
                            showStageChannelItems: !0,
                            showChatItems: !1
                        })
                    }, {
                        context: E
                    })
                };
                return (0, a.jsx)(r.Popout, {
                    preload: () => (0, c.default)(s.user.id, s.user.getAvatarURL(t.guild_id, 80), {
                        guildId: t.guild_id,
                        channelId: t.id
                    }),
                    renderPopout: e => (0, a.jsx)(f.default, {
                        ...e,
                        guildId: t.guild_id,
                        channelId: t.id,
                        userId: s.id
                    }),
                    position: "right",
                    spacing: 8,
                    children: e => (0, a.jsx)(r.Tooltip, {
                        text: s.userNick,
                        position: "bottom",
                        children: n => (0, a.jsx)(r.Clickable, {
                            ...n,
                            ...e,
                            onClick: t => {
                                t.stopPropagation(), e.onClick(t)
                            },
                            onContextMenu: g,
                            children: (0, a.jsx)(r.Avatar, {
                                src: null != C ? C : s.user.getAvatarURL(t.guild_id, 24),
                                size: r.AvatarSizes.SIZE_24,
                                className: i(m.avatar, h),
                                "aria-label": s.userNick,
                                isSpeaking: S && !_.enabled
                            })
                        })
                    })
                })
            }

            function _(e) {
                let {
                    speakers: t,
                    channel: n
                } = e;
                return (0, a.jsx)(h.default, {
                    className: m.summary,
                    guildId: n.guild_id,
                    users: t,
                    max: 10,
                    renderUser: (e, t, l) => (0, a.jsx)(E, {
                        channel: n,
                        speaker: e,
                        className: t
                    }, l),
                    renderMoreUsers: (e, t, n) => (0, a.jsx)("div", {
                        className: i(m.speakers, t),
                        children: e
                    }, n)
                })
            }
        },
        297446: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                SPEAKER_TILE_ASPECT_RATIO: function() {
                    return O
                },
                default: function() {
                    return P
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("627445"),
                i = n.n(s),
                r = n("446674"),
                u = n("77078"),
                o = n("255397"),
                d = n("272030"),
                c = n("990766"),
                f = n("244201"),
                h = n("191145"),
                p = n("76393"),
                m = n("374014"),
                E = n("223913"),
                _ = n("506885"),
                S = n("981601"),
                C = n("373469"),
                g = n("305961"),
                I = n("957255"),
                T = n("800762"),
                N = n("512264"),
                x = n("325861"),
                v = n("584199"),
                A = n("116386"),
                M = n("49111"),
                R = n("99795"),
                L = n("649381");
            let O = 16 / 9,
                y = e => {
                    let {
                        stageParticipant: t,
                        rtcParticipant: n,
                        channel: s,
                        guildId: i,
                        user: r,
                        width: o,
                        isModerator: d,
                        onContextMenu: c,
                        inPopout: f
                    } = e, {
                        reducedMotion: h
                    } = l.useContext(u.AccessibilityPreferencesContext), {
                        blocked: p,
                        id: m
                    } = t;
                    return (0, a.jsx)(u.Popout, {
                        preload: null == n ? void 0 : () => (0, _.default)(n.user.id, n.user.getAvatarURL(s.guild_id, 80), {
                            guildId: s.guild_id,
                            channelId: s.id
                        }),
                        renderPopout: e => (0, a.jsx)(S.default, {
                            ...e,
                            guildId: i,
                            channelId: s.id,
                            userId: r.id
                        }),
                        position: "right",
                        spacing: 8,
                        children: e => (0, a.jsx)(u.Clickable, {
                            onContextMenu: e => c(n, e),
                            ...e,
                            children: (0, a.jsx)(v.default, {
                                participant: n,
                                aspectRatio: O,
                                blocked: p,
                                channel: s,
                                className: L.tile,
                                inCall: !0,
                                inPopout: f,
                                paused: !1,
                                pulseSpeakingIndicator: !h.enabled,
                                width: o,
                                children: d && (0, a.jsx)(A.default, {})
                            }, m)
                        })
                    })
                },
                j = e => {
                    let {
                        stageParticipant: t,
                        rtcParticipant: n,
                        channel: s,
                        width: i,
                        isModerator: d,
                        onContextMenu: f,
                        inPopout: _
                    } = e, {
                        reducedMotion: S
                    } = l.useContext(u.AccessibilityPreferencesContext), {
                        id: x,
                        blocked: y
                    } = t, j = (0, r.useStateFromStoresArray)([C.default], () => C.default.getAllActiveStreams(), []), {
                        selectedParticipant: P,
                        largeStream: D
                    } = (0, r.useStateFromStoresObject)([h.default], () => ({
                        selectedParticipant: null != s ? h.default.getSelectedParticipant(s.id) : null,
                        largeStream: null != s && h.default.getStageStreamSize(s.id)
                    })), b = l.useCallback((e, t) => {
                        if (e.type === R.ParticipantTypes.STREAM) {
                            let n = j.filter(t => (0, m.encodeStreamKey)(t) === e.id && t.state !== M.ApplicationStreamStates.ENDED);
                            if (0 === n.length) {
                                if (!(0, E.canWatchStream)(s, T.default, g.default, I.default, p.default)[0]) return;
                                (0, c.watchStream)((0, m.decodeStreamKey)(e.id), {
                                    forceMultiple: t.shiftKey
                                })
                            }
                        }(null == P ? void 0 : P.id) === e.id ? D ? (o.default.selectParticipant(s.id, null), o.default.updateStageStreamSize(s.id, !1)) : o.default.updateStageStreamSize(s.id, !0) : (o.default.updateStageStreamSize(s.id, !1), o.default.selectParticipant(s.id, e.id))
                    }, [j, s, P, D]);
                    return (0, a.jsx)(v.default, {
                        participant: n,
                        aspectRatio: O,
                        fit: n.type === R.ParticipantTypes.USER ? N.VideoStreamFit.COVER : void 0,
                        blocked: y,
                        channel: s,
                        className: L.tile,
                        inCall: !0,
                        inPopout: _,
                        onClick: b,
                        onContextMenu: f,
                        paused: !1,
                        pulseSpeakingIndicator: !S.enabled,
                        width: i,
                        children: d && n.type === R.ParticipantTypes.USER && (0, a.jsx)(A.default, {})
                    }, x)
                };
            var P = l.memo(function(e) {
                var t;
                let {
                    participant: l,
                    channel: s,
                    width: u
                } = e, o = (0, f.useAppContext)(), c = s.getGuildId();
                i(null != c, "Channel cannot be guildless");
                let {
                    user: p
                } = l, m = (0, r.useStateFromStores)([h.default], () => h.default.getParticipant(s.id, l.id), [s.id, l.id]), E = (0, r.useStateFromStores)([x.default], () => x.default.isModerator(p.id, s.id), [s.id, p.id]);
                if (null == m || m.type === R.ParticipantTypes.ACTIVITY) return null;
                let _ = (e, t) => {
                        switch (e.type) {
                            case R.ParticipantTypes.HIDDEN_STREAM:
                            case R.ParticipantTypes.STREAM:
                                (0, d.openContextMenuLazy)(t, async () => {
                                    let {
                                        default: t
                                    } = await n.el("172844").then(n.bind(n, "172844"));
                                    return n => (0, a.jsx)(t, {
                                        ...n,
                                        stream: e.stream,
                                        appContext: o,
                                        exitFullscreen: () => {}
                                    })
                                }, {
                                    context: o
                                });
                                return;
                            case R.ParticipantTypes.USER:
                            default:
                                (0, d.openContextMenuLazy)(t, async () => {
                                    let {
                                        default: e
                                    } = await n.el("834247").then(n.bind(n, "834247"));
                                    return t => (0, a.jsx)(e, {
                                        ...t,
                                        user: p,
                                        guildId: c,
                                        channel: s,
                                        showMediaItems: !0,
                                        showStageChannelItems: !0,
                                        showChatItems: !1
                                    })
                                }, {
                                    context: o
                                })
                        }
                    },
                    S = m.type === R.ParticipantTypes.USER && !(null === (t = m.voiceState) || void 0 === t ? void 0 : t.selfVideo);
                return (0, a.jsx)(a.Fragment, {
                    children: S ? (0, a.jsx)(y, {
                        stageParticipant: l,
                        rtcParticipant: m,
                        channel: s,
                        guildId: c,
                        user: p,
                        width: u,
                        isModerator: E,
                        onContextMenu: _,
                        inPopout: o === M.AppContext.POPOUT
                    }) : (0, a.jsx)(j, {
                        stageParticipant: l,
                        rtcParticipant: m,
                        channel: s,
                        guildId: c,
                        user: p,
                        width: u,
                        isModerator: E,
                        onContextMenu: _,
                        inPopout: o === M.AppContext.POPOUT
                    })
                })
            })
        },
        679703: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return N
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("446674"),
                s = n("669491"),
                i = n("77078"),
                r = n("888237"),
                u = n("18517"),
                o = n("109526"),
                d = n("487984"),
                c = n("817963"),
                f = n("957255"),
                h = n("228427"),
                p = n("811305"),
                m = n("923510"),
                E = n("759718"),
                _ = n("58763"),
                S = n("119184"),
                C = n("782340"),
                g = n("563040");

            function I(e) {
                let {
                    onClick: t
                } = e;
                return (0, a.jsx)(r.default, {
                    iconContainerClassName: g.continueIconContainer,
                    icon: (0, a.jsx)(h.default, {
                        className: g.continueIcon,
                        height: 20,
                        width: 20
                    }),
                    color: s.default.unsafe_rawColors.PRIMARY_700.css,
                    title: C.default.Messages.STAGE_CONTINUE_PROMPT_TITLE,
                    description: C.default.Messages.STAGE_CONTINUE_PROMPT_SUBTITLE,
                    onClick: t
                })
            }

            function T(e) {
                let {
                    channel: t
                } = e, {
                    participants: n,
                    usersInSummary: l
                } = (0, E.default)(t.id);
                return (0, a.jsxs)("div", {
                    className: g.audienceSummary,
                    children: [(0, a.jsx)(p.default, {
                        className: g.summaryItem,
                        guildId: t.guild_id,
                        users: l,
                        size: p.Sizes.SIZE_16
                    }), (0, a.jsx)(i.Text, {
                        variant: "text-sm/normal",
                        color: "header-secondary",
                        children: function(e) {
                            if (0 === e.length) return "";
                            if (1 === e.length) return C.default.Messages.STAGE_AUDIENCE_WAITING_ONE.format({
                                first: e[0].userNick
                            });
                            if (2 === e.length) return C.default.Messages.STAGE_AUDIENCE_WAITING_TWO.format({
                                first: e[0].userNick,
                                second: e[1].userNick
                            });
                            let t = e.length - 2;
                            return C.default.Messages.STAGE_AUDIENCE_WAITING_MANY.format({
                                first: e[0].userNick,
                                second: e[1].userNick,
                                numOthers: t
                            })
                        }(n)
                    })]
                })
            }

            function N(e) {
                let {
                    channel: t,
                    onContinueClick: n
                } = e, s = (0, l.useStateFromStores)([f.default], () => f.default.can(m.MODERATE_STAGE_CHANNEL_PERMISSIONS, t), [t]), r = t.guild_id, {
                    canCreateGuildEvent: p
                } = (0, c.useManageResourcePermissions)(t), N = (0, _.default)(t.id), {
                    usersInSummary: x
                } = (0, E.default)(t.id);
                return (0, a.jsxs)("div", {
                    children: [(0, a.jsx)(S.default, {
                        children: (0, a.jsx)("div", {
                            className: g.iconBackground,
                            children: (0, a.jsx)(h.default, {
                                width: 40,
                                height: 40,
                                className: g.icon
                            })
                        })
                    }), (0, a.jsxs)("div", {
                        className: g.headerContainer,
                        children: [(0, a.jsx)(i.Heading, {
                            className: g.title,
                            variant: "heading-xl/semibold",
                            children: C.default.Messages.STAGE_START_PROMPT_TITLE_MODERATOR
                        }), (0, a.jsx)(i.Text, {
                            className: g.subtitle,
                            variant: "text-sm/normal",
                            children: C.default.Messages.STAGE_START_PROMPT_SUBTITLE
                        })]
                    }), N ? null : (0, a.jsx)(o.default, {
                        channelId: t.id
                    }), s ? (0, a.jsx)(d.default, {
                        className: g.eventPrompt,
                        channel: t
                    }) : null, p ? (0, a.jsx)(u.default, {
                        className: g.eventPrompt,
                        guildId: r
                    }) : null, (s || x.length > 0) && (0, a.jsx)("hr", {
                        className: g.separator
                    }), s ? (0, a.jsx)(I, {
                        onClick: n
                    }) : null, (0, a.jsx)(T, {
                        channel: t
                    })]
                })
            }
        },
        92447: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return g
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("446674"),
                i = n("913144"),
                r = n("255397"),
                u = n("716241"),
                o = n("191145"),
                d = n("383294"),
                c = n("95032"),
                f = n("18494"),
                h = n("599110"),
                p = n("659500"),
                m = n("773336"),
                E = n("563680"),
                _ = n("49111"),
                S = n("580105");
            let C = () => {
                i.default.wait(() => d.close(_.PopoutWindowKeys.CHANNEL_CALL_POPOUT))
            };

            function g(e) {
                let {
                    channel: t,
                    appContext: n,
                    popoutOpen: i,
                    popoutWindow: d,
                    currentWindow: g
                } = e, I = n === _.AppContext.POPOUT, T = l.useRef(null), {
                    currentLayout: N,
                    mode: x
                } = (0, s.useStateFromStoresObject)([o.default], () => {
                    let e = o.default.getMode(t.id),
                        a = n === _.AppContext.POPOUT;
                    a && (e = _.ChannelModes.VIDEO);
                    let l = e === _.ChannelModes.VIDEO ? o.default.getLayout(t.id, n) : _.ChannelLayouts.MINIMUM;
                    return a && l !== _.ChannelLayouts.FULL_SCREEN && (l = _.ChannelLayouts.NO_CHAT), {
                        currentLayout: l,
                        mode: e
                    }
                }, [t, n]), v = (0, s.useStateFromStores)([f.default], () => f.default.getVoiceChannelId() === t.id, [t.id]);
                l.useEffect(() => {
                    T.current = x
                });
                let A = l.useRef(N),
                    {
                        currentDocument: M,
                        rootNode: R
                    } = l.useMemo(() => {
                        let e = null != d && I ? d.document : document,
                            t = g.document.getElementById("app-mount");
                        return {
                            currentWindow: g,
                            currentDocument: e,
                            rootNode: t
                        }
                    }, [d, I, g]),
                    L = i && !I,
                    O = x === _.ChannelModes.VIDEO && v && !L,
                    y = l.useCallback((e, a) => {
                        a !== e && (r.default.updateLayout(t.id, a, n), a === _.ChannelLayouts.FULL_SCREEN && t.isPrivate() && p.ComponentDispatch.dispatch(_.ComponentActions.TEXTAREA_BLUR))
                    }, [n, t]),
                    j = l.useCallback(e => {
                        if (null != R) e === _.ChannelLayouts.FULL_SCREEN && (y(e, A.current), (0, E.exitFullScreen)(e => {
                            A.current = e
                        }, M))
                    }, [M, y, R]),
                    P = l.useCallback(e => () => {
                        null != R && (e !== _.ChannelLayouts.FULL_SCREEN ? (A.current = e, y(e, _.ChannelLayouts.FULL_SCREEN), (0, E.requestFullScreen)(R)) : j(e))
                    }, [y, j, R]);
                return (l.useEffect(() => {
                    let e = () => {
                        null != R && !(0, E.isFullScreen)(R, M) && N === _.ChannelLayouts.FULL_SCREEN && P(N)()
                    };
                    return M.addEventListener(E.FULLSCREEN_CHANGE_EVENT, e), () => {
                        M.removeEventListener(E.FULLSCREEN_CHANGE_EVENT, e)
                    }
                }, [M, N, P, R]), l.useEffect(() => (h.default.track(_.AnalyticEvents.VIDEO_LAYOUT_TOGGLED, {
                    video_layout: I ? "popout" : N,
                    ...(0, u.collectVoiceAnalyticsMetadata)(t.id)
                }), () => {
                    !(I && (0, m.isMac)()) && j(N)
                }), [N, I]), l.useEffect(() => {
                    null != R && T.current === _.ChannelModes.VIDEO && x === _.ChannelModes.VOICE && (0, E.exitFullScreen)(R, M)
                }, [M, x, T, R]), l.useEffect(() => {
                    !v && I && C()
                }, [v, I]), O) ? (0, a.jsx)(c.default, {
                    themeable: !1,
                    node: R,
                    guestWindow: d,
                    className: S.rightTrayIcon,
                    onClick: P(N)
                }) : null
            }
        },
        96151: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var a = n("446674"),
                l = n("191145"),
                s = n("305961"),
                i = n("957255"),
                r = n("567469"),
                u = n("998716"),
                o = n("923510"),
                d = n("819450"),
                c = n("49111");

            function f(e) {
                var t;
                let n = (0, a.useStateFromStores)([l.default], () => l.default.getStageVideoLimitBoostUpsellDismissed(e.id), [e.id]),
                    f = (0, r.useActualStageSpeakerCount)(e.id),
                    h = (0, r.useStageParticipantsCount)(e.id, u.StageChannelParticipantNamedIndex.AUDIENCE),
                    p = (0, d.useStageHasMedia)(e.id),
                    m = (0, a.useStateFromStores)([s.default], () => s.default.getGuild(e.guild_id), [e.guild_id]),
                    E = (0, a.useStateFromStores)([i.default], () => i.default.can(o.MODERATE_STAGE_CHANNEL_PERMISSIONS, e), [e]),
                    _ = null !== (t = null == m ? void 0 : m.maxStageVideoChannelUsers) && void 0 !== t ? t : 0,
                    S = !(null == m ? void 0 : m.isCommunity()) && _ > c.MAX_STAGE_VIDEO_USER_LIMIT_TIER3;
                return p && !n && E && !S && f + h >= _
            }
        },
        910927: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                makeEmptyTitleError: function() {
                    return o
                },
                makeEmptyMessageError: function() {
                    return d
                },
                makeAutomodViolationError: function() {
                    return c
                },
                renderError: function() {
                    return f
                }
            });
            var a, l, s = n("600798"),
                i = n("782340");

            function r(e, t) {
                return {
                    type: e,
                    message: null != t ? t : null
                }
            }

            function u(e) {
                return r(l.EmptyContent, e)
            }

            function o() {
                return u(i.default.Messages.FORM_THREAD_NAME_REQUIRED_ERROR)
            }

            function d() {
                return u(i.default.Messages.FORM_THREAD_STARTER_MESSAGE_REQUIRED_ERROR)
            }

            function c(e, t) {
                return r(l.AutomodViolation, (0, s.getAutomodErrorMessageFromErrorResponse)(e, null == t ? void 0 : t.id))
            }

            function f(e, t) {
                var n;
                return null == e || e.type === l.EmptyContent && null != t.content && t.content.trim().length > 0 ? null : null !== (n = e.message) && void 0 !== n ? n : null
            }(a = l || (l = {}))[a.EmptyContent = 0] = "EmptyContent", a[a.AutomodViolation = 1] = "AutomodViolation"
        },
        256648: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useThreadMemberListSections: function() {
                    return d
                }
            });
            var a = n("884691"),
                l = n("917351"),
                s = n.n(l),
                i = n("446674"),
                r = n("593752"),
                u = n("782340");
            let o = [];

            function d(e, t) {
                let {
                    version: n,
                    members: l
                } = (0, i.useStateFromStoresObject)([r.default], () => ({
                    version: r.default.getMemberListVersion(e),
                    members: r.default.getMemberListSections(e)
                })), d = a.useMemo(() => {
                    if (null == t) return o;
                    let e = s(t.roles).values().filter(e => e.hoist).sortBy(e => e.position).reverse().map(e => e.id).value();
                    return e.push("online", "offline"), e.map(e => {
                        var n, a;
                        let s = t.roles[e],
                            i = "online" === e ? u.default.Messages.STATUS_ONLINE : "offline" === e ? u.default.Messages.STATUS_OFFLINE : s.name,
                            r = null !== (a = null == l ? void 0 : null === (n = l[e]) || void 0 === n ? void 0 : n.userIds) && void 0 !== a ? a : [];
                        return {
                            label: i,
                            userIds: r,
                            id: e,
                            roleId: e
                        }
                    })
                }, [null == t ? void 0 : t.roles, l, n]);
                return null != l ? d : o
            }
        },
        593752: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return x
                }
            });
            var a = n("917351"),
                l = n.n(a),
                s = n("249654"),
                i = n("446674"),
                r = n("913144"),
                u = n("42203"),
                o = n("26989"),
                d = n("10802"),
                c = n("824563"),
                f = n("101125"),
                h = n("697218"),
                p = n("449008"),
                m = n("991170"),
                E = n("158998"),
                _ = n("49111");
            let S = {};
            class C {
                rebuild(e) {
                    this.version++, this.sections = {}, null != e && (this.allUserIds = new Set(e));
                    let t = u.default.getChannel(this.parentId);
                    l(Array.from(this.allUserIds)).map(e => {
                        let [n, a, l] = this.calculateNewState(e, t);
                        return {
                            userId: e,
                            sectionId: n,
                            displayName: a,
                            canViewChannel: l
                        }
                    }).sort((e, t) => s.default.compare(e.userId, t.userId)).sortBy(e => e.displayName).forEach(e => {
                        this.addUser(e.userId, e.sectionId, e.displayName, e.canViewChannel, !0)
                    })
                }
                updateMultipleUserIds(e, t) {
                    return (null == t || this.guildId === t) && 0 !== (e = e.filter(e => this.allUserIds.has(e))).length && (e.length > 50 ? this.rebuild() : e.forEach(e => this.updateUserId(e)), !0)
                }
                updateUserId(e) {
                    if (!this.allUserIds.has(e)) return !1;
                    let [t, n, a] = this.findOldState(e), [l, s, i] = this.calculateNewState(e, u.default.getChannel(this.parentId));
                    return (t !== l || n !== s || a !== i) && (this.removeUserId(e, t), this.addUser(e, l, s, i), !0)
                }
                addUserId(e) {
                    let [t, n, a] = this.calculateNewState(e, u.default.getChannel(this.parentId));
                    this.addUser(e, t, n, a)
                }
                removeUserId(e, t) {
                    if (this.allUserIds.delete(e), null != t && this.removeUserIdFromSection(e, t)) return !0;
                    for (let t in this.sections)
                        if (this.removeUserIdFromSection(e, t)) return !0;
                    return !1
                }
                addUser(e, t, n, a, l) {
                    this.allUserIds.add(e);
                    let s = h.default.getUser(e);
                    if (null == s || "" === s.username) return;
                    !(t in this.sections) && (this.sections[t] = {
                        sectionId: t,
                        usersById: {},
                        userIds: []
                    });
                    let i = this.sections[t];
                    if (i.usersById[e] = {
                            userId: e,
                            displayName: n,
                            canViewChannel: a
                        }, l) i.userIds.push(e);
                    else {
                        let t = this.findUserIdSortedPosition(i, e, n);
                        i.userIds.splice(t, 0, e)
                    }
                    this.version++
                }
                findUserIdSortedPosition(e, t, n) {
                    let {
                        userIds: a,
                        usersById: l
                    } = e;
                    for (let e = 0; e < a.length; e++) {
                        let s = a[e],
                            i = l[s].displayName;
                        if (i === n) {
                            if (t < s) return e
                        } else if (null == i) {
                            if (null != n) return e
                        } else if (null != n && n < i) return e
                    }
                    return a.length
                }
                removeUserIdFromSection(e, t) {
                    let n = this.sections[t];
                    return null != t && e in n.usersById && (delete n.usersById[e], n.userIds = n.userIds.filter(t => t !== e), this.version++, !0)
                }
                findOldState(e) {
                    for (let t in this.sections) {
                        let n = this.sections[t];
                        if (e in n.usersById) {
                            let a = n.usersById[e];
                            return [t, a.displayName, a.canViewChannel]
                        }
                    }
                    return [void 0, void 0, !1]
                }
                calculateNewState(e, t) {
                    var n, a;
                    let l = o.default.getMember(this.guildId, e),
                        s = h.default.getUser(e),
                        i = h.default.getCurrentUser(),
                        r = (null == s ? void 0 : s.id) === (null == i ? void 0 : i.id),
                        u = r ? f.default.getStatus() : c.default.getStatus(e, this.guildId),
                        d = null != s && null != t && m.default.can({
                            permission: _.Permissions.VIEW_CHANNEL,
                            user: s,
                            context: t
                        }),
                        p = u !== _.StatusTypes.OFFLINE && u !== _.StatusTypes.INVISIBLE && u !== _.StatusTypes.UNKNOWN,
                        S = p ? null !== (n = null == l ? void 0 : l.hoistRoleId) && void 0 !== n ? n : "online" : "offline",
                        C = null !== (a = null == l ? void 0 : l.nick) && void 0 !== a ? a : E.default.getName(s);
                    return [S, null == C ? void 0 : C.toLowerCase(), d]
                }
                constructor(e, t, n) {
                    this.guildId = e, this.parentId = t, this.threadId = n, this.version = 0, this.sections = {}, this.allUserIds = new Set
                }
            }

            function g(e) {
                return I(e.user.id)
            }

            function I(e) {
                if (null == e) return !1;
                let t = !1;
                for (let n in S) S[n].updateUserId(e) && (t = !0);
                return t
            }

            function T(e) {
                let {
                    guildId: t
                } = e, n = !1;
                for (let e in S) S[e].guildId === t && (S[e].rebuild(), n = !0);
                return n
            }
            class N extends i.default.Store {
                initialize() {
                    this.waitFor(u.default, o.default, d.default, c.default, f.default, h.default), this.syncWith([d.default], () => {
                        let e = d.default.getSubscribedThreadIds(),
                            t = !1;
                        for (let n in S) !e.has(n) && (delete S[n], t = !0);
                        return t
                    }), this.syncWith([f.default], () => {
                        var e;
                        return I(null === (e = h.default.getCurrentUser()) || void 0 === e ? void 0 : e.id)
                    })
                }
                getMemberListVersion(e) {
                    var t;
                    return null === (t = S[e]) || void 0 === t ? void 0 : t.version
                }
                getMemberListSections(e) {
                    var t;
                    return null === (t = S[e]) || void 0 === t ? void 0 : t.sections
                }
                canUserViewChannel(e, t, n) {
                    var a, l;
                    let s = S[e];
                    if (null == s) return !1;
                    let i = null === (a = s.sections[t]) || void 0 === a ? void 0 : a.usersById[n];
                    return null !== (l = null == i ? void 0 : i.canViewChannel) && void 0 !== l && l
                }
            }
            N.displayName = "ThreadMemberListStore";
            var x = new N(r.default, {
                CONNECTION_OPEN: function() {
                    S = {}
                },
                THREAD_MEMBERS_UPDATE: function(e) {
                    var t, n;
                    if (!(e.id in S)) return !1;
                    null === (t = e.addedMembers) || void 0 === t || t.forEach(t => {
                        let {
                            userId: n
                        } = t;
                        return S[e.id].addUserId(n)
                    }), null === (n = e.removedMemberIds) || void 0 === n || n.forEach(t => S[e.id].removeUserId(t))
                },
                THREAD_UPDATE: function(e) {
                    var t;
                    let {
                        channel: n
                    } = e;
                    if (!(n.id in S) || (null === (t = n.threadMetadata) || void 0 === t ? void 0 : t.archived) !== !0) return !1;
                    delete S[n.id]
                },
                THREAD_DELETE: function(e) {
                    let {
                        channel: t
                    } = e;
                    if (!(t.id in S)) return !1;
                    delete S[t.id]
                },
                CHANNEL_UPDATES: function(e) {
                    let {
                        channels: t
                    } = e, n = new Set(t.map(e => e.id)), a = !1;
                    for (let e in S) n.has(S[e].parentId) && (S[e].rebuild(), a = !0);
                    return a
                },
                THREAD_MEMBER_LIST_UPDATE: function(e) {
                    let {
                        threadId: t,
                        guildId: n,
                        members: a
                    } = e, l = u.default.getChannel(t), s = null == l ? void 0 : l.parent_id;
                    null != s && (S[t] = new C(n, s, t), S[t].rebuild(a.map(e => e.user_id)))
                },
                USER_UPDATE: g,
                PRESENCE_UPDATES: function(e) {
                    let {
                        updates: t
                    } = e;
                    return t.map(e => {
                        let {
                            user: t
                        } = e;
                        return I(t.id)
                    }).some(e => e)
                },
                GUILD_MEMBER_ADD: g,
                GUILD_MEMBER_UPDATE: g,
                GUILD_MEMBER_REMOVE: g,
                PRESENCES_REPLACE: function(e) {
                    let {
                        presences: t
                    } = e, n = l(t).map(e => {
                        var t;
                        return null === (t = e.user) || void 0 === t ? void 0 : t.id
                    }).filter(p.isNotNullish).uniq().value(), a = !1;
                    for (let e in S) S[e].updateMultipleUserIds(n) && (a = !0);
                    return a
                },
                GUILD_MEMBERS_CHUNK: function(e) {
                    let {
                        guildId: t,
                        members: n
                    } = e, a = n.map(e => e.user.id), l = !1;
                    for (let e in S) S[e].updateMultipleUserIds(a, t) && (l = !0);
                    return l
                },
                GUILD_ROLE_UPDATE: T,
                GUILD_ROLE_DELETE: T,
                PASSIVE_UPDATE_V1: function(e) {
                    var t;
                    return null === (t = e.members) || void 0 === t ? void 0 : t.reduce((e, t) => I(t.user.id) || e, !1)
                }
            })
        },
        445375: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return X
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("446674"),
                u = n("77078"),
                o = n("295426"),
                d = n("352674"),
                c = n("125667"),
                f = n("264732"),
                h = n("206230"),
                p = n("812204"),
                m = n("685665"),
                E = n("850391"),
                _ = n("149022"),
                S = n("681060"),
                C = n("376215"),
                g = n("172554"),
                I = n("699473"),
                T = n("328511"),
                N = n("467094"),
                x = n("845579"),
                v = n("42203"),
                A = n("474643"),
                M = n("377253"),
                R = n("957255"),
                L = n("585722"),
                O = n("476765"),
                y = n("945330"),
                j = n("745183"),
                P = n("959097"),
                D = n("664336"),
                b = n("378765"),
                U = n("718422"),
                F = n("412861"),
                w = n("910927"),
                G = n("730498"),
                B = n("24337"),
                k = n("967241"),
                H = n("517141"),
                V = n("49111"),
                W = n("782340"),
                Y = n("276159"),
                z = n("881812");
            let K = E.ChatInputTypes.THREAD_CREATION;

            function X(e) {
                let {
                    parentChannelId: t,
                    parentMessageId: n,
                    location: l
                } = e, s = (0, r.useStateFromStores)([v.default], () => v.default.getChannel(t)), {
                    AnalyticsLocationProvider: i
                } = (0, m.default)(p.default.CREATE_THREAD);
                return null == s ? null : (0, a.jsx)(i, {
                    children: (0, a.jsx)(b.ComponentDispatchGroupProvider, {
                        children: (0, a.jsxs)("section", {
                            "aria-label": W.default.Messages.CREATE_THREAD,
                            className: Y.container,
                            children: [(0, a.jsx)(f.default, {
                                channel: s,
                                draftType: A.DraftType.FirstThreadMessage
                            }), (0, a.jsxs)(D.default, {
                                toolbar: (0, a.jsx)(D.default.Icon, {
                                    icon: y.default,
                                    tooltip: W.default.Messages.CLOSE,
                                    onClick: () => (0, k.closeAndClearThreadSidebar)(t)
                                }),
                                children: [(0, a.jsx)(D.default.Icon, {
                                    icon: P.default,
                                    disabled: !0,
                                    "aria-label": W.default.Messages.THREAD
                                }), (0, a.jsx)(D.default.Title, {
                                    children: W.default.Messages.NEW_THREAD
                                })]
                            }), (0, a.jsx)(q, {
                                parentChannel: s,
                                parentMessageId: n,
                                location: l
                            })]
                        })
                    })
                })
            }

            function q(e) {
                let {
                    parentChannel: t,
                    parentMessageId: n,
                    location: s
                } = e, d = (0, r.useStateFromStores)([h.default], () => h.default.messageGroupSpacing), f = function() {
                    let e = l.useContext(b.ComponentDispatchGroupContext);
                    return l.useCallback(() => {
                        e.bumpDispatchPriority()
                    }, [e])
                }(), {
                    threadSettings: p,
                    setThreadSettings: m,
                    updateThreadSettings: E
                } = function(e, t) {
                    let [n, a] = l.useState({}), s = l.useCallback(n => {
                        a(e => ({
                            ...e,
                            ...n
                        })), o.default.changeThreadSettings(e.id, {
                            ...n,
                            parentMessageId: t
                        })
                    }, [e.id, t]);
                    return {
                        threadSettings: n,
                        setThreadSettings: a,
                        updateThreadSettings: s
                    }
                }(t, n), {
                    textAreaState: S,
                    setTextAreaState: C
                } = function(e, t) {
                    let [n, a] = l.useState((0, _.createEmptyState)());
                    return l.useEffect(() => {
                        function n(n) {
                            var l;
                            let s = A.default.getDraft(e.id, A.DraftType.FirstThreadMessage);
                            (0 === s.length || !0 === n) && a((0, _.createState)(s)), t(null !== (l = A.default.getThreadSettings(e.id)) && void 0 !== l ? l : {})
                        }
                        return n(!0), A.default.addChangeListener(n), () => {
                            A.default.removeChangeListener(n)
                        }
                    }, [e.id, t]), {
                        textAreaState: n,
                        setTextAreaState: a
                    }
                }(t, m), I = (0, G.usePrivateThreadMode)(t), {
                    nameError: x,
                    messageError: v,
                    submit: M
                } = function(e) {
                    let {
                        parentChannel: t,
                        parentMessageId: n,
                        threadSettings: a,
                        privateThreadMode: s,
                        textAreaState: i,
                        location: r
                    } = e, [u, o] = l.useState(null), [d, c] = l.useState(null), f = (0, H.default)({
                        parentChannel: t,
                        parentMessageId: n,
                        threadSettings: a,
                        privateThreadMode: s,
                        location: r,
                        onThreadCreated: k.openThreadSidebarForViewing,
                        useDefaultThreadName: !0
                    }), h = l.useCallback(async (e, l, s) => {
                        var r, u, d;
                        null == e && (e = i.textValue), e = e.trim(), (null == l || 0 === l.length) && (l = null === (r = T.default.getStickerPreview(t.id, K.drafts.type)) || void 0 === r ? void 0 : r.map(e => e.id)), (null == s || 0 === s.length) && (s = L.default.getUploads(t.id, A.DraftType.FirstThreadMessage));
                        let h = null !== (u = a.name) && void 0 !== u ? u : "",
                            p = null == n && 0 === h.length,
                            m = "" === e && (null == l || 0 === l.length) && 0 === s.length;
                        if (o(p ? (0, w.makeEmptyTitleError)() : null), c(m ? (0, w.makeEmptyMessageError)() : null), p || m) return {
                            shouldClear: !1,
                            shouldRefocus: !0
                        };
                        if (null == n) {
                            let {
                                valid: n
                            } = await (0, U.applyChatRestrictions)({
                                content: e,
                                stickers: l,
                                uploads: s,
                                type: K,
                                channel: t
                            });
                            if (!n) return {
                                shouldClear: !1,
                                shouldRefocus: !0
                            }
                        }
                        try {
                            await f(e, l, s)
                        } catch (e) {
                            return (null === (d = e.body) || void 0 === d ? void 0 : d.code) === V.AbortCodes.AUTOMOD_TITLE_BLOCKED && o((0, w.makeAutomodViolationError)(e.body, t)), {
                                shouldClear: !1,
                                shouldRefocus: !0
                            }
                        }
                        return (0, N.clearStickerPreview)(t.id, K.drafts.type), {
                            shouldClear: !0,
                            shouldRefocus: !1
                        }
                    }, [f, i.textValue, a.name, n, t]);
                    return {
                        nameError: u,
                        messageError: d,
                        submit: h
                    }
                }({
                    parentChannel: t,
                    parentMessageId: n,
                    threadSettings: p,
                    privateThreadMode: I,
                    textAreaState: S,
                    location: s
                }), R = (0, G.getIsPrivate)(p, I) ? j.default : P.default;
                return (0, a.jsx)("div", {
                    className: Y.chat,
                    onMouseDown: f,
                    onFocus: f,
                    children: (0, a.jsx)("div", {
                        className: i(Y.messagesWrapper, "group-spacing-".concat(d)),
                        children: (0, a.jsxs)("form", {
                            onSubmit: e => {
                                e.preventDefault(), M()
                            },
                            className: Y.form,
                            children: [(0, a.jsx)(u.Scroller, {
                                className: Y.scroller,
                                fade: !0,
                                children: (0, a.jsxs)("div", {
                                    className: Y.scrollerInner,
                                    children: [(0, a.jsxs)(g.default, {
                                        channelId: "create-thread-null",
                                        children: [(0, a.jsx)("div", {
                                            className: z.iconWrapper,
                                            children: (0, a.jsx)(R, {
                                                className: z.icon
                                            })
                                        }), (0, a.jsx)(Q, {
                                            parentChannel: t,
                                            parentMessageId: n,
                                            threadSettings: p,
                                            updateThreadSettings: E,
                                            error: x
                                        }), t.type === V.ChannelTypes.GUILD_TEXT ? (0, a.jsx)(Z, {
                                            startedFromMessage: null != n,
                                            threadSettings: p,
                                            updateThreadSettings: E,
                                            privateThreadMode: I
                                        }) : null]
                                    }), (0, a.jsx)($, {
                                        parentChannel: t,
                                        parentMessageId: n
                                    })]
                                })
                            }), (0, a.jsxs)("div", {
                                className: Y.submitContainer,
                                children: [(0, a.jsx)(J, {
                                    parentChannel: t,
                                    textAreaState: S,
                                    setTextAreaState: C,
                                    submit: M,
                                    error: v
                                }), (0, a.jsx)(c.default, {
                                    channel: t,
                                    isThreadCreation: !0
                                })]
                            })]
                        })
                    })
                })
            }

            function Z(e) {
                let {
                    startedFromMessage: t,
                    threadSettings: n,
                    updateThreadSettings: l,
                    privateThreadMode: s
                } = e, r = (0, G.getIsPrivate)(n, s), o = (0, a.jsx)("div", {
                    className: Y.privateThreadFormTitle,
                    children: (0, a.jsx)("span", {
                        className: Y.privateThreadFormTitleText,
                        children: W.default.Messages.PRIVATE_THREAD
                    })
                }), d = (0, a.jsx)(u.Checkbox, {
                    className: i(Y.checkbox),
                    type: u.Checkbox.Types.INVERTED,
                    disabled: s === G.PrivateThreadMode.PrivateOnly,
                    value: r,
                    onChange: (e, t) => l({
                        isPrivate: t
                    }),
                    children: (0, a.jsx)(u.Text, {
                        variant: "text-md/normal",
                        color: "none",
                        children: W.default.Messages.FORM_THREAD_PRIVATE_THREAD_SECTION_LABEL
                    })
                });
                return t || s === G.PrivateThreadMode.Disabled ? null : (0, a.jsxs)(u.FormSection, {
                    title: o,
                    className: Y.formSection,
                    children: [d, r ? (0, a.jsx)(u.Text, {
                        className: Y.privateThreadDescription,
                        variant: "text-xs/normal",
                        color: "header-secondary",
                        children: W.default.Messages.FORM_THREAD_PRIVATE_THREAD_DESCRIPTION
                    }) : null]
                })
            }

            function Q(e) {
                var t;
                let {
                    parentChannel: n,
                    parentMessageId: l,
                    threadSettings: s,
                    updateThreadSettings: i,
                    error: r
                } = e, o = null !== (t = s.name) && void 0 !== t ? t : "", c = (0, w.renderError)(r, {
                    content: o
                }), f = (0, G.getDefaultThreadName)(n, l), h = null != l, p = (0, O.useUID)();
                return (0, a.jsx)(u.FormSection, {
                    tag: "label",
                    htmlFor: p,
                    title: W.default.Messages.THREAD_NAME + (h ? " (Optional)" : ""),
                    className: Y.formSection,
                    children: (0, a.jsx)(u.TextInput, {
                        value: o,
                        id: p,
                        placeholder: "" !== f ? f : W.default.Messages.FORM_THREAD_NAME_PLACEHOLDER,
                        maxLength: V.MAX_CHANNEL_NAME_LENGTH,
                        onChange: e => {
                            i({
                                name: (0, B.default)(e, !1)
                            }), "" !== e ? d.default.startTyping(n.id) : d.default.stopTyping(n.id)
                        },
                        onBlur: () => {
                            let e = (0, B.default)(o, !0);
                            e !== o && i({
                                name: e
                            })
                        },
                        error: c
                    })
                })
            }

            function J(e) {
                let {
                    parentChannel: t,
                    textAreaState: n,
                    setTextAreaState: s,
                    submit: c,
                    error: f
                } = e, [h, p] = l.useState(!0), m = l.useCallback(() => p(!0), []), E = l.useCallback(() => p(!1), []), _ = l.useCallback((e, n, a) => {
                    o.default.saveDraft(t.id, n, A.DraftType.FirstThreadMessage), s(e => ("" !== n && e.textValue !== n ? d.default.startTyping(t.id) : "" === n && d.default.stopTyping(t.id), {
                        textValue: n,
                        richValue: a
                    }))
                }, [t.id, s]), g = l.useCallback(e => {
                    let {
                        value: t,
                        uploads: n,
                        stickers: a
                    } = e;
                    return c(t, a, n)
                }, [c]);
                (0, b.useComponentAction)({
                    event: V.ComponentActions.TEXTAREA_FOCUS,
                    handler: m
                }), (0, b.useComponentAction)({
                    event: V.ComponentActions.TEXTAREA_BLUR,
                    handler: E
                });
                let I = (0, r.useStateFromStores)([R.default], () => R.default.can(V.Permissions.ATTACH_FILES, t)),
                    T = (0, w.renderError)(f, {
                        content: n.textValue
                    });
                return (0, a.jsxs)(a.Fragment, {
                    children: [(0, a.jsx)(C.default, {
                        channelId: t.id,
                        type: K,
                        canAttachFiles: I
                    }), (0, a.jsx)("div", {
                        className: Y.starterMessageError,
                        children: (0, a.jsx)(u.InputError, {
                            error: T
                        })
                    }), (0, a.jsx)(S.default, {
                        type: K,
                        channel: t,
                        placeholder: W.default.Messages.FORM_THREAD_STARTER_MESSAGE_PLACEHOLDER,
                        textValue: n.textValue,
                        richValue: n.richValue,
                        focused: h,
                        className: Y.channelTextArea,
                        innerClassName: i(Y.channelTextAreaInner, {
                            [Y.channelTextAreaInnerError]: null != T
                        }),
                        onFocus: m,
                        onBlur: E,
                        onChange: _,
                        onSubmit: g,
                        promptToUpload: F.promptToUpload
                    })]
                })
            }

            function $(e) {
                let {
                    parentChannel: t,
                    parentMessageId: n
                } = e, l = (0, r.useStateFromStores)([M.default], () => null == n ? null : M.default.getMessage(t.id, n)), s = x.MessageDisplayCompact.useSetting();
                return null != l ? (0, a.jsx)(I.default, {
                    className: Y.messagePreview,
                    message: l,
                    channel: t,
                    compact: s,
                    renderThreadAccessory: !1,
                    trackAnnouncementViews: !0
                }) : null
            }
        },
        38861: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("446674"),
                i = n("782926"),
                r = n("77078"),
                u = n("247013"),
                o = n("697218"),
                d = n("959097"),
                c = n("664336"),
                f = n("487269"),
                h = n("537560"),
                p = n("782340"),
                m = n("16064");

            function E(e) {
                let {
                    channel: t
                } = e, [n, E] = l.useState(!1), _ = (0, s.useStateFromStores)([u.default, o.default], () => {
                    let e = o.default.getCurrentUser();
                    return null == e || t.isNSFW() && (!e.nsfwAllowed || !u.default.didAgree(t.getGuildId()))
                }, [t]), S = l.useCallback(() => {
                    E(!1)
                }, []), C = l.useCallback(() => {
                    !n && (0, f.trackThreadBrowserOpened)("Popout"), E(!n)
                }, [n]), g = (0, r.useRedesignIconContext)().enabled;
                return (0, a.jsx)(r.Popout, {
                    animation: r.Popout.Animation.NONE,
                    position: "bottom",
                    align: "right",
                    autoInvert: !1,
                    shouldShow: n,
                    onRequestClose: S,
                    renderPopout: function() {
                        return (0, a.jsx)(r.Dialog, {
                            children: (0, a.jsx)(h.default, {
                                className: m.browser,
                                channel: t,
                                onClose: S
                            })
                        })
                    },
                    children: (e, t) => {
                        let {
                            isShown: n
                        } = t;
                        return (0, a.jsx)(c.Icon, {
                            ...e,
                            className: m.icon,
                            onClick: C,
                            icon: g ? i.ThreadIcon : d.default,
                            "aria-label": p.default.Messages.THREADS,
                            tooltip: n ? null : p.default.Messages.THREADS,
                            disabled: _,
                            selected: n
                        })
                    }
                })
            }
        },
        31673: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("77078"),
                i = n("660279"),
                r = n("998650"),
                u = n("664336"),
                o = n("659500"),
                d = n("414833"),
                c = n("547772"),
                f = n("648564"),
                h = n("49111"),
                p = n("782340"),
                m = n("496913");

            function E(e) {
                let {
                    channel: t
                } = e, n = (0, d.useThreadNotificationSetting)(t), [E, _] = l.useState(!1);
                l.useEffect(() => {
                    let e = () => _(!0);
                    return o.ComponentDispatch.subscribe(h.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS, e), () => {
                        o.ComponentDispatch.unsubscribe(h.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS, e)
                    }
                }, []);
                let S = p.default.Messages.NOTIFICATION_SETTINGS;
                return (0, a.jsx)(s.Popout, {
                    shouldShow: E,
                    animation: s.Popout.Animation.NONE,
                    position: "bottom",
                    align: "right",
                    autoInvert: !1,
                    onRequestClose: () => _(!1),
                    renderPopout: e => (0, a.jsx)(c.default, {
                        ...e,
                        channel: t,
                        navId: "thread-context",
                        label: p.default.Messages.THREAD_ACTIONS_MENU_LABEL
                    }),
                    children: (e, t) => {
                        let {
                            isShown: l
                        } = t;
                        return (0, a.jsx)(u.default.Icon, {
                            ...e,
                            onClick: () => _(e => !e),
                            tooltip: l ? null : S,
                            icon: n === f.ThreadMemberFlags.NO_MESSAGES ? r.default : i.default,
                            foreground: n === f.ThreadMemberFlags.NO_MESSAGES ? m.strikethrough : null,
                            "aria-label": S,
                            selected: l
                        })
                    }
                })
            }
        },
        338273: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return A
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("917351"),
                i = n.n(s),
                r = n("446674"),
                u = n("77078"),
                o = n("30874"),
                d = n("458574"),
                c = n("308798"),
                f = n("64016"),
                h = n("13777"),
                p = n("37774"),
                m = n("117399"),
                E = n("400501"),
                _ = n("542640"),
                S = n("604656"),
                C = n("861370"),
                g = n("845579"),
                I = n("800762"),
                T = n("433487"),
                N = n("664336"),
                x = n("967241"),
                v = n("782340");

            function A(e) {
                let {
                    channel: t
                } = e, [n, s] = l.useState(!1);

                function i() {
                    s(e => !e)
                }
                let r = v.default.Messages.MORE;
                return (0, a.jsx)(u.Popout, {
                    shouldShow: n,
                    animation: u.Popout.Animation.NONE,
                    position: "bottom",
                    align: "right",
                    autoInvert: !1,
                    onRequestClose: () => s(!1),
                    renderPopout: function(e) {
                        return (0, a.jsx)(M, {
                            ...e,
                            channel: t
                        })
                    },
                    children: (e, t) => {
                        let {
                            isShown: n
                        } = t;
                        return (0, a.jsx)(N.default.Icon, {
                            ...e,
                            onClick: i,
                            tooltip: n ? null : r,
                            icon: T.default,
                            "aria-label": r,
                            selected: n
                        })
                    }
                })
            }

            function M(e) {
                let {
                    channel: t,
                    closePopout: n,
                    onSelect: l
                } = e, s = (0, o.default)(t), T = (0, p.default)(t), N = (0, _.default)(t.id), A = (0, E.default)(t), M = (0, C.default)({
                    id: t.id,
                    label: v.default.Messages.COPY_ID_THREAD
                }), R = (0, d.default)(t), L = (0, c.default)(t), O = (0, f.default)(t, "Toolbar Overflow"), y = (0, m.default)(t), j = (0, h.default)(t), P = (0, S.default)(t), D = g.UseThreadSidebar.useSetting(), b = (0, r.useStateFromStores)([I.default], () => !i.isEmpty(I.default.getVoiceStatesForChannel(t.id)));
                return (0, a.jsxs)(u.Menu, {
                    navId: "thread-context",
                    onClose: n,
                    "aria-label": v.default.Messages.THREAD_ACTIONS_MENU_LABEL,
                    onSelect: l,
                    children: [(0, a.jsxs)(u.MenuGroup, {
                        children: [O, j]
                    }), (0, a.jsxs)(u.MenuGroup, {
                        children: [A, y, N, D && !b ? (0, a.jsx)(u.MenuItem, {
                            id: "open",
                            label: v.default.Messages.OPEN_IN_SPLIT_VIEW,
                            action: function() {
                                (0, x.openThreadSidebarForViewing)(t)
                            }
                        }) : null]
                    }), (0, a.jsxs)(u.MenuGroup, {
                        children: [P, s, T, L]
                    }), (0, a.jsxs)(u.MenuGroup, {
                        children: [R, M]
                    })]
                })
            }
        },
        503220: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return O
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("77078"),
                i = n("30874"),
                r = n("308798"),
                u = n("64016"),
                o = n("37774"),
                d = n("117399"),
                c = n("400501"),
                f = n("542640"),
                h = n("255228"),
                p = n("772371"),
                m = n("604656"),
                E = n("861370"),
                _ = n("565298"),
                S = n("144491"),
                C = n("945330"),
                g = n("758710"),
                I = n("433487"),
                T = n("664336"),
                N = n("659500"),
                x = n("31673"),
                v = n("967241"),
                A = n("49111"),
                M = n("782340");

            function R(e) {
                let {
                    channel: t
                } = e, [n, i] = l.useState(!1);

                function r() {
                    i(e => !e)
                }
                let u = M.default.Messages.MORE;
                return (0, a.jsx)(s.Popout, {
                    shouldShow: n,
                    animation: s.Popout.Animation.NONE,
                    position: "bottom",
                    align: "right",
                    autoInvert: !1,
                    onRequestClose: () => i(!1),
                    renderPopout: function(e) {
                        return (0, a.jsx)(L, {
                            ...e,
                            channel: t
                        })
                    },
                    children: (e, t) => {
                        let {
                            isShown: n
                        } = t;
                        return (0, a.jsx)(T.default.Icon, {
                            ...e,
                            onClick: r,
                            tooltip: n ? null : u,
                            icon: I.default,
                            "aria-label": u,
                            selected: n
                        })
                    }
                })
            }

            function L(e) {
                let {
                    channel: t,
                    closePopout: n,
                    onSelect: l
                } = e, _ = (0, u.default)(t, "Sidebar Overflow"), C = (0, d.default)(t), I = (0, h.default)(t), T = (0, p.default)(t), x = (0, i.default)(t), v = (0, o.default)(t), R = (0, f.default)(t.id), L = (0, c.default)(t), O = (0, r.default)(t), y = (0, E.default)({
                    id: t.id,
                    label: M.default.Messages.COPY_ID_THREAD
                }), j = (0, m.default)(t);

                function P() {
                    (0, S.transitionToChannel)(t.id)
                }
                return (0, a.jsxs)(s.Menu, {
                    navId: "thread-context",
                    onClose: n,
                    "aria-label": M.default.Messages.THREAD_ACTIONS_MENU_LABEL,
                    onSelect: l,
                    children: [(0, a.jsxs)(s.MenuGroup, {
                        children: [_, (0, a.jsx)(s.MenuItem, {
                            id: "open",
                            label: M.default.Messages.OPEN_IN_FULL_VIEW,
                            action: P
                        })]
                    }), (0, a.jsxs)(s.MenuGroup, {
                        children: [I, T]
                    }), (0, a.jsxs)(s.MenuGroup, {
                        children: [L, C, R]
                    }), (0, a.jsxs)(s.MenuGroup, {
                        children: [(0, a.jsx)(s.MenuItem, {
                            id: "search",
                            label: M.default.Messages.SEARCH,
                            icon: g.default,
                            action: function() {
                                P(), setTimeout(() => {
                                    N.ComponentDispatch.dispatch(A.ComponentActions.FOCUS_SEARCH, {
                                        prefillCurrentChannel: !1
                                    })
                                }, 2e3)
                            }
                        }), (0, a.jsx)(s.MenuItem, {
                            id: "pins",
                            label: M.default.Messages.PINS,
                            icon: g.default,
                            action: function() {
                                P(), N.ComponentDispatch.dispatch(A.ComponentActions.TOGGLE_CHANNEL_PINS)
                            }
                        })]
                    }), (0, a.jsxs)(s.MenuGroup, {
                        children: [j, x, v, O]
                    }), (0, a.jsx)(s.MenuGroup, {
                        children: y
                    })]
                })
            }

            function O(e) {
                let {
                    channel: t,
                    baseChannelId: n
                } = e;
                return (0, a.jsxs)(a.Fragment, {
                    children: [t.isForumPost() ? null : (0, a.jsx)(x.default, {
                        channel: t
                    }), (0, a.jsx)(R, {
                        channel: t
                    }), (0, a.jsx)(T.default.Icon, {
                        icon: C.default,
                        tooltip: M.default.Messages.CLOSE,
                        onClick: () => (0, v.closeThreadSidebar)((0, _.getGuildIdForGenericRedirect)(t), null != n ? n : t.parent_id)
                    })]
                })
            }
        },
        861570: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return R
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("917351"),
                i = n.n(s),
                r = n("446674"),
                u = n("913144"),
                o = n("272030"),
                d = n("264732"),
                c = n("716241"),
                f = n("701916"),
                h = n("679653"),
                p = n("176347"),
                m = n("850391"),
                E = n("557809"),
                _ = n("144491"),
                S = n("42203"),
                C = n("474643"),
                g = n("305961"),
                I = n("800762"),
                T = n("664336"),
                N = n("503220"),
                x = n("648564"),
                v = n("49111"),
                A = n("782340"),
                M = n("176692");

            function R(e) {
                let {
                    channelId: t,
                    baseChannelId: s,
                    channelViewSource: R = "Split View"
                } = e, L = (0, r.useStateFromStores)([S.default], () => S.default.getChannel(t)), O = (0, r.useStateFromStores)([g.default], () => g.default.getGuild(null == L ? void 0 : L.getGuildId())), y = (0, h.default)(L);
                (function(e) {
                    let t = (0, r.useStateFromStores)([I.default], () => null != e && !i.isEmpty(I.default.getVoiceStatesForChannel(e.id)));
                    l.useEffect(() => {
                        t && null != e && (u.default.dispatch({
                            type: "SIDEBAR_CLOSE",
                            baseChannelId: e.parent_id
                        }), (0, _.transitionToThread)(e, x.OpenThreadAnalyticsLocations.VOICE_AUTO_OPEN))
                    }, [t, e])
                })(L);
                let j = l.useRef(!1);
                if (l.useEffect(() => {
                        if (null == L || j.current) return;
                        j.current = !0;
                        let e = (0, f.collectThreadMetadata)(S.default.getChannel(L.id), !0);
                        (0, c.trackWithMetadata)(v.AnalyticEvents.CHANNEL_OPENED, {
                            ...e,
                            channel_id: L.id,
                            guild_id: L.guild_id,
                            parent_id: L.parent_id,
                            channel_view: R
                        })
                    }, [L, R]), null == L || null == O) return null;
                let P = (0, a.jsx)(N.default, {
                    channel: L,
                    baseChannelId: s
                });
                return (0, a.jsxs)(a.Fragment, {
                    children: [(0, a.jsx)(d.default, {
                        channel: L,
                        draftType: C.DraftType.ChannelMessage
                    }), (0, a.jsx)(T.default, {
                        toolbar: P,
                        "aria-label": A.default.Messages.THREAD_HEADER_BAR_A11Y_LABEL,
                        children: (0, E.renderTitle)({
                            channel: L,
                            channelName: y,
                            guild: O,
                            inSidebar: !0,
                            handleContextMenu: function(e) {
                                (0, o.openContextMenuLazy)(e, async () => {
                                    let {
                                        default: e
                                    } = await n.el("994827").then(n.bind(n, "994827"));
                                    return t => (0, a.jsx)(e, {
                                        ...t,
                                        channel: L
                                    })
                                })
                            },
                            handleClick: function() {
                                null != L && (0, _.transitionToChannel)(L.id)
                            }
                        })
                    }), (0, a.jsx)("div", {
                        className: M.chat,
                        children: (0, a.jsx)(p.default, {
                            channel: L,
                            guild: O,
                            chatInputType: m.ChatInputTypes.SIDEBAR
                        }, t)
                    })]
                })
            }
        },
        517141: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                },
                useCreateForumPost: function() {
                    return _
                }
            });
            var a = n("884691"),
                l = n("16470"),
                s = n("404118"),
                i = n("783480"),
                r = n("681736"),
                u = n("578198"),
                o = n("884351"),
                d = n("474643"),
                c = n("305961"),
                f = n("254490"),
                h = n("730498"),
                p = n("49111"),
                m = n("782340");

            function E(e) {
                let {
                    parentChannel: t,
                    parentMessageId: n,
                    threadSettings: l,
                    privateThreadMode: s,
                    location: r,
                    onThreadCreated: u,
                    useDefaultThreadName: c
                } = e, f = a.useCallback((e, t, n, a) => {
                    i.default.uploadFiles({
                        channelId: e.id,
                        uploads: t,
                        draftType: d.DraftType.FirstThreadMessage,
                        options: {
                            stickerIds: a
                        },
                        parsedMessage: o.default.parse(e, n)
                    })
                }, []);
                return (0, h.useCreateThreadCommon)({
                    parentChannel: t,
                    parentMessageId: n,
                    threadSettings: l,
                    privateThreadMode: s,
                    location: r,
                    onThreadCreated: u,
                    useDefaultThreadName: c,
                    uploadHandler: f
                })
            }

            function _(e) {
                let {
                    parentChannel: t
                } = e, {
                    name: n,
                    appliedTags: a
                } = (0, u.useForumPostComposerStore)(e => {
                    let {
                        name: t,
                        appliedTags: n
                    } = e;
                    return {
                        name: t,
                        appliedTags: n
                    }
                }, l.default);
                return (0, h.useCreateForumPostCommon)({
                    parentChannel: t,
                    name: n,
                    appliedTags: a,
                    upload: function(e, n, a) {
                        return new Promise((l, i) => {
                            let u = new r.default(e);
                            u.on("error", (e, n, a) => {
                                if (n === p.AbortCodes.EXPLICIT_CONTENT) {
                                    var l;
                                    let e = c.default.getGuild(null !== (l = t.getGuildId()) && void 0 !== l ? l : "");
                                    null != e && s.default.show({
                                        title: m.default.Messages.UPLOAD_AREA_UPLOAD_FAILED_TITLE,
                                        body: m.default.Messages.BOT_GUILD_EXPLICIT_CONTENT.format({
                                            name: e.toString()
                                        })
                                    })
                                } else if (n === p.AbortCodes.ENTITY_TOO_LARGE) {
                                    let e = (0, f.maxFileSize)(t.getGuildId());
                                    s.default.show({
                                        title: m.default.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,
                                        body: m.default.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({
                                            maxSize: (0, f.sizeString)(e)
                                        })
                                    })
                                } else n === p.AbortCodes.TOO_MANY_ATTACHMENTS && s.default.show({
                                    title: m.default.Messages.ATTACHMENT_TOO_MANY_ERROR_TITLE,
                                    body: m.default.Messages.ATTACHMENT_TOO_MANY_ERROR_MESSAGE.format({
                                        limit: p.MAX_UPLOAD_COUNT
                                    })
                                });
                                i({
                                    body: a
                                })
                            }), u.on("complete", (e, t) => {
                                l({
                                    body: t
                                })
                            }), u.uploadFiles(a, n, {
                                addFilesTo: "message.attachments"
                            })
                        })
                    }
                })
            }
        },
        970366: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                trackAppUIViewed: function() {
                    return u
                }
            });
            var a = n("748820"),
                l = n("49671"),
                s = n("599110"),
                i = n("49111");
            let r = new class e {
                trackEvent(e, t) {
                    let n = Date.now();
                    requestIdleCallback(() => {
                        s.default.track(e, {
                            ... function() {
                                var e, t, n, a;
                                let s = "--campaign-id=",
                                    i = null !== (a = null === (n = l.default) || void 0 === n ? void 0 : null === (t = n.processUtils) || void 0 === t ? void 0 : null === (e = t.getMainArgvSync) || void 0 === e ? void 0 : e.call(t)) && void 0 !== a ? a : [];
                                for (let e of i)
                                    if (e.startsWith(s)) return {
                                        referrer: e.substr(s.length)
                                    };
                                return {}
                            }(),
                            ... function() {
                                let e = !1,
                                    t = {
                                        total_compressed_byte_size: 0,
                                        total_uncompressed_byte_size: 0,
                                        total_transfer_byte_size: 0,
                                        js_compressed_byte_size: 0,
                                        js_uncompressed_byte_size: 0,
                                        js_transfer_byte_size: 0,
                                        css_compressed_byte_size: 0,
                                        css_uncompressed_byte_size: 0,
                                        css_transfer_byte_size: 0
                                    };
                                return null != window.performance && null != window.performance.getEntries && window.performance.getEntries().forEach(n => {
                                    let a = null != n.encodedBodySize ? n.encodedBodySize : n.decodedBodySize,
                                        l = null != n.decodedBodySize ? n.decodedBodySize : n.encodedBodySize,
                                        s = n.transferSize;
                                    null != l && null != a && (e = !0, t.total_compressed_byte_size += a, t.total_uncompressed_byte_size += l, null != s && (t.total_uncompressed_byte_size += s), "resource" === n.entryType && ("script" === n.initiatorType && null != n.name && null != n.name.match(/\.js/) && (t.js_compressed_byte_size += a, t.js_uncompressed_byte_size += l, null != s && (t.js_uncompressed_byte_size += s)), "link" === n.initiatorType && null != n.name && null != n.name.match(/\.css/) && (t.css_compressed_byte_size += a, t.css_uncompressed_byte_size += l, null != s && (t.css_uncompressed_byte_size += s))))
                                }), e ? t : {}
                            }(),
                            load_id: this.loadId,
                            screen_name: t,
                            duration_ms_since_app_opened: n - window.GLOBAL_ENV.HTML_TIMESTAMP
                        })
                    })
                }
                trackAppUIViewed(e) {
                    !this.appUIViewed && (this.trackEvent(i.AnalyticEvents.APP_UI_VIEWED, e), this.appUIViewed = !0)
                }
                constructor() {
                    this.loadId = (0, a.v4)(), this.appUIViewed = !1
                }
            };

            function u(e) {
                r.trackAppUIViewed(e)
            }
        },
        893980: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                trackProfilePanelViewed: function() {
                    return u
                },
                trackProfilePanelToggled: function() {
                    return o
                }
            });
            var a = n("373469"),
                l = n("824563"),
                s = n("27618"),
                i = n("599110"),
                r = n("49111");
            let u = e => {
                    let {
                        displayProfile: t,
                        isMobile: n,
                        loadDurationMs: a,
                        activity: l,
                        customStatusActivity: s,
                        status: u
                    } = e;
                    i.default.track(r.AnalyticEvents.DM_PROFILE_VIEWED, {
                        has_mobile_indicator: n,
                        has_activity: null != l && (null == l ? void 0 : l.type) !== r.ActivityTypes.CUSTOM_STATUS,
                        has_game_activity: (null == l ? void 0 : l.type) === r.ActivityTypes.PLAYING,
                        load_duration_ms: a,
                        profile_user_status: u,
                        has_custom_status: null != s,
                        has_profile_effect: null != t.profileEffectID,
                        ...d(t)
                    })
                },
                o = (e, t) => {
                    i.default.track(r.AnalyticEvents.DM_PROFILE_TOGGLED, {
                        is_profile_open: t,
                        ...d(e)
                    })
                },
                d = e => {
                    var t;
                    if (null == e) return {};
                    let n = e.userId,
                        i = null != a.default.getAnyStreamForUser(n),
                        u = l.default.findActivity(n, e => {
                            let {
                                type: t
                            } = e;
                            return i ? t === r.ActivityTypes.PLAYING : t !== r.ActivityTypes.CUSTOM_STATUS
                        }),
                        o = null == u ? void 0 : u.assets,
                        d = s.default.isFriend(n);
                    return {
                        has_images: !!(null !== (t = null == o ? void 0 : o.large_image) && void 0 !== t ? t : null == o ? void 0 : o.small_image),
                        is_friend: d,
                        viewed_profile_user_id: n,
                        profile_has_nitro_customization: e.hasPremiumCustomization(),
                        profile_has_theme_color_customized: e.hasThemeColors(),
                        profile_has_theme_animation: null != e.popoutAnimationParticleType
                    }
                }
        },
        69682: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                FriendRow: function() {
                    return E
                },
                default: function() {
                    return _
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("446674"),
                i = n("77078"),
                r = n("272030"),
                u = n("327037"),
                o = n("145079"),
                d = n("824563"),
                c = n("713135"),
                f = n("401642"),
                h = n("49111"),
                p = n("782340"),
                m = n("568719");

            function E(e) {
                let {
                    user: t,
                    status: n,
                    onSelect: l,
                    onContextMenu: r
                } = e, u = (0, s.useStateFromStores)([d.default], () => d.default.isMobileOnline(t.id));
                return (0, a.jsxs)(i.Clickable, {
                    className: m.listRow,
                    onClick: () => l(t.id),
                    onContextMenu: e => r(e, t),
                    children: [(0, a.jsx)(i.Avatar, {
                        src: t.getAvatarURL(void 0, 40),
                        "aria-label": t.username,
                        size: i.AvatarSizes.SIZE_40,
                        status: n,
                        isMobile: u,
                        className: m.listAvatar
                    }), (0, a.jsx)(o.default, {
                        user: t,
                        className: m.listName,
                        discriminatorClass: m.listDiscriminator
                    })]
                })
            }

            function _(e) {
                let t, {
                        user: o,
                        onClose: d
                    } = e,
                    _ = (0, s.useStateFromStores)([c.default], () => c.default.getMutualFriends(o.id));

                function S(e) {
                    d(), (0, f.openUserProfileModal)({
                        userId: e,
                        analyticsLocation: {
                            section: h.AnalyticsSections.USER_PROFILE_MUTUAL_FRIENDS
                        }
                    })
                }

                function C(e, t) {
                    (0, r.openContextMenuLazy)(e, async () => {
                        let {
                            default: e
                        } = await n.el("406784").then(n.bind(n, "406784"));
                        return n => (0, a.jsx)(e, {
                            ...n,
                            user: t
                        })
                    })
                }
                return l.useEffect(() => {
                    null == _ && (0, u.fetchMutualFriends)(o.id)
                }, [_, o.id]), t = null == _ ? (0, a.jsx)("div", {
                    className: m.empty,
                    children: (0, a.jsx)(i.Spinner, {})
                }) : 0 === _.length ? (0, a.jsxs)("div", {
                    className: m.empty,
                    children: [(0, a.jsx)("div", {
                        className: m.emptyIconFriends
                    }), (0, a.jsx)("div", {
                        className: m.emptyText,
                        children: p.default.Messages.NO_MUTUAL_FRIENDS
                    })]
                }) : _.map(e => (0, a.jsx)(E, {
                    user: e.user,
                    status: e.status,
                    onSelect: S,
                    onContextMenu: C
                }, e.key)), (0, a.jsx)(i.ScrollerThin, {
                    className: m.listScroller,
                    fade: !0,
                    children: t
                })
            }
        },
        446509: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                GuildRow: function() {
                    return I
                },
                default: function() {
                    return T
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("414456"),
                s = n.n(l),
                i = n("446674"),
                r = n("819855"),
                u = n("77078"),
                o = n("272030"),
                d = n("54239"),
                c = n("841098"),
                f = n("449918"),
                h = n("239380"),
                p = n("109024"),
                m = n("158998"),
                E = n("713135"),
                _ = n("49111"),
                S = n("782340"),
                C = n("568719"),
                g = n("175321");

            function I(e) {
                let {
                    guild: t,
                    nick: n,
                    theme: l,
                    onSelect: i,
                    onContextMenu: o,
                    user: d
                } = e, c = d.hasAvatarForGuild(t.id);
                return (0, a.jsxs)(u.Clickable, {
                    focusProps: {
                        offset: {
                            right: 8
                        }
                    },
                    className: C.listRow,
                    onClick: () => i(t.id),
                    onContextMenu: e => o(e, t),
                    children: [(0, a.jsx)(p.default, {
                        tabIndex: -1,
                        guild: t,
                        showBadge: !0,
                        className: s(C.listAvatar, null == t.icon ? g.guildAvatarWithoutIcon : null),
                        badgeStrokeColor: (0, f.getColor)((0, r.isThemeDark)(l) ? _.Color.PRIMARY_600 : _.Color.WHITE_500),
                        size: p.default.Sizes.MEDIUM,
                        active: !0
                    }), (0, a.jsxs)("div", {
                        className: C.listRowContent,
                        children: [(0, a.jsx)("div", {
                            className: C.listName,
                            children: t.toString()
                        }), c || null != n ? (0, a.jsxs)("div", {
                            className: g.guildNick,
                            children: [c && (0, a.jsx)(u.Avatar, {
                                src: d.getAvatarURL(t.id, 16),
                                size: u.AvatarSizes.SIZE_16,
                                className: g.guildAvatar,
                                "aria-hidden": !0
                            }), null != n ? n : m.default.getName(d)]
                        }) : null]
                    })]
                })
            }

            function T(e) {
                let t, {
                        user: l,
                        onClose: s
                    } = e,
                    r = (0, i.useStateFromStores)([E.default], () => E.default.getMutualGuilds(l.id)),
                    f = (0, c.default)();

                function p(e) {
                    (0, h.transitionToGuild)(e), s(), (0, d.popLayer)()
                }

                function m(e, t) {
                    (0, o.openContextMenuLazy)(e, async () => {
                        let {
                            default: e
                        } = await n.el("374705").then(n.bind(n, "374705"));
                        return n => (0, a.jsx)(e, {
                            ...n,
                            guild: t
                        })
                    })
                }
                return t = null == r || 0 === r.length ? (0, a.jsxs)("div", {
                    className: C.empty,
                    children: [(0, a.jsx)("div", {
                        className: C.emptyIconGuilds
                    }), (0, a.jsx)("div", {
                        className: C.emptyText,
                        children: S.default.Messages.NO_MUTUAL_GUILDS
                    })]
                }) : r.map(e => {
                    let {
                        guild: t,
                        nick: n
                    } = e;
                    return (0, a.jsx)(I, {
                        user: l,
                        guild: t,
                        nick: n,
                        theme: f,
                        onSelect: p,
                        onContextMenu: m
                    }, t.id)
                }), (0, a.jsx)(u.ScrollerThin, {
                    className: C.listScroller,
                    fade: !0,
                    children: t
                })
            }
        },
        817080: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("394846"),
                u = n("77078"),
                o = n("272030"),
                d = n("754474"),
                c = n("315102"),
                f = n("506885"),
                h = n("981601"),
                p = n("568719"),
                m = n("599466");

            function E(e) {
                var t;
                let {
                    channel: s,
                    integration: E
                } = e, _ = c.default.getApplicationIconURL({
                    id: E.application.id,
                    icon: E.application.icon,
                    size: 40
                }), S = l.useCallback(e => {
                    (0, o.openContextMenuLazy)(e, async () => {
                        let {
                            default: e
                        } = await n.el("348866").then(n.bind(n, "348866"));
                        return t => (0, a.jsx)(e, {
                            ...t,
                            channel: s,
                            integration: E
                        })
                    })
                }, [E, s]), C = (0, a.jsxs)("div", {
                    className: p.listRow,
                    onContextMenu: S,
                    children: [(0, a.jsx)("img", {
                        className: i(p.listAvatar, m.icon),
                        alt: "",
                        "aria-hidden": !0,
                        src: _,
                        width: 40,
                        height: 40
                    }), (0, a.jsx)("div", {
                        className: p.listRowContent,
                        children: (0, a.jsx)(d.default, {
                            name: E.application.name,
                            botType: d.BotTypes.BOT,
                            botVerified: null === (t = E.application.bot) || void 0 === t ? void 0 : t.isVerifiedBot(),
                            className: p.listName
                        })
                    })]
                }), {
                    bot: g
                } = E.application;
                return null == g ? (0, a.jsx)("li", {
                    children: C
                }) : (0, a.jsx)(u.Popout, {
                    preload: () => (0, f.default)(g.id, _),
                    renderPopout: e => (0, a.jsx)(h.default, {
                        ...e,
                        userId: g.id,
                        channelId: s.id
                    }),
                    position: r.isMobile ? "window_center" : "left",
                    children: e => (0, a.jsx)("li", {
                        ...e,
                        children: C
                    })
                })
            }
        },
        390413: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                ListType: function() {
                    return l
                },
                default: function() {
                    return p
                }
            });
            var a, l, s = n("37983"),
                i = n("884691"),
                r = n("414456"),
                u = n.n(r),
                o = n("77078"),
                d = n("461380"),
                c = n("67602"),
                f = n("89195"),
                h = n("980662");
            (a = l || (l = {}))[a.MutualFriendsList = 0] = "MutualFriendsList", a[a.MutualGuildList = 1] = "MutualGuildList", a[a.AppsList = 2] = "AppsList";
            var p = e => {
                let {
                    header: t,
                    children: n,
                    itemType: a = l.MutualGuildList,
                    isLoadingHeader: r,
                    isLoadingContents: p,
                    loadingContentsCount: m = 0,
                    className: E,
                    onHover: _,
                    onFocus: S
                } = e, [C, g] = i.useState(!0), I = (0, s.jsx)("div", {
                    className: f.iconWrapper,
                    children: (0, s.jsx)(d.default, {
                        direction: C ? d.default.Directions.RIGHT : d.default.Directions.DOWN
                    })
                });
                return (0, s.jsxs)("div", {
                    className: u(f.listWrapper, E),
                    children: [(0, s.jsx)(o.Button, {
                        className: f.collapseBtn,
                        innerClassName: f.collapseBtnContent,
                        color: o.ButtonColors.CUSTOM,
                        onMouseEnter: _,
                        onFocus: S,
                        onClick: () => g(!C),
                        children: r ? (0, s.jsxs)(s.Fragment, {
                            children: [(0, s.jsx)(c.ContentBlob, {
                                width: 34,
                                opacity: .08
                            }), (0, s.jsx)(c.ContentBlob, {
                                width: 135,
                                opacity: .08
                            })]
                        }) : (0, s.jsxs)(s.Fragment, {
                            children: [(0, s.jsx)(o.Text, {
                                variant: "text-sm/medium",
                                children: t
                            }), I]
                        })
                    }), (0, s.jsx)("ul", {
                        className: u(f.connectionList, {
                            [f.isCollapsed]: C
                        }),
                        children: p ? Array.from({
                            length: m
                        }).map((e, t) => (0, s.jsxs)("div", {
                            className: u({
                                [h.mutualFriendItem]: a === l.MutualFriendsList,
                                [h.mutualGuildsItem]: a === l.MutualGuildList
                            }),
                            children: [(0, s.jsx)(c.ContentBlob, {
                                width: 34,
                                opacity: .08
                            }), (0, s.jsx)(c.ContentBlob, {
                                width: 135,
                                opacity: .08
                            })]
                        }, t)) : n
                    })]
                })
            }
        },
        104649: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("446674"),
                s = n("272030"),
                i = n("824563"),
                r = n("401642"),
                u = n("69682"),
                o = n("49111"),
                d = e => {
                    let {
                        connection: t
                    } = e, {
                        user: d
                    } = t, c = d.isNonUserBot(), f = (0, l.useStateFromStores)([i.default], () => c ? null : i.default.getStatus(d.id));
                    return (0, a.jsx)(u.FriendRow, {
                        user: d,
                        status: null != f ? f : o.StatusTypes.UNKNOWN,
                        onSelect: () => {
                            (0, r.openUserProfileModal)({
                                userId: d.id,
                                analyticsLocation: {
                                    section: o.AnalyticsSections.DM_PROFILE
                                }
                            })
                        },
                        onContextMenu: e => {
                            var t, l;
                            return t = e, l = d, void(0, s.openContextMenuLazy)(t, async () => {
                                let {
                                    default: e
                                } = await n.el("406784").then(n.bind(n, "406784"));
                                return t => (0, a.jsx)(e, {
                                    ...t,
                                    user: l
                                })
                            })
                        }
                    })
                }
        },
        80615: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("272030"),
                s = n("239380"),
                i = n("446509"),
                r = e => {
                    let {
                        connection: t,
                        user: r,
                        theme: u
                    } = e, {
                        guild: o,
                        nick: d
                    } = t;
                    return (0, a.jsx)(i.GuildRow, {
                        guild: o,
                        nick: d,
                        theme: u,
                        user: r,
                        onContextMenu: function(e, t) {
                            (0, l.openContextMenuLazy)(e, async () => {
                                let {
                                    default: e
                                } = await n.el("374705").then(n.bind(n, "374705"));
                                return n => (0, a.jsx)(e, {
                                    ...n,
                                    guild: t
                                })
                            })
                        },
                        onSelect: s.transitionToGuild
                    })
                }
        },
        514917: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return Y
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("627445"),
                u = n.n(r),
                o = n("446674"),
                d = n("77078"),
                c = n("327037"),
                f = n("841098"),
                h = n("252063"),
                p = n("724110"),
                m = n("373469"),
                E = n("824563"),
                _ = n("102985"),
                S = n("697218"),
                C = n("387111"),
                g = n("158998"),
                I = n("713135"),
                T = n("506885"),
                N = n("217513"),
                x = n("893980"),
                v = n("58351"),
                A = n("430312"),
                M = n("789321"),
                R = n("10532"),
                L = n("915712"),
                O = n("369869"),
                y = n("802279"),
                j = n("465215"),
                P = n("301998"),
                D = n("491250"),
                b = n("849674"),
                U = n("817080"),
                F = n("390413"),
                w = n("104649"),
                G = n("80615"),
                B = n("80531"),
                k = n("590456"),
                H = n("49111"),
                V = n("782340"),
                W = n("666204"),
                Y = e => {
                    var t;
                    let {
                        channel: n,
                        showCall: s
                    } = e, r = n.recipients[0], [Y, z] = l.useState(!1), K = l.useRef(0), X = (0, v.default)(), q = (0, o.useStateFromStores)([S.default], () => S.default.getUser(r)), Z = null == q ? void 0 : q.isNonUserBot();
                    u(null != q, "Profile Panel: user cannot be undefined");
                    let Q = (0, N.default)(q.id),
                        {
                            installedIntegrations: J,
                            fetched: $,
                            appsInGDMEnabled: ee,
                            availableApplications: et
                        } = (0, h.usePrivateChannelIntegrationState)({
                            channelId: n.id
                        }),
                        en = !X && !s,
                        {
                            activity: ea,
                            customStatusActivity: el,
                            isApplicationStreaming: es,
                            isMobile: ei,
                            status: er
                        } = (0, o.useStateFromStoresObject)([m.default, E.default], () => {
                            let e = null != m.default.getAnyStreamForUser(q.id);
                            return {
                                activity: E.default.findActivity(q.id, t => {
                                    let {
                                        type: n
                                    } = t;
                                    return e ? n === H.ActivityTypes.PLAYING : n !== H.ActivityTypes.CUSTOM_STATUS
                                }),
                                customStatusActivity: E.default.findActivity(q.id, e => {
                                    let {
                                        type: t
                                    } = e;
                                    return t === H.ActivityTypes.CUSTOM_STATUS
                                }),
                                isApplicationStreaming: e,
                                isMobile: E.default.isMobileOnline(q.id),
                                status: Z ? null : E.default.getStatus(q.id)
                            }
                        }),
                        eu = null != ea || es,
                        eo = null !== (t = C.default.getNickname(null, n.id, q)) && void 0 !== t ? t : g.default.getName(q),
                        ed = (0, o.useStateFromStores)([_.default], () => _.default.hidePersonalInformation),
                        [ec, ef, eh, ep, em] = (0, o.useStateFromStoresArray)([I.default], () => [I.default.getMutualFriendsCount(q.id), I.default.getMutualFriends(q.id), I.default.getMutualGuilds(q.id), I.default.isFetchingProfile(q.id), I.default.isFetchingFriends(q.id)]),
                        eE = !q.bot && null != eh && eh.length > 0,
                        e_ = !q.bot && null != ec && ec > 0,
                        {
                            shouldShow: eS,
                            markAsDismissed: eC
                        } = (0, b.useShouldShowUserPopoutCollectiblesUpsell)(q),
                        eg = (0, f.default)();
                    l.useEffect(() => {
                        K.current = Date.now()
                    }, []), l.useEffect(() => {
                        (0, T.default)(q.id, q.getAvatarURL(void 0, 80), {
                            withMutualGuilds: !q.bot,
                            withMutualFriendsCount: !q.bot
                        })
                    }, [q]), l.useEffect(() => {
                        null != Q && en && (0, x.trackProfilePanelViewed)({
                            displayProfile: Q,
                            isMobile: ei,
                            loadDurationMs: Date.now() - K.current,
                            activity: ea,
                            customStatusActivity: el,
                            status: er
                        })
                    }, [Q, ei, ea, el, er, en]);
                    let eI = null == eh ? void 0 : eh.map(e => (0, a.jsx)(G.default, {
                            connection: e,
                            user: q,
                            theme: eg
                        }, e.guild.id)),
                        eT = null == ef ? void 0 : ef.map(e => (0, a.jsx)(w.default, {
                            connection: e
                        }, e.key)),
                        eN = J.map(e => (0, a.jsx)(U.default, {
                            channel: n,
                            integration: e
                        }, e.application.id)),
                        ex = l.useCallback(() => {
                            !q.bot && !em && null == eT && (0, c.fetchMutualFriends)(q.id)
                        }, [em, eT, q.id, q.bot]),
                        ev = l.useCallback(() => z(!0), []),
                        eA = l.useCallback(() => z(!1), []);
                    return en ? (0, a.jsx)("aside", {
                        className: W.profilePanel,
                        onMouseEnter: ev,
                        onMouseLeave: eA,
                        children: (0, a.jsxs)(A.default, {
                            user: q,
                            profileType: k.UserProfileTypes.PANEL,
                            useDefaultClientTheme: !0,
                            children: [eS && (0, a.jsx)(M.default, {
                                user: q,
                                onDismiss: eC,
                                isInSidebar: !0
                            }, q.id), (0, a.jsxs)(d.ScrollerNone, {
                                children: [(0, a.jsx)(B.default, {
                                    user: q,
                                    displayProfile: Q,
                                    channel: n,
                                    animateAssets: Y,
                                    forceShowPremiumBadge: Y
                                }), (0, a.jsxs)(A.default.Inner, {
                                    children: [(0, a.jsx)(D.default, {
                                        user: q,
                                        nickname: eo,
                                        pronouns: null == Q ? void 0 : Q.pronouns
                                    }), (0, a.jsx)(y.default, {
                                        customStatusActivity: el,
                                        animate: Y
                                    }), (0, a.jsx)(R.default, {}), (0, a.jsx)(O.default, {
                                        bio: null == Q ? void 0 : Q.bio,
                                        hidePersonalInformation: ed,
                                        animateOnHover: !0,
                                        isHovering: Y
                                    }), (0, a.jsx)(j.default, {
                                        userId: r
                                    }), (0, a.jsx)(R.default, {}), (0, a.jsx)(P.default, {
                                        user: q,
                                        setNote: !1,
                                        hideNote: !1
                                    })]
                                }), eu ? (0, a.jsx)(A.default.Inner, {
                                    children: (0, a.jsx)(L.default, {
                                        activity: ea,
                                        user: q,
                                        channelId: n.id
                                    })
                                }) : null, (0, a.jsxs)(A.default.Inner, {
                                    className: W.profilePanelConnections,
                                    children: [eE ? (0, a.jsx)(F.default, {
                                        className: W.mutualGuildsList,
                                        header: V.default.Messages.MUTUAL_GUILDS_COUNT.format({
                                            count: null == eh ? void 0 : eh.length
                                        }),
                                        isLoadingHeader: ep,
                                        children: eI
                                    }) : null, e_ ? (0, a.jsx)(F.default, {
                                        className: i(W.mutualFriendsList, {
                                            [W.mutualFriendsDivider]: eE
                                        }),
                                        header: V.default.Messages.MUTUAL_FRIENDS_COUNT.format({
                                            count: ec
                                        }),
                                        isLoadingHeader: ep,
                                        isLoadingContents: em,
                                        loadingContentsCount: ec,
                                        onFocus: ex,
                                        onHover: ex,
                                        itemType: F.ListType.MutualFriendsList,
                                        children: eT
                                    }) : null]
                                }), (0, a.jsx)(A.default.Inner, {
                                    className: i(W.profilePanelConnections, W.appListThemedContainer),
                                    children: ee && (0, a.jsxs)(F.default, {
                                        header: eN.length > 0 ? V.default.Messages.PRIVATE_CHANNEL_APPS_HEADER_COUNT.format({
                                            count: eN.length
                                        }) : V.default.Messages.PRIVATE_CHANNEL_APPS_HEADER,
                                        isLoadingContents: !$,
                                        isLoadingHeader: !1,
                                        itemType: F.ListType.AppsList,
                                        children: [eN, et.length > 0 && (0, a.jsxs)("div", {
                                            className: W.appButtonContainer,
                                            children: [0 === J.length && (0, a.jsx)(d.Text, {
                                                variant: "text-xs/normal",
                                                color: "header-secondary",
                                                children: V.default.Messages.PRIVATE_CHANNEL_ADD_APPS_INFO
                                            }), (0, a.jsx)(d.Button, {
                                                onClick: () => {
                                                    (0, d.openModal)(e => (0, a.jsx)(p.default, {
                                                        channelId: n.id,
                                                        ...e
                                                    }))
                                                },
                                                color: W.appButtonColor,
                                                className: W.appButton,
                                                fullWidth: !0,
                                                size: d.ButtonSizes.SMALL,
                                                children: V.default.Messages.PRIVATE_CHANNEL_ADD_APPS
                                            })]
                                        })]
                                    })
                                })]
                            })]
                        })
                    }) : null
                }
        },
        80531: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("446674"),
                s = n("635471"),
                i = n("824563"),
                r = n("289918"),
                u = n("590006"),
                o = n("935409"),
                d = n("590456"),
                c = n("327828"),
                f = e => {
                    let {
                        user: t,
                        displayProfile: n,
                        channel: f,
                        animateAssets: h,
                        forceShowPremiumBadge: p
                    } = e, m = t.isNonUserBot(), [E, _] = (0, l.useStateFromStoresArray)([i.default], () => [m ? null : i.default.getStatus(t.id), i.default.isMobileOnline(t.id)]), S = null == n ? void 0 : n.profileEffectID;
                    return (0, a.jsxs)("div", {
                        children: [(0, a.jsx)(r.default, {
                            user: t,
                            displayProfile: n,
                            profileType: d.UserProfileTypes.PANEL,
                            showPremiumBadgeUpsell: !0,
                            isHovering: p,
                            animateOnHover: !h
                        }), (0, a.jsx)(o.UserPopoutAvatar, {
                            user: t,
                            displayProfile: n,
                            status: E,
                            isMobile: _,
                            channelId: f.id,
                            disableUserProfileLink: !0,
                            hasBanner: (null == n ? void 0 : n.banner) != null,
                            profileType: d.UserProfileTypes.PANEL,
                            animateOnHover: !h
                        }), (0, a.jsx)("div", {
                            className: c.badgelistGroup,
                            children: (0, a.jsx)(u.default, {
                                className: c.badgeList,
                                user: t,
                                size: u.BadgeSizes.SIZE_22
                            })
                        }), null != S && (0, a.jsx)(s.default, {
                            profileEffectID: S,
                            maxLoops: 0,
                            resetOnHover: !0,
                            isHovering: p,
                            urlQueryString: "dm-view",
                            noBorderRadius: !0
                        })]
                    })
                }
        },
        58351: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return l
                }
            });
            var a = n("884691");

            function l() {
                var e;
                let [t, n] = a.useState((e = window.innerWidth < 1132, e));
                return a.useEffect(() => {
                    function e() {
                        n(window.innerWidth < 1132)
                    }
                    return e(), window.addEventListener("resize", e), () => window.removeEventListener("resize", e)
                }, [n]), t
            }
        },
        444657: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                ActivityEntryPointTile: function() {
                    return j
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("151426"),
                u = n("669491"),
                o = n("77078"),
                d = n("997289"),
                c = n("860345"),
                f = n("865821"),
                h = n("441821"),
                p = n("478272"),
                m = n("812204"),
                E = n("685665"),
                _ = n("10641"),
                S = n("36562"),
                C = n("945330"),
                g = n("381546"),
                I = n("564875"),
                T = n("82636"),
                N = n("924506"),
                x = n("599110"),
                v = n("439932"),
                A = n("784981"),
                M = n("49111"),
                R = n("954016"),
                L = n("782340"),
                O = n("38064"),
                y = n("861948");

            function j(e) {
                let {
                    channel: t,
                    guild: n,
                    width: l,
                    inPopout: s,
                    handleClose: i,
                    userParticipantCount: r
                } = e, {
                    enabled: u
                } = c.PaxVcTileActivitiesExperiment.useExperiment({
                    location: "4934f1_1"
                }, {
                    autoTrackExposure: !1
                });
                return l < 250 ? (0, a.jsx)(P, {
                    channel: t,
                    guild: n,
                    width: l,
                    inPopout: s,
                    handleClose: i,
                    userParticipantCount: r
                }) : r > 1 || u ? (0, a.jsx)(U, {
                    channel: t,
                    guild: n,
                    width: l,
                    inPopout: s,
                    handleClose: i,
                    userParticipantCount: r
                }) : (0, a.jsx)(D, {
                    channel: t,
                    guild: n,
                    width: l,
                    inPopout: s
                })
            }

            function P(e) {
                let {
                    channel: t,
                    inPopout: n,
                    handleClose: l
                } = e, {
                    analyticsLocations: s,
                    AnalyticsLocationProvider: r
                } = (0, E.default)(m.default.VC_TILE_ACTIVITY_SHELF_BUTTON), c = (0, d.useAnalyticsContext)(), f = (0, o.useToken)(u.default.colors.INTERACTIVE_NORMAL).hex(), h = () => {
                    (0, p.default)({
                        channel: t,
                        guildId: t.guild_id,
                        locationObject: c.location,
                        openInPopout: n,
                        analyticsLocations: s
                    })
                };
                return (0, a.jsx)(r, {
                    children: (0, a.jsxs)(a.Fragment, {
                        children: [(0, a.jsx)(o.Tooltip, {
                            text: L.default.Messages.EMBEDDED_ACTIVITIES_START_AN_ACTIVITY,
                            children: e => {
                                let {
                                    onClick: t,
                                    ...n
                                } = e;
                                return (0, a.jsx)(o.Clickable, {
                                    ...n,
                                    className: O.clickableTile,
                                    onClick: () => {
                                        null == t || t(), h()
                                    },
                                    children: (0, a.jsx)(A.default, {
                                        className: O.root,
                                        children: (0, a.jsx)("div", {
                                            className: O.iconContainer,
                                            children: (0, a.jsx)(N.default, {
                                                width: 40,
                                                height: 40
                                            })
                                        })
                                    })
                                })
                            }
                        }), (0, a.jsx)(o.Clickable, {
                            onClick: l,
                            className: i((0, v.getThemeClass)(M.ThemeTypes.DARK), O.shelfButtonCloseButton),
                            children: (0, a.jsx)(g.default, {
                                width: 24,
                                height: 24,
                                className: O.closeButtonIcon,
                                backgroundColor: f
                            })
                        })]
                    })
                })
            }

            function D(e) {
                let {
                    channel: t,
                    guild: s,
                    inPopout: i,
                    width: r
                } = e;
                l.useEffect(() => {
                    x.default.track(M.AnalyticEvents.VC_TILE_ACTIVITIES_ENTRY_POINT_VIEWED, {
                        tile_type: "activity invite",
                        n_participants: 1
                    })
                }, []);
                let u = (0, d.useAnalyticsContext)(),
                    {
                        analyticsLocations: c,
                        AnalyticsLocationProvider: f
                    } = (0, E.default)(m.default.VC_TILE_ACTIVITY_INVITE);
                return (0, a.jsx)(f, {
                    children: (0, a.jsxs)(A.default, {
                        className: O.root,
                        children: [r > 400 ? (0, a.jsx)("img", {
                            src: y,
                            className: O.art,
                            alt: L.default.Messages.EMBEDDED_ACTIVITIES_SHELF_CHARACTERS_ALT_TEXT
                        }) : null, (0, a.jsx)(o.Text, {
                            className: O.heading,
                            variant: "text-md/semibold",
                            children: L.default.Messages.EMBEDDED_ACTIVITIES_VC_TILE_ENTRY_POINT_INVITE
                        }), (0, a.jsxs)("div", {
                            className: O.buttonContainer,
                            children: [(0, a.jsxs)(o.Button, {
                                size: o.Button.Sizes.LARGE,
                                color: o.Button.Colors.PRIMARY,
                                className: O.button,
                                innerClassName: O.buttonContents,
                                onClick: function() {
                                    (0, o.openModalLazy)(async () => {
                                        let {
                                            default: e
                                        } = await n.el("310688").then(n.bind(n, "310688"));
                                        return n => (0, a.jsx)(e, {
                                            ...n,
                                            guild: s,
                                            channel: t,
                                            source: M.InstantInviteSources.ACTIVITY_ENTRY_POINT_TILE
                                        })
                                    }, {
                                        contextKey: i ? o.POPOUT_MODAL_CONTEXT : o.DEFAULT_MODAL_CONTEXT
                                    })
                                },
                                children: [(0, a.jsx)(I.default, {
                                    width: 16,
                                    height: 16
                                }), (0, a.jsx)(o.Text, {
                                    variant: "text-sm/medium",
                                    children: L.default.Messages.INVITE_FRIENDS
                                })]
                            }), (0, a.jsxs)(o.Button, {
                                size: o.Button.Sizes.LARGE,
                                className: O.button,
                                innerClassName: O.buttonContents,
                                onClick: function() {
                                    (0, p.default)({
                                        channel: t,
                                        guildId: t.guild_id,
                                        locationObject: u.location,
                                        openInPopout: i,
                                        analyticsLocations: c
                                    })
                                },
                                children: [(0, a.jsx)(T.default, {
                                    width: 16,
                                    height: 16
                                }), (0, a.jsx)(o.Text, {
                                    variant: "text-sm/medium",
                                    children: L.default.Messages.EMBEDDED_ACTIVITIES_ACTIVITY_ENTRY_POINT_TILE_CHOOSE_AN_ACTIVITY
                                })]
                            })]
                        })]
                    })
                })
            }
            let b = e => {
                let {
                    userParticipantCount: t,
                    guildId: n
                } = e, {
                    enabled: a
                } = c.PaxVcTileActivitiesExperiment.useExperiment({
                    location: "4934f1_2"
                }, {
                    autoTrackExposure: !1
                }), l = (0, f.default)({
                    guildId: n
                });
                if (a) {
                    let e = new Set([R.PUTT_PARTY_APPLICATION_ID, R.LAND_IO_APPLICATION_ID, R.GARTIC_PHONE_APPLICATION_ID]);
                    return l.filter(t => e.has(t.application.id))
                }
                if (2 === t) {
                    let e = [],
                        t = [(0, R.WATCH_YOUTUBE_PROD_APP_ID), (0, R.PUTT_PARTY_APPLICATION_ID), (0, R.CHESS_IN_THE_PARK_APP_ID)].filter(Boolean).slice(0, 3);
                    return l.forEach(n => {
                        let a = t.indexOf(n.application.id);
                        !(a < 0) && (e[a] = n)
                    }), e
                }
                return l.slice(0, 3)
            };

            function U(e) {
                let {
                    channel: t,
                    guild: n,
                    handleClose: s,
                    width: u,
                    userParticipantCount: d
                } = e;
                l.useEffect(() => {
                    x.default.track(M.AnalyticEvents.VC_TILE_ACTIVITIES_ENTRY_POINT_VIEWED, {
                        tile_type: "activity suggestion",
                        n_participants: d
                    })
                }, []);
                let c = b({
                        userParticipantCount: d,
                        guildId: n.id
                    }),
                    {
                        AnalyticsLocationProvider: f
                    } = (0, E.default)(m.default.VC_TILE_ACTIVITY_SUGGESTION);
                return (0, a.jsx)(f, {
                    children: (0, a.jsxs)(A.default, {
                        className: O.root,
                        children: [u > 480 ? (0, a.jsx)("img", {
                            className: O.art,
                            src: y,
                            alt: L.default.Messages.EMBEDDED_ACTIVITIES_SHELF_CHARACTERS_ALT_TEXT
                        }) : null, u > 300 ? (0, a.jsx)(o.Text, {
                            className: O.heading,
                            variant: u > 550 ? "text-md/semibold" : "text-sm/semibold",
                            children: L.default.Messages.EMBEDDED_ACTIVITIES_VC_TILE_ENTRY_POINT_TITLE
                        }) : null, (0, a.jsx)("div", {
                            className: i(O.activitiesContainer, {
                                [O.activitiesContainerSmol]: u <= 300
                            }),
                            children: c.map(e => (0, a.jsx)(h.ActivitySuggestion, {
                                channel: t,
                                activityItem: e,
                                aspectRatio: h.ActivitySuggestion.AspectRatio.SIXTEEN_BY_NINE,
                                animatedDivClass: O.activitySuggestion
                            }, e.application.id))
                        }), (0, a.jsxs)(o.Clickable, {
                            className: O.checkboxContainer,
                            onClick: function() {
                                x.default.track(M.AnalyticEvents.VC_TILE_ACTIVITIES_ENTRY_POINT_CLOSED, {
                                    tile_type: "activity suggestion",
                                    close_type: "permanent",
                                    n_participants: d
                                }), (0, _.markDismissibleContentAsDismissed)(r.DismissibleContent.VC_TILE_ACTIVITIES_ENTRY_POINT)
                            },
                            children: [(0, a.jsx)(S.default, {}), (0, a.jsx)(o.Text, {
                                variant: "text-sm/medium",
                                children: L.default.Messages.DONT_SHOW_AGAIN
                            })]
                        }), (0, a.jsx)(o.Clickable, {
                            className: O.closeButtonContainer,
                            onClick: function() {
                                x.default.track(M.AnalyticEvents.VC_TILE_ACTIVITIES_ENTRY_POINT_CLOSED, {
                                    tile_type: "activity suggestion",
                                    close_type: "temporary",
                                    n_participants: d
                                }), s()
                            },
                            children: (0, a.jsx)(C.default, {
                                className: O.closeButton
                            })
                        })]
                    })
                })
            }
        },
        876715: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("95410"),
                i = n("457112"),
                r = n("679243"),
                u = n("49111"),
                o = n("204050");
            let d = "CameraPreviewPosition";

            function c(e) {
                let {
                    width: t,
                    onContextMenuParticipant: n,
                    height: c,
                    channel: f,
                    participants: h
                } = e, [p, m] = function() {
                    let [e, t] = l.useState(() => s.default.get(d, u.PictureInPicturePositions.BOTTOM_RIGHT));
                    return [e, l.useCallback(e => {
                        s.default.set(d, e), t(e)
                    }, [])]
                }(), E = l.useRef(null), _ = null == f.getGuildId() ? 70 : 50;
                return l.useLayoutEffect(() => {
                    var e;
                    null === (e = E.current) || void 0 === e || e.ensureIsInPosition()
                }, [h.length]), (0, a.jsx)("div", {
                    className: o.container,
                    children: (0, a.jsx)(i.PictureInPictureWindow, {
                        position: p,
                        id: 0,
                        ref: E,
                        onMove: (e, t) => m(t),
                        maxX: t,
                        maxY: c,
                        edgeOffsetTop: _,
                        edgeOffsetBottom: 70,
                        edgeOffsetLeft: 16,
                        edgeOffsetRight: 16,
                        children: (0, a.jsx)("div", {
                            className: o.tileContainer,
                            children: h.map(e => (0, a.jsx)(r.default, {
                                participant: e,
                                channel: f,
                                onContextMenu: n,
                                className: o.tile,
                                fit: r.CallTileFit.COVER,
                                inCall: !0,
                                inPopout: !1,
                                width: 160
                            }, e.id))
                        })
                    })
                })
            }
        },
        103738: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return g
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("737960"),
                u = n("141681"),
                o = n("271938"),
                d = n("145131"),
                c = n("659500"),
                f = n("119106"),
                h = n("573540"),
                p = n("972155"),
                m = n("732961"),
                E = n("153984"),
                _ = n("49111"),
                S = n("99795"),
                C = n("111647"),
                g = (0, r.default)(e => {
                    let {
                        participants: t,
                        filteredParticipants: n,
                        selectedParticipant: s,
                        participantsVersion: r,
                        layout: g,
                        onSelectParticipant: I,
                        onContextMenuParticipant: T,
                        onFullscreenParticipant: N,
                        channel: x,
                        hasConnectPermission: v,
                        className: A,
                        inCall: M,
                        showParticipants: R = !0,
                        paused: L = !1,
                        width: O,
                        height: y,
                        idle: j,
                        mode: P,
                        popoutWindow: D,
                        awaitingRemoteSessionInfo: b
                    } = e;
                    l.useEffect(() => {
                        c.ComponentDispatch.dispatch(_.ComponentActions.REMEASURE_TARGET)
                    }, [O, y]);
                    let U = l.useMemo(() => n.filter(e => e.type !== S.ParticipantTypes.ACTIVITY || !e.participants.has(o.default.getId())), [n, r]);
                    if ((null == b ? void 0 : b.channelId) === x.id) return (0, a.jsx)(h.default, {
                        height: y
                    });
                    if ((null == x ? void 0 : x.isGuildVocal()) && !M) return (0, a.jsx)(f.default, {
                        channel: x,
                        participants: t,
                        hasConnectPermission: v
                    });
                    if (P === _.ChannelModes.VOICE) return (0, a.jsx)(u.default, {
                        guildId: x.guild_id,
                        width: O,
                        className: C.voiceCallWrapper,
                        participants: t,
                        onContextMenu: T
                    });
                    if (n = M ? n : t, null == s) return 0 === n.length ? (0, a.jsx)(E.default, {
                        className: i(C.videoGrid, C.hiddenParticipants),
                        channelId: x.id,
                        width: O
                    }) : (0, a.jsx)(d.default, {
                        className: C.videoGridWrapper,
                        justify: d.default.Justify.CENTER,
                        align: d.default.Align.CENTER,
                        children: (0, a.jsx)(p.default, {
                            channel: x,
                            className: C.videoGrid,
                            participants: U,
                            totalNumberOfParticipants: t.length,
                            onClick: I,
                            onDoubleClick: N,
                            onContextMenu: T,
                            paused: L,
                            inCall: M
                        })
                    });
                    return (0, a.jsx)(m.default, {
                        onFullscreenParticipant: N,
                        onContextMenuParticipant: T,
                        onSelectParticipant: I,
                        selectedParticipant: s,
                        filteredParticipants: U,
                        participants: t,
                        popoutWindow: D,
                        className: A,
                        idle: j,
                        height: y,
                        width: O,
                        layout: g,
                        inCall: M,
                        channel: x,
                        showParticipants: R
                    })
                })
        },
        842044: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                getPipParticipants: function() {
                    return i
                }
            });
            var a = n("449008"),
                l = n("830251"),
                s = n("99795");

            function i(e, t, n) {
                return null == t || t.type === s.ParticipantTypes.ACTIVITY ? [] : [t.type === s.ParticipantTypes.STREAM ? e.find(e => e.type === s.ParticipantTypes.USER && e.id === (null == t ? void 0 : t.user.id) && e.id !== n && (0, l.default)(e)) : null, t.type === s.ParticipantTypes.USER ? e.find(e => e.type === s.ParticipantTypes.STREAM && e.user.id === (null == t ? void 0 : t.user.id) && null != e.streamId) : null, t.id !== n ? e.find(e => e.type === s.ParticipantTypes.USER && e.id === n && (0, l.default)(e)) : null].filter(a.isNotNullish)
            }
        },
        119106: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("77078"),
                i = n("987317"),
                r = n("233322"),
                u = n("157186"),
                o = n("491519"),
                d = n("679243"),
                c = n("99795"),
                f = n("782340"),
                h = n("704414"),
                p = function(e) {
                    var t, n;
                    let {
                        participants: p,
                        channel: m,
                        hasConnectPermission: E
                    } = e, _ = p.filter(c.isUserParticipant), S = (0, u.useShowMemberVerificationGate)(m.guild_id), C = l.useCallback(() => {
                        S ? (0, r.openMemberVerificationModal)(m.guild_id, () => i.default.selectVoiceChannel(m.id)) : i.default.selectVoiceChannel(m.id)
                    }, [m.id, m.guild_id, S]), g = 4 === _.length ? 2 : 3;
                    return (0, a.jsxs)("div", {
                        className: h.container,
                        children: [(0, a.jsx)("div", {
                            className: h.tiles,
                            style: {
                                maxWidth: 168 * g
                            },
                            children: _.slice(0, 5).map(e => (0, a.jsx)(d.default, {
                                participant: e,
                                channel: m,
                                className: h.tile,
                                paused: !0,
                                inCall: !0,
                                noVideoRender: !0,
                                inPopout: !1,
                                width: 48
                            }, e.id))
                        }), (0, a.jsx)(s.Heading, {
                            className: h.channelName,
                            variant: "heading-xxl/semibold",
                            children: m.name
                        }), (0, a.jsx)("div", {
                            className: h.participantsRow,
                            children: (0, a.jsx)(s.Text, {
                                color: "header-secondary",
                                variant: "text-sm/normal",
                                children: (t = m, 0 === (n = _).length ? f.default.Messages.CURRENTLY_IN_VOICE_EMPTY : 1 === n.length ? f.default.Messages.CURRENTLY_IN_VOICE_1.format({
                                    a: (0, o.default)(t, n[0])
                                }) : 2 === n.length ? f.default.Messages.CURRENTLY_IN_VOICE_2.format({
                                    a: (0, o.default)(t, n[0]),
                                    b: (0, o.default)(t, n[1])
                                }) : n.length > 2 ? f.default.Messages.CURRENTLY_IN_VOICE_2_N.format({
                                    a: (0, o.default)(t, n[0]),
                                    b: (0, o.default)(t, n[1]),
                                    n: n.length - 2
                                }) : void 0)
                            })
                        }), (0, a.jsx)(s.Button, {
                            disabled: !E,
                            className: h.joinButton,
                            color: E ? s.Button.Colors.GREEN : s.Button.Colors.PRIMARY,
                            onClick: C,
                            size: s.Button.Sizes.MEDIUM,
                            children: E ? f.default.Messages.JOIN_VOICE : f.default.Messages.CHANNEL_LOCKED_SHORT
                        })]
                    })
                }
        },
        573540: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return h
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("414456"),
                s = n.n(l),
                i = n("446674"),
                r = n("77078"),
                u = n("206230"),
                o = n("700507"),
                d = n("491605"),
                c = n("782340"),
                f = n("594180");

            function h(e) {
                let {
                    height: t
                } = e, l = (0, i.useStateFromStores)([u.default], () => u.default.useReducedMotion);
                return (0, a.jsxs)("div", {
                    className: f.root,
                    children: [(0, a.jsx)(d.default, {
                        importData: () => n.el("210565").then(n.t.bind(n, "210565", 19)).then(e => {
                            let {
                                default: t
                            } = e;
                            return t
                        }),
                        shouldAnimate: !l,
                        className: s(f.art, {
                            [f.hidden]: t <= 280
                        })
                    }), (0, a.jsx)(r.Heading, {
                        className: f.header,
                        variant: "heading-md/bold",
                        children: c.default.Messages.PLAYSTATION_TRANSFERRING
                    }), (0, a.jsx)(r.Text, {
                        variant: "text-md/normal",
                        color: "header-secondary",
                        children: c.default.Messages.CONSOLE_TRANSFERRING_SUBTITLE.format({
                            onCancel: o.disconnectRemote
                        })
                    })]
                })
            }
        },
        972155: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return A
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("759843"),
                i = n("446674"),
                r = n("151426"),
                u = n("244201"),
                o = n("191225"),
                d = n("860345"),
                c = n("117582"),
                f = n("943349"),
                h = n("428958"),
                p = n("191145"),
                m = n("393171"),
                E = n("242757"),
                _ = n("305961"),
                S = n("957255"),
                C = n("466079"),
                g = n("444657"),
                I = n("679243"),
                T = n("832897"),
                N = n("308419"),
                x = n("49111"),
                v = n("740726");

            function A(e) {
                let {
                    participants: t,
                    onClick: n,
                    onDoubleClick: A,
                    onContextMenu: M,
                    channel: R,
                    className: L,
                    inCall: O,
                    totalNumberOfParticipants: y,
                    paused: j = !1
                } = e, P = (0, u.useAppContext)(), D = P === x.AppContext.POPOUT, b = (0, i.useStateFromStores)([_.default], () => _.default.getGuild(R.guild_id), [R.guild_id]), {
                    dismissedActivityEntryPointTileChannel: U
                } = (0, T.useChannelCallVideoGridStore)(), F = (0, i.useStateFromStores)([p.default], () => p.default.getUserParticipantCount(R.id), [R]), w = l.useCallback(() => {
                    T.useChannelCallVideoGridStore.setState({
                        dismissedActivityEntryPointTileChannel: R.id
                    })
                }, [R.id]);
                l.useEffect(() => {
                    null != U && R.id !== U && T.useChannelCallVideoGridStore.setState({
                        dismissedActivityEntryPointTileChannel: null
                    })
                }, [R.id, U]);
                let G = (0, i.useStateFromStores)([S.default], () => R.isPrivate() || (0, E.canViewInviteModal)(S.default, b, R), [b, R]),
                    B = (null == b ? void 0 : b.afkChannelId) === R.id,
                    k = R.userLimit <= 0 || R.userLimit > 1,
                    {
                        vcTileActivityExperimentType: H
                    } = c.VcTileActivitiesEntryPointExperiment.useExperiment({
                        location: "8711e9_1"
                    }, {
                        autoTrackExposure: !1
                    });
                R.isGuildVoice() && c.VcTileActivitiesEntryPointExperiment.trackExposure({
                    location: "8711e9_2"
                });
                let V = (0, i.useStateFromStores)([o.default], () => o.default.getEmbeddedActivitiesForChannel(R.id).length <= 0),
                    W = (0, m.useIsDismissibleContentTypeDismissed)(r.DismissibleContent.VC_TILE_ACTIVITIES_ENTRY_POINT),
                    Y = (0, f.useEmbeddedActivityLaunchability)(R.id),
                    z = Y !== f.EmbeddedActivityLaunchability.CAN_LAUNCH,
                    K = null != U && U === R.id,
                    {
                        enabled: X
                    } = d.PaxVcTileActivitiesExperiment.useExperiment({
                        location: "8711e9_3"
                    }, {
                        autoTrackExposure: !1
                    }),
                    q = t.map(e => t => (0, a.jsx)(I.default, {
                        participant: e,
                        channel: R,
                        className: v.tile,
                        paused: j,
                        onClick: n,
                        onDoubleClick: A,
                        onContextMenu: M,
                        inCall: O,
                        width: t,
                        inPopout: D
                    }, e.id));
                (0, h.default)({
                    type: s.ImpressionTypes.VIEW,
                    name: s.ImpressionNames.CHANNEL_CALL_VIDEO_GRID_VIEW,
                    properties: {
                        total_participants: y,
                        can_invite: G,
                        is_afk_channel: B,
                        channel_user_limit: R.userLimit
                    }
                }, {
                    trackOnInitialLoad: !0
                }, []), null != b && !B && (X ? q.push(e => (0, a.jsx)(g.ActivityEntryPointTile, {
                    channel: R,
                    guild: b,
                    width: e,
                    inPopout: D,
                    handleClose: w,
                    userParticipantCount: F
                })) : (H !== c.VcTileActivityExperimentType.ONE_OR_TWO_USERS || 2 !== F) && (H !== c.VcTileActivityExperimentType.ANY_NUMBER_OF_USERS || !(F >= 2)) || !V || z || W || K ? k && 1 === F && G && ([c.VcTileActivityExperimentType.ONE_OR_TWO_USERS, c.VcTileActivityExperimentType.ANY_NUMBER_OF_USERS].includes(H) && V && !z ? q.push(e => (0, a.jsx)(g.ActivityEntryPointTile, {
                    channel: R,
                    guild: b,
                    width: e,
                    inPopout: D,
                    handleClose: w,
                    userParticipantCount: F
                })) : q.push(e => (0, a.jsx)(N.default, {
                    width: e,
                    channel: R,
                    guild: b,
                    inPopout: D
                }))) : q.push(e => (0, a.jsx)(g.ActivityEntryPointTile, {
                    channel: R,
                    guild: b,
                    width: e,
                    inPopout: D,
                    handleClose: w,
                    userParticipantCount: F
                })));
                let Z = l.useCallback(e => {
                    var n, a;
                    return null !== (a = null === (n = t[e]) || void 0 === n ? void 0 : n.id) && void 0 !== a ? a : "empty-tile"
                }, [t]);
                return (0, a.jsx)(C.default, {
                    className: L,
                    keyExtractor: Z,
                    paddingTop: 64,
                    paddingBottom: 64,
                    children: q
                })
            }
        },
        832897: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useChannelCallVideoGridStore: function() {
                    return l
                }
            });
            var a = n("308503");
            let l = (0, a.default)(() => ({
                dismissedActivityEntryPointTileChannel: null
            }))
        },
        308419: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("77078"),
                s = n("784981"),
                i = n("607391"),
                r = n("49111"),
                u = n("782340"),
                o = n("334626"),
                d = n("425643");

            function c(e) {
                let {
                    channel: t,
                    guild: c,
                    width: f,
                    inPopout: h
                } = e;
                return (0, a.jsx)(s.default, {
                    className: o.root,
                    children: (0, a.jsx)(i.default, {
                        artURL: d,
                        size: (0, i.getSizeForWidth)(f),
                        header: u.default.Messages.STREAM_SINGLE_PERSON_BODY,
                        onCTAClick: () => (0, l.openModalLazy)(async () => {
                            let {
                                default: e
                            } = await n.el("310688").then(n.bind(n, "310688"));
                            return n => (0, a.jsx)(e, {
                                ...n,
                                guild: c,
                                channel: t,
                                source: r.InstantInviteSources.CHANNEL_CALL
                            })
                        }, {
                            contextKey: h ? l.POPOUT_MODAL_CONTEXT : l.DEFAULT_MODAL_CONTEXT
                        }),
                        callToAction: u.default.Messages.INSTANT_INVITE
                    })
                })
            }
        },
        732961: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return x
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("301165"),
                u = n("84339"),
                o = n("109489"),
                d = n("271938"),
                c = n("42887"),
                f = n("944832"),
                h = n("659500"),
                p = n("679243"),
                m = n("876715"),
                E = n("842044"),
                _ = n("329515"),
                S = n("49111"),
                C = n("99795"),
                g = n("111647"),
                I = n("542377");
            let T = 16 / 9,
                N = 8 + _.PARTICIPANTS_HEIGHT;

            function x(e) {
                let t, {
                        onSelectParticipant: n,
                        onContextMenuParticipant: s,
                        onFullscreenParticipant: x,
                        participants: v,
                        filteredParticipants: A,
                        popoutWindow: M,
                        inCall: R,
                        channel: L,
                        selectedParticipant: O,
                        showParticipants: y = !0,
                        className: j,
                        paused: P,
                        width: D,
                        height: b,
                        layout: U,
                        idle: F
                    } = e,
                    w = null != M,
                    G = c.default.getVideoComponent(),
                    B = d.default.getId(),
                    [k, H] = l.useState(null),
                    [V, W] = l.useState(!0),
                    [Y, z] = l.useState(!1),
                    K = O.type === C.ParticipantTypes.ACTIVITY,
                    X = !K && null != O.streamId,
                    q = X && null != k && k.width > 0 && k.height > 0 ? k.width / k.height : T,
                    Z = b <= 2 * N + 144,
                    Q = y && !Z,
                    J = (0, u.default)(Q),
                    $ = 0;
                (K || Q) && ($ += 72), K && !Q && ($ += 48), Q && ($ += .5 * N + 8);
                let ee = b - 2 * $,
                    et = ee * q,
                    en = Math.floor(Math.min(D, et) / q),
                    ea = b > D / q + 72 + N + 8,
                    el = !Q && !K;
                t = el ? 40 + Math.max(0, 72 - (b - en) / 2) : Q ? -16 : -8, l.useEffect(() => {
                    let e = setTimeout(() => {
                        W(!1)
                    }, 250);
                    return () => {
                        clearTimeout(e)
                    }
                }, []);
                let es = (0, r.useSpring)({
                        value: Q ? 1 : 0,
                        delay: ea || !Q ? 0 : 100,
                        config: {
                            ...r.config.stiff,
                            clamp: !0
                        },
                        onStart: () => z(!0),
                        onChange: () => h.ComponentDispatch.dispatch(S.ComponentActions.REMEASURE_TARGET),
                        onRest: () => {
                            z(!1), h.ComponentDispatch.dispatch(S.ComponentActions.REMEASURE_TARGET)
                        }
                    }),
                    ei = (0, r.useSpring)({
                        value: Q ? 1 : 0,
                        config: {
                            ...r.config.stiff,
                            clamp: !0
                        }
                    }),
                    er = (0, r.useSpring)({
                        value: et,
                        config: {
                            ...r.config.stiff,
                            clamp: !0
                        },
                        immediate: J === Q && ei.value.idle
                    }),
                    eu = (0, r.useSpring)({
                        value: t,
                        config: {
                            ...r.config.stiff,
                            clamp: !0
                        }
                    }),
                    eo = (0, r.useTransition)(O, {
                        keys: e => null == e ? void 0 : e.id,
                        config: {
                            ...r.config.stiff,
                            clamp: !0
                        },
                        initial: null,
                        from: {
                            opacity: 0
                        },
                        enter: {
                            opacity: 1
                        },
                        leave: {
                            opacity: 0
                        }
                    }),
                    ed = l.useCallback(e => {
                        H(e), W(!1)
                    }, []),
                    ec = Q || P ? [] : (0, E.getPipParticipants)(v, O, B),
                    {
                        visibleParticipants: ef,
                        participantTileWidth: eh
                    } = (0, _.useVisibleParticipants)(D, A);
                return (0, a.jsxs)("div", {
                    className: i(I.root, g.flexCenter, j),
                    children: [(0, a.jsxs)("div", {
                        className: I.tileWrapper,
                        style: {
                            opacity: X && V ? 0 : 1
                        },
                        children: [(0, a.jsxs)(r.animated.div, {
                            className: I.videoFrame,
                            style: {
                                top: ei.value.to(e => -e * N / 2)
                            },
                            children: [(0, a.jsx)(r.animated.div, {
                                style: {
                                    width: er.value
                                },
                                className: I.videoWrapper,
                                children: (0, a.jsx)(f.default, {
                                    className: g.videoSizer,
                                    aspectRatio: q,
                                    children: eo((e, t, l) => {
                                        let {
                                            key: i
                                        } = l;
                                        return null != t ? (0, a.jsx)(r.animated.div, {
                                            className: g.videoWrapperAnimated,
                                            style: e,
                                            children: (0, a.jsx)(p.default, {
                                                focused: !0,
                                                noBorder: et >= D || ee >= b,
                                                channel: L,
                                                className: g.focusedVideo,
                                                videoComponent: G,
                                                paused: P,
                                                width: D,
                                                participant: t,
                                                onClick: n,
                                                onDoubleClick: x,
                                                onContextMenu: s,
                                                onVideoResize: ed,
                                                inCall: R,
                                                inPopout: w
                                            })
                                        }, i) : null
                                    })
                                })
                            }), Z || U === S.ChannelLayouts.MINIMUM || U === S.ChannelLayouts.NORMAL ? null : (0, a.jsx)(r.animated.div, {
                                className: i(I.actionRow, {
                                    [I.idle]: F
                                }),
                                style: {
                                    bottom: eu.value
                                },
                                children: (0, a.jsx)(o.default, {
                                    channelId: L.id,
                                    isParticipantsOpen: y,
                                    isVertical: !0
                                })
                            })]
                        }), (0, a.jsx)(r.animated.div, {
                            className: I.participantsWrapperAnimated,
                            style: {
                                translateY: es.value.to(e => e * N / 2),
                                opacity: es.value,
                                visibility: es.value.to(e => 0 === e ? "hidden" : "visible")
                            },
                            children: (0, a.jsx)(_.default, {
                                channel: L,
                                onClick: n,
                                onContextMenu: s,
                                onDoubleClick: x,
                                participants: ef,
                                participantTileWidth: eh,
                                selectedParticipantId: O.id,
                                inCall: R,
                                paused: P || Y || !y,
                                popoutWindow: M
                            })
                        })]
                    }), ec.length > 0 ? (0, a.jsx)(m.default, {
                        onContextMenuParticipant: s,
                        width: D,
                        height: b,
                        channel: L,
                        participants: ec
                    }) : null]
                })
            }
        },
        329515: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                PARTICIPANTS_HEIGHT: function() {
                    return f
                },
                useVisibleParticipants: function() {
                    return m
                },
                default: function() {
                    return E
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("917351"),
                i = n("246846"),
                r = n("271938"),
                u = n("449008"),
                o = n("679243"),
                d = n("99795"),
                c = n("987162");
            let f = 112,
                h = 16 / 9 * f + 8;

            function p(e) {
                var t;
                let n = r.default.getId();
                return e.type === d.ParticipantTypes.USER && e.user.id === n && (null === (t = e.voiceState) || void 0 === t ? void 0 : t.selfVideo)
            }

            function m(e, t) {
                let [n, a] = l.useState(Date.now());
                l.useEffect(() => {
                    let e = setTimeout(() => {
                        a(Date.now())
                    }, 1e4);
                    return () => {
                        clearTimeout(e)
                    }
                }, [t]);
                let r = l.useRef({}),
                    {
                        visibleParticipants: o,
                        participantTileWidth: c
                    } = l.useMemo(() => {
                        let n = Date.now(),
                            a = (0, s.sortBy)(t, e => (function(e) {
                                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Date.now();
                                switch (e.type) {
                                    case d.ParticipantTypes.ACTIVITY:
                                        return "\x00".concat(e.sortKey);
                                    case d.ParticipantTypes.HIDDEN_STREAM:
                                    case d.ParticipantTypes.STREAM:
                                        return "\x01".concat((0, i.default)(e.userNick, e.user));
                                    case d.ParticipantTypes.USER:
                                        var n;
                                        let a = "\x05";
                                        return e.speaking ? a = "\x02" : t - e.lastSpoke < 1e4 ? a = "\x03" : (null === (n = e.voiceState) || void 0 === n ? void 0 : n.selfVideo) && (a = "\x04"), "".concat(a).concat(function(e) {
                                            let t = String(864e13).length;
                                            return String(864e13 - e).padStart(t, "0")
                                        }(e.lastSpoke)).concat((0, i.default)(e.userNick, e.user))
                                }
                            })(e, n)),
                            [l, o] = (0, s.partition)(a, d.isStreamParticipant),
                            c = o.findIndex(p),
                            f = null; - 1 !== c && (f = o[c], o.splice(c, 1));
                        let m = null != f ? e - h - 8 : e,
                            E = Math.max(0, Math.min(Math.floor((m - 8) / 132), 12, t.length)),
                            _ = Math.min((m - 8) / E - 8, h),
                            S = Math.max(0, E - l.length),
                            C = l.slice(0, E),
                            g = o.slice(0, S),
                            I = Array(S);
                        if (S > 0) {
                            let e = [];
                            for (let t of g) {
                                let n = r.current[t.id];
                                null != n && n < S ? I[n] = t : e.push(t)
                            }
                            for (let t = 0; t < I.length; t++) {
                                if (null != I[t]) continue;
                                let n = e.shift();
                                if (null == n) break;
                                I[t] = n
                            }
                        }
                        let T = I.filter(u.isNotNullish),
                            N = (0, s.keyBy)((0, s.range)(T.length), e => T[e].id);
                        r.current = N;
                        let x = [...C, ...T];
                        return null != f && x.push(f), {
                            visibleParticipants: x,
                            participantTileWidth: _
                        }
                    }, [e, t, n]);
                return {
                    visibleParticipants: o,
                    participantTileWidth: c
                }
            }

            function E(e) {
                let {
                    participants: t,
                    participantTileWidth: n,
                    selectedParticipantId: l,
                    onDoubleClick: s,
                    onContextMenu: i,
                    onClick: r,
                    channel: u,
                    inCall: d,
                    popoutWindow: f,
                    paused: m = !1
                } = e, E = null != f;
                return (0, a.jsx)("div", {
                    className: c.root,
                    children: t.map(e => {
                        if (null == e) return null;
                        let t = p(e);
                        return (0, a.jsx)("div", {
                            className: c.tileSizer,
                            style: t ? {
                                flexShrink: 0
                            } : void 0,
                            children: (0, a.jsx)(o.default, {
                                participant: e,
                                selected: l === e.id,
                                channel: u,
                                className: c.tile,
                                fit: o.CallTileFit.COVER,
                                onClick: r,
                                onDoubleClick: s,
                                onContextMenu: i,
                                width: t ? h : n,
                                inCall: d,
                                paused: m,
                                inPopout: E
                            })
                        }, e.id)
                    })
                })
            }
        },
        153984: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("255397"),
                s = n("607391"),
                i = n("782340");
            let r = n("328989");

            function u(e) {
                let {
                    width: t,
                    className: n,
                    channelId: u,
                    noArt: o = !1
                } = e;
                return (0, a.jsx)(s.default, {
                    artURL: r,
                    noArt: o,
                    size: (0, s.getSizeForWidth)(t),
                    className: n,
                    callToAction: i.default.Messages.STREAM_SHOW_ALL_PARTICIPANTS,
                    header: i.default.Messages.STREAM_PARTICIPANTS_HIDDEN.format(),
                    onCTAClick: () => l.default.toggleVoiceParticipantsHidden(u, !1)
                })
            }
        },
        616718: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var a = n("446674"),
                l = n("582415"),
                s = n("824563"),
                i = n("387111"),
                r = n("782340");

            function u(e, t, n) {
                let u = (0, a.useStateFromStores)([s.default], () => null != n ? (0, l.getStreamerApplication)(n, s.default) : null, [n]),
                    o = i.default.getName(e.getGuildId(), e.id, t);
                return null == n ? o : (null == u ? void 0 : u.name) != null ? r.default.Messages.GO_LIVE_USER_PLAYING.format({
                    applicationName: null == u ? void 0 : u.name,
                    username: o
                }) : r.default.Messages.GO_LIVE_TILE_SCREEN.format({
                    username: o
                })
            }
        },
        172131: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var a, l, s = n("37983");
            n("884691");
            var i = n("414456"),
                r = n.n(i),
                u = n("256170"),
                o = n("981913"),
                d = n("698310");

            function c(e) {
                let {
                    direction: t,
                    className: n,
                    themeable: a,
                    ...i
                } = e;
                return (0, s.jsx)(o.default, {
                    className: r(n, d.arrow, {
                        [d.up]: t === l.UP
                    }),
                    iconComponent: u.default,
                    themeable: a,
                    ...i
                })
            }(a = l || (l = {}))[a.UP = 0] = "UP", a[a.DOWN = 1] = "DOWN", c.Directions = l;
            var f = c
        },
        925674: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("255397"),
                s = n("407691"),
                i = n("981913"),
                r = n("782340");

            function u(e) {
                let {
                    channelId: t,
                    ...n
                } = e;
                return (0, a.jsx)(i.default, {
                    onClick: function() {
                        l.default.selectParticipant(t, null)
                    },
                    label: r.default.Messages.VIDEO_CALL_RETURN_TO_GRID,
                    iconComponent: s.default,
                    tooltipPosition: "bottom",
                    ...n
                })
            }
        },
        63260: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("414456"),
                s = n.n(l),
                i = n("77078"),
                r = n("155207"),
                u = n("981913"),
                o = n("782340"),
                d = n("443367");

            function c(e) {
                let {
                    className: t,
                    count: n
                } = e;
                return (0, a.jsxs)("div", {
                    className: s(d.root, d.comboIcon, t),
                    children: [(0, a.jsx)(r.default, {
                        className: d.icon
                    }), (0, a.jsx)(i.Text, {
                        color: "none",
                        className: d.count,
                        variant: "text-md/normal",
                        children: n
                    })]
                })
            }

            function f(e) {
                let {
                    count: t,
                    ...n
                } = e;
                return (0, a.jsx)(u.default, {
                    label: o.default.Messages.CHANNEL_CALL_PARTICIPANTS,
                    iconComponent: e => {
                        let {
                            className: n
                        } = e;
                        return (0, a.jsx)(c, {
                            className: n,
                            count: t
                        })
                    },
                    tooltipPosition: "bottom",
                    ...n
                })
            }
        },
        422736: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var a = n("37983");
            n("884691");
            var l = n("255397"),
                s = n("229997"),
                i = n("763984"),
                r = n("981913"),
                u = n("99795"),
                o = n("782340");

            function d(e) {
                let {
                    channelId: t,
                    isHorizontal: n,
                    ...d
                } = e;
                return (0, a.jsx)(r.default, {
                    onClick: function() {
                        l.default.selectParticipant(t, u.ParticipantSelectionTypes.AUTO)
                    },
                    label: o.default.Messages.VIDEO_CALL_AUTO_SELECT,
                    iconComponent: n ? s.default : i.default,
                    tooltipPosition: "bottom",
                    ...d
                })
            }
        },
        495194: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useIsVoiceChannelLocked: function() {
                    return o
                },
                default: function() {
                    return d
                }
            });
            var a = n("446674"),
                l = n("305961"),
                s = n("957255"),
                i = n("800762"),
                r = n("404008"),
                u = n("843455");

            function o(e) {
                return (0, a.useStateFromStores)([s.default], () => null == e || !s.default.can(u.Permissions.CONNECT, e), [e])
            }

            function d(e) {
                return (0, a.useStateFromStores)([i.default, l.default], () => (0, r.isChannelFull)(e, i.default, l.default))
            }
        },
        260014: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var a = n("37983"),
                l = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("917351"),
                u = n("748820"),
                o = n("446674"),
                d = n("913144"),
                c = n("430568"),
                f = n("206230"),
                h = n("962367");
            let p = [h.emoji1, h.emoji2, h.emoji3, h.emoji4],
                m = l.memo(function(e) {
                    var t;
                    let {
                        emoji: n,
                        onAnimationEnd: s
                    } = e, u = (0, r.sample)(p), o = l.useCallback(() => {
                        s(n.key)
                    }, [n.key, s]);
                    return (0, a.jsx)("div", {
                        className: i(h.emoji, u),
                        onAnimationEnd: o,
                        children: (0, a.jsx)(c.default, {
                            emojiId: n.id,
                            emojiName: n.name,
                            animated: null !== (t = n.animated) && void 0 !== t && t
                        })
                    })
                });

            function E(e) {
                let {
                    channelId: t
                } = e, n = (0, o.useStateFromStores)([f.default], () => f.default.useReducedMotion), [s, i] = l.useState([]);
                l.useEffect(() => {
                    function e(e) {
                        let {
                            channelId: a,
                            emoji: l
                        } = e;
                        a === t && !n && null != l && i(e => [...e, {
                            key: (0, u.v4)(),
                            ...l
                        }])
                    }
                    return d.default.subscribe("VOICE_CHANNEL_EFFECT_SEND", e), () => {
                        d.default.unsubscribe("VOICE_CHANNEL_EFFECT_SEND", e)
                    }
                }, [t, n]);
                let r = l.useCallback(e => {
                    i(t => t.filter(t => t.key !== e))
                }, []);
                return n ? null : (0, a.jsx)("div", {
                    className: h.container,
                    "aria-hidden": !0,
                    children: s.map(e => (0, a.jsx)(m, {
                        emoji: e,
                        onAnimationEnd: r
                    }, e.key))
                })
            }
        },
        824135: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var a = n("446674"),
                l = n("6263"),
                s = n("233069"),
                i = n("42203"),
                r = n("305961"),
                u = n("18494"),
                o = n("49111");

            function d(e, t) {
                let n = (0, a.useStateFromStores)([r.default], () => r.default.getGuild(t)),
                    d = (0, a.useStateFromStores)([i.default], () => i.default.getChannel(e)),
                    c = (0, a.useStateFromStores)([u.default], () => u.default.getChannelId(t)),
                    {
                        showOnboardingHome: f
                    } = l.default.useExperiment({
                        location: "52235f_1"
                    }, {
                        autoTrackExposure: !1
                    });
                return e === c && null != d && null != n && d.getGuildId() === n.id && (0, s.isGuildTextChannelType)(d.type) && n.hasFeature(o.GuildFeatures.WELCOME_SCREEN_ENABLED) && n.hasFeature(o.GuildFeatures.COMMUNITY) && (!f || !n.hasFeature(o.GuildFeatures.GUILD_SERVER_GUIDE))
            }
        },
        476108: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var a = n("446674"),
                l = n("95410"),
                s = n("913144"),
                i = n("49111");
            let r = {
                    lastViewedPath: null,
                    lastViewedNonVoicePath: null
                },
                u = r,
                o = "LAST_VIEWED_PATH";
            class d extends a.default.PersistedStore {
                initialize() {
                    let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : r;
                    u = null != e ? e : r
                }
                get defaultRoute() {
                    return i.Routes.ME
                }
                get lastNonVoiceRoute() {
                    var e;
                    return null !== (e = u.lastViewedNonVoicePath) && void 0 !== e ? e : i.Routes.ME
                }
                get fallbackRoute() {
                    return i.Routes.ME
                }
                getState() {
                    return u
                }
            }
            d.displayName = "DefaultRouteStore", d.persistKey = "DefaultRouteStore", d.migrations = [() => {
                let e = l.default.get(o, null);
                return l.default.remove(o), {
                    lastViewedPath: e
                }
            }];
            var c = new d(s.default, {
                SAVE_LAST_ROUTE: function(e) {
                    let {
                        path: t
                    } = e;
                    return u.lastViewedPath = t, !0
                },
                SAVE_LAST_NON_VOICE_ROUTE: function(e) {
                    let {
                        path: t
                    } = e;
                    return u.lastViewedNonVoicePath = t, !0
                }
            })
        },
        501090: function(e, t, n) {
            "use strict";
            let a;
            n.r(t), n.d(t, {
                default: function() {
                    return U
                }
            });
            var l = n("917351"),
                s = n.n(l),
                i = n("446674"),
                r = n("913144"),
                u = n("447909"),
                o = n("233069"),
                d = n("159885"),
                c = n("158998"),
                f = n("42203"),
                h = n("319781"),
                p = n("27618"),
                m = n("697218"),
                E = n("49111");
            let _ = !1,
                S = "",
                C = 0,
                g = [],
                I = !1,
                T = new Set,
                N = null;

            function x() {
                S = "", C = 0, g = [], T = new Set, _ = !1, N = null
            }

            function v(e) {
                S = e, C = 0, A()
            }

            function A() {
                if (!_) return !1;
                let e = f.default.getChannel(N);
                if (0 === S.trim().length) return null != a && a.clearQuery(), g = function(e) {
                    let t = p.default.getFriendIDs();
                    return (null == e ? void 0 : e.isPrivate()) && (t = t.filter(t => !e.recipients.includes(t))), t.reduce((e, t) => {
                        let n = m.default.getUser(t);
                        return null == n ? e : (e.push({
                            user: n
                        }), e)
                    }, []).sort(R)
                }(e), !0;
                let t = null != e ? e.recipients : [];
                return null != a && a.setQuery(S, {
                    friends: !0
                }, t, function() {
                    let e = h.default.getFrequently(),
                        t = e.filter(e => e instanceof o.PrivateChannelRecord && e.isDM()),
                        n = Math.max(...t.map(e => {
                            let {
                                id: t
                            } = e;
                            return h.default.getScore(t)
                        })),
                        a = {};
                    return t.forEach(e => {
                        let t = h.default.getScore(e.id),
                            l = e.getRecipientId(),
                            s = p.default.isFriend(l) ? .2 : 0,
                            i = null != f.default.getDMFromUserId(l) ? .1 : 0;
                        a[l] = 1 + t / n + s + i
                    }), a
                }()), !1
            }

            function M() {
                if (!_) return !1;
                let e = I;
                return (I = s.some(p.default.getRelationships(), e => e === E.RelationshipTypes.FRIEND)) !== e
            }

            function R(e, t) {
                return (0, d.stripDiacritics)(c.default.getName(e.user).toLocaleLowerCase()).localeCompare((0, d.stripDiacritics)(c.default.getName(t.user).toLocaleLowerCase()))
            }

            function L(e) {
                let {
                    results: t
                } = e;
                _ && "" !== S && (g = t.map(e => {
                    let {
                        id: t
                    } = e;
                    return {
                        user: m.default.getUser(t)
                    }
                }).filter(e => null != e.user), b.emitChange())
            }

            function O() {
                return null != a && (a.destroy(), a = null), u.default.getSearchContext(L, 1e3)
            }

            function y(e) {
                if (e.key !== E.NEW_GROUP_DM_POPOUT_ID) return !1;
                _ = !0, M(), a = O(), N = null, v("")
            }

            function j(e) {
                if (e.key !== E.NEW_GROUP_DM_POPOUT_ID) return !1;
                P()
            }

            function P() {
                null != a && (a.destroy(), a = null), x()
            }
            class D extends i.default.Store {
                initialize() {
                    this.waitFor(m.default, f.default, p.default), this.syncWith([m.default, f.default], A), this.syncWith([p.default], M)
                }
                getResults() {
                    return g
                }
                hasFriends() {
                    return I
                }
                getSelectedUsers() {
                    return T
                }
                getQuery() {
                    return S
                }
                getState() {
                    return {
                        query: S,
                        selectedRow: C,
                        selectedUsers: T,
                        results: g,
                        hasFriends: I
                    }
                }
            }
            D.displayName = "PrivateChannelRecipientsInviteStore";
            let b = new D(r.default, {
                CONNECTION_OPEN: function() {
                    x()
                },
                CHANNEL_SELECT: function(e) {
                    let {
                        guildId: t,
                        channelId: n
                    } = e;
                    if (null != t) return !1;
                    let a = _;
                    return x(), _ = a, N = n, A()
                },
                MODAL_PUSH: y,
                SHOW_ACTION_SHEET: y,
                PRIVATE_CHANNEL_RECIPIENTS_INVITE_OPEN: function(e) {
                    _ = !0, M(), a = O(), N = e.channelId, v("")
                },
                MODAL_POP: j,
                HIDE_ACTION_SHEET: j,
                PRIVATE_CHANNEL_RECIPIENTS_INVITE_CLOSE: P,
                PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY: function(e) {
                    N = e.channelId, v(e.query)
                },
                PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT: function(e) {
                    C = e.row
                },
                PRIVATE_CHANNEL_RECIPIENTS_ADD_USER: function(e) {
                    let {
                        userId: t
                    } = e;
                    T.add(t), T = new Set(T)
                },
                PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER: function(e) {
                    let {
                        userId: t
                    } = e;
                    T.delete(t), T = new Set(T)
                }
            });
            var U = b
        },
        402904: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var a = n("917351"),
                l = n.n(a),
                s = n("446674"),
                i = n("913144"),
                r = n("305961");
            let u = null,
                o = {};
            class d extends s.default.Store {
                initialize() {
                    this.waitFor(r.default)
                }
                getOptimalRegion() {
                    var e;
                    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                        n = this.getRegions(t);
                    return null != n ? null !== (e = n.find(e => {
                        let {
                            optimal: t
                        } = e;
                        return t
                    })) && void 0 !== e ? e : l.sample(n) : null
                }
                getOptimalRegionId() {
                    let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                        t = this.getOptimalRegion(e);
                    return null != t ? t.id : null
                }
                getRandomRegion() {
                    let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                        t = this.getRegions(e);
                    return null != t ? l.sample(t) : null
                }
                getRandomRegionId() {
                    let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                        t = this.getRandomRegion(e);
                    return null != t ? t.id : null
                }
                getRegions(e) {
                    return null != e ? o[e] : u
                }
            }
            d.displayName = "RegionStore";
            var c = new d(i.default, {
                LOAD_REGIONS: function(e) {
                    let t = l.sortBy(e.regions, e => e.name);
                    null != e.guildId ? o[e.guildId] = t : u = t
                },
                GUILD_DELETE: function(e) {
                    delete o[e.guild.id]
                }
            })
        },
        519812: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                getRecipients: function() {
                    return i
                }
            });
            var a = n("917351"),
                l = n.n(a),
                s = n("449008");

            function i(e, t) {
                return l(e).map(t.getUser).unshift(t.getCurrentUser()).filter(s.isNotNullish).sortBy(e => e.username.toLowerCase()).value()
            }
        }
    }
]);