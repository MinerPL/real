(this.webpackChunkdiscord_app = this.webpackChunkdiscord_app || []).push([
    ["61611"], {
        16873: function(e, t, n) {
            "use strict";
            e.exports = n.p + "86c8b17e10af5906ce4b.svg"
        },
        605834: function(e, t, n) {
            "use strict";
            e.exports = n.p + "dee199baf31d0fc4227d.svg"
        },
        976585: function(e, t, n) {
            "use strict";
            e.exports = n.p + "8f386efbc744b1e32997.svg"
        },
        41912: function(e, t, n) {
            "use strict";
            e.exports = n.p + "7a8aa360d0b7b01bf851.svg"
        },
        706692: function(e, t, n) {
            "use strict";
            e.exports = n.p + "604ee8350b6482bfec20.svg"
        },
        615184: function(e, t, n) {
            "use strict";
            e.exports = n.p + "9e2f412156e2ac1f14e9.svg"
        },
        992507: function(e, t, n) {
            "use strict";
            e.exports = n.p + "64df6f04b850029d2e78.svg"
        },
        184841: function(e, t, n) {
            "use strict";
            e.exports = n.p + "adfe130868d2bcf467b5.svg"
        },
        852294: function(e, t, n) {
            "use strict";
            e.exports = n.p + "bca43ea978949f10c4be.svg"
        },
        836938: function(e, t, n) {
            "use strict";
            e.exports = n.p + "07aa1f325ebe8b8af5cb.svg"
        },
        295021: function(e, t, n) {
            "use strict";
            e.exports = n.p + "adc405c99f845c4bd619.svg"
        },
        177642: function(e, t, n) {
            "use strict";
            e.exports = n.p + "336a8bdedb983df7fdbf.svg"
        },
        697221: function(e, t, n) {
            "use strict";
            e.exports = n.p + "83720a1a3ec0963a1f71.svg"
        },
        951076: function(e, t, n) {
            "use strict";
            e.exports = n.p + "332e869e414fbd8708de.svg"
        },
        760106: function(e, t, n) {
            "use strict";
            e.exports = n.p + "8eeb59bba0a61cbffc41.svg"
        },
        41352: function(e, t, n) {
            "use strict";
            e.exports = n.p + "d6dfb89ab06b62044dbb.svg"
        },
        21710: function(e, t, n) {
            "use strict";
            e.exports = n.p + "53d74eda11a4185c1acd.svg"
        },
        999523: function(e, t, n) {
            "use strict";
            e.exports = n.p + "6299f44c9c8c8c31cfdf.svg"
        },
        622650: function(e, t, n) {
            "use strict";
            e.exports = n.p + "99d35a435f00582ddf41.svg"
        },
        454758: function(e, t, n) {
            "use strict";
            e.exports = n.p + "8adc88268bfefa227846.svg"
        },
        456117: function(e, t, n) {
            "use strict";
            e.exports = n.p + "45cd76fed34c8e398cc8.svg"
        },
        606778: function(e, t, n) {
            "use strict";
            e.exports = n.p + "75081bdaad2d359c1469.svg"
        },
        665718: function(e, t, n) {
            "use strict";
            e.exports = n.p + "5420f8fd9d89897c6448.svg"
        },
        897327: function(e, t, n) {
            "use strict";
            e.exports = n.p + "d8197d45ef3e7289594d.svg"
        },
        234997: function(e, t, n) {
            "use strict";
            e.exports = n.p + "870ce21aeffa60252eb0.svg"
        },
        382719: function(e, t, n) {
            "use strict";
            e.exports = n.p + "39a446c64583517c2b3c.png"
        },
        559016: function(e, t, n) {
            "use strict";
            e.exports = n.p + "216763e8162ce6f332b3.gif"
        },
        233135: function(e, t, n) {
            "use strict";
            e.exports = n.p + "fd2a60d87996e1826c07.svg"
        },
        712967: function(e, t, n) {
            "use strict";
            e.exports = n.p + "9b36085226f30399f2f9.svg"
        },
        981726: function(e, t, n) {
            "use strict";
            e.exports = n.p + "440d8145b3dff23399e7.svg"
        },
        704176: function(e, t, n) {
            "use strict";
            e.exports = n.p + "690146a2083a857c3dd1.svg"
        },
        529547: function(e, t, n) {
            "use strict";
            e.exports = n.p + "62427879d943e487c053.svg"
        },
        21719: function(e, t, n) {
            "use strict";
            e.exports = n.p + "865d3a738134a692139a.svg"
        },
        117861: function(e, t, n) {
            "use strict";
            e.exports = n.p + "dce7aacb93fbfc80cd23.svg"
        },
        846770: function(e, t, n) {
            "use strict";
            e.exports = n.p + "9cf8c36deaa3dc7b8d65.svg"
        },
        284434: function(e, t, n) {
            "use strict";
            e.exports = n.p + "51063f34b3960c1d5da8.svg"
        },
        315956: function(e, t, n) {
            "use strict";
            e.exports = n.p + "f92a8b5812e2da52a179.svg"
        },
        408426: function(e, t, n) {
            "use strict";
            e.exports = n.p + "0763b684871cf3aa4c4b.svg"
        },
        271861: function(e, t, n) {
            "use strict";
            e.exports = n.p + "c7fa42bca0c3ea28f681.svg"
        },
        149855: function(e, t, n) {
            "use strict";
            e.exports = n.p + "0c5c580c72a087382ee1.svg"
        },
        897204: function(e, t, n) {
            "use strict";
            e.exports = n.p + "590704d389aee197d7a5.svg"
        },
        465073: function(e, t, n) {
            "use strict";
            e.exports = n.p + "e86b4414e7dfa126abbd.svg"
        },
        227966: function(e, t, n) {
            "use strict";
            e.exports = n.p + "1a7474b52c42a84f530d.svg"
        },
        327893: function(e, t, n) {
            "use strict";
            e.exports = n.p + "acc5574629c0d16d8981.svg"
        },
        640593: function(e, t, n) {
            "use strict";
            e.exports = n.p + "4a17a4f6b479ae64f2bd.svg"
        },
        425643: function(e, t, n) {
            "use strict";
            e.exports = n.p + "21c5ac2b22352e58d143.svg"
        },
        328989: function(e, t, n) {
            "use strict";
            e.exports = n.p + "c4055dc18143c869ae27.svg"
        },
        289867: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return a
                }
            });
            var l = n("913144"),
                a = {
                    toggleMembersSection() {
                        l.default.dispatch({
                            type: "CHANNEL_TOGGLE_MEMBERS_SECTION"
                        })
                    },
                    toggleProfilePanelSection() {
                        l.default.dispatch({
                            type: "PROFILE_PANEL_TOGGLE_SECTION"
                        })
                    },
                    toggleSummariesSection() {
                        l.default.dispatch({
                            type: "CHANNEL_TOGGLE_SUMMARIES_SECTION"
                        })
                    }
                }
        },
        369008: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return a
                }
            });
            var l = n("913144"),
                a = {
                    search(e, t) {
                        l.default.dispatch({
                            type: "PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY",
                            query: e,
                            channelId: t
                        })
                    },
                    clear(e) {
                        l.default.dispatch({
                            type: "PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY",
                            query: "",
                            channelId: e
                        })
                    },
                    select(e) {
                        l.default.dispatch({
                            type: "PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT",
                            row: e
                        })
                    },
                    addUser(e) {
                        l.default.dispatch({
                            type: "PRIVATE_CHANNEL_RECIPIENTS_ADD_USER",
                            userId: e
                        })
                    },
                    removeUser(e) {
                        l.default.dispatch({
                            type: "PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER",
                            userId: e
                        })
                    },
                    open(e) {
                        l.default.dispatch({
                            type: "PRIVATE_CHANNEL_RECIPIENTS_INVITE_OPEN",
                            channelId: e
                        })
                    },
                    close() {
                        l.default.dispatch({
                            type: "PRIVATE_CHANNEL_RECIPIENTS_INVITE_CLOSE"
                        })
                    }
                }
        },
        363484: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var l = n("872717"),
                a = n("913144"),
                s = n("49111"),
                i = {
                    fetchRegions(e) {
                        l.default.get({
                            url: s.Endpoints.REGIONS(e),
                            retries: 1,
                            oldFormErrors: !0
                        }).then(t => a.default.dispatch({
                            type: "LOAD_REGIONS",
                            regions: t.body,
                            guildId: e
                        }), () => a.default.dispatch({
                            type: "LOAD_REGIONS",
                            regions: [],
                            guildId: e
                        }))
                    },
                    changeCallRegion(e, t) {
                        l.default.patch({
                            url: s.Endpoints.CALL(e),
                            body: {
                                region: t
                            },
                            oldFormErrors: !0
                        })
                    }
                }
        },
        112821: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return C
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("446674"),
                i = n("819855"),
                r = n("77078"),
                u = n("828986"),
                o = n("508229"),
                d = n("660478"),
                c = n("697218"),
                f = n("590514"),
                h = n("249561"),
                p = n("49111"),
                m = n("782340");
            let E = [];

            function C(e) {
                let {
                    channel: t,
                    onJump: C
                } = e, {
                    messages: g,
                    loading: S
                } = (0, s.useStateFromStoresObject)([o.default], () => {
                    let e = o.default.getPinnedMessages(t.id),
                        n = null != e ? e.messages : E;
                    return {
                        messages: n,
                        loading: null == n || null != e && e.loading
                    }
                }), _ = (0, s.useStateFromStores)([d.default], () => d.default.hasUnreadPins(t.id)), I = (0, s.useStateFromStores)([c.default], () => {
                    if (!t.isPrivate()) return null;
                    let e = c.default.getUser(t.getRecipientId());
                    return null != e ? e.username : null
                });
                return a.useEffect(() => {
                    _ && u.default.ackPins(t.id)
                }, [_, t.id]), (0, l.jsx)(r.Dialog, {
                    "aria-label": m.default.Messages.PINNED_MESSAGES,
                    children: (0, l.jsx)(f.default, {
                        onFetch: function() {
                            u.default.ackPins(t.id), u.default.fetchPins(t.id)
                        },
                        channel: t,
                        messages: g,
                        loading: S,
                        analyticsName: "Channel Pins",
                        onCloseMessage: function(e, n) {
                            null != e && (n.shiftKey ? u.default.unpinMessage(t, e.id) : h.default.confirmUnpin(t, e))
                        },
                        onJump: C,
                        getProTip: function() {
                            return t.isPrivate() ? t.type === p.ChannelTypes.DM ? m.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_DM.format({
                                other: I
                            }) : m.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_GROUP_DM : m.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_CHANNEL
                        },
                        renderHeader: () => (0, l.jsx)(f.Header, {
                            title: m.default.Messages.PINNED_MESSAGES
                        }),
                        renderEmptyState: function(e) {
                            let a = m.default.Messages.NO_PINS_IN_CHANNEL;
                            t.isPrivate() && (a = m.default.Messages.NO_PINS_IN_DM);
                            let s = (0, i.isThemeLight)(e) ? n("615184") : n("992507");
                            return (0, l.jsx)(f.EmptyStateCenter, {
                                msg: a,
                                image: s
                            }, "emptystate")
                        },
                        listName: "pins"
                    })
                })
            }
        },
        942722: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return D
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("394846"),
                i = n("446674"),
                r = n("77078"),
                u = n("272030"),
                o = n("352674"),
                d = n("252063"),
                c = n("506885"),
                f = n("981601"),
                h = n("824563"),
                p = n("27618"),
                m = n("191542"),
                E = n("697218"),
                C = n("79798"),
                g = n("151185"),
                S = n("11056"),
                _ = n("826684"),
                I = n("315102"),
                T = n("659500"),
                x = n("519812"),
                N = n("158998"),
                v = n("50885"),
                A = n("888503"),
                M = n("49111"),
                R = n("782340"),
                L = n("811713"),
                j = n("881235");
            let O = v.default.getEnableHardwareAcceleration();

            function y(e) {
                let {
                    user: t,
                    channel: a
                } = e, {
                    status: d,
                    activities: C
                } = (0, i.useStateFromStoresObject)([p.default, E.default, h.default], () => p.default.isFriend(t.id) || t === E.default.getCurrentUser() ? {
                    status: h.default.getStatus(t.id),
                    activities: h.default.getActivities(t.id)
                } : {}), g = (0, i.useStateFromStores)([m.default], () => null != m.default.getTypingUsers(a.id)[t.id]), S = (0, i.useStateFromStores)([E.default], () => E.default.getCurrentUser()), _ = (0, i.useStateFromStores)([h.default], () => h.default.isMobileOnline(t.id)), I = (0, i.useStateFromStores)([p.default], () => p.default.getNickname(t.id)), x = e => {
                    (0, u.openContextMenuLazy)(e, async () => {
                        let {
                            default: e
                        } = await n.el("166452").then(n.bind(n, "166452"));
                        return n => (0, l.jsx)(e, {
                            ...n,
                            user: t,
                            channel: a
                        })
                    })
                };
                return (0, l.jsx)(r.Popout, {
                    preload: () => (0, c.default)(t.id, t.getAvatarURL(void 0, 80)),
                    renderPopout: e => (0, l.jsx)(f.default, {
                        ...e,
                        userId: t.id,
                        channelId: a.id
                    }),
                    position: s.isMobile ? "window_center" : "left",
                    spacing: 16,
                    onShiftClick: () => {
                        let e = "@".concat(N.default.getUserTag(t, {
                                decoration: "never"
                            })),
                            n = "<@".concat(t.id, ">");
                        T.ComponentDispatch.dispatchToLastSubscribed(M.ComponentActions.INSERT_TEXT, {
                            plainText: e,
                            rawText: n
                        }), o.default.startTyping(a.id)
                    },
                    children: e => (0, l.jsx)(A.default, {
                        user: t,
                        currentUser: S,
                        isOwner: t.id === a.ownerId,
                        ownerTooltipText: R.default.Messages.GROUP_OWNER,
                        shouldAnimateStatus: O,
                        isTyping: g,
                        status: d,
                        activities: C,
                        channel: a,
                        onContextMenu: x,
                        isMobile: _,
                        nick: I,
                        ...e
                    }, t.id)
                })
            }

            function P(e) {
                var t;
                let {
                    integration: i,
                    channel: o
                } = e, d = a.useCallback(e => {
                    (0, u.openContextMenuLazy)(e, async () => {
                        let {
                            default: e
                        } = await n.el("348866").then(n.bind(n, "348866"));
                        return t => (0, l.jsx)(e, {
                            ...t,
                            channel: o,
                            integration: i
                        })
                    })
                }, [i, o]), h = i.application.bot, p = I.default.getApplicationIconURL({
                    id: i.application.id,
                    icon: i.application.icon,
                    bot: null === (t = i.application) || void 0 === t ? void 0 : t.bot,
                    botIconFirst: !0
                });
                return null != h ? (0, l.jsx)(r.Popout, {
                    preload: () => (0, c.default)(h.id, p),
                    renderPopout: e => (0, l.jsx)(f.default, {
                        ...e,
                        userId: h.id,
                        channelId: o.id
                    }),
                    position: s.isMobile ? "window_center" : "left",
                    spacing: 16,
                    children: e => (0, l.jsx)(S.default, {
                        onContextMenu: d,
                        className: L.member,
                        name: (0, l.jsx)("span", {
                            className: L.username,
                            children: i.application.name
                        }),
                        avatar: (0, l.jsx)(r.Avatar, {
                            size: r.AvatarSizes.SIZE_32,
                            src: p,
                            "aria-label": i.application.name,
                            statusTooltip: !0
                        }),
                        decorators: (0, l.jsx)(C.default, {
                            className: L.botTag,
                            verified: null == h ? void 0 : h.isVerifiedBot()
                        }),
                        id: i.application.id,
                        focusProps: {
                            offset: {
                                top: 4,
                                bottom: 4,
                                left: 4,
                                right: 4
                            }
                        },
                        ...e
                    })
                }) : null
            }

            function D(e) {
                let {
                    channel: t
                } = e, s = E.default.getCurrentUser(), u = null == s ? void 0 : s.isStaff(), o = (0, i.useStateFromStoresArray)([E.default], () => (0, x.getRecipients)(t.recipients, E.default), [t.recipients]), {
                    installedIntegrations: f,
                    applicationsShelf: h,
                    fetched: p,
                    appsInGDMEnabled: m,
                    availableApplications: I
                } = (0, d.usePrivateChannelIntegrationState)({
                    channelId: t.id
                });
                a.useEffect(() => {
                    if (u)
                        for (let e of o)(0, c.default)(e.id, e.getAvatarURL(void 0, 80), {
                            dispatchWait: !0
                        })
                }, [u, o]);
                let T = u && o.every(e => e.isStaff());
                return (0, l.jsx)("div", {
                    className: j.membersWrap,
                    children: (0, l.jsxs)(r.Scroller, {
                        className: j.members,
                        fade: !0,
                        children: [(0, l.jsxs)(_.default, {
                            className: j.membersGroup,
                            children: ["".concat(R.default.Messages.MEMBERS, "—").concat(o.length, " "), T ? (0, l.jsx)(C.default, {
                                className: j.decorator,
                                type: C.default.Types.STAFF_ONLY_DM
                            }) : null]
                        }), o.map(e => (0, l.jsx)(y, {
                            user: e,
                            channel: t
                        }, e.id)), m && (f.length > 0 || p && h.length > 0) && (0, l.jsxs)(l.Fragment, {
                            children: [(0, l.jsx)(_.default, {
                                className: j.membersGroup,
                                children: "".concat(R.default.Messages.APPS, "—").concat(f.length)
                            }), f.map(e => (0, l.jsx)(P, {
                                integration: e,
                                channel: t
                            }, e.application.id)), I.length > 0 && (0, l.jsx)(S.default, {
                                className: L.member,
                                onClick: () => {
                                    (0, r.openModalLazy)(async () => {
                                        let {
                                            default: e
                                        } = await n.el("724110").then(n.bind(n, "724110"));
                                        return n => (0, l.jsx)(e, {
                                            ...n,
                                            channelId: t.id
                                        })
                                    })
                                },
                                avatar: (0, l.jsx)("div", {
                                    className: j.appIconWrapper,
                                    children: (0, l.jsx)(g.default, {
                                        width: 18,
                                        height: 18
                                    })
                                }),
                                name: R.default.Messages.PRIVATE_CHANNEL_ADD_APPS
                            })]
                        })]
                    })
                })
            }
        },
        654978: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return g
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("446674"),
                u = n("363484"),
                o = n("402904"),
                d = n("145131"),
                c = n("841283"),
                f = n("782340"),
                h = n("398990");
            let p = {
                    position: "bottom",
                    autoInvert: !1
                },
                m = e => {
                    let {
                        region: t,
                        className: n = h.regionSelectName
                    } = e, a = t.name.replace(/ \(VIP\)$/, "");
                    return (0, l.jsx)("div", {
                        className: n,
                        children: a
                    })
                };
            class E extends a.PureComponent {
                render() {
                    let {
                        region: e,
                        selected: t
                    } = this.props;
                    return (0, l.jsxs)(d.default, {
                        align: d.default.Align.CENTER,
                        className: i({
                            selected: t
                        }),
                        children: [(0, l.jsx)(m, {
                            region: e,
                            className: h.regionSelectName
                        }), t ? (0, l.jsx)("i", {
                            className: h.check
                        }) : null]
                    })
                }
            }
            class C extends a.PureComponent {
                componentDidMount() {
                    null == this.props.regions && u.default.fetchRegions(null)
                }
                render() {
                    let {
                        regions: e
                    } = this.props;
                    if (null == e) return null;
                    let t = this.getSelectedRegion(),
                        n = {
                            label: t.name,
                            value: t
                        },
                        a = e.filter(e => !e.deprecated && !e.hidden).map(e => ({
                            label: e.name,
                            value: e,
                            key: e.id
                        }));
                    return (0, l.jsx)(c.default, {
                        label: f.default.Messages.REGION,
                        options: a,
                        value: n,
                        onChange: this.handleChangeVoiceRegion,
                        renderOption: this.renderOption,
                        popoutProps: p,
                        popoutClassName: h.regionSelectPopout
                    })
                }
                constructor(...e) {
                    super(...e), this.renderOption = (e, t) => (0, l.jsx)(E, {
                        region: e.value,
                        selected: t
                    }, e.value.id), this.getSelectedRegion = () => {
                        var e;
                        let {
                            regions: t,
                            call: n
                        } = this.props;
                        return n.regionUpdated && null != t && null != n.region ? null !== (e = t.find(e => {
                            let {
                                id: t
                            } = e;
                            return t === n.region
                        })) && void 0 !== e ? e : {
                            name: n.region,
                            id: n.region
                        } : {
                            id: "automatic",
                            name: f.default.Messages.AUTOMATIC_REGION,
                            vip: !1,
                            deprecated: !1,
                            hidden: !1
                        }
                    }, this.handleChangeVoiceRegion = e => {
                        let {
                            value: t
                        } = e, {
                            channelId: n
                        } = this.props.call;
                        u.default.changeCallRegion(n, t.id)
                    }
                }
            }
            var g = r.default.connectStores([o.default], () => ({
                regions: o.default.getRegions(null)
            }))(C)
        },
        561963: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return Z
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("917351"),
                u = n.n(r),
                o = n("974667"),
                d = n("394846"),
                c = n("446674"),
                f = n("77078"),
                h = n("272030"),
                p = n("352674"),
                m = n("206230"),
                E = n("95039"),
                C = n("405645"),
                g = n("256648"),
                S = n("593752"),
                _ = n("506885"),
                I = n("981601"),
                T = n("373469"),
                x = n("26989"),
                N = n("305961"),
                v = n("824563"),
                A = n("101125"),
                M = n("191542"),
                R = n("697218"),
                L = n("543289"),
                j = n("45029"),
                O = n("155207"),
                y = n("826684"),
                P = n("483093"),
                D = n("659500"),
                b = n("991170"),
                U = n("158998"),
                w = n("50885"),
                F = n("888503"),
                G = n("49111"),
                B = n("782340"),
                k = n("126857"),
                H = n("881235");
            let V = w.default.getEnableHardwareAcceleration(),
                W = 44 + F.AVATAR_DECORATION_PADDING,
                Y = a.memo(function(e) {
                    let {
                        channel: t,
                        sectionId: s,
                        userId: i,
                        guildOwnerId: r
                    } = e, u = (0, c.useStateFromStores)([M.default], () => M.default.isTyping(t.id, i)), m = (0, c.useStateFromStores)([x.default], () => x.default.getMember(t.guild_id, i)), C = (0, c.useStateFromStores)([N.default], () => {
                        var e, n;
                        return (null == m ? void 0 : m.colorRoleId) != null ? null === (n = N.default.getGuild(t.guild_id)) || void 0 === n ? void 0 : null === (e = n.getRole(m.colorRoleId)) || void 0 === e ? void 0 : e.name : void 0
                    }, [t.guild_id, m]), g = (0, c.useStateFromStores)([R.default], () => R.default.getUser(i)), L = (0, c.useStateFromStores)([R.default], () => R.default.getCurrentUser()), j = (null == g ? void 0 : g.id) === (null == L ? void 0 : L.id), O = (0, c.useStateFromStores)([v.default, A.default], () => j ? A.default.getStatus() : v.default.getStatus(i, t.guild_id)), y = (0, c.useStateFromStores)([v.default], () => v.default.isMobileOnline(i)), P = (0, c.useStateFromStores)([v.default, A.default], () => j ? A.default.getActivities() : v.default.getActivities(i, t.guild_id)), b = (0, c.useStateFromStores)([T.default], () => T.default.getAnyStreamForUser(i)), w = (0, o.useListItem)(i), k = (0, c.useStateFromStores)([S.default], () => S.default.canUserViewChannel(t.id, s, i)), H = (null == g ? void 0 : g.id) != null && g.id === r, W = a.useCallback(e => {
                        null != g && (0, h.openContextMenuLazy)(e, async () => {
                            let {
                                default: e
                            } = await n.el("721429").then(n.bind(n, "721429"));
                            return n => (0, l.jsx)(e, {
                                ...n,
                                user: g,
                                guildId: t.guild_id,
                                channel: t
                            })
                        })
                    }, [g, t]), Y = a.useCallback(() => {
                        if (null == g) return;
                        let e = "@".concat(U.default.getUserTag(g, {
                                decoration: "never"
                            })),
                            n = "<@".concat(g.id, ">");
                        D.ComponentDispatch.dispatchToLastSubscribed(G.ComponentActions.INSERT_TEXT, {
                            plainText: e,
                            rawText: n
                        }), p.default.startTyping(t.id)
                    }, [g, t]), z = a.useCallback(e => {
                        e.stopPropagation(), (0, E.openGuildBoostingMarketingModal)({
                            guildId: t.guild_id,
                            location: {
                                section: G.AnalyticsSections.THREAD_MEMBER_LIST,
                                object: G.AnalyticsObjects.BOOST_GEM_ICON
                            }
                        })
                    }, [t.guild_id]);
                    if (null == g) return null;
                    let K = null == m ? void 0 : m.premiumSince;
                    return (0, l.jsx)(f.Popout, {
                        preload: () => (0, _.default)(g.id, g.getAvatarURL(t.guild_id, 80), {
                            guildId: t.guild_id,
                            channelId: t.id
                        }),
                        renderPopout: e => (0, l.jsx)(I.default, {
                            ...e,
                            userId: g.id,
                            guildId: t.guild_id,
                            channelId: t.id
                        }),
                        position: d.isMobile ? "window_center" : "left",
                        spacing: 16,
                        onShiftClick: Y,
                        children: (e, n) => {
                            let {
                                isShown: a
                            } = n;
                            return (0, l.jsx)(F.default, {
                                onContextMenu: W,
                                shouldAnimateStatus: V,
                                user: g,
                                currentUser: L,
                                nick: null == m ? void 0 : m.nick,
                                status: O,
                                activities: P,
                                colorString: null == m ? void 0 : m.colorString,
                                colorRoleName: C,
                                isTyping: u,
                                channel: t,
                                guildId: t.guild_id,
                                isMobile: y,
                                selected: a,
                                applicationStream: b,
                                premiumSince: null == K ? null : new Date(K),
                                onClickPremiumGuildIcon: z,
                                itemProps: w,
                                lostPermissionTooltipText: k ? void 0 : B.default.Messages.THREAD_MEMBER_WITHOUT_ACCESS,
                                isOwner: H,
                                ...e
                            })
                        }
                    })
                }),
                z = a.memo(function(e) {
                    let {
                        id: t,
                        label: n,
                        count: a,
                        guildId: s
                    } = e, i = (0, C.useRoleIcon)({
                        roleId: t,
                        guildId: s,
                        size: 16
                    });
                    return t === G.StatusTypes.UNKNOWN ? (0, l.jsx)("div", {
                        className: H.membersGroup,
                        children: (0, l.jsx)("div", {
                            className: H.memberGroupsPlaceholder
                        })
                    }) : (0, l.jsxs)(y.default, {
                        className: H.membersGroup,
                        "aria-label": B.default.Messages.CHANNEL_MEMBERS_A11Y_LABEL.format({
                            title: n,
                            count: a
                        }),
                        children: [null != i ? (0, l.jsx)(P.default, {
                            className: H.roleIcon,
                            ...i
                        }) : null, (0, l.jsxs)("span", {
                            "aria-hidden": !0,
                            children: [n, " — ", a]
                        })]
                    })
                }),
                K = a.memo(function(e) {
                    let {
                        channel: t
                    } = e;
                    return t.type === G.ChannelTypes.PRIVATE_THREAD ? (0, l.jsxs)(l.Fragment, {
                        children: [(0, l.jsx)("div", {
                            className: k.divider
                        }), (0, l.jsxs)(f.Text, {
                            variant: "text-xs/bold",
                            color: "header-secondary",
                            className: k.private,
                            children: [(0, l.jsx)(j.default, {
                                width: 12,
                                height: 12
                            }), "\xa0", B.default.Messages.THREAD_BROWSER_PRIVATE]
                        }), (0, l.jsx)(f.Text, {
                            variant: "text-sm/normal",
                            color: "header-secondary",
                            className: k.instructions,
                            children: B.default.Messages.MEMBER_LIST_PRIVATE_THREAD_INSTRUCTIONS
                        })]
                    }) : null
                });

            function Z(e) {
                let {
                    channel: t,
                    guild: n
                } = e, s = "members-".concat(t.id), r = (0, g.useThreadMemberListSections)(t.id, n), d = r.filter(e => e.userIds.length > 0).reverse()[0], {
                    navigator: h,
                    listRef: p
                } = function(e, t) {
                    let n = (0, c.useStateFromStores)([m.default], () => m.default.keyboardModeEnabled),
                        l = a.useRef(null),
                        s = a.useCallback((e, n) => {
                            let a = l.current;
                            if (null == a) return;
                            let s = parseInt(n, 10),
                                [i, r] = a.getSectionRowFromIndex(s),
                                u = 0 === i && 0 === r ? t : 0;
                            a.scrollToIndex({
                                section: i,
                                row: r,
                                padding: u,
                                callback: () => {
                                    requestAnimationFrame(() => {
                                        var t;
                                        return null === (t = document.querySelector(e)) || void 0 === t ? void 0 : t.focus({
                                            preventScroll: !0
                                        })
                                    })
                                }
                            })
                        }, [t]),
                        i = a.useCallback(() => new Promise(e => {
                            let t = l.current;
                            if (null == t) return e();
                            t.scrollToTop({
                                callback: () => requestAnimationFrame(() => e())
                            })
                        }), []),
                        r = a.useCallback(() => new Promise(e => {
                            let t = l.current;
                            if (null == t) return e();
                            t.scrollToBottom({
                                callback() {
                                    requestAnimationFrame(() => setTimeout(e, 100))
                                }
                            })
                        }), []),
                        u = (0, o.default)({
                            id: e,
                            setFocus: s,
                            isEnabled: n,
                            scrollToStart: i,
                            scrollToEnd: r
                        });
                    return {
                        navigator: u,
                        listRef: l
                    }
                }(s, W), E = 0 === r.length || r.every(e => 0 === e.userIds.length);
                if (E) return (0, l.jsx)(X, {
                    channel: t
                });
                let C = u.omit(h.containerProps, ["ref"]),
                    S = b.default.getGuildVisualOwnerId(n);
                return (0, l.jsx)(o.ListNavigatorProvider, {
                    navigator: h,
                    children: (0, l.jsx)(f.FocusJumpSection, {
                        children: e => (0, l.jsx)("div", {
                            className: i(H.membersWrap, H.hiddenMembers),
                            children: (0, l.jsx)(f.List, {
                                ref: p,
                                className: H.members,
                                paddingTop: 0,
                                sectionHeight: 40,
                                renderSection: e => {
                                    let {
                                        section: t
                                    } = e, a = r[t];
                                    return (0, l.jsx)(z, {
                                        id: a.id,
                                        label: a.label,
                                        count: a.userIds.length,
                                        guildId: n.id
                                    }, a.id)
                                },
                                rowHeight: W,
                                renderRow: e => {
                                    let {
                                        section: n,
                                        row: a
                                    } = e, {
                                        userIds: s,
                                        id: i
                                    } = r[n];
                                    return (0, l.jsx)(Y, {
                                        channel: t,
                                        sectionId: i,
                                        userId: s[a],
                                        guildOwnerId: S
                                    }, s[a])
                                },
                                footerHeight: e => r[e] === d && t.type === G.ChannelTypes.PRIVATE_THREAD ? 80 : 0,
                                renderFooter: e => r[e.section] === d ? (0, l.jsx)(K, {
                                    channel: t
                                }, "footer") : null,
                                innerAriaLabel: B.default.Messages.MEMBERS,
                                innerTag: "ul",
                                sections: r.map(e => e.userIds.length),
                                fade: !0,
                                ...C,
                                ...e
                            }, s)
                        })
                    })
                })
            }

            function X(e) {
                let {
                    channel: t
                } = e;
                return (0, l.jsxs)("div", {
                    className: i(H.membersWrap, H.hiddenMembers, H.members, k.emptyState),
                    children: [(0, l.jsx)(f.Text, {
                        className: k.emptyStateHeader,
                        variant: "text-xs/bold",
                        color: "interactive-normal",
                        children: B.default.Messages.MEMBERS
                    }), (0, l.jsxs)("div", {
                        className: k.emptyStateIconContainer,
                        children: [(0, l.jsx)("div", {
                            className: k.emptyStateIcon,
                            children: (0, l.jsx)(O.default, {
                                width: 32,
                                height: 32
                            })
                        }), (0, l.jsx)(L.default, {
                            className: k.emptyStateStars
                        })]
                    }), (0, l.jsx)(f.Heading, {
                        variant: "heading-md/semibold",
                        children: t.isForumPost() ? B.default.Messages.FORUM_POST_MEMBER_LIST_EMPTY_STATE_HEADER : B.default.Messages.THREAD_MEMBER_LIST_EMPTY_STATE_HEADER
                    }), (0, l.jsx)(f.Text, {
                        className: k.emptyStateSubtext,
                        variant: "text-sm/normal",
                        color: "header-secondary",
                        children: B.default.Messages.THREAD_MEMBER_LIST_EMPTY_STATE_SUBTEXT
                    })]
                })
            }
        },
        841283: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("77078"),
                i = n("6466");
            class r extends a.PureComponent {
                render() {
                    let {
                        label: e,
                        value: t,
                        renderValue: n,
                        className: a,
                        popoutProps: r
                    } = this.props;
                    return (0, l.jsx)(s.Popout, {
                        ...r,
                        renderPopout: this.renderPopout,
                        children: (r, u) => {
                            let {
                                isShown: o
                            } = u;
                            return (0, l.jsx)(s.Clickable, {
                                ...r,
                                className: a,
                                "aria-haspopup": "listbox",
                                "aria-expanded": o,
                                children: (0, l.jsx)(i.default, {
                                    label: e,
                                    value: t,
                                    renderValue: n
                                })
                            })
                        }
                    })
                }
                constructor(...e) {
                    super(...e), this.renderPopout = e => {
                        let {
                            closePopout: t
                        } = e, {
                            options: n,
                            value: a,
                            renderOption: s,
                            popoutClassName: r,
                            scroller: u
                        } = this.props;
                        return (0, l.jsx)(i.QuickSelectPopout, {
                            scroller: !!u,
                            className: r,
                            options: n,
                            value: a,
                            renderOption: s,
                            onChange: e => {
                                this.handleChange(e), t()
                            }
                        })
                    }, this.handleChange = e => {
                        let {
                            onChange: t
                        } = this.props;
                        null == t || t(e)
                    }
                }
            }
            var u = r
        },
        738073: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return C
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("446674"),
                u = n("77078"),
                o = n("851387"),
                d = n("697218"),
                c = n("440351"),
                f = n("701909"),
                h = n("49111"),
                p = n("782340"),
                m = n("42217");
            class E extends a.PureComponent {
                componentDidMount() {
                    let {
                        current: e
                    } = this.scroller;
                    null == e || e.scrollToBottom()
                }
                render() {
                    let {
                        nsfwDisallowed: e
                    } = this.props, t = p.default.Messages.NSFW_DESCRIPTION;
                    t = e ? p.default.Messages.AGE_GATE_NSFW_UNDERAGE_BODY.format({
                        helpURL: f.default.getArticleURL(h.HelpdeskArticles.NSFW_AGE_GATING)
                    }) : p.default.Messages.AGE_GATE_NSFW_DESCRIPTION;
                    let n = e ? (0, l.jsx)(c.default, {
                        onAgree: this.handleAgree,
                        onDisagree: this.handleDisagree,
                        title: p.default.Messages.AGE_GATE_NSFW_UNDERAGE_HEADER,
                        description: t,
                        agreement: null,
                        disagreement: p.default.Messages.BACK,
                        imageClassName: m.ageGatedImage
                    }) : (0, l.jsx)(c.default, {
                        onAgree: this.handleAgree,
                        onDisagree: this.handleDisagree,
                        title: p.default.Messages.NSFW_TITLE,
                        description: t,
                        agreement: p.default.Messages.NSFW_ACCEPT,
                        disagreement: p.default.Messages.NSFW_DECLINE
                    });
                    return (0, l.jsx)(u.AdvancedScroller, {
                        ref: this.scroller,
                        className: m.scroller,
                        children: (0, l.jsx)("div", {
                            className: i(this.props.className, m.wrapper),
                            children: n
                        })
                    })
                }
                constructor(...e) {
                    super(...e), this.scroller = a.createRef(), this.handleDisagree = () => {
                        let {
                            guild: e
                        } = this.props;
                        null != e && o.default.nsfwReturnToSafety(e.id)
                    }, this.handleAgree = () => {
                        let {
                            guild: e
                        } = this.props;
                        null != e && o.default.nsfwAgree(e.id)
                    }
                }
            }
            var C = r.default.connectStores([d.default], () => {
                var e;
                return {
                    nsfwDisallowed: (null === (e = d.default.getCurrentUser()) || void 0 === e ? void 0 : e.nsfwAllowed) === !1
                }
            })(E)
        },
        650912: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                makeVoiceUserDroppable: function() {
                    return c
                },
                makeVoiceUserDraggable: function() {
                    return f
                }
            });
            var l = n("476042"),
                a = n("851387"),
                s = n("305961"),
                i = n("957255"),
                r = n("800762"),
                u = n("316133"),
                o = n("49111");
            let d = "DRAGGABLE_USER";

            function c(e) {
                return (0, l.DropTarget)(d, {
                    canDrop(e) {
                        var t, n;
                        let {
                            channel: l
                        } = e, a = l.getGuildId(), d = null !== (n = null === (t = s.default.getGuild(a)) || void 0 === t ? void 0 : t.maxVideoChannelUsers) && void 0 !== n ? n : -1, c = u.default.countVoiceStatesForChannel(l.id), f = null != a && r.default.hasVideo(l.id) && d > 0 && c >= d + 1;
                        return i.default.can(o.Permissions.MOVE_MEMBERS, l) && i.default.can(o.Permissions.CONNECT, l) && !f
                    },
                    drop(e, t) {
                        let {
                            channel: n
                        } = e, l = r.default.getVoiceStateForUser(t.getItem().user.id);
                        (null == l ? void 0 : l.channelId) !== n.id && a.default.setChannel(n.getGuildId(), t.getItem().user.id, n.id)
                    }
                }, (e, t) => ({
                    connectUserDropTarget: e.dropTarget(),
                    isUserOver: t.isOver() && t.canDrop()
                }))(e)
            }

            function f(e) {
                return (0, l.DragSource)(d, {
                    canDrag(e) {
                        let {
                            user: t,
                            canDrag: n
                        } = e;
                        return null != n && n
                    },
                    beginDrag(e) {
                        let {
                            user: t
                        } = e;
                        return {
                            user: t
                        }
                    }
                }, e => ({
                    connectUserDragSource: e.dragSource()
                }))(e)
            }
        },
        918703: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                ChatPlusIcon: function() {
                    return i
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("669491"),
                s = n("75196");
            let i = e => {
                let {
                    width: t = 24,
                    height: n = 24,
                    color: i = a.default.colors.INTERACTIVE_NORMAL,
                    colorClass: r = "",
                    ...u
                } = e;
                return (0, l.jsxs)("svg", {
                    ...(0, s.default)(u),
                    xmlns: "http://www.w3.org/2000/svg",
                    width: t,
                    height: n,
                    fill: "none",
                    viewBox: "0 0 24 24",
                    children: [(0, l.jsx)("g", {
                        clipPath: "url(#a)",
                        children: (0, l.jsx)("path", {
                            fill: "string" == typeof i ? i : i.css,
                            fillRule: "evenodd",
                            d: "M19 14a1 1 0 0 1 1 1v3h3a1 1 0 1 1 0 2h-3v3a1 1 0 1 1-2 0v-3h-3a1 1 0 1 1 0-2h3v-3a1 1 0 0 1 1-1Zm1.757-1.432c.408.295 1.231.135 1.241-.369L22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 1.97.57 3.808 1.554 5.357a.517.517 0 0 1-.04.617l-2.067 2.369C.882 20.989 1.34 22 2.2 22H12c.067 0 .133 0 .2-.002.503-.01.663-.833.368-1.241A3 3 0 0 1 15 16h.5a.5.5 0 0 0 .5-.5V15a3 3 0 0 1 4.757-2.432Z",
                            clipRule: "evenodd",
                            className: r
                        })
                    }), (0, l.jsx)("defs", {
                        children: (0, l.jsx)("clipPath", {
                            id: "a",
                            children: (0, l.jsx)("path", {
                                fill: "#fff",
                                d: "M24 24H0V0h24z"
                            })
                        })
                    })]
                })
            }
        },
        831055: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                GridHorizontalIcon: function() {
                    return i
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("669491"),
                s = n("75196");
            let i = e => {
                let {
                    width: t = 24,
                    height: n = 24,
                    color: i = a.default.colors.INTERACTIVE_NORMAL,
                    colorClass: r = "",
                    ...u
                } = e;
                return (0, l.jsx)("svg", {
                    ...(0, s.default)(u),
                    xmlns: "http://www.w3.org/2000/svg",
                    width: t,
                    height: n,
                    fill: "none",
                    viewBox: "0 0 24 24",
                    children: (0, l.jsx)("path", {
                        fill: "string" == typeof i ? i : i.css,
                        fillRule: "evenodd",
                        d: "M2 4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm0 11a2 2 0 0 1 2-2h5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5Zm13-2a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-5a2 2 0 0 0-2-2h-5Z",
                        clipRule: "evenodd",
                        className: r
                    })
                })
            }
        },
        821355: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                GridSquareIcon: function() {
                    return i
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("669491"),
                s = n("75196");
            let i = e => {
                let {
                    width: t = 24,
                    height: n = 24,
                    color: i = a.default.colors.INTERACTIVE_NORMAL,
                    colorClass: r = "",
                    ...u
                } = e;
                return (0, l.jsx)("svg", {
                    ...(0, s.default)(u),
                    xmlns: "http://www.w3.org/2000/svg",
                    width: t,
                    height: n,
                    fill: "none",
                    viewBox: "0 0 24 24",
                    children: (0, l.jsx)("path", {
                        fill: "string" == typeof i ? i : i.css,
                        fillRule: "evenodd",
                        d: "M15 11a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5ZM2 20a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-5a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v5Zm11 0a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-5a2 2 0 0 0-2-2h-5a2 2 0 0 0-2 2v5ZM2 9a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v5Z",
                        clipRule: "evenodd",
                        className: r
                    })
                })
            }
        },
        392800: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                GridVerticalIcon: function() {
                    return i
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("669491"),
                s = n("75196");
            let i = e => {
                let {
                    width: t = 24,
                    height: n = 24,
                    color: i = a.default.colors.INTERACTIVE_NORMAL,
                    colorClass: r = "",
                    ...u
                } = e;
                return (0, l.jsx)("svg", {
                    ...(0, s.default)(u),
                    xmlns: "http://www.w3.org/2000/svg",
                    width: t,
                    height: n,
                    fill: "none",
                    viewBox: "0 0 24 24",
                    children: (0, l.jsx)("path", {
                        fill: "string" == typeof i ? i : i.css,
                        fillRule: "evenodd",
                        d: "M4 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h5a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4Zm11 0a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5ZM13 9a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-5a2 2 0 0 0-2 2v5Z",
                        clipRule: "evenodd",
                        className: r
                    })
                })
            }
        },
        26309: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                GroupArrowDownIcon: function() {
                    return i
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("669491"),
                s = n("75196");
            let i = e => {
                let {
                    width: t = 24,
                    height: n = 24,
                    color: i = a.default.colors.INTERACTIVE_NORMAL,
                    colorClass: r = "",
                    ...u
                } = e;
                return (0, l.jsx)("svg", {
                    ...(0, s.default)(u),
                    xmlns: "http://www.w3.org/2000/svg",
                    width: t,
                    height: n,
                    fill: "none",
                    viewBox: "0 0 24 24",
                    children: (0, l.jsx)("path", {
                        fill: "string" == typeof i ? i : i.css,
                        fillRule: "evenodd",
                        d: "M14.5 8a3 3 0 1 0-2.701-4.306c-.202.415.057.87.443 1.124A5.006 5.006 0 0 1 14.379 7.9c.013.058.062.1.121.1Zm5.5 9.757V15a1 1 0 1 0-2 0v5.586l-1.078-1.078-.922-.922-.293-.293a1 1 0 0 0-1.414 1.414l.536.536 1.307 1.308 2.157 2.156a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L20 20.586v-2.829ZM19 12c.399 0 .941-.677.651-.951a7.475 7.475 0 0 0-4.153-1.983c-.548-.073-.988.386-1.097.927-.06.301-.148.592-.26.871-.233.579-.054 1.291.472 1.628.383.245.748.517 1.092.814.268.231.699.15.914-.131A2.995 2.995 0 0 1 19 12Zm-4.714 4.086c.44-.108.747-.67.42-.984A7.5 7.5 0 0 0 2 20.5 1.5 1.5 0 0 0 3.501 22a.202.202 0 0 0 .196-.159c.213-.964.566-1.87.884-2.543.108-.23.42-.149.42.105V21.5a.5.5 0 0 0 .5.5h8c.106 0 .132-.126.057-.2l-.678-.679a3 3 0 0 1 1.407-5.035ZM12.5 9a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z",
                        clipRule: "evenodd",
                        className: r
                    })
                })
            }
        },
        917798: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                MobilePhoneControllerIcon: function() {
                    return i
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("669491"),
                s = n("75196");
            let i = e => {
                let {
                    width: t = 24,
                    height: n = 24,
                    color: i = a.default.colors.INTERACTIVE_NORMAL,
                    colorClass: r = "",
                    ...u
                } = e;
                return (0, l.jsx)("svg", {
                    ...(0, s.default)(u),
                    xmlns: "http://www.w3.org/2000/svg",
                    width: t,
                    height: n,
                    fill: "none",
                    viewBox: "0 0 24 24",
                    children: (0, l.jsx)("path", {
                        fill: "string" == typeof i ? i : i.css,
                        fillRule: "evenodd",
                        d: "M6 1a3 3 0 0 0-3 3v16a3 3 0 0 0 3 3h2.95c.384 0 .633-.424.516-.792a3.983 3.983 0 0 1-.154-1.704l.5-4A4 4 0 0 1 13.782 13H16.5a.5.5 0 0 0 .5-.5V4a3 3 0 0 0-3-3H6Zm2 2a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2H8Zm6.018 12a2.287 2.287 0 0 0-2.268 2.003l-.462 3.694a2.049 2.049 0 0 0 4.041.656l.171-.853h3l.17.853a2.049 2.049 0 0 0 4.042-.656l-.462-3.694A2.287 2.287 0 0 0 19.982 15h-5.963Z",
                        clipRule: "evenodd",
                        className: r
                    })
                })
            }
        },
        283322: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                MusicIcon: function() {
                    return i
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("669491"),
                s = n("75196");
            let i = e => {
                let {
                    width: t = 24,
                    height: n = 24,
                    color: i = a.default.colors.INTERACTIVE_NORMAL,
                    colorClass: r = "",
                    ...u
                } = e;
                return (0, l.jsx)("svg", {
                    ...(0, s.default)(u),
                    xmlns: "http://www.w3.org/2000/svg",
                    width: t,
                    height: n,
                    fill: "none",
                    viewBox: "0 0 24 24",
                    children: (0, l.jsx)("path", {
                        fill: "string" == typeof i ? i : i.css,
                        fillRule: "evenodd",
                        d: "M8.654 1.514A2 2 0 0 0 6 3.404v9.885A3.977 3.977 0 0 0 4.5 13C2.567 13 1 14.343 1 16s1.567 3 3.5 3S8 17.657 8 16V5.404l11 3.808v7.077A3.977 3.977 0 0 0 17.5 16c-1.933 0-3.5 1.343-3.5 3s1.567 3 3.5 3 3.5-1.343 3.5-3V7.034a1.75 1.75 0 0 0-1.178-1.654L8.654 1.514Z",
                        clipRule: "evenodd",
                        className: r
                    })
                })
            }
        },
        473109: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                MusicSlashIcon: function() {
                    return i
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("669491"),
                s = n("75196");
            let i = e => {
                let {
                    width: t = 24,
                    height: n = 24,
                    color: i = a.default.colors.INTERACTIVE_NORMAL,
                    colorClass: r = "",
                    ...u
                } = e;
                return (0, l.jsx)("svg", {
                    ...(0, s.default)(u),
                    xmlns: "http://www.w3.org/2000/svg",
                    width: t,
                    height: n,
                    fill: "none",
                    viewBox: "0 0 24 24",
                    children: (0, l.jsx)("path", {
                        fill: "string" == typeof i ? i : i.css,
                        fillRule: "evenodd",
                        d: "M22.707 2.707a1 1 0 0 0-1.414-1.414l-20 20a1 1 0 1 0 1.414 1.414l20-20Zm-7.504 1.074a.5.5 0 0 1 .19.826L13.12 6.88a.5.5 0 0 1-.517.119L8 5.404v6.389a.5.5 0 0 1-.146.353l-5.569 5.569c-.189.189-.497.198-.665-.01A2.701 2.701 0 0 1 1 16c0-1.657 1.567-3 3.5-3 .537 0 1.045.104 1.5.289V3.404a2 2 0 0 1 2.654-1.89l6.549 2.267Zm3.943 5.073a.5.5 0 0 0-.146.353v7.082A3.977 3.977 0 0 0 17.5 16c-1.933 0-3.5 1.343-3.5 3s1.567 3 3.5 3 3.5-1.343 3.5-3V7.604a.25.25 0 0 0-.427-.177l-1.427 1.427Z",
                        clipRule: "evenodd",
                        className: r
                    })
                })
            }
        },
        403295: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                PaintbrushSmallIcon: function() {
                    return i
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("669491"),
                s = n("75196");
            let i = e => {
                let {
                    width: t = 24,
                    height: n = 24,
                    color: i = a.default.colors.INTERACTIVE_NORMAL,
                    colorClass: r = "",
                    ...u
                } = e;
                return (0, l.jsxs)("svg", {
                    ...(0, s.default)(u),
                    xmlns: "http://www.w3.org/2000/svg",
                    width: t,
                    height: n,
                    fill: "none",
                    viewBox: "0 0 24 24",
                    children: [(0, l.jsx)("path", {
                        fill: "string" == typeof i ? i : i.css,
                        fillRule: "evenodd",
                        d: "M8.737 13.566a1.59 1.59 0 0 0-.702-.43 4.004 4.004 0 0 0-4.996 4.422C3.133 18.233 2.682 19 2 19a1 1 0 1 0 0 2h5a4 4 0 0 0 3.865-5.035 1.59 1.59 0 0 0-.43-.702l-1.698-1.697Z",
                        clipRule: "evenodd",
                        className: r
                    }), (0, l.jsx)("path", {
                        fill: "string" == typeof i ? i : i.css,
                        d: "m11.33 14.83-2.16-2.16a1 1 0 0 1-.252-.99l.755-2.568a3 3 0 0 1 1.316-1.715l8.054-4.91a1.798 1.798 0 0 1 2.47 2.47l-4.91 8.054a3 3 0 0 1-1.715 1.316l-2.568.756a1 1 0 0 1-.99-.253Z",
                        className: r
                    })]
                })
            }
        },
        782926: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                ThreadIcon: function() {
                    return i
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("669491"),
                s = n("75196");
            let i = e => {
                let {
                    width: t = 24,
                    height: n = 24,
                    color: i = a.default.colors.INTERACTIVE_NORMAL,
                    colorClass: r = "",
                    ...u
                } = e;
                return (0, l.jsxs)("svg", {
                    ...(0, s.default)(u),
                    xmlns: "http://www.w3.org/2000/svg",
                    width: t,
                    height: n,
                    fill: "none",
                    viewBox: "0 0 24 24",
                    children: [(0, l.jsxs)("g", {
                        fill: "string" == typeof i ? i : i.css,
                        clipPath: "url(#a)",
                        className: r,
                        children: [(0, l.jsx)("path", {
                            fillRule: "evenodd",
                            d: "M12 2.808a1 1 0 0 1 0-1.415l.354-.353a1 1 0 0 1 1.414 0l9.192 9.192a1 1 0 0 1 0 1.415l-.69.69a1 1 0 0 1-1.3.127l-9.545-6.717a1 1 0 1 1 1.15-1.636l.401.282.907.577c.101.064.21-.07.125-.155L12 2.808Zm0 18.384a1 1 0 0 1 0 1.415l-.353.353a1 1 0 0 1-1.415 0L1.04 13.768a1 1 0 0 1 0-1.415l.691-.69a1 1 0 0 1 1.299-.127l9.546 6.717a1 1 0 1 1-1.152 1.636l-.4-.282-.907-.577c-.1-.064-.209.07-.124.155L12 21.192Zm3.66-4.395a1 1 0 0 1-1.386.278l-8.486-5.657a1 1 0 0 1 1.11-1.664l8.485 5.657a1 1 0 0 1 .278 1.386Zm1.442-2.55a1 1 0 0 0 1.11-1.665L9.726 6.925a1 1 0 1 0-1.11 1.664l8.486 5.657Z",
                            clipRule: "evenodd"
                        }), (0, l.jsx)("path", {
                            d: "m13.25 2.25-1.98 2L14.5 5.5l-1.25-3.25ZM10.75 21.75l1.98-2L9.5 18.5l1.25 3.25Z"
                        })]
                    }), (0, l.jsx)("defs", {
                        children: (0, l.jsx)("clipPath", {
                            id: "a",
                            children: (0, l.jsx)("path", {
                                fill: "#fff",
                                d: "M0 0h24v24H0z"
                            })
                        })
                    })]
                })
            }
        },
        392646: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                UserCircleStatusIcon: function() {
                    return i
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("669491"),
                s = n("75196");
            let i = e => {
                let {
                    width: t = 24,
                    height: n = 24,
                    color: i = a.default.colors.INTERACTIVE_NORMAL,
                    colorClass: r = "",
                    ...u
                } = e;
                return (0, l.jsxs)("svg", {
                    ...(0, s.default)(u),
                    xmlns: "http://www.w3.org/2000/svg",
                    width: t,
                    height: n,
                    fill: "none",
                    viewBox: "0 0 24 24",
                    children: [(0, l.jsx)("path", {
                        fill: "string" == typeof i ? i : i.css,
                        fillRule: "evenodd",
                        d: "M12.376 21.27A.4.4 0 0 0 12 21a8.958 8.958 0 0 1-4.547-1.232.484.484 0 0 1-.233-.467l.196-1.96c.025-.248-.27-.362-.406-.153-.191.295-.394.641-.588 1.021-.153.3-.55.392-.788.153a9.038 9.038 0 0 1-1.281-1.614.47.47 0 0 1 0-.496A8.994 8.994 0 0 1 12 12c1.244 0 2.43.252 3.507.709.143.06.305.055.445-.012A6.972 6.972 0 0 1 19 12a6.97 6.97 0 0 1 3.22.783c.335.174.76-.026.774-.403.004-.127.006-.253.006-.38 0-6.075-4.925-11-11-11S1 5.925 1 12a10.949 10.949 0 0 0 2.291 6.72 11.067 11.067 0 0 0 3.701 3.077L7 21.8a10.954 10.954 0 0 0 5.38 1.193c.377-.013.577-.439.403-.774a6.963 6.963 0 0 1-.407-.95ZM15.5 7.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z",
                        clipRule: "evenodd",
                        className: r
                    }), (0, l.jsx)("circle", {
                        cx: "19",
                        cy: "19",
                        r: "5",
                        fill: "string" == typeof i ? i : i.css,
                        className: r
                    })]
                })
            }
        },
        559981: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                UserMinusIcon: function() {
                    return i
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("669491"),
                s = n("75196");
            let i = e => {
                let {
                    width: t = 24,
                    height: n = 24,
                    color: i = a.default.colors.INTERACTIVE_NORMAL,
                    colorClass: r = "",
                    ...u
                } = e;
                return (0, l.jsx)("svg", {
                    ...(0, s.default)(u),
                    xmlns: "http://www.w3.org/2000/svg",
                    width: t,
                    height: n,
                    fill: "none",
                    viewBox: "0 0 24 24",
                    children: (0, l.jsx)("path", {
                        fill: "string" == typeof i ? i : i.css,
                        fillRule: "evenodd",
                        d: "M11.533 11A9.533 9.533 0 0 0 2 20.533C2 21.343 2.657 22 3.467 22h.22c.24 0 .445-.17.504-.403.285-1.113.84-2.17 1.32-2.91.134-.208.43-.094.405.154l-.26 2.61a.5.5 0 0 0 .497.549h7.639c.123 0 .17-.31.06-.363C12.819 21.14 12 20.224 12 19a3 3 0 0 1 3-3h5.016c.379 0 .617-.404.408-.72A9.525 9.525 0 0 0 12.467 11h-.934ZM12 10a4 4 0 1 0 0-8 4 4 0 0 0 0 8Zm3 8a1 1 0 1 0 0 2h8a1 1 0 1 0 0-2h-8Z",
                        clipRule: "evenodd",
                        className: r
                    })
                })
            }
        },
        560103: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useThrottledState: function() {
                    return i
                }
            });
            var l = n("884691"),
                a = n("917351");
            let s = e => e,
                i = function(e, t) {
                    let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [],
                        a = arguments.length > 3 ? arguments[3] : void 0,
                        i = r(s, t, n, a),
                        u = l.useRef(e);
                    return l.useEffect(() => {
                        let t = i(e);
                        u.current = t
                    }, [e, i]), 0 === t ? e : u.current
                },
                r = function(e, t) {
                    let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [],
                        s = arguments.length > 3 ? arguments[3] : void 0,
                        i = l.useRef((0, a.throttle)(e, t, s));
                    return l.useEffect(() => (i.current = (0, a.throttle)(e, t, s), () => {
                        var e;
                        null === (e = i.current) || void 0 === e || e.cancel()
                    }), [e, t, s, ...n]), i.current
                }
        },
        133797: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var l = n("782340");
            let a = ["a", "b", "c", "d"],
                s = e => e;

            function i(e, t) {
                let n = {},
                    l = Math.min(e.length, a.length);
                for (let s = 0; s < l; ++s) n[a[s]] = (n, l) => t(e[s], l);
                return n
            }
            class r {
                asString() {
                    return this.transformed(s)
                }
                isEmpty() {
                    return 0 === this.items.length
                }
                transformed(e) {
                    switch (this.items.length) {
                        case 0:
                            return "";
                        case 1:
                            return e(this.items[0], "");
                        case 2:
                            return l.default.Messages.GENERIC_FORMATTED_LIST_TWO.format(i(this.items, e));
                        case 3:
                            return l.default.Messages.GENERIC_FORMATTED_LIST_THREE.format(i(this.items, e));
                        default:
                            return l.default.Messages.GENERIC_FORMATTED_LIST_FOUR.format(i(this.items, e))
                    }
                }
                constructor(e) {
                    this.items = e
                }
            }
        },
        860345: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                PaxVcTileActivitiesExperiment: function() {
                    return a
                }
            });
            var l = n("862205");
            let a = (0, l.createExperiment)({
                kind: "user",
                id: "2023-03_pax_vc_tile_activities",
                label: "PAX VC Tile Activities",
                defaultConfig: {
                    enabled: !1
                },
                treatments: [{
                    id: 1,
                    label: "Enable PAX VC Tile Activities",
                    config: {
                        enabled: !0
                    }
                }]
            })
        },
        117582: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                VcTileActivityExperimentType: function() {
                    return a
                },
                VcTileActivitiesEntryPointExperiment: function() {
                    return i
                }
            });
            var l, a, s = n("862205");
            (l = a || (a = {})).CONTROL = "CONTROL", l.ONE_OR_TWO_USERS = "ONE_OR_TWO_USERS", l.ANY_NUMBER_OF_USERS = "ANY_NUMBER_OF_USERS";
            let i = (0, s.createExperiment)({
                kind: "user",
                id: "2023-01_vc_tile_activities_entry_point",
                label: "VC Tile Activities Entry Point",
                defaultConfig: {
                    vcTileActivityExperimentType: a.CONTROL
                },
                treatments: [{
                    id: 1,
                    label: "Enable one or two users VC Tile Activities Entry Point",
                    config: {
                        vcTileActivityExperimentType: a.ONE_OR_TWO_USERS
                    }
                }, {
                    id: 2,
                    label: "Enable any number of users VC Tile Activities Entry Point",
                    config: {
                        vcTileActivityExperimentType: a.ANY_NUMBER_OF_USERS
                    }
                }]
            })
        },
        757245: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return T
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("446674"),
                s = n("577776"),
                i = n("77078"),
                r = n("812204"),
                u = n("685665"),
                o = n("42203"),
                d = n("18494"),
                c = n("697218"),
                f = n("811305"),
                h = n("427953"),
                p = n("550766"),
                m = n("191225"),
                E = n("885829"),
                C = n("575136"),
                g = n("141962"),
                S = n("272505"),
                _ = n("782340"),
                I = n("131279");

            function T() {
                let e = (0, a.useStateFromStores)([d.default], () => d.default.getChannelId()),
                    t = o.default.getChannel(e),
                    {
                        analyticsLocations: n
                    } = (0, u.default)(r.default.ACTIVITY_IN_TEXT_ACTIONBAR),
                    T = (0, a.useStateFromStoresArray)([m.default], () => null != e ? m.default.getEmbeddedActivitiesForChannel(e) : [], [e]),
                    x = (0, a.useStateFromStores)([m.default], () => m.default.getActivityPanelMode()),
                    N = (0, C.useEmbeddedApps)(T),
                    v = (0, C.useEmbeddedAppsWithPresence)(N),
                    A = v.get(null === (L = N[0]) || void 0 === L ? void 0 : null === (R = L.application) || void 0 === R ? void 0 : R.id),
                    M = (0, h.default)(null != e ? e : void 0);
                if (!M || null == A || x !== S.ActivityPanelModes.ACTION_BAR) return null;
                var R, L, j, O = A.embeddedActivity.details;
                (null == O || void 0 === O || "" === O) && (O = _.default.Messages.LOADING);
                let y = Array.from(A.embeddedActivity.connections.values()).map(e => c.default.getUser(e.user_id)).filter(e => null != e && void 0 !== e);
                return (0, l.jsxs)(i.Clickable, {
                    className: I.actionBarContainer,
                    onClick: () => {
                        null != t && null != A && ((0, E.maybeJoinEmbeddedActivity)({
                            channelId: t.id,
                            applicationId: A.application.id,
                            activityId: A.embeddedActivity.activity_id,
                            inputApplication: A.application,
                            analyticsLocations: n,
                            embeddedActivitiesManager: g.default
                        }), (0, p.updateActivityPanelMode)(S.ActivityPanelModes.PANEL))
                    },
                    children: [(0, l.jsx)("img", {
                        alt: "",
                        src: null !== (j = A.application.getIconURL(48)) && void 0 !== j ? j : void 0,
                        className: I.applicationIcon
                    }), (0, l.jsxs)("div", {
                        className: I.textContainer,
                        children: [(0, l.jsx)(s.Text, {
                            color: "header-primary",
                            variant: "text-sm/semibold",
                            children: A.application.name
                        }), (0, l.jsx)(s.Text, {
                            color: "header-secondary",
                            variant: "text-xxs/medium",
                            className: I.textSubtitle,
                            children: O
                        })]
                    }), (0, l.jsx)(f.default, {
                        renderIcon: !1,
                        users: y,
                        size: 24,
                        max: 3,
                        className: I.userSummaryContainer
                    })]
                })
            }
        },
        294926: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return _
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("577776"),
                i = n("452804"),
                r = n("579408"),
                u = n("168973"),
                o = n("172131"),
                d = n("576242"),
                c = n("659500"),
                f = n("550766"),
                h = n("698372"),
                p = n("401207"),
                m = n("320817"),
                E = n("272505"),
                C = n("49111"),
                g = n("782340"),
                S = n("355255");

            function _(e) {
                var t;
                let {
                    maxHeight: n,
                    connectedChannelId: _
                } = e, I = (0, h.default)(), T = a.useCallback(() => {
                    (0, f.updateActivityPanelMode)(E.ActivityPanelModes.PIP)
                }, []), x = a.useRef(null), [N, v] = a.useState(null), A = a.useCallback(e => {
                    i.default.updatedUnsyncedSettings({
                        activityPanelHeight: e
                    })
                }, []), M = a.useRef(null), [R, L] = a.useState({
                    width: 0,
                    height: 0
                });
                a.useLayoutEffect(() => {
                    if (null == M.current) return;
                    let e = new ResizeObserver(() => {
                        var e, t, n, l;
                        let a = null !== (n = null === (e = M.current) || void 0 === e ? void 0 : e.clientWidth) && void 0 !== n ? n : 0;
                        L({
                            width: a,
                            height: null !== (l = null === (t = M.current) || void 0 === t ? void 0 : t.clientHeight) && void 0 !== l ? l : 0
                        })
                    });
                    return e.observe(M.current), () => e.disconnect()
                }, []);
                let j = R.width / Math.max(R.height, 1),
                    O = j < E.LANDSCAPE_ACTIVITY_ASPECT_RATIO,
                    y = 0,
                    P = 0,
                    D = R.width,
                    b = R.height;
                if (O ? ((b = R.width / E.LANDSCAPE_ACTIVITY_ASPECT_RATIO) > R.height && (D = (b = R.height) * E.LANDSCAPE_ACTIVITY_ASPECT_RATIO), P = (R.height - b) / 2) : ((D = Math.min(R.height * E.LANDSCAPE_ACTIVITY_ASPECT_RATIO)) > R.width && (b = (D = R.width) / E.LANDSCAPE_ACTIVITY_ASPECT_RATIO), y = (R.width - D) / 2), null == I) return null;
                let U = null !== (t = u.default.activityPanelHeight) && void 0 !== t ? t : .6 * n;
                return (0, l.jsxs)("div", {
                    className: S.wrapper,
                    style: null != N ? {
                        minHeight: 252,
                        maxHeight: n,
                        height: N
                    } : {
                        minHeight: 252,
                        maxHeight: n,
                        height: U
                    },
                    ref: x,
                    children: [(0, l.jsxs)("div", {
                        className: S.header,
                        children: [(0, l.jsx)("div", {
                            className: S.arrowContainer,
                            children: (0, l.jsx)(o.default, {
                                label: g.default.Messages.EMBEDDED_ACTIVITIES_MINIMIZE_A11Y_LABEL,
                                direction: o.default.Directions.UP,
                                onClick: T,
                                className: S.arrowButton,
                                themeable: !0
                            })
                        }), (0, l.jsx)(s.Text, {
                            color: "header-primary",
                            variant: "text-md/semibold",
                            className: S.headerTitle,
                            children: null == I ? void 0 : I.name
                        }), (0, l.jsx)("div", {
                            className: S.leaveButtonContainer,
                            children: (0, l.jsx)(d.default, {
                                applicationId: I.id,
                                channelId: _,
                                className: S.leaveActivityButton,
                                iconClassName: S.leaveActivityIcon,
                                centerButton: !0,
                                color: "red"
                            })
                        })]
                    }), (0, l.jsx)("div", {
                        className: S.activityContainer,
                        style: {
                            paddingLeft: y,
                            paddingRight: y,
                            paddingTop: P,
                            paddingBottom: P
                        },
                        ref: M,
                        children: (0, l.jsx)(p.default, {
                            className: S.iframe,
                            embedId: (0, m.default)(_, I.id)
                        })
                    }), (0, l.jsx)(r.default, {
                        minHeight: 252,
                        maxHeight: n,
                        resizableNode: x,
                        onResize: e => {
                            c.ComponentDispatch.dispatch(C.ComponentActions.MANUAL_IFRAME_RESIZING, {
                                resizing: !0
                            }), v(e)
                        },
                        onResizeEnd: e => {
                            c.ComponentDispatch.dispatch(C.ComponentActions.MANUAL_IFRAME_RESIZING, {
                                resizing: !1
                            }), A(e)
                        }
                    })]
                })
            }
        },
        169920: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return h
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("65597"),
                i = n("84339"),
                r = n("427953"),
                u = n("550766"),
                o = n("191225"),
                d = n("420444"),
                c = n("294926"),
                f = n("272505");

            function h(e) {
                let {
                    maxHeight: t
                } = e, {
                    connectedChannelId: n,
                    connectedActivity: h,
                    activityPanelMode: p
                } = (0, s.useStateFromStoresObject)([o.default], () => {
                    var e;
                    let t = o.default.getConnectedActivityChannelId();
                    return {
                        connectedChannelId: t,
                        connectedActivity: null != t && null !== (e = o.default.getSelfEmbeddedActivityForChannel(t)) && void 0 !== e ? e : void 0,
                        activityPanelMode: o.default.getActivityPanelMode()
                    }
                }), {
                    isActivitiesInTextEnabled: m
                } = r.ActivitiesInTextExperiment.useExperiment({
                    location: "ActivityPanelUI"
                }, {
                    autoTrackExposure: !1
                }), E = (0, i.default)(n);
                if (a.useEffect(() => {
                        null == n && null != E && (0, u.updateActivityPanelMode)(f.ActivityPanelModes.ACTION_BAR)
                    }, [n, E]), !m) return null;
                let C = null == h ? void 0 : h.application_id;
                return p !== f.ActivityPanelModes.PANEL || null == C ? null : null == n || null == h || (0, d.default)(n) || null == C ? null : (0, l.jsx)(c.default, {
                    maxHeight: t,
                    connectedChannelId: n
                })
            }
        },
        865821: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return s
                }
            });
            var l = n("884691"),
                a = n("91761");

            function s(e) {
                let {
                    guildId: t,
                    disableFilter: n = !1
                } = e, s = (0, a.default)({
                    guildId: t,
                    disableFilter: n
                });
                return l.useMemo(() => {
                    let e = [];
                    s.forEach(t => {
                        let [, n] = t;
                        e.push(...n)
                    });
                    let t = new Set;
                    return e.filter(e => !t.has(e.application.id) && (t.add(e.application.id), !0))
                }, [s])
            }
        },
        494286: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return eF
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("627445"),
                u = n.n(r),
                o = n("446674"),
                d = n("151426"),
                c = n("862337"),
                f = n("77078"),
                h = n("913144"),
                p = n("255397"),
                m = n("272030"),
                E = n("987317"),
                C = n("990766"),
                g = n("452804"),
                S = n("654978"),
                _ = n("901582"),
                I = n("731898"),
                T = n("84339"),
                x = n("244201"),
                N = n("84460"),
                v = n("191225"),
                A = n("372610"),
                M = n("735890"),
                R = n("812204"),
                L = n("716241"),
                j = n("685665"),
                O = n("862853"),
                y = n("76393"),
                P = n("261552"),
                D = n("710560"),
                b = n("374014"),
                U = n("223913"),
                w = n("383294"),
                F = n("292687"),
                G = n("393414"),
                B = n("168973"),
                k = n("581389"),
                H = n("103738"),
                V = n("486030"),
                W = n("908583"),
                Y = n("550410"),
                z = n("115531"),
                K = n("620592"),
                Z = n("172131"),
                X = n("640553"),
                q = n("95032"),
                Q = n("331759"),
                J = n("336971"),
                $ = n("555038"),
                ee = n("634472"),
                et = n("260014"),
                en = n("373469"),
                el = n("271938"),
                ea = n("712234"),
                es = n("950104"),
                ei = n("305961"),
                er = n("957255"),
                eu = n("660478"),
                eo = n("18494"),
                ed = n("697218"),
                ec = n("800762"),
                ef = n("145131"),
                eh = n("956089"),
                ep = n("599110"),
                em = n("404008"),
                eE = n("659500"),
                eC = n("773336"),
                eg = n("439932"),
                eS = n("50885"),
                e_ = n("563680"),
                eI = n("191145"),
                eT = n("161306"),
                ex = n("598785"),
                eN = n("412090"),
                ev = n("452027"),
                eA = n("328715"),
                eM = n("836087"),
                eR = n("579408"),
                eL = n("198755"),
                ej = n("636150"),
                eO = n("99795"),
                ey = n("49111"),
                eP = n("782340"),
                eD = n("806390");
            let eb = {
                    [ey.ChannelLayouts.NORMAL]: eD.normal,
                    [ey.ChannelLayouts.MINIMUM]: eD.minimum,
                    [ey.ChannelLayouts.NO_CHAT]: eD.noChat,
                    [ey.ChannelLayouts.FULL_SCREEN]: eD.fullScreen
                },
                eU = {
                    [ey.AppContext.POPOUT]: eD.popout,
                    [ey.AppContext.APP]: null,
                    [ey.AppContext.OVERLAY]: null
                };
            class ew extends a.PureComponent {
                getRootNode() {
                    var e, t;
                    let n = null !== (t = null === (e = this.props.popoutWindow) || void 0 === e ? void 0 : e.window) && void 0 !== t ? t : window;
                    return n.document.getElementById("app-mount")
                }
                componentDidMount() {
                    let {
                        channel: e,
                        layout: t
                    } = this.props;
                    this.currentDocument.addEventListener(e_.FULLSCREEN_CHANGE_EVENT, this.handleFullScreenChange), ep.default.track(ey.AnalyticEvents.VIDEO_LAYOUT_TOGGLED, {
                        video_layout: this.inPopout ? "popout" : t,
                        ...(0, L.collectVoiceAnalyticsMetadata)(e.id)
                    })
                }
                componentWillUnmount() {
                    this._videoBackgroundTooltipTimeout.stop(), this.currentDocument.removeEventListener(e_.FULLSCREEN_CHANGE_EVENT, this.handleFullScreenChange), !(this.inPopout && (0, eC.isMac)()) && this.maybeLeaveFullScreen()
                }
                componentDidUpdate(e) {
                    let {
                        participantsOpen: t,
                        inCall: n,
                        mode: l,
                        layout: a
                    } = this.props, s = this.getRootNode();
                    if (null != s && e.mode === ey.ChannelModes.VIDEO && l === ey.ChannelModes.VOICE && (0, e_.isFullScreen)(s, this.currentDocument) && (0, e_.exitFullScreen)(s, this.currentDocument), e.participantsOpen !== t || a !== e.layout) {
                        var i;
                        null === (i = this._contentRef.current) || void 0 === i || i.triggerResize()
                    }
                    e.inCall && !n && this.inPopout && h.default.wait(() => this.handleClosePopout())
                }
                get nativePopoutSupported() {
                    return eC.isPlatformEmbedded && eS.default.supportsFeature(ey.NativeFeatures.POPOUT_WINDOWS)
                }
                get popoutSupported() {
                    return !eC.isPlatformEmbedded || this.nativePopoutSupported
                }
                get popoutOpen() {
                    let {
                        popoutWindow: e
                    } = this.props;
                    return null != e && !e.closed
                }
                get currentDocument() {
                    let {
                        popoutWindow: e
                    } = this.props;
                    return null != e && this.popoutOpen && this.inPopout ? e.document : document
                }
                get screenMessage() {
                    return this.popoutOpen && !this.inPopout && this.props.inCall ? {
                        mainText: eP.default.Messages.POPOUT_PLAYER_OPENED
                    } : null
                }
                get paused() {
                    return this.popoutOpen && !this.inPopout
                }
                get inPopout() {
                    return this.props.appContext === ey.AppContext.POPOUT
                }
                get viewProperties() {
                    let {
                        layout: e,
                        mode: t,
                        channel: n,
                        inCall: l
                    } = this.props, a = t === ey.ChannelModes.VIDEO && l && !(this.popoutOpen && !this.inPopout), s = t === ey.ChannelModes.VIDEO && l && this.popoutSupported, i = t !== ey.ChannelModes.VOICE && n.isPrivate() && !this.inPopout && l, r = n.type === ey.ChannelTypes.GUILD_VOICE, u = e === ey.ChannelLayouts.MINIMUM || e === ey.ChannelLayouts.NORMAL, o = this.inPopout && this.nativePopoutSupported, d = n.isPrivate() && !n.isBroadcastChannel(), c = {
                        renderHeader: !0,
                        useTheme: !1,
                        useExternalHeader: u,
                        canInvite: r,
                        canPopout: s,
                        canFullscreen: a,
                        canSelectRegion: d,
                        canChangeLayout: i,
                        canStayOnTop: o
                    };
                    if (!l) return {
                        ...c,
                        canFullscreen: a,
                        useTheme: !0
                    };
                    switch (e) {
                        case ey.ChannelLayouts.FULL_SCREEN:
                            return {
                                ...c, canPopout: !this.inPopout && this.popoutOpen && c.canPopout
                            };
                        case ey.ChannelLayouts.MINIMUM:
                            return {
                                ...c, canPopout: !1, useTheme: !0
                            };
                        case ey.ChannelLayouts.NO_CHAT:
                        case ey.ChannelLayouts.NORMAL:
                            return {
                                ...c
                            }
                    }
                }
                renderContent(e) {
                    let {
                        selectedParticipant: t,
                        inCall: n,
                        hasConnectPermission: a,
                        mode: s,
                        popoutWindow: i,
                        participantsOpen: r,
                        participants: u,
                        filteredParticipants: o,
                        participantsVersion: d,
                        channel: c,
                        guild: f,
                        layout: h,
                        forceShowControls: p,
                        awaitingRemoteSessionInfo: m
                    } = this.props, E = h === ey.ChannelLayouts.MINIMUM, C = E || h === ey.ChannelLayouts.NORMAL, g = n && s === ey.ChannelModes.VIDEO;
                    return this._lastIdleProps = e, (0, l.jsx)(K.default, {
                        renderHeader: this.renderHeader,
                        renderBottomLeft: this.renderBottomLeft,
                        renderBottomCenter: this.renderBottomCenter,
                        renderBottomRight: this.renderBottomRight,
                        renderChatButton: c.isGuildVoice() ? this.renderChatButton : void 0,
                        renderChatToasts: c.isGuildVoice() ? this.renderChatToasts : void 0,
                        renderVoiceChannelEffects: this.renderVoiceChannelEffects,
                        ...e,
                        screenMessage: this.screenMessage,
                        disableGradients: E,
                        idle: !p && n && !E && e.idle,
                        children: n && this.popoutOpen && !this.inPopout ? null : (0, l.jsx)(H.default, {
                            ref: this._contentRef,
                            inCall: n,
                            paused: this.paused,
                            channel: c,
                            hasConnectPermission: a,
                            guild: f,
                            participants: u,
                            filteredParticipants: o,
                            participantsVersion: d,
                            selectedParticipant: g ? t : null,
                            layout: h,
                            idle: e.idle,
                            mode: s,
                            onSelectParticipant: this.handleSelectParticipant,
                            onContextMenuParticipant: this.handleContextMenu,
                            showParticipants: r && !C,
                            popoutWindow: this.inPopout ? i : null,
                            awaitingRemoteSessionInfo: m
                        })
                    })
                }
                render() {
                    let {
                        layout: e,
                        channel: t,
                        guild: n,
                        mode: a,
                        chatOpen: s,
                        appContext: r,
                        maxSidebarWidth: u,
                        maxHeight: o,
                        inCall: d
                    } = this.props, {
                        resizedHeight: c
                    } = this.state, f = a === ey.ChannelModes.VIDEO, h = e !== ey.ChannelLayouts.NO_CHAT && e !== ey.ChannelLayouts.FULL_SCREEN && null != o;
                    return (0, l.jsxs)("div", {
                        className: i(eD.wrapper, eb[e], eU[r], {
                            [eD.poppedOut]: this.popoutOpen && !this.inPopout && e !== ey.ChannelLayouts.NO_CHAT && t.isPrivate(),
                            [eD.video]: f,
                            [eD.chatSidebarOpen]: s
                        }),
                        ref: e => {
                            this._wrapperRef.current = e, this.props.wrapperRef.current = e
                        },
                        style: h && null != c ? {
                            minHeight: 200,
                            maxHeight: o,
                            height: c
                        } : void 0,
                        children: [(0, l.jsx)("div", {
                            className: i(eD.callContainer, {
                                [(0, eg.getThemeClass)(ey.ThemeTypes.DARK)]: f
                            }),
                            ref: e => {
                                this._callContainerRef.current = e, this.props.callContainerRef.current = e
                            },
                            children: (0, l.jsx)(W.default, {
                                timeout: 2e3,
                                children: e => this.renderContent(e)
                            })
                        }), h && (0, l.jsx)(eR.default, {
                            minHeight: 200,
                            maxHeight: o,
                            resizableNode: this._wrapperRef,
                            onResize: this.handleCallResize,
                            onResizeEnd: this.props.updateStoredCallHeaderHeight
                        }), (0, l.jsx)("div", {
                            className: eD.channelChatWrapper,
                            ref: e => {
                                this._channelChatRef.current = e, this.props.channelChatRef.current = e
                            },
                            children: s && (!d || !this.popoutOpen || this.inPopout) && (0, l.jsx)(ev.default, {
                                channel: t,
                                guild: n,
                                maxWidth: u
                            })
                        })]
                    })
                }
                constructor(...e) {
                    super(...e), this._prevLayout = ey.ChannelLayouts.MINIMUM, this._wrapperRef = a.createRef(), this._callContainerRef = a.createRef(), this._channelChatRef = a.createRef(), this._contentRef = a.createRef(), this._videoBackgroundTooltipTimeout = new c.Timeout, this._lastIdleProps = null, this.state = {
                        resizedHeight: B.default.callHeaderHeight
                    }, this.handleFullScreenChange = () => {
                        let e = this.getRootNode();
                        null != e && !(0, e_.isFullScreen)(e, this.currentDocument) && this.props.layout === ey.ChannelLayouts.FULL_SCREEN && this.handleFullScreen()
                    }, this.handleFullScreen = () => {
                        let e = this.getRootNode();
                        null != e && (this.props.layout !== ey.ChannelLayouts.FULL_SCREEN ? (this._prevLayout = this.props.layout, this.handleChangeLayout(ey.ChannelLayouts.FULL_SCREEN), (0, e_.requestFullScreen)(e)) : this.maybeLeaveFullScreen())
                    }, this.maybeLeaveFullScreen = () => {
                        let e = this.getRootNode();
                        if (null != e) this.props.layout === ey.ChannelLayouts.FULL_SCREEN && (this.handleChangeLayout(this._prevLayout), (0, e_.exitFullScreen)(e, this.currentDocument))
                    }, this.handleToggleLayout = () => {
                        this.handleChangeLayout(this.props.layout === ey.ChannelLayouts.NORMAL ? ey.ChannelLayouts.NO_CHAT : ey.ChannelLayouts.NORMAL)
                    }, this.handleChangeLayout = e => {
                        let {
                            channel: t,
                            appContext: n,
                            layout: l
                        } = this.props;
                        l !== e && (p.default.updateLayout(t.id, e, n), e === ey.ChannelLayouts.FULL_SCREEN && t.isPrivate() && eE.ComponentDispatch.dispatch(ey.ComponentActions.TEXTAREA_BLUR))
                    }, this.handleDisconnect = () => {
                        this.props.layout === ey.ChannelLayouts.FULL_SCREEN && this.handleFullScreen()
                    }, this.handleContextMenu = (e, t) => {
                        var a, s;
                        let {
                            channel: i,
                            appContext: r,
                            layout: o
                        } = this.props, d = {
                            onClose: () => {
                                var e;
                                return null === (e = this._lastIdleProps) || void 0 === e ? void 0 : e.onAllowIdle("menu")
                            },
                            context: r
                        };
                        switch (null === (a = this._lastIdleProps) || void 0 === a || a.onPreventIdle("menu"), null === (s = this._lastIdleProps) || void 0 === s || s.onActive(), e.type) {
                            case eO.ParticipantTypes.HIDDEN_STREAM:
                            case eO.ParticipantTypes.STREAM:
                                (0, m.openContextMenuLazy)(t, async () => {
                                    let {
                                        default: t
                                    } = await n.el("172844").then(n.bind(n, "172844"));
                                    return n => (0, l.jsx)(t, {
                                        ...n,
                                        stream: e.stream,
                                        exitFullscreen: this.maybeLeaveFullScreen,
                                        appContext: r
                                    })
                                }, d);
                                return;
                            case eO.ParticipantTypes.USER:
                                let c = ed.default.getUser(e.id);
                                if (null != c) switch (i.type) {
                                    case ey.ChannelTypes.DM:
                                        return (0, m.openContextMenuLazy)(t, async () => {
                                            let {
                                                default: e
                                            } = await n.el("130074").then(n.bind(n, "130074"));
                                            return t => (0, l.jsx)(e, {
                                                ...t,
                                                showChannelCallItems: !0,
                                                showMediaItems: !0,
                                                user: c,
                                                channel: i,
                                                showModalItems: !0
                                            })
                                        }, d);
                                    case ey.ChannelTypes.GROUP_DM:
                                        return (0, m.openContextMenuLazy)(t, async () => {
                                            let {
                                                default: e
                                            } = await n.el("166452").then(n.bind(n, "166452"));
                                            return t => (0, l.jsx)(e, {
                                                ...t,
                                                showChannelCallItems: !0,
                                                showMediaItems: !0,
                                                showChatItems: o === ey.ChannelLayouts.MINIMUM || o === ey.ChannelLayouts.NORMAL,
                                                user: c,
                                                channel: i,
                                                showModalItems: !0
                                            })
                                        }, d);
                                    case ey.ChannelTypes.GUILD_VOICE:
                                        let f = i.getGuildId();
                                        return u(null != f, "GuildID null for guild voice channel"), (0, m.openContextMenuLazy)(t, async () => {
                                            let {
                                                default: e
                                            } = await n.el("834247").then(n.bind(n, "834247"));
                                            return t => (0, l.jsx)(e, {
                                                ...t,
                                                showMediaItems: !0,
                                                showChannelCallItems: !0,
                                                showChatItems: !1,
                                                user: c,
                                                channel: i,
                                                guildId: f,
                                                showModalItems: !0
                                            })
                                        }, d)
                                }
                        }
                    }, this.handleCallResize = e => {
                        this.setState({
                            resizedHeight: e
                        })
                    }, this.handleSelectParticipant = (e, t) => {
                        let {
                            channel: n,
                            selectedParticipant: l,
                            allActiveStreams: a,
                            inCall: s,
                            mode: i
                        } = this.props;
                        if ((0, eO.isStreamParticipant)(e) && (0, U.canWatchStream)(n, ec.default, ei.default, er.default, y.default)[0]) {
                            E.default.selectVoiceChannel(n.id);
                            let l = a.filter(t => (0, b.encodeStreamKey)(t) === e.id && t.state !== ey.ApplicationStreamStates.ENDED);
                            0 === l.length && (0, C.watchStream)((0, b.decodeStreamKey)(e.id), {
                                forceMultiple: t.shiftKey
                            })
                        }
                        s && i === ey.ChannelModes.VIDEO && ((null == l ? void 0 : l.id) === e.id ? p.default.selectParticipant(n.id, null) : p.default.selectParticipant(n.id, e.id))
                    }, this.handleOpenPopout = () => {
                        let {
                            channel: e,
                            connectedToEmbeddedActivity: t
                        } = this.props, n = () => {
                            let t = e.getGuildId();
                            null != t && (0, G.transitionTo)((0, em.previousTextChannelRouteForGuild)(t)), w.openChannelCallPopout(e)
                        };
                        t ? (0, M.default)(n) : n()
                    }, this.handleStayOnTop = e => {
                        w.setAlwaysOnTop(ey.PopoutWindowKeys.CHANNEL_CALL_POPOUT, e)
                    }, this.handleClosePopout = () => {
                        w.close(ey.PopoutWindowKeys.CHANNEL_CALL_POPOUT)
                    }, this.handleFullscreenParticipant = (e, t) => {
                        let {
                            layout: n,
                            selectedParticipant: l
                        } = this.props, a = n === ey.ChannelLayouts.FULL_SCREEN;
                        (!a && (null == l ? void 0 : l.id) !== e.id || a && (null == l ? void 0 : l.id) === e.id) && this.handleSelectParticipant(e, t), this.handleFullScreen()
                    }, this.renderRegionSelect = () => {
                        let e;
                        let {
                            call: t,
                            channel: n,
                            layout: a
                        } = this.props;
                        return !this.inPopout && a !== ey.ChannelLayouts.FULL_SCREEN && null != t && !n.isManaged() && (e = (0, l.jsx)(S.default, {
                            call: t
                        })), (0, l.jsx)(ef.default, {
                            justify: ef.default.Justify.END,
                            children: e
                        })
                    }, this.renderBottomCenter = () => {
                        let {
                            channel: e,
                            inCall: t,
                            layout: n
                        } = this.props;
                        return t || n === ey.ChannelLayouts.MINIMUM || n === ey.ChannelLayouts.NORMAL ? (0, l.jsx)(k.default, {
                            exitFullScreen: this.maybeLeaveFullScreen,
                            channel: e,
                            onDisconnectCall: this.handleDisconnect,
                            idleProps: this._lastIdleProps
                        }) : null
                    }, this.renderBottomLeft = () => {
                        let {
                            layout: e,
                            mentionCount: t,
                            channel: n,
                            appContext: a,
                            useNewInviteButton: s,
                            selectedParticipant: r,
                            shouldUseVoiceEffectsActionBar: u,
                            inCall: o,
                            participants: d
                        } = this.props;
                        if (!o) return null;
                        let c = e === ey.ChannelLayouts.NO_CHAT ? Z.default.Directions.UP : Z.default.Directions.DOWN,
                            f = [ey.ChannelLayouts.FULL_SCREEN, ey.ChannelLayouts.NO_CHAT].includes(e),
                            h = d.some(e => e.type === eO.ParticipantTypes.STREAM),
                            p = e === ey.ChannelLayouts.FULL_SCREEN ? () => {
                                this._prevLayout = ey.ChannelLayouts.NORMAL, this.handleFullScreen()
                            } : this.handleToggleLayout,
                            {
                                canChangeLayout: m,
                                canInvite: E
                            } = this.viewProperties,
                            C = s ? (0, l.jsx)(V.default, {
                                channel: n,
                                stream: (null == r ? void 0 : r.type) === eO.ParticipantTypes.STREAM ? (0, b.decodeStreamKey)(r.id) : void 0,
                                applicationId: (null == r ? void 0 : r.type) === eO.ParticipantTypes.ACTIVITY ? r.id : void 0,
                                appContext: a,
                                className: eD.leftTrayIcon,
                                exitFullScreen: this.maybeLeaveFullScreen,
                                analyticsLocation: n.type === ey.ChannelTypes.GUILD_VOICE ? ey.AnalyticsPages.GUILD_CHANNEL : ey.AnalyticsPages.DM_CHANNEL
                            }) : (0, l.jsx)(Q.default, {
                                channel: n,
                                stream: (null == r ? void 0 : r.type) === eO.ParticipantTypes.STREAM ? (0, b.decodeStreamKey)(r.id) : void 0,
                                className: eD.leftTrayIcon,
                                exitFullScreen: this.maybeLeaveFullScreen,
                                analyticsLocation: n.type === ey.ChannelTypes.GUILD_VOICE ? ey.AnalyticsPages.GUILD_CHANNEL : ey.AnalyticsPages.DM_CHANNEL
                            });
                        return (0, l.jsxs)(l.Fragment, {
                            children: [E && !u ? C : null, m ? (0, l.jsxs)(ef.default, {
                                className: eD.iconWrapper,
                                align: ef.default.Align.CENTER,
                                grow: 0,
                                children: [(0, l.jsx)(Z.default, {
                                    label: f ? eP.default.Messages.SHOW_CHAT : eP.default.Messages.HIDE_CHAT,
                                    direction: c,
                                    className: eD.leftTrayIcon,
                                    onClick: p
                                }), f && t > 0 ? (0, l.jsx)(eh.NumberBadge, {
                                    className: eD.badge,
                                    count: t
                                }) : null]
                            }) : null, (null == r ? void 0 : r.type) !== eO.ParticipantTypes.STREAM && (null == r ? void 0 : r.type) !== eO.ParticipantTypes.ACTIVITY || u ? null : (0, l.jsx)(Y.default, {
                                children: (0, l.jsx)(eM.default, {
                                    className: i(eD.leftTrayIcon, eD.viewersButton),
                                    participant: r,
                                    maxVisibleUsers: 4,
                                    guildId: n.getGuildId(),
                                    channelId: n.id,
                                    disableInteraction: this.inPopout || e === ey.ChannelLayouts.FULL_SCREEN
                                })
                            }), u && (0, l.jsx)(ej.default, {
                                channel: n,
                                hasActiveStream: h,
                                themeable: this.viewProperties.useTheme
                            }), (0, l.jsx)(D.default, {
                                showLeftDivider: u,
                                themeable: this.viewProperties.useTheme,
                                className: eD.leftTrayIcon,
                                channel: n
                            })]
                        })
                    }, this.renderBottomRight = () => {
                        let {
                            popoutWindow: e,
                            popoutWindowAlwaysOnTop: t,
                            currentUserId: n,
                            selectedParticipant: a
                        } = this.props, {
                            canFullscreen: s,
                            canStayOnTop: i,
                            canPopout: r,
                            useTheme: u
                        } = this.viewProperties;
                        return (0, l.jsxs)(l.Fragment, {
                            children: [null != a && a.type !== eO.ParticipantTypes.ACTIVITY && a.user.id !== n ? (0, l.jsx)(ee.default, {
                                context: (0, eT.default)(a.type),
                                userId: a.user.id,
                                currentWindow: this.inPopout ? null != e ? e : void 0 : window,
                                sliderClassName: eD.volumeSlider,
                                className: eD.rightTrayIcon
                            }) : null, i ? (0, l.jsx)($.default, {
                                className: eD.rightTrayIcon,
                                popoutWindowAlwaysOnTop: t,
                                onToggleStayOnTop: this.handleStayOnTop
                            }) : null, r ? (0, l.jsx)(J.default, {
                                themeable: u,
                                popoutOpen: this.popoutOpen,
                                className: eD.rightTrayIcon,
                                onOpenPopout: this.handleOpenPopout,
                                onClosePopout: this.handleClosePopout
                            }) : null, s ? (0, l.jsx)(q.default, {
                                themeable: u,
                                node: this.getRootNode(),
                                guestWindow: e,
                                className: eD.rightTrayIcon,
                                onClick: this.handleFullScreen
                            }) : null]
                        })
                    }, this.renderChatButton = e => {
                        let {
                            className: t,
                            showingClassName: n
                        } = e, {
                            channel: a,
                            chatOpen: s,
                            inCall: i
                        } = this.props;
                        return s || this.popoutOpen && !this.inPopout && i ? null : (0, l.jsx)(X.ChatButton, {
                            channelId: a.id,
                            className: t,
                            showingClassName: n
                        })
                    }, this.renderChatToasts = () => {
                        let {
                            showChatToasts: e,
                            chatOpen: t,
                            channel: n,
                            inCall: a
                        } = this.props;
                        return !e || t || this.popoutOpen && !this.inPopout && a ? null : (0, l.jsx)(eN.default, {
                            children: (0, l.jsx)(z.default, {
                                className: eD.chatToasts,
                                channelId: n.id
                            })
                        })
                    }, this.renderVoiceChannelEffects = () => {
                        let {
                            channel: e
                        } = this.props;
                        return (0, l.jsx)(eL.default, {
                            children: (0, l.jsx)(et.default, {
                                channelId: e.id
                            })
                        })
                    }, this.renderHeader = () => {
                        let {
                            renderExternalHeader: e,
                            channel: t,
                            guild: n,
                            appContext: a,
                            chatOpen: s,
                            inCall: i
                        } = this.props, {
                            useExternalHeader: r,
                            canSelectRegion: u,
                            renderHeader: o
                        } = this.viewProperties;
                        return o ? (0, l.jsxs)(Y.default, {
                            children: [(0, l.jsx)("div", {
                                className: eD.headerWrapper,
                                children: r ? null == e ? void 0 : e() : (0, l.jsx)(eA.default, {
                                    channel: t,
                                    guild: n,
                                    appContext: a,
                                    inCall: i,
                                    isChatOpen: s || this.popoutOpen && !this.inPopout && i,
                                    exitFullScreen: this.maybeLeaveFullScreen
                                })
                            }), u ? this.renderRegionSelect() : null]
                        }) : null
                    }
                }
            }
            var eF = function(e) {
                var t, n;
                let {
                    channel: s,
                    renderExternalHeader: i,
                    maxHeight: r
                } = e, {
                    width: u = 0,
                    ref: c
                } = (0, I.default)(), {
                    width: h = 0,
                    height: p = 0,
                    ref: m
                } = (0, I.default)(), {
                    ref: E
                } = (0, I.default)(), C = (0, x.useAppContext)(), S = (0, P.default)(), M = (0, o.useStateFromStores)([eo.default], () => (null !== (t = null == S ? void 0 : S.channelId) && void 0 !== t ? t : eo.default.getVoiceChannelId()) === s.id), {
                    participants: L,
                    filteredParticipants: D,
                    participantsVersion: b,
                    mode: U,
                    layout: w,
                    participantsOpen: G,
                    chatOpen: k,
                    selectedParticipant: H
                } = (0, o.useStateFromStoresObject)([eI.default], () => {
                    let e = C === ey.AppContext.POPOUT,
                        t = eI.default.getMode(s.id);
                    e && (t = ey.ChannelModes.VIDEO);
                    let n = t === ey.ChannelModes.VIDEO ? eI.default.getLayout(s.id, C) : ey.ChannelLayouts.MINIMUM;
                    return e && n !== ey.ChannelLayouts.FULL_SCREEN && (n = ey.ChannelLayouts.NO_CHAT), {
                        mode: t,
                        layout: n,
                        selectedParticipant: t !== ey.ChannelModes.VOICE ? eI.default.getSelectedParticipant(s.id) : null,
                        participants: eI.default.getParticipants(s.id),
                        filteredParticipants: eI.default.getFilteredParticipants(s.id),
                        participantsOpen: eI.default.getParticipantsOpen(s.id),
                        chatOpen: eI.default.getChatOpen(s.id),
                        participantsVersion: eI.default.getParticipantsVersion(s.id)
                    }
                }, [C, s.id]), V = (0, o.useStateFromStoresArray)([en.default], () => en.default.getAllActiveStreams()), {
                    selectedStream: W
                } = (0, o.useStateFromStoresObject)([en.default], () => ({
                    selectedStream: null != H ? en.default.getActiveStreamForStreamKey(H.id) : null
                }), [H]), Y = (0, o.useStateFromStores)([ei.default], () => ei.default.getGuild(s.getGuildId())), z = (0, o.useStateFromStores)([es.default], () => es.default.getCall(s.id), [s.id]), K = (0, o.useStateFromStores)([eu.default], () => eu.default.getMentionCount(s.id), [s.id]), Z = (0, o.useStateFromStores)([el.default], () => el.default.getId()), {
                    popoutWindow: X,
                    popoutWindowAlwaysOnTop: q
                } = (0, o.useStateFromStoresObject)([F.default], () => ({
                    popoutWindow: F.default.getWindow(ey.PopoutWindowKeys.CHANNEL_CALL_POPOUT),
                    popoutWindowAlwaysOnTop: F.default.getIsAlwaysOnTop(ey.PopoutWindowKeys.CHANNEL_CALL_POPOUT)
                })), Q = (0, o.useStateFromStores)([er.default], () => er.default.can(ey.Permissions.CONNECT, s)), J = (0, o.useStateFromStores)([ea.default], () => ea.default.getToastsEnabled(s.id)), $ = (0, o.useStateFromStores)([y.default], () => y.default.getAwaitingRemoteSessionInfo()), ee = (0, o.useStateFromStores)([B.default], () => B.default.callHeaderHeight), et = a.useCallback(e => {
                    g.default.updatedUnsyncedSettings({
                        callHeaderHeight: e
                    })
                }, []), ed = null !== (n = null == Y ? void 0 : Y.id) && void 0 !== n ? n : null, ec = (0, A.default)(ed, s.id), ef = (0, o.useStateFromStores)([N.default], () => N.default.getFetchState(), []), eh = (0, T.default)(ef);
                a.useEffect(() => {
                    "errored" === ef && "errored" !== eh && (0, f.showToast)((0, f.createToast)(eP.default.Messages.EMBEDDED_ACTIVITIES_DEVELOPER_ACTIVITY_SHELF_FETCH_ERROR, f.ToastType.FAILURE))
                }, [ef, eh]);
                let ep = (0, o.useStateFromStores)([v.default], () => null != v.default.getSelfEmbeddedActivityForChannel(s.id), [s]);
                a.useEffect(() => {
                    let e = !1,
                        t = null,
                        n = async () => {
                            M && U === ey.ChannelModes.VIDEO && (t = await eS.default.blockDisplaySleep(), e && null != t && eS.default.unblockDisplaySleep(t))
                        };
                    return n(), () => {
                        null != t ? eS.default.unblockDisplaySleep(t) : e = !0
                    }
                }, [M, U]);
                let em = (0, ex.default)(s, !0),
                    eE = (0, O.useIsContentShown)(d.DismissibleContent.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK),
                    {
                        AnalyticsLocationProvider: eC
                    } = (0, j.default)(R.default.CHANNEL_CALL);
                return (0, l.jsx)(eC, {
                    children: (0, l.jsx)(_.default, {
                        page: ey.AnalyticsPages.CHANNEL_CALL,
                        children: (0, l.jsx)(eN.ChannelCallChatLayerProvider, {
                            children: (0, l.jsxs)(eL.VoiceChannelEffectsLayerProvider, {
                                children: [(0, l.jsx)(ew, {
                                    channel: s,
                                    guild: Y,
                                    hasConnectPermission: Q,
                                    participantsOpen: G,
                                    renderExternalHeader: i,
                                    appContext: C,
                                    call: z,
                                    popoutWindow: X,
                                    popoutWindowAlwaysOnTop: q,
                                    mentionCount: K,
                                    selectedStream: W,
                                    mode: U,
                                    inCall: M,
                                    participants: L,
                                    filteredParticipants: D,
                                    participantsVersion: b,
                                    layout: w,
                                    chatOpen: k,
                                    maxSidebarWidth: u - 550,
                                    shouldUseVoiceEffectsActionBar: em,
                                    currentUserId: Z,
                                    selectedParticipant: H,
                                    allActiveStreams: V,
                                    useNewInviteButton: ec,
                                    connectedToEmbeddedActivity: ep,
                                    showChatToasts: J,
                                    storedCallHeaderHeight: ee,
                                    updateStoredCallHeaderHeight: et,
                                    wrapperRef: c,
                                    callContainerDimensions: {
                                        width: h,
                                        height: p
                                    },
                                    callContainerRef: m,
                                    channelChatRef: E,
                                    width: u,
                                    maxHeight: r,
                                    forceShowControls: eE,
                                    awaitingRemoteSessionInfo: $
                                }), !s.isPrivate() && (0, l.jsx)(eL.VoiceChannelEffectsLayerContainer, {}), (0, l.jsx)(eN.ChannelCallChatLayerContainer, {})]
                            })
                        })
                    })
                })
            }
        },
        328715: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return H
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("414456"),
                s = n.n(a),
                i = n("446674"),
                r = n("77078"),
                u = n("308289"),
                o = n("789394"),
                d = n("746164"),
                c = n("244201"),
                f = n("204947"),
                h = n("442939"),
                p = n("679653"),
                m = n("619335"),
                E = n("534222"),
                C = n("941298"),
                g = n("539938"),
                S = n("557809"),
                _ = n("367376"),
                I = n("616718"),
                T = n("550410"),
                x = n("957255"),
                N = n("953109"),
                v = n("832132"),
                A = n("664336"),
                M = n("439932"),
                R = n("191145"),
                L = n("598785"),
                j = n("2830"),
                O = n("836087"),
                y = n("843624"),
                P = n("99795"),
                D = n("49111"),
                b = n("843455"),
                U = n("782340"),
                w = n("125738"),
                F = n("632215");

            function G(e) {
                let {
                    focusedParticipant: t,
                    channel: n
                } = e, a = (0, c.useAppContext)(), s = (0, i.useStateFromStores)([R.default], () => R.default.getLayout(n.id, a));
                return (0, l.jsx)(T.default, {
                    children: (0, l.jsx)(O.default, {
                        className: w.participants,
                        participant: t,
                        maxVisibleUsers: 5,
                        guildId: n.getGuildId(),
                        channelId: n.id,
                        disableInteraction: a === D.AppContext.POPOUT || s === D.ChannelLayouts.FULL_SCREEN
                    })
                })
            }

            function B(e) {
                let {
                    user: t,
                    channel: n,
                    stream: a,
                    color: s
                } = e, i = (0, I.default)(n, t, a);
                return null == t || null == a ? null : (0, l.jsxs)(l.Fragment, {
                    children: [(0, l.jsx)(u.default, {
                        className: w.avatar,
                        size: r.AvatarSizes.SIZE_24,
                        user: t,
                        animate: !1
                    }), (0, l.jsx)(r.Text, {
                        className: w.playingText,
                        variant: "text-md/medium",
                        color: s,
                        children: i
                    })]
                })
            }

            function k(e) {
                let t, {
                        focusedApplication: n,
                        focusedParticipant: a,
                        channel: s
                    } = e,
                    i = (0, L.default)(s, !0),
                    u = (0, E.useActiveEvent)(s.id);
                if ((null == a ? void 0 : a.type) === P.ParticipantTypes.ACTIVITY) null != n && (t = (0, l.jsxs)(l.Fragment, {
                    children: [(0, l.jsx)(A.default.Divider, {
                        className: w.divider
                    }), (0, l.jsx)(N.default, {
                        game: n,
                        className: w.activityIcon
                    }), (0, l.jsx)(r.Text, {
                        className: w.playingText,
                        variant: "text-md/normal",
                        color: "none",
                        children: (0, f.default)(n.name)
                    }), i && (0, l.jsx)(G, {
                        channel: s,
                        focusedParticipant: a
                    })]
                }));
                else if ((null == a ? void 0 : a.type) === P.ParticipantTypes.STREAM) {
                    let e = a.user,
                        n = a.stream;
                    t = (0, l.jsxs)(l.Fragment, {
                        children: [(0, l.jsx)(A.default.Divider, {
                            className: w.divider
                        }), (0, l.jsx)(B, {
                            user: e,
                            channel: s,
                            stream: n,
                            color: i ? "header-primary" : "none"
                        }), i && (0, l.jsx)(G, {
                            channel: s,
                            focusedParticipant: a
                        })]
                    })
                } else null != u && (t = (0, l.jsx)(C.default, {
                    guildEvent: u
                }));
                return (0, l.jsx)("div", {
                    className: w.container,
                    children: t
                })
            }

            function H(e) {
                var t;
                let {
                    channel: a,
                    guild: u,
                    appContext: c,
                    inCall: f,
                    isChatOpen: E,
                    exitFullScreen: C
                } = e, {
                    focusedParticipant: I
                } = (0, i.useStateFromStoresObject)([R.default], () => ({
                    focusedParticipant: R.default.getSelectedParticipant(a.id),
                    participantsOpen: R.default.getParticipantsOpen(a.id)
                }), [a.id]), T = (0, p.default)(a), N = (0, m.default)(a), L = d.default.useExperiment({
                    guildId: null !== (t = null == u ? void 0 : u.id) && void 0 !== t ? t : "",
                    location: "7b48cc_1"
                }, {
                    autoTrackExposure: !1
                }).enabled && f, [O] = (0, h.default)((null == I ? void 0 : I.type) === P.ParticipantTypes.ACTIVITY ? [I.id] : []), G = U.default.Messages.VOICE_CHANNEL;
                a.isDM() ? G = U.default.Messages.DM : a.isGroupDM() && (G = U.default.Messages.GROUP_DM);
                let {
                    enabled: B,
                    left: H
                } = o.ChannelEmojisExperiment.useExperiment({
                    location: "7b48cc_2"
                }, {
                    autoTrackExposure: !1
                }), V = B && (0, l.jsx)(S.ChannelEmoji, {
                    channel: a
                }), W = a.isGuildVoice() && L && null != a.status && a.status.length > 0, Y = (0, i.useStateFromStores)([x.default], () => x.default.can(D.Permissions.SET_VOICE_CHANNEL_STATUS, a)), z = W ? (0, l.jsx)(r.Tooltip, {
                    text: U.default.Messages.VOICE_CHANNEL_SET_STATUS,
                    delay: 500,
                    position: "bottom",
                    shouldShow: Y,
                    children: e => (0, l.jsxs)(r.Clickable, {
                        ...e,
                        className: s(w.channelStatusClickable, {
                            [w.hoverable]: Y
                        }),
                        onClick: Y ? K : void 0,
                        children: [(0, l.jsx)(r.Text, {
                            variant: "text-xs/normal",
                            className: s(w.channelStatus, F.markup, {
                                [w.hoverable]: Y
                            }),
                            children: _.default.parseVoiceChannelStatus(a.status, !0, {
                                channelId: a.id
                            })
                        }), Y && (0, l.jsx)(v.default, {
                            className: s(w.pencilIcon, w.hoverable),
                            width: 14,
                            height: 14
                        })]
                    })
                }) : null;

                function K() {
                    (0, r.openModalLazy)(async () => {
                        let {
                            default: e
                        } = await n.el("843624").then(n.bind(n, "843624"));
                        return t => (0, l.jsx)(e, {
                            channel: a,
                            ...t
                        })
                    }, {
                        modalKey: y.VOICE_CHANNEL_STATUS_MODAL_KEY
                    })
                }
                return (0, l.jsx)("div", {
                    className: w.subtitleContainer,
                    children: (0, l.jsxs)(A.default, {
                        onDoubleClick: g.handleDoubleClick,
                        transparent: !0,
                        className: (0, M.getThemeClass)(b.ThemeTypes.DARK),
                        childrenBottom: z,
                        toolbar: (0, l.jsx)(j.default, {
                            channel: a,
                            appContext: c,
                            inCall: f,
                            isChatOpen: E,
                            exitFullScreen: C
                        }),
                        children: [H && V, null != N ? (0, l.jsx)(A.default.Icon, {
                            icon: N,
                            disabled: !0,
                            "aria-label": G
                        }) : null, !H && V, (0, l.jsx)(A.default.Title, {
                            children: T
                        }), (0, l.jsx)(S.HeaderGuildBreadcrumb, {
                            channel: a,
                            guild: u
                        }), (0, l.jsx)(k, {
                            focusedApplication: O,
                            focusedParticipant: I,
                            channel: a
                        })]
                    })
                })
            }
        },
        2830: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return G
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("917351"),
                u = n.n(r),
                o = n("446674"),
                d = n("77078"),
                c = n("777274"),
                f = n("992207"),
                h = n("374014"),
                p = n("336804"),
                m = n("311197"),
                E = n("830251"),
                C = n("170643"),
                g = n("550410"),
                S = n("124824"),
                _ = n("640553"),
                I = n("104815"),
                T = n("925674"),
                x = n("331759"),
                N = n("63260"),
                v = n("422736"),
                A = n("280168"),
                M = n("664336"),
                R = n("68148"),
                L = n("980423"),
                j = n("191145"),
                O = n("598785"),
                y = n("226735"),
                P = n("340513"),
                D = n("99795"),
                b = n("49111"),
                U = n("782340"),
                w = n("767290");

            function F(e) {
                let {
                    channelId: t,
                    guildId: n
                } = e, a = Date.now(), s = (0, o.useStateFromStores)([A.default, j.default], () => u(A.default.getSpeakers()).map(e => j.default.getParticipant(t, e)).filter(e => null != e && e.type === D.ParticipantTypes.USER && e.speaking && !(0, E.default)(e)).sortBy(e => -A.default.getSpeakingDuration(e.user.id, a)).slice(0, 3).value());
                return 0 === s.length ? null : (0, l.jsx)(l.Fragment, {
                    children: s.map((e, t) => (0, l.jsx)(d.Tooltip, {
                        position: "bottom",
                        color: d.Tooltip.Colors.GREY,
                        text: U.default.Messages.CHANNEL_CALL_CURRENT_SPEAKER.format({
                            username: e.user.username
                        }),
                        children: a => (0, l.jsx)(R.default, {
                            ...a,
                            className: i(w.speaker, {
                                [w.last]: t === s.length - 1
                            }),
                            user: e.user,
                            speaking: !0,
                            collapsed: !0,
                            guildId: n
                        })
                    }, e.id))
                })
            }

            function G(e) {
                let {
                    channel: t,
                    appContext: n,
                    inCall: s,
                    isChatOpen: i,
                    exitFullScreen: r
                } = e, u = t.id, {
                    voiceParticipantsHidden: E,
                    selectedParticipant: A,
                    userParticipantCount: R
                } = (0, o.useStateFromStoresObject)([j.default], () => ({
                    selectedParticipant: j.default.getSelectedParticipant(u),
                    voiceParticipantsHidden: j.default.getVoiceParticipantsHidden(u),
                    userParticipantCount: j.default.getUserParticipantCount(u)
                }), [u]), U = (0, O.default)(t), {
                    preventIdle: G,
                    allowIdle: B
                } = (0, g.usePreventIdle)("popup"), k = [];
                if (U) {
                    let e = (null == A ? void 0 : A.type) === D.ParticipantTypes.STREAM ? (0, h.decodeStreamKey)(A.id) : void 0,
                        n = (null == A ? void 0 : A.type) === D.ParticipantTypes.ACTIVITY ? A.id : void 0;
                    k.push((0, l.jsx)(x.default, {
                        className: w.button,
                        channel: t,
                        applicationId: n,
                        stream: e,
                        exitFullScreen: r,
                        analyticsLocation: t.type === b.ChannelTypes.GUILD_VOICE ? b.AnalyticsPages.GUILD_CHANNEL : b.AnalyticsPages.DM_CHANNEL
                    }, "invite-button"))
                }
                return E && k.push((0, l.jsx)(F, {
                    channelId: u,
                    guildId: t.guild_id
                }, "current-speaker")), k.push((0, l.jsx)(f.default, {
                    className: w.button,
                    channelId: u
                })), (null == A ? void 0 : A.type) === D.ParticipantTypes.STREAM && (k.push((0, l.jsx)(C.default, {
                    className: w.button,
                    participant: A
                }, "warning")), k.push((0, l.jsx)(p.default, {
                    size: L.default.Sizes.LARGE,
                    className: w.button,
                    participant: A,
                    showQuality: !0
                }, "live-indicator"))), E && k.push((0, l.jsx)(d.Popout, {
                    position: "bottom",
                    renderPopout: () => (0, l.jsx)(S.default, {
                        children: (0, l.jsx)(P.default, {
                            channel: t
                        })
                    }),
                    children: (e, t) => {
                        let {
                            isShown: n
                        } = t;
                        return (0, a.createElement)(N.default, {
                            ...e,
                            isActive: n,
                            count: R,
                            key: "call-members",
                            className: w.button
                        })
                    }
                }, "call-members-popout")), s && k.push(null != A ? (0, l.jsx)(T.default, {
                    className: w.button,
                    channelId: u
                }, "deselect-participant") : (0, l.jsx)(v.default, {
                    className: w.button,
                    channelId: u,
                    isHorizontal: !0
                }, "select-participant")), k.push((0, l.jsx)(m.default, {
                    onOpen: G,
                    onClose: B,
                    className: w.button
                }, "recents")), k.push((0, l.jsx)(c.CallscopeChannelCallIssueMarker, {
                    className: w.button
                }, "callscope-marker")), k.push((0, l.jsx)(d.Popout, {
                    position: "bottom",
                    renderPopout: e => {
                        let {
                            closePopout: t
                        } = e;
                        return (0, l.jsx)(S.default, {
                            children: (0, l.jsx)(y.default, {
                                channelId: u,
                                onClose: t,
                                appContext: n,
                                exitFullScreen: r
                            })
                        })
                    },
                    children: (e, t) => {
                        let {
                            isShown: n
                        } = t;
                        return (0, a.createElement)(I.default, {
                            ...e,
                            key: "more-options",
                            isActive: n,
                            className: w.lastButton
                        })
                    }
                }, "more-options-popout")), !i && (k.push((0, l.jsx)(M.default.Divider, {
                    className: w.divider
                }, "divider")), k.push((0, l.jsx)(_.ChatButton, {
                    channelId: t.id,
                    className: w.chatButtonSpacer,
                    disabled: !0
                }, "chat-spacer"))), (0, l.jsx)(l.Fragment, {
                    children: k
                })
            }
        },
        226735: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("446674"),
                s = n("77078"),
                i = n("191145"),
                r = n("243288"),
                u = n("769928"),
                o = n("321135"),
                d = n("976074"),
                c = n("639537"),
                f = n("99795"),
                h = n("782340");

            function p(e) {
                let {
                    channelId: t,
                    onClose: n,
                    appContext: p,
                    exitFullScreen: m,
                    onSelect: E
                } = e, C = (0, a.useStateFromStores)([i.default], () => i.default.getSelectedParticipant(t)), g = (null == C ? void 0 : C.type) === f.ParticipantTypes.STREAM ? C.stream : null, S = (0, r.default)(t), _ = (0, o.default)(), I = (0, u.default)(t), T = (0, c.default)(t);
                return (0, l.jsxs)(s.Menu, {
                    navId: "channel-call-overflow-popout",
                    onClose: n,
                    "aria-label": h.default.Messages.CHANNEL_CALL_OVERFLOW_MENU_LABEL,
                    onSelect: E,
                    children: [S, _, I, T, (0, d.default)(g, p, m)]
                })
            }
        },
        340513: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("446674"),
                s = n("77078"),
                i = n("884155"),
                r = n("316133"),
                u = n("49111"),
                o = n("782340"),
                d = n("162088");

            function c(e) {
                let {
                    channel: t
                } = e, n = (0, a.useStateFromStores)([r.default], () => r.default.getVoiceStatesForChannel(t));
                return (0, l.jsxs)("div", {
                    className: d.root,
                    children: [(0, l.jsx)(s.Text, {
                        variant: "text-xs/bold",
                        className: d.header,
                        children: o.default.Messages.CHANNEL_CALL_MEMBERS_POPOUT_HEADER.format({
                            count: n.length
                        })
                    }), (0, l.jsx)(s.Scroller, {
                        className: d.scroller,
                        children: (0, l.jsx)(i.default, {
                            allowDragging: !1,
                            allowPreviews: !1,
                            className: d.voiceUsers,
                            channel: t,
                            voiceStates: n,
                            collapsed: !1,
                            location: u.AnalyticsLocations.CHANNEL_CALL
                        })
                    })]
                })
            }
        },
        579408: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("594203"),
                i = n("701268");

            function r(e) {
                let {
                    resizableNode: t,
                    onResize: n,
                    onResizeEnd: r,
                    minHeight: u,
                    maxHeight: o
                } = e, [d, c] = a.useState(null);
                a.useEffect(() => {
                    var e, n;
                    c(null !== (n = null === (e = t.current) || void 0 === e ? void 0 : e.offsetHeight) && void 0 !== n ? n : null)
                }, [t]);
                let f = (0, s.default)({
                    initialElementDimension: d,
                    minDimension: u,
                    maxDimension: o,
                    resizableDomNodeRef: t,
                    onElementResize: n,
                    onElementResizeEnd: r,
                    orientation: s.ResizeOrientation.VERTICAL_BOTTOM
                });
                return (0, l.jsx)("div", {
                    onMouseDown: f,
                    className: i.resizeHandle
                })
            }
        },
        141681: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return x
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("458960"),
                u = n("446674"),
                o = n("266491"),
                d = n("819855"),
                c = n("77078"),
                f = n("841098"),
                h = n("471671"),
                p = n("823050"),
                m = n("99795"),
                E = n("976620"),
                C = n("173791"),
                g = n("4184");
            let S = {
                    STEPS: 23,
                    FRAME_DURATION: 17,
                    FRAME_SIZE: 26
                },
                _ = {
                    SCALE_MIN: .7,
                    SCALE_MAX: 1,
                    DURATION_IN: 300,
                    DURATION_OUT: 170,
                    EASING_IN: r.default.Easing.inOut(r.default.Easing.back()),
                    EASING_OUT: r.default.Easing.quad
                },
                I = {
                    DURATION_IN: 200,
                    DURATION_OUT: 125
                };
            class T extends a.PureComponent {
                componentDidMount() {
                    this.componentDidAppear()
                }
                componentDidAppear() {
                    let {
                        scaleAnimation: e,
                        widthAnimation: t
                    } = this;
                    e.setValue(1), t.setValue(1)
                }
                componentWillEnter(e) {
                    let {
                        scaleAnimation: t,
                        widthAnimation: n
                    } = this;
                    t.setValue(0), n.setValue(0), r.default.parallel([r.default.timing(t, {
                        toValue: 1,
                        duration: _.DURATION_IN,
                        easing: _.EASING_IN
                    }), r.default.timing(n, {
                        toValue: 1,
                        duration: 200
                    })]).start(e)
                }
                componentWillLeave(e) {
                    let {
                        scaleAnimation: t,
                        spriteAnimation: n,
                        spriteOpacity: l,
                        widthAnimation: a
                    } = this;
                    l.setValue(1), n.setValue(0);
                    let s = [];
                    for (let e = 0; e < S.STEPS; e++) s.push(r.default.timing(n, {
                        toValue: -S.FRAME_SIZE * e,
                        duration: S.FRAME_DURATION
                    }));
                    r.default.sequence([r.default.timing(t, {
                        toValue: 0,
                        duration: _.DURATION_OUT,
                        easing: _.EASING_OUT
                    }), r.default.sequence(s), r.default.timing(a, {
                        toValue: 0,
                        duration: 125
                    })]).start(e)
                }
                getScaleStyle() {
                    let {
                        scaleAnimation: e
                    } = this;
                    return r.default.accelerate({
                        transform: [{
                            scale: e.interpolate({
                                inputRange: [0, 1],
                                outputRange: [_.SCALE_MIN, _.SCALE_MAX]
                            })
                        }],
                        opacity: e
                    })
                }
                getSpriteStyle() {
                    let {
                        spriteAnimation: e,
                        spriteOpacity: t
                    } = this;
                    return {
                        backgroundPosition: e,
                        opacity: t
                    }
                }
                getWidthStyle() {
                    return {
                        width: this.widthAnimation.interpolate({
                            inputRange: [0, 1],
                            outputRange: ["0px", "".concat(this.props.width, "px")]
                        })
                    }
                }
                render() {
                    let {
                        theme: e,
                        children: t,
                        className: n
                    } = this.props, a = (0, d.isThemeDark)(e), s = i(E.sprite, {
                        [g.crossWhite]: a,
                        [g.crossGrey]: !a
                    });
                    return (0, l.jsxs)(r.default.div, {
                        className: i(E.transition, n),
                        style: this.getWidthStyle(),
                        children: [(0, l.jsx)("div", {
                            className: i(E.spriteWrapper, C.horizontal, C.justifyCenter, C.alignCenter),
                            children: (0, l.jsx)(r.default.div, {
                                className: s,
                                style: this.getSpriteStyle()
                            })
                        }), (0, l.jsx)(r.default.div, {
                            style: this.getScaleStyle(),
                            children: t
                        })]
                    })
                }
                constructor(...e) {
                    super(...e), this.scaleAnimation = new r.default.Value(0), this.spriteAnimation = new r.default.Value(0), this.spriteOpacity = new r.default.Value(0), this.widthAnimation = new r.default.Value(0)
                }
            }

            function x(e) {
                var t, n;
                let {
                    participants: a,
                    onContextMenu: s,
                    className: r,
                    onClick: d,
                    width: C,
                    guildId: g
                } = e, S = (0, f.default)();
                let _ = (t = C, n = a.length, ((0, c.getAvatarSize)(c.AvatarSizes.SIZE_80) + 16) * n > t ? c.AvatarSizes.SIZE_40 : c.AvatarSizes.SIZE_80),
                    I = (0, u.useStateFromStores)([h.default], () => h.default.isFocused()),
                    x = a.map(e => {
                        var t, n;
                        if (e.type !== m.ParticipantTypes.USER) return null;
                        let {
                            user: a,
                            voiceState: i,
                            speaking: r,
                            ringing: u
                        } = e;
                        return (0, l.jsx)(T, {
                            className: E.participant,
                            width: (0, c.getAvatarSize)(_),
                            theme: S,
                            children: (0, l.jsx)(p.default, {
                                src: a.getAvatarURL(g, (0, c.getAvatarSize)(_), r && I),
                                size: _,
                                muted: null !== (t = null == i ? void 0 : i.isVoiceMuted()) && void 0 !== t && t,
                                deafen: null !== (n = null == i ? void 0 : i.isVoiceDeafened()) && void 0 !== n && n,
                                speaking: r,
                                ringing: u,
                                onClick: t => null == d ? void 0 : d(e, t),
                                onContextMenu: t => null == s ? void 0 : s(e, t)
                            }, e.id)
                        }, a.id)
                    });
                return (0, l.jsx)(o.default, {
                    component: "div",
                    className: i(E.root, r),
                    children: x
                })
            }
        },
        198755: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                VoiceChannelEffectsLayerContainer: function() {
                    return r
                },
                VoiceChannelEffectsLayerProvider: function() {
                    return u
                },
                default: function() {
                    return o
                }
            });
            var l = n("77078");
            let {
                Layer: a,
                LayerContainer: s,
                LayerProvider: i
            } = (0, l.createLayer)("VoiceChannelEffectsCall"), r = s, u = i;
            var o = a
        },
        843624: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                VOICE_CHANNEL_STATUS_MODAL_KEY: function() {
                    return E
                },
                default: function() {
                    return C
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("77078"),
                i = n("18054"),
                r = n("850391"),
                u = n("149022"),
                o = n("681060"),
                d = n("298878"),
                c = n("145131"),
                f = n("599110"),
                h = n("49111"),
                p = n("782340"),
                m = n("447365");
            let E = "VoiceChannelStatusModal";

            function C(e) {
                var t;
                let {
                    channel: n,
                    transitionState: C,
                    onClose: g
                } = e, [S, _] = a.useState(null !== (t = n.status) && void 0 !== t ? t : ""), [I, T] = a.useState(!1), [x, N] = a.useState(null);
                a.useEffect(() => {
                    f.default.track(h.AnalyticEvents.OPEN_MODAL, {
                        type: "Voice Channel Topic Modal",
                        guild_id: n.guild_id
                    })
                }, [n.guild_id]);
                let v = async e => {
                    S === n.status && g(), null == e || e.preventDefault(), N(null), T(!0), await i.default.updateVoiceChannelStatus(n.id, S).then(e => {
                        204 === e.status ? (f.default.track(h.AnalyticEvents.VOICE_CHANNEL_TOPIC_SET, {
                            guild_id: n.guild_id,
                            channel_id: n.id
                        }), g()) : N(e.body.message)
                    }, e => {
                        N(e.body.message)
                    }), T(!1)
                }, [A, M] = a.useState((0, u.toRichValue)(S));
                return (0, l.jsx)("form", {
                    onSubmit: v,
                    className: m.form,
                    children: (0, l.jsxs)(s.ModalRoot, {
                        transitionState: C,
                        size: s.ModalSize.SMALL,
                        children: [(0, l.jsxs)(s.ModalContent, {
                            children: [(0, l.jsxs)(s.ModalHeader, {
                                align: c.default.Align.CENTER,
                                className: m.modalHeader,
                                separator: !1,
                                children: [(0, l.jsx)(s.ModalCloseButton, {
                                    className: m.closeButton,
                                    onClick: g
                                }), (0, l.jsx)("div", {
                                    className: m.headerImage
                                }), (0, l.jsxs)("div", {
                                    className: m.titleRow,
                                    children: [(0, l.jsx)(s.FormTitle, {
                                        tag: "h1",
                                        className: m.title,
                                        children: p.default.Messages.VOICE_CHANNEL_STATUS_MODAL_TITLE
                                    }), (0, l.jsx)(d.default, {
                                        className: m.betaTag
                                    })]
                                }), (0, l.jsx)(s.Text, {
                                    color: "header-secondary",
                                    variant: "text-sm/normal",
                                    children: p.default.Messages.VOICE_CHANNEL_STATUS_MODAL_SUBTITLE
                                })]
                            }), (0, l.jsxs)(s.FormSection, {
                                className: m.inputSection,
                                title: p.default.Messages.VOICE_CHANNEL_STATUS,
                                children: [(0, l.jsx)(o.default, {
                                    innerClassName: m.textArea,
                                    textValue: S,
                                    richValue: A,
                                    placeholder: p.default.Messages.VOICE_CHANNEL_STATUS_MODAL_PREFILL_CHANNEL.format({
                                        channelName: n.name
                                    }),
                                    focused: !0,
                                    channel: n,
                                    onChange: (e, t, n) => {
                                        _(t), M(n)
                                    },
                                    onSubmit: () => (v(), Promise.resolve({
                                        shouldClear: !1,
                                        shouldRefocus: !0
                                    })),
                                    type: r.ChatInputTypes.VOICE_CHANNEL_STATUS,
                                    canMentionRoles: !1,
                                    canMentionChannels: !1,
                                    allowNewLines: !1,
                                    parentModalKey: E
                                }), null != x ? (0, l.jsx)(s.FormErrorBlock, {
                                    className: m.error,
                                    children: x
                                }) : null]
                            })]
                        }), (0, l.jsxs)(s.ModalFooter, {
                            justify: c.default.Justify.BETWEEN,
                            direction: c.default.Direction.HORIZONTAL,
                            children: [(0, l.jsx)(s.Button, {
                                color: s.Button.Colors.PRIMARY,
                                onClick: g,
                                children: p.default.Messages.CANCEL
                            }), (0, l.jsx)(s.Button, {
                                onClick: v,
                                submitting: I,
                                className: m.button,
                                children: p.default.Messages.VOICE_CHANNEL_STATUS_MODAL_SET_STATUS
                            })]
                        })]
                    })
                })
            }
        },
        243288: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("446674"),
                s = n("77078"),
                i = n("255397"),
                r = n("191145"),
                u = n("782340");

            function o(e) {
                let t = (0, a.useStateFromStores)([r.default], () => r.default.getVoiceParticipantsHidden(e));
                return (0, l.jsx)(s.MenuCheckboxItem, {
                    id: "no-video-hide",
                    label: u.default.Messages.STREAM_SHOW_NON_VIDEO,
                    checked: !t,
                    action: () => i.default.toggleVoiceParticipantsHidden(e, !t)
                })
            }
        },
        888814: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("65597"),
                s = n("760679"),
                i = n("242260"),
                r = n("315841"),
                u = n("981913"),
                o = n("987772"),
                d = n("814711"),
                c = n("782340");

            function f() {
                let e = (0, a.default)([i.default], () => i.default.getDrawMode()),
                    t = (null == e ? void 0 : e.type) === r.DrawableType.LINE,
                    n = () => {
                        t ? (0, s.setDrawMode)(null) : (0, s.setDrawMode)({
                            type: r.DrawableType.LINE
                        })
                    };
                return (0, l.jsx)(d.default, {
                    renderPopout: () => null,
                    children: e => {
                        let {
                            ...a
                        } = e;
                        return (0, l.jsx)(u.default, {
                            ...a,
                            label: c.default.Messages.SHARED_CANVAS_DRAW_MODE_LINE,
                            isActive: t,
                            iconComponent: o.default,
                            onClick: n
                        })
                    }
                })
            }
        },
        943917: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("65597"),
                s = n("760679"),
                i = n("242260"),
                r = n("315841"),
                u = n("124824"),
                o = n("981913"),
                d = n("258901"),
                c = n("472037"),
                f = n("814711"),
                h = n("782340");

            function p(e) {
                let {
                    channel: t
                } = e, n = (0, a.default)([i.default], () => i.default.getDrawMode()), p = (null == n ? void 0 : n.type) === r.DrawableType.EMOJI_HOSE, m = (e, t) => {
                    null != e ? (0, s.setDrawMode)({
                        type: r.DrawableType.EMOJI_HOSE,
                        emojiName: e.name,
                        emojiId: e.id
                    }) : p && (0, s.setDrawMode)(null), null == t || t()
                };
                return (0, l.jsx)(f.default, {
                    renderPopout: e => {
                        let {
                            closePopout: n,
                            onFocus: a
                        } = e;
                        return (0, l.jsx)(u.default, {
                            children: (0, l.jsx)(d.default, {
                                title: h.default.Messages.SHARED_CANVAS_DRAW_MODE_EMOJI_HOSE,
                                channel: t,
                                closePopout: n,
                                onFocus: a,
                                onSelectEmoji: e => m(e, n)
                            })
                        })
                    },
                    children: e => (0, l.jsx)(o.default, {
                        ...e,
                        iconComponent: c.default,
                        isActive: p || e.isActive,
                        onClick: t => {
                            m(null), e.onClick(t)
                        }
                    })
                })
            }
        },
        380116: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("446674"),
                i = n("174727"),
                r = n("124824"),
                u = n("515496"),
                o = n("568088"),
                d = n("257407"),
                c = n("814711");

            function f(e) {
                let {
                    channel: t
                } = e, n = (0, s.useStateFromStores)([o.default], () => o.default.effectCooldownEndTime), f = a.useMemo(() => null != n ? (n.getTime() - Date.now()) / 1e3 : 0, [n]), {
                    seconds: h
                } = (0, i.default)(null != n ? n : new Date), p = h > 0;
                return (0, l.jsx)(c.default, {
                    renderPopout: e => {
                        let {
                            closePopout: n,
                            onFocus: a
                        } = e;
                        return (0, l.jsx)(r.default, {
                            children: (0, l.jsx)(d.default, {
                                channel: t,
                                closePopout: n,
                                onFocus: a
                            })
                        })
                    },
                    children: e => {
                        let {
                            onMouseEnter: t,
                            ...n
                        } = e;
                        return (0, l.jsx)(u.default, {
                            totalCooldownSeconds: f,
                            remainingCooldownSeconds: h,
                            onMouseEnter: e => {
                                var n, l;
                                return n = e, l = t, void(!p && l(n))
                            },
                            ...n
                        })
                    }
                })
            }
        },
        814711: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("77078"),
                i = n("788220"),
                r = n("894282"),
                u = n("186503");

            function o(e) {
                let {
                    renderPopout: t,
                    onMouseEnter: n,
                    onMouseLeave: s,
                    closePopout: i,
                    isHovered: r,
                    ...u
                } = e;
                return a.useEffect(() => {
                    !r && i()
                }, [i, r]), (0, l.jsx)("div", {
                    onMouseEnter: n,
                    onMouseLeave: s,
                    children: t({
                        closePopout: i,
                        ...u
                    })
                })
            }

            function d(e) {
                let {
                    renderPopout: t,
                    children: n
                } = e, [d, c] = a.useState(!1), {
                    isHovered: f,
                    setIsHovered: h,
                    onMouseEnter: p,
                    onMouseLeave: m,
                    cancelTimers: E
                } = (0, i.default)(200, 300);

                function C(e) {
                    "focus" !== e.type && !d && p()
                }

                function g() {
                    !d && m()
                }

                function S(e) {
                    E(), c(!d), (!f || d) && e()
                }
                let _ = f || d;
                return (0, l.jsx)(s.Popout, {
                    shouldShow: _,
                    animationPosition: "top",
                    position: "top",
                    align: "left",
                    spacing: 16,
                    onRequestClose: () => {
                        h(!1), c(!1)
                    },
                    renderPopout: e => (0, l.jsx)(o, {
                        isHovered: _,
                        onFocus: () => c(!0),
                        onMouseEnter: p,
                        onMouseLeave: g,
                        renderPopout: t,
                        ...e
                    }),
                    children: e => {
                        let {
                            onClick: t,
                            onKeyDown: a
                        } = e;
                        return (0, l.jsx)(l.Fragment, {
                            children: n({
                                onClick: e => S(() => t(e)),
                                onKeyDown: e => {
                                    var t, n;
                                    return t = e, n = a, void((t.key === r.KeyboardKeysUpdated.ENTER || t.key === r.KeyboardKeysUpdated.SPACE) && S(() => n(t)))
                                },
                                className: u.actionBarButton,
                                onMouseEnter: C,
                                onMouseLeave: g,
                                isActive: _
                            })
                        })
                    }
                })
            }
        },
        149882: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return g
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("65597"),
                s = n("151426"),
                i = n("272030"),
                r = n("235145"),
                u = n("78581"),
                o = n("429829"),
                d = n("191191"),
                c = n("244390"),
                f = n("124824"),
                h = n("981913"),
                p = n("42887"),
                m = n("754576"),
                E = n("814711"),
                C = n("782340");

            function g(e) {
                let {
                    channel: t,
                    themeable: g
                } = e, S = t.getGuildId(), {
                    mute: _,
                    suppress: I
                } = (0, c.default)(t), T = (0, a.default)([p.default], () => p.default.isDeaf()), x = _ || I || T, N = (0, u.useSoundBoardDismissContentTypes)({
                    isSoundboardButtonDisabled: x
                }), [v, A] = (0, r.useGetDismissibleContent)(N);

                function M(e) {
                    null != S && (0, i.openContextMenuLazy)(e, async () => {
                        let {
                            default: e
                        } = await n.el("136137").then(n.bind(n, "136137"));
                        return t => (0, l.jsx)(e, {
                            guildId: S,
                            ...t
                        })
                    })
                }
                return (0, l.jsx)(E.default, {
                    renderPopout: e => {
                        let {
                            closePopout: n
                        } = e;
                        return (0, l.jsx)(f.default, {
                            children: (0, l.jsx)(d.default, {
                                guildId: S,
                                channel: t,
                                onClose: n,
                                gridNotice: v === s.DismissibleContent.CUSTOM_CALL_SOUNDS_PICKER_UPSELL && (0, l.jsx)(o.CustomCallSoundUpsell, {
                                    onClose: n,
                                    markAsDismissed: A
                                }),
                                analyticsSource: "action bar button"
                            })
                        })
                    },
                    children: e => (0, l.jsx)(h.default, {
                        themeable: g,
                        label: function() {
                            if (_) return C.default.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_GUILD_MUTE;
                            if (I) return C.default.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_SUPPRESSED;
                            if (T) return C.default.Messages.SOUNDBOARD_OPEN_SOUNBOARRD_ERROR_DEAFENED
                        }(),
                        iconComponent: m.default,
                        disabled: x,
                        onContextMenu: M,
                        ...e
                    })
                })
            }
        },
        568009: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("65597"),
                s = n("760679"),
                i = n("242260"),
                r = n("981913"),
                u = n("462579"),
                o = n("814711"),
                d = n("782340");

            function c() {
                let e = (0, a.default)([i.default], () => !i.default.visibleOverlayCanvas);
                return (0, l.jsx)(o.default, {
                    renderPopout: () => null,
                    children: t => {
                        let {
                            ...n
                        } = t;
                        return (0, l.jsx)(r.default, {
                            ...n,
                            label: d.default.Messages.SHARED_CANVAS_HIDE_OVERLAY_DRAWINGS,
                            isActive: e,
                            iconComponent: u.default,
                            onClick: s.toggleOverlayCanvas
                        })
                    }
                })
            }
        },
        636150: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return S
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("627445"),
                s = n.n(a),
                i = n("446674"),
                r = n("261552"),
                u = n("780166"),
                o = n("245463"),
                d = n("697218"),
                c = n("991170"),
                f = n("888814"),
                h = n("943917"),
                p = n("380116"),
                m = n("149882"),
                E = n("568009"),
                C = n("49111"),
                g = n("621262");

            function S(e) {
                var t;
                let {
                    channel: n,
                    hasActiveStream: a,
                    themeable: S = !1
                } = e, _ = (0, i.useStateFromStores)([d.default], () => {
                    let e = d.default.getCurrentUser();
                    return s(null != e, "CenterControlTray: currentUser cannot be undefined"), e
                }), I = (0, r.default)(), {
                    isSharedCanvasEnabled: T
                } = u.default.useExperiment({
                    guildId: null !== (t = null == n ? void 0 : n.guild_id) && void 0 !== t ? t : "",
                    location: "b7309a_1"
                });
                if (null == n || null != I) return null;
                let x = (0, o.default)(n),
                    N = c.default.can({
                        permission: C.Permissions.ADD_REACTIONS,
                        user: _,
                        context: n
                    });
                return (0, l.jsxs)("div", {
                    className: g.voiceEffectsActionBar,
                    children: [x && (0, l.jsx)(m.default, {
                        channel: n,
                        themeable: S
                    }), N && (0, l.jsx)(p.default, {
                        channel: n
                    }), T && a && (0, l.jsx)(f.default, {}), T && a && (0, l.jsx)(h.default, {
                        channel: n
                    }), T && a && (0, l.jsx)(E.default, {})]
                })
            }
        },
        533466: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return e1
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("627445"),
                u = n.n(r),
                o = n("917351"),
                d = n.n(o),
                c = n("90915"),
                f = n("446674"),
                h = n("151426"),
                p = n("551042"),
                m = n("77078"),
                E = n("272030"),
                C = n("942722"),
                g = n("561963"),
                S = n("264732"),
                _ = n("738073"),
                I = n("737960"),
                T = n("789394"),
                x = n("734575"),
                N = n("84339"),
                v = n("447789"),
                A = n("191225"),
                M = n("169920"),
                R = n("420444"),
                L = n("191145"),
                j = n("494286"),
                O = n("850391"),
                y = n("992207"),
                P = n("269936"),
                D = n("69927"),
                b = n("40635"),
                U = n("10641"),
                w = n("327432"),
                F = n("336804"),
                G = n("928265"),
                B = n("744568"),
                k = n("257869"),
                H = n("848848"),
                V = n("93252"),
                W = n("661455"),
                Y = n("230035"),
                z = n("155832"),
                K = n("353054"),
                Z = n("262956"),
                X = n("723431"),
                q = n("977983"),
                Q = n("539938"),
                J = n("557809"),
                $ = n("853189"),
                ee = n("718091"),
                et = n("922164"),
                en = n("148205"),
                el = n("969103"),
                ea = n("361572"),
                es = n("267567"),
                ei = n("393414"),
                er = n("144491"),
                eu = n("56778"),
                eo = n("208021"),
                ed = n("582713"),
                ec = n("716214"),
                ef = n("58343"),
                eh = n("445375"),
                ep = n("38861"),
                em = n("31673"),
                eE = n("338273"),
                eC = n("861570"),
                eg = n("970366"),
                eS = n("401642"),
                e_ = n("514917"),
                eI = n("223170"),
                eT = n("59811"),
                ex = n("824135"),
                eN = n("982108"),
                ev = n("42203"),
                eA = n("474643"),
                eM = n("341542"),
                eR = n("247013"),
                eL = n("305961"),
                ej = n("824563"),
                eO = n("744983"),
                ey = n("18494"),
                eP = n("697218"),
                eD = n("800762"),
                eb = n("980423"),
                eU = n("439932"),
                ew = n("679653"),
                eF = n("176347"),
                eG = n("665182"),
                eB = n("681393"),
                ek = n("61918"),
                eH = n("656612"),
                eV = n("624027"),
                eW = n("49111"),
                eY = n("272505"),
                ez = n("99795"),
                eK = n("994428"),
                eZ = n("237542"),
                eX = n("837979"),
                eq = n("782340"),
                eQ = n("305794");
            let eJ = (0, P.makeLazy)({
                createPromise: () => n.el("479273").then(n.bind(n, "479273")),
                webpackId: "479273",
                renderLoader: () => (0, l.jsx)("div", {
                    className: eQ.loader,
                    children: (0, l.jsx)(m.Spinner, {})
                }),
                name: "ForumChannel"
            });
            class e$ extends a.PureComponent {
                componentDidMount() {
                    (0, eg.trackAppUIViewed)("guild_channel")
                }
                componentDidUpdate(e) {
                    null != this.props.channel && null != e.channel && this.props.channel.id !== e.channel.id && this.state.topicExpanded && this.setState({
                        topicExpanded: !1
                    }), this.openChannelModal()
                }
                openChannelContextMenu(e, t) {
                    let {
                        guild: a
                    } = this.props;
                    u(null != t, "Missing channel in Channel.openChannelContextMenu"), u(null != a, "Missing guild in Channel.openChannelContextMenu"), (0, E.openContextMenuLazy)(e, async () => {
                        let {
                            default: e
                        } = await n.el("229233").then(n.bind(n, "229233"));
                        return n => (0, l.jsx)(e, {
                            ...n,
                            channel: t,
                            guild: a
                        })
                    })
                }
                openThreadContextMenu(e, t) {
                    u(null != t, "Missing channel in Channel.openChannelContextMenu"), (0, E.openContextMenuLazy)(e, async () => {
                        let {
                            default: e
                        } = await n.el("994827").then(n.bind(n, "994827"));
                        return n => (0, l.jsx)(e, {
                            ...n,
                            channel: t
                        })
                    })
                }
                openDMContextMenu(e, t) {
                    u(null != t, "Missing channel in Channel.openDMContextMenu");
                    let a = eP.default.getUser(t.getRecipientId());
                    u(null != a, "Missing user in Channel.openDMContextMenu"), (0, E.openContextMenuLazy)(e, async () => {
                        let {
                            default: e
                        } = await n.el("130074").then(n.bind(n, "130074"));
                        return n => (0, l.jsx)(e, {
                            ...n,
                            user: a,
                            channelSelected: !0,
                            channel: t
                        })
                    })
                }
                renderCall() {
                    let {
                        channel: e,
                        showCall: t,
                        nsfwAllowed: n,
                        nsfwAgree: a
                    } = this.props;
                    if (u(null != e, "Missing channel in Channel.renderCall"), (null == e ? void 0 : e.isNSFW()) && (!n || !a) || !t) return null;
                    switch (e.type) {
                        case eW.ChannelTypes.GUILD_STAGE_VOICE:
                            return (0, l.jsx)(ef.default, {
                                channel: e
                            }, e.id);
                        case eW.ChannelTypes.GUILD_VOICE:
                        case eW.ChannelTypes.DM:
                        case eW.ChannelTypes.GROUP_DM:
                        case eW.ChannelTypes.PUBLIC_THREAD:
                        case eW.ChannelTypes.PRIVATE_THREAD:
                            let s = this.props.height - 200;
                            return (0, l.jsx)(j.default, {
                                channel: e,
                                renderExternalHeader: this.renderHeaderBar,
                                maxHeight: s
                            }, "call-".concat(e.id));
                        default:
                            return null
                    }
                }
                renderEmbeddedActivityPanel() {
                    let e = this.props.height - 200;
                    return (0, l.jsx)(M.default, {
                        maxHeight: e
                    })
                }
                renderChat() {
                    let {
                        channel: e,
                        nsfwAgree: t,
                        guild: n,
                        nsfwAllowed: a,
                        needSubscriptionToAccess: s
                    } = this.props;
                    if (u(null != e, "Missing channel in Channel.renderChat"), s) return (u(null != n, "premium channels must exist within a guild"), null == e ? void 0 : e.isRoleSubscriptionTemplatePreviewChannel()) ? (0, l.jsx)(V.default, {
                        guildId: n.id
                    }) : (0, l.jsx)(k.GroupListingsFetchContextProvider, {
                        guildId: n.id,
                        children: (0, l.jsx)(W.default, {
                            channelId: e.id,
                            guildId: n.id
                        })
                    });
                    if (e.isNSFW() && (!a || !t)) return (0, l.jsx)(_.default, {
                        guild: n
                    });
                    if (e.isGuildVocal()) return null;
                    if (e.isDirectory()) return u(null != n, "directory channels must exist within a guild"), (0, l.jsx)(b.default, {
                        channel: e,
                        guild: n
                    });
                    if (e.isForumLikeChannel()) {
                        u(null != n, "forum channels must exist within a guild");
                        let t = {
                            isThreadSidebarFloating: this.state.isThreadSidebarFloating,
                            threadSidebarWidth: this.state.threadSidebarWidth
                        };
                        return (0, l.jsx)(eJ, {
                            channel: e,
                            guild: n,
                            sidebarState: t
                        }, e.id)
                    }
                    return (0, l.jsx)(eF.default, {
                        channel: e,
                        guild: n,
                        chatInputType: O.ChatInputTypes.NORMAL
                    }, null != n ? n.id : "home")
                }
                renderSidebar() {
                    let {
                        searchId: e,
                        channel: t,
                        parentChannel: n,
                        guild: a,
                        needSubscriptionToAccess: s,
                        section: i,
                        showCall: r
                    } = this.props;
                    if (u(null != t, "Missing channel in Channel.renderSidebar"), __OVERLAY__ || s);
                    else if (i === eW.ChannelSections.PROFILE && t.isPrivate()) return (0, l.jsx)(e_.default, {
                        channel: t,
                        showCall: r
                    }, "private-channel-profile-".concat(t.id));
                    else if (i === eW.ChannelSections.MEMBERS) switch (t.type) {
                        case eW.ChannelTypes.GROUP_DM:
                            return (0, l.jsx)(C.default, {
                                channel: t
                            }, "private-channel-recipients-".concat(t.id));
                        case eW.ChannelTypes.GUILD_DIRECTORY:
                        case eW.ChannelTypes.GUILD_FORUM:
                        case eW.ChannelTypes.GUILD_MEDIA:
                        case eW.ChannelTypes.GUILD_ANNOUNCEMENT:
                        case eW.ChannelTypes.GUILD_TEXT:
                            var o;
                            let d = !0 === eW.ChannelTypesSets.GUILD_THREADS_ONLY.has(t.type) ? t.id : null !== (o = t.guild_id) && void 0 !== o ? o : t.id;
                            return (0, l.jsx)(ek.default, {
                                channel: t
                            }, "channel-members-".concat(d));
                        case eW.ChannelTypes.ANNOUNCEMENT_THREAD:
                            if (null != n) return (0, l.jsx)(ek.default, {
                                channel: n
                            }, "channel-members-".concat(n.id));
                            break;
                        case eW.ChannelTypes.PUBLIC_THREAD:
                        case eW.ChannelTypes.PRIVATE_THREAD:
                            if (!t.isArchivedThread() && null != a) return (0, l.jsx)(g.default, {
                                channel: t,
                                guild: a
                            }, "channel-members-".concat(t.id))
                    } else if (i === eW.ChannelSections.SEARCH && null != e) return (0, l.jsx)(eu.default, {
                        searchId: e
                    });
                    return null
                }
                openChannelModal() {
                    let {
                        channel: e,
                        guildId: t,
                        hasModalOpen: a,
                        showWelcomeModal: s,
                        isLurking: i,
                        isUnavailable: r,
                        showRealNameModal: u
                    } = this.props;
                    return null == e || null == t || r || a ? null : (u && (0, m.openModalLazy)(async () => {
                        let {
                            default: e
                        } = await n.el("278999").then(n.bind(n, "278999"));
                        return n => (0, l.jsx)(e, {
                            ...n,
                            guildId: t
                        })
                    }, {
                        onCloseCallback: () => G.default.viewPrompt(eZ.GuildPrompts.REAL_NAME_PROMPT, t),
                        modalKey: "Guild Hub Real Name Modal"
                    }), s && (0, m.openModalLazy)(async () => {
                        let {
                            default: e
                        } = await n.el("900257").then(n.bind(n, "900257"));
                        return n => (0, l.jsx)(e, {
                            ...n,
                            guildId: t
                        })
                    }, {
                        onCloseCallback: () => (0, eI.welcomeScreenViewed)(t, i),
                        modalKey: "Guild Welcome Screen Modal"
                    }), null)
                }
                renderThreadSidebar() {
                    let e;
                    let {
                        channel: t,
                        section: n,
                        channelSidebarState: a,
                        guildSidebarState: s,
                        nsfwAgree: i,
                        nsfwAllowed: r,
                        width: u
                    } = this.props;
                    if (null == s && null == a) return null;
                    if (n === eW.ChannelSections.SIDEBAR_CHAT && null != a) {
                        if ((null == t ? void 0 : t.isNSFW()) && (!r || !i)) return null;
                        switch (a.type) {
                            case ed.SidebarType.CREATE_THREAD:
                                if (null == t ? void 0 : t.isForumLikeChannel()) return null;
                                e = (0, l.jsx)(eh.default, {
                                    parentChannelId: a.parentChannelId,
                                    parentMessageId: a.parentMessageId,
                                    location: a.location
                                });
                                break;
                            case ed.SidebarType.VIEW_THREAD:
                                let n = (null == t ? void 0 : t.isForumLikeChannel()) ? w.default : eC.default;
                                e = (0, l.jsx)(n, {
                                    channelId: a.channelId
                                });
                                break;
                            case ed.SidebarType.VIEW_CHANNEL:
                            case ed.SidebarType.VIEW_MESSAGE_REQUEST:
                            default:
                                return null
                        }
                    }
                    if (null != s && null == e) {
                        if (s.type === ed.GuildSidebarType.GUILD_MEMBER_MOD_VIEW) {
                            let {
                                guildId: e,
                                userId: t
                            } = s.details;
                            return (0, l.jsx)("div", {
                                style: {
                                    width: eW.DEFAULT_CHAT_SIDEBAR_WIDTH
                                },
                                children: (0, l.jsx)(B.default, {
                                    guildId: e,
                                    userId: t,
                                    onClose: () => eo.default.closeGuildSidebar(e)
                                })
                            })
                        } else return null
                    }
                    if (null == e) return null;
                    let o = (null == t ? void 0 : t.type) != null && eW.ChannelTypesSets.GUILD_THREADS_ONLY.has(t.type) ? 528 : 450,
                        d = u - eW.CHANNEL_SIDEBAR_WIDTH - o;
                    return (0, l.jsx)(eG.default, {
                        sidebarType: (null == t ? void 0 : t.type) != null && eW.ChannelTypesSets.GUILD_THREADS_ONLY.has(t.type) ? eG.ChatSidebarType.PostSidebar : eG.ChatSidebarType.ThreadSidebar,
                        maxWidth: d,
                        onWidthChange: this.handleThreadSidebarResize,
                        children: e
                    })
                }
                render() {
                    let {
                        channel: e,
                        guild: t,
                        formattedChannelName: n,
                        showCall: a,
                        isUnavailable: s,
                        layout: r,
                        section: u,
                        hasModalOpen: o,
                        guildSidebarState: d
                    } = this.props, {
                        threadSidebarWidth: c,
                        isThreadSidebarFloating: f
                    } = this.state;
                    if (s) return (0, l.jsx)(eH.default, {});
                    if (null == e) return (0, l.jsx)(eV.default, {
                        channelId: this.props.channelId
                    });
                    let h = u === eW.ChannelSections.SIDEBAR_CHAT,
                        p = !e.isForumLikeChannel() && !o,
                        m = null == t ? void 0 : t.name;
                    return (0, l.jsxs)(l.Fragment, {
                        children: [(0, l.jsx)(D.AppPageTitle, {
                            location: m,
                            subsection: null != n ? n : void 0
                        }), (0, l.jsxs)("div", {
                            className: i(eQ.chat, {
                                [eQ.threadSidebarOpen]: h || null != d && !h,
                                [eQ.threadSidebarFloating]: h && f
                            }),
                            children: [p ? (0, l.jsx)(S.default, {
                                style: {
                                    right: h ? c : void 0
                                },
                                className: eQ.uploadArea,
                                channel: e,
                                draftType: eA.DraftType.ChannelMessage
                            }) : null, a ? null : this.renderHeaderBar(), this.renderCall(), this.renderEmbeddedActivityPanel(), (0, l.jsxs)("div", {
                                className: i(eQ.content, {
                                    [eQ.noChat]: r === eW.ChannelLayouts.NO_CHAT
                                }),
                                children: [(0, l.jsx)(eB.default, {
                                    children: this.renderChat()
                                }), this.renderSidebar()]
                            })]
                        }), this.renderThreadSidebar(), (0, l.jsx)(Y.default, {})]
                    })
                }
                constructor(...e) {
                    super(...e), this.state = {
                        topicExpanded: !1,
                        threadSidebarWidth: void 0,
                        isThreadSidebarFloating: !1
                    }, this.handleTitleParentClick = () => {
                        let {
                            parentChannel: e
                        } = this.props;
                        null != e && (0, er.transitionToChannel)(e.id)
                    }, this._handleContextMenu = (e, t) => {
                        switch (t.type) {
                            case eW.ChannelTypes.GUILD_VOICE:
                            case eW.ChannelTypes.GUILD_ANNOUNCEMENT:
                            case eW.ChannelTypes.GUILD_TEXT:
                            case eW.ChannelTypes.GUILD_FORUM:
                            case eW.ChannelTypes.GUILD_MEDIA:
                                this.openChannelContextMenu(e, t);
                                break;
                            case eW.ChannelTypes.ANNOUNCEMENT_THREAD:
                            case eW.ChannelTypes.PUBLIC_THREAD:
                            case eW.ChannelTypes.PRIVATE_THREAD:
                                this.openThreadContextMenu(e, t);
                                break;
                            case eW.ChannelTypes.DM:
                                this.openDMContextMenu(e, t)
                        }
                    }, this.handleContextMenu = e => {
                        u(null != this.props.channel, "Missing channel in Channel.handleContextMenu"), this._handleContextMenu(e, this.props.channel)
                    }, this.handleParentContextMenu = e => {
                        u(null != this.props.parentChannel, "Missing parentChannel in Channel.handleParentContextMenu"), this._handleContextMenu(e, this.props.parentChannel)
                    }, this.handleThreadSidebarResize = (e, t) => {
                        this.setState({
                            threadSidebarWidth: e,
                            isThreadSidebarFloating: t
                        })
                    }, this.openUserProfile = () => {
                        let {
                            channel: e
                        } = this.props;
                        u(null == e ? void 0 : e.isPrivate(), "Missing private channel in Channel.openUserProfile"), (0, eS.openUserProfileModal)({
                            userId: e.getRecipientId(),
                            guildId: e.guild_id,
                            channelId: e.id,
                            analyticsLocation: {
                                section: eW.AnalyticsSections.CHANNEL_HEADER
                            }
                        })
                    }, this.renderClipsEnabledIndicatorToolbarItem = () => {
                        let {
                            inCall: e,
                            voiceChannel: t
                        } = this.props;
                        return e ? (0, l.jsx)(y.default, {
                            channelId: null != t ? t.id : null
                        }) : null
                    }, this.renderStreamQualityLiveIndicatorToolbarItem = () => {
                        let {
                            selectedParticipant: e
                        } = this.props;
                        return (null == e ? void 0 : e.type) !== ez.ParticipantTypes.STREAM ? null : (0, l.jsx)(F.default, {
                            size: eb.default.Sizes.LARGE,
                            participant: e,
                            showQuality: !0
                        }, "live-indicator")
                    }, this.renderHeaderToolbar = () => {
                        let {
                            channel: e,
                            parentChannel: t,
                            isLurking: n,
                            showCall: a
                        } = this.props;
                        u(null != e, "Missing channel in Channel.renderHeaderToolbar");
                        let s = [];
                        if (e.isSystemDM()) return s;
                        switch (e.type) {
                            case eW.ChannelTypes.GUILD_STAGE_VOICE:
                            case eW.ChannelTypes.GUILD_VOICE:
                                break;
                            case eW.ChannelTypes.DM:
                                s.push(this.renderClipsEnabledIndicatorToolbarItem()), s.push(this.renderStreamQualityLiveIndicatorToolbarItem()), s.push((0, l.jsx)($.default, {
                                    channel: e
                                }, "calls")), s.push((0, l.jsx)(Z.default, {
                                    channel: e
                                }, "pins")), s.push((0, l.jsx)(ee.default, {
                                    channel: e,
                                    tooltip: eq.default.Messages.GROUP_DM_ADD_FRIENDS
                                }, "invite")), s.push((0, l.jsx)(et.default, {
                                    channel: e,
                                    showCall: a
                                }, "profile"));
                                break;
                            case eW.ChannelTypes.GROUP_DM:
                                if (s.push(this.renderClipsEnabledIndicatorToolbarItem()), s.push(this.renderStreamQualityLiveIndicatorToolbarItem()), s.push((0, l.jsx)($.default, {
                                        channel: e
                                    }, "calls")), s.push((0, l.jsx)(Z.default, {
                                        channel: e
                                    }, "pins")), !e.isManaged()) {
                                    let t = eq.default.Messages.GROUP_DM_ADD_FRIENDS;
                                    s.push((0, l.jsx)(ee.default, {
                                        channel: e,
                                        tooltip: t
                                    }, "invite"))
                                }
                                s.push((0, l.jsx)(z.default, {
                                    channelId: e.id
                                }, "members"));
                                break;
                            case eW.ChannelTypes.ANNOUNCEMENT_THREAD:
                            case eW.ChannelTypes.PRIVATE_THREAD:
                            case eW.ChannelTypes.PUBLIC_THREAD:
                                null != t && !t.isForumLikeChannel() && s.push((0, l.jsx)(ep.default, {
                                    channel: t
                                }, "browser")), e.isVocalThread() && s.push((0, l.jsx)(en.default, {
                                    channel: e
                                }, "thread-call")), s.push((0, l.jsx)(em.default, {
                                    channel: e
                                }, "notifications")), s.push((0, l.jsx)(Z.default, {
                                    channel: e
                                }, "pins")), !e.isArchivedThread() && s.push((0, l.jsx)(z.default, {
                                    channelId: e.id
                                }, "members")), null != t && (0, x.canSeeChannelSummaries)(e) && s.push((0, l.jsx)(X.default, {
                                    channel: e
                                }, "summaries")), s.push((0, l.jsx)(eE.default, {
                                    channel: e
                                }, "threads-overflow"));
                                break;
                            case eW.ChannelTypes.GUILD_ANNOUNCEMENT:
                            case eW.ChannelTypes.GUILD_TEXT:
                                s.push((0, l.jsx)(ep.default, {
                                    channel: e
                                }, "browser")), !n && s.push((0, l.jsx)(K.default, {
                                    channel: e
                                }, "notifications")), s.push((0, l.jsx)(Z.default, {
                                    channel: e
                                }, "pins")), s.push((0, l.jsx)(z.default, {
                                    channelId: e.id
                                }, "members")), (0, x.canSeeChannelSummaries)(e) && s.push((0, l.jsx)(X.default, {
                                    channel: e
                                }, "summaries"));
                                break;
                            case eW.ChannelTypes.GUILD_FORUM:
                            case eW.ChannelTypes.GUILD_MEDIA:
                                !n && (s.push((0, l.jsx)(q.default, {
                                    channel: e
                                }, "forum-onboarding")), s.push((0, l.jsx)(K.default, {
                                    channel: e
                                }, "notifications"))), !__OVERLAY__ && s.push((0, l.jsx)(z.default, {
                                    channelId: e.id
                                }, "members"));
                                break;
                            case eW.ChannelTypes.GUILD_DIRECTORY:
                                s.push((0, l.jsx)(z.default, {
                                    channelId: e.id
                                }, "members"))
                        }
                        return s
                    }, this.renderMobileToolbar = () => {
                        let {
                            channel: e
                        } = this.props;
                        u(null != e, "Missing channel in Channel.renderHeaderToolbar");
                        let t = [];
                        if (e.isSystemDM()) return t;
                        switch (e.type) {
                            case eW.ChannelTypes.GUILD_STAGE_VOICE:
                            case eW.ChannelTypes.GUILD_VOICE:
                            case eW.ChannelTypes.DM:
                                break;
                            case eW.ChannelTypes.GROUP_DM:
                                t.push((0, l.jsx)(z.default, {
                                    channelId: e.id
                                }, "members"));
                                break;
                            case eW.ChannelTypes.ANNOUNCEMENT_THREAD:
                            case eW.ChannelTypes.PRIVATE_THREAD:
                            case eW.ChannelTypes.PUBLIC_THREAD:
                                !e.isArchivedThread() && t.push((0, l.jsx)(z.default, {
                                    channelId: e.id
                                }, "members"));
                                break;
                            case eW.ChannelTypes.GUILD_ANNOUNCEMENT:
                            case eW.ChannelTypes.GUILD_TEXT:
                            case eW.ChannelTypes.GUILD_FORUM:
                            case eW.ChannelTypes.GUILD_MEDIA:
                            case eW.ChannelTypes.GUILD_DIRECTORY:
                                t.push((0, l.jsx)(z.default, {
                                    channelId: e.id
                                }, "members"))
                        }
                        return t
                    }, this.renderFollowButton = () => {
                        let {
                            showFollowButton: e,
                            channel: t
                        } = this.props;
                        return e ? (0, l.jsx)(m.Button, {
                            size: m.Button.Sizes.MIN,
                            color: m.Button.Colors.PRIMARY,
                            className: eQ.followButton,
                            onClick: () => (0, m.openModalLazy)(async () => {
                                let {
                                    default: e
                                } = await n.el("996177").then(n.bind(n, "996177"));
                                return n => (0, l.jsx)(e, {
                                    channel: t,
                                    ...n
                                })
                            }),
                            children: eq.default.Messages.FOLLOW
                        }) : null
                    }, this.renderHeaderBar = () => {
                        let {
                            channel: e,
                            channelName: t,
                            parentChannel: n,
                            guild: a,
                            guildId: s,
                            showCall: r,
                            hasVideo: o,
                            channelEmojiLeftOfIcon: d
                        } = this.props;
                        u(null != e, "Missing channel in Channel.renderHeaderBar"), u(null != t, "Should not be null if channel is not null.");
                        let c = e.isDM() && !e.isSystemDM() ? this.openUserProfile : void 0,
                            f = (null == n ? void 0 : n.guild_id) != null && (null == n ? void 0 : n.id) != null ? this.handleTitleParentClick : void 0;
                        return (0, l.jsxs)(Q.default, {
                            guildId: s,
                            channelId: e.id,
                            channelType: e.type,
                            hideSearch: e.isDirectory(),
                            toolbar: this.renderHeaderToolbar(),
                            mobileToolbar: this.renderMobileToolbar(),
                            className: i(eQ.title, o && r ? (0, eU.getThemeClass)(eW.ThemeTypes.DARK) : null),
                            transparent: r,
                            "aria-label": eq.default.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL,
                            children: [(0, J.renderTitle)({
                                channel: e,
                                channelName: t,
                                parentChannel: n,
                                guild: a,
                                hasVideo: o,
                                handleContextMenu: this.handleContextMenu,
                                handleParentContextMenu: this.handleParentContextMenu,
                                handleClick: c,
                                handleParentClick: f,
                                renderFollowButton: this.renderFollowButton,
                                channelEmojiLeftOfIcon: d
                            }), (0, l.jsx)(J.HeaderGuildBreadcrumb, {
                                channel: e,
                                guild: a
                            }), (0, J.renderTopic)(e, a)]
                        }, "header-".concat(e.id))
                    }
                }
            }
            let e0 = (0, I.default)(e$);
            var e1 = a.memo(function(e) {
                var t, n;
                let {
                    providedChannel: s
                } = e, [i, r] = a.useState(null), u = (0, f.useStateFromStores)([ey.default], () => ey.default.getChannelId()), o = (0, f.useStateFromStores)([ey.default], () => ey.default.getVoiceChannelId()), m = (0, f.useStateFromStores)([ev.default], () => null != s ? s : ev.default.getChannel(u), [u, s]), E = (0, f.useStateFromStores)([ev.default], () => ev.default.getChannel(o), [o]), C = null == m ? void 0 : m.parent_id, g = (0, f.useStateFromStores)([ev.default], () => ev.default.getChannel(C), [C]), S = (0, f.useStateFromStores)([eL.default], () => eL.default.getGuild(null == m ? void 0 : m.guild_id), [m]), {
                    needSubscriptionToAccess: _
                } = (0, H.default)(null !== (t = null == m ? void 0 : m.id) && void 0 !== t ? t : void 0), I = (0, f.useStateFromStores)([L.default], () => {
                    let e = null != u ? L.default.getParticipants(u) : [],
                        t = null != u ? L.default.getActivityParticipants(u) : [];
                    return e.length - t.length > 0
                }, [u]), M = (0, f.useStateFromStores)([A.default], () => A.default.getSelfEmbeddedActivityForChannel(null !== (n = null == m ? void 0 : m.id) && void 0 !== n ? n : "")), j = (0, f.useStateFromStores)([A.default], () => A.default.getActivityPanelMode()), O = null != M && !(0, R.default)(null == m ? void 0 : m.id) && j === eY.ActivityPanelModes.PANEL, y = (0, f.useStateFromStores)([eD.default], () => null != m && m.isVocalThread() && !d.isEmpty(eD.default.getVoiceStatesForChannel(m.id)), [m]), P = (null == m ? void 0 : m.isGuildVocal()) || O || I || y, {
                    welcomeModalChannelId: D
                } = (0, c.useLocation)(), b = (0, f.useStateFromStores)([es.default], () => null != m && es.default.isLurking(m.guild_id), [m]), w = (0, f.useStateFromStores)([eT.default], () => eT.default.hasSeen(null == m ? void 0 : m.guild_id, b), [m, b]), F = (0, f.useStateFromStores)([L.default], () => null != u ? L.default.getLayout(u) : eW.ChannelLayouts.NORMAL, [u]), G = (0, f.useStateFromStores)([L.default], () => null != m ? L.default.getSelectedParticipant(m.id) : null), B = (0, f.useStateFromStores)([eP.default], () => eP.default.getCurrentUser()), k = (0, el.default)(S), V = (0, ex.default)(D, null == S ? void 0 : S.id), {
                    section: W,
                    channelSidebarState: Y
                } = (0, f.useStateFromStoresObject)([eN.default], () => ({
                    section: eN.default.getSection(u, null == m ? void 0 : m.isDM()),
                    channelSidebarState: eN.default.getSidebarState(u)
                }), [u, m]), z = null == S ? void 0 : S.id, K = (0, f.useStateFromStores)([eN.default], () => eN.default.getGuildSidebarState(z), [z]), Z = (0, ew.default)(m), X = (0, ew.default)(m, !0), q = null != m && o === m.id, Q = null != m && m.isGuildStageVoice();
                a.useEffect(() => {
                    var e, t, n;
                    let l = (0, ei.getHistory)();
                    if ((null == l ? void 0 : null === (e = l.location) || void 0 === e ? void 0 : e.state) === eX.STAGE_INVITE_STATE_KEY) {
                        let {
                            channelId: e
                        } = null !== (n = (0, ea.tryParseChannelPath)(null == l ? void 0 : null === (t = l.location) || void 0 === t ? void 0 : t.pathname)) && void 0 !== n ? n : {};
                        null != e && r(e)
                    }
                }, []), a.useEffect(() => {
                    null != i && null != m && Q && m.id === i && !q && ((0, ec.connectAndOpen)(m), r(null))
                }, [i, Q]);
                let J = (0, x.useChannelSummariesExperiment)(m);
                a.useEffect(() => {
                    null != m && m.isPrivate() && v.ActivitiesInGdmExperiment.trackExposure({
                        location: "781dc9_1"
                    })
                }, [m]);
                let $ = null != m && m.isPrivate(),
                    ee = (0, N.default)($),
                    et = (0, N.default)(null == m ? void 0 : m.id);
                a.useEffect(() => {
                    let e = ee && !$,
                        t = ee && $ && (null == m ? void 0 : m.id) !== et;
                    (e || t) && (0, U.markDismissibleContentAsDismissed)(h.DismissibleContent.ACTIVITY_GDM_CALL_TOOLTIP, {
                        dismissAction: eK.ContentDismissActionType.AUTO
                    })
                }, [null == m ? void 0 : m.id, et, $, ee]);
                let {
                    left: en
                } = T.ChannelEmojisExperiment.useExperiment({
                    location: "781dc9_2"
                }, {
                    autoTrackExposure: !1
                }), er = (0, p.useHasAnyModalOpen)();
                return (0, l.jsx)(e0, {
                    guildId: null == m ? void 0 : m.guild_id,
                    channelId: u,
                    channel: m,
                    channelName: Z,
                    formattedChannelName: X,
                    parentChannel: g,
                    voiceChannel: E,
                    layout: F,
                    needSubscriptionToAccess: _,
                    isLurking: b,
                    hasModalOpen: er,
                    section: W,
                    channelSidebarState: Y,
                    guildSidebarState: K,
                    guild: S,
                    searchId: (0, f.useStateFromStores)([eO.default], () => eO.default.getCurrentSearchId()),
                    showCall: !_ && P,
                    nsfwAgree: (0, f.useStateFromStores)([eR.default], () => eR.default.didAgree(null == m ? void 0 : m.guild_id)),
                    isMobile: (0, f.useStateFromStores)([ej.default], () => (null == m ? void 0 : m.type) === eW.ChannelTypes.DM && ej.default.isMobileOnline(m.getRecipientId()), [m]),
                    isUnavailable: (0, f.useStateFromStores)([eM.default], () => (null == m ? void 0 : m.guild_id) != null && eM.default.isUnavailable(m.guild_id), [m]),
                    showRealNameModal: k,
                    showWelcomeModal: !w && V,
                    showFollowButton: (null == m ? void 0 : m.type) === eW.ChannelTypes.GUILD_ANNOUNCEMENT && (null == S ? void 0 : S.hasFeature(eW.GuildFeatures.NEWS)) || !1,
                    ...(0, f.useStateFromStoresObject)([eD.default], () => ({
                        hasVideo: null != m && eD.default.hasVideo(m.id)
                    }), [m]),
                    inCall: q,
                    selectedParticipant: G,
                    nsfwAllowed: (null == B ? void 0 : B.nsfwAllowed) === !0,
                    showChannelSummaries: J,
                    channelEmojiLeftOfIcon: en
                })
            })
        },
        681393: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("757245"),
                s = n("703648");

            function i(e) {
                let {
                    children: t
                } = e;
                return (0, l.jsxs)("div", {
                    className: s.container,
                    children: [(0, l.jsx)("div", {
                        className: s.chatContainer,
                        children: t
                    }), (0, l.jsx)("div", {
                        className: s.overlayContainer,
                        children: (0, l.jsx)("div", {
                            className: s.activityActionBarContainer,
                            children: (0, l.jsx)(a.default, {})
                        })
                    })]
                })
            }
        },
        61918: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return X
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("917351"),
                u = n.n(r),
                o = n("974667"),
                d = n("394846"),
                c = n("446674"),
                f = n("233736"),
                h = n("77078"),
                p = n("272030"),
                m = n("666020"),
                E = n("352674"),
                C = n("888503"),
                g = n("206230"),
                S = n("716241"),
                _ = n("521803"),
                I = n("95039"),
                T = n("405645"),
                x = n("12896"),
                N = n("506885"),
                v = n("981601"),
                A = n("19766"),
                M = n("305961"),
                R = n("191542"),
                L = n("697218"),
                j = n("476765"),
                O = n("826684"),
                y = n("483093"),
                P = n("659500"),
                D = n("449008"),
                b = n("158998"),
                U = n("50885"),
                w = n("49111"),
                F = n("782340"),
                G = n("881235");
            let B = U.default.getEnableHardwareAcceleration(),
                k = 44 + C.AVATAR_DECORATION_PADDING,
                H = {
                    origin: {
                        x: 38,
                        y: 11
                    },
                    targetWidth: 232,
                    targetHeight: 40,
                    offset: {
                        x: 0,
                        y: 0
                    }
                };
            class V extends a.Component {
                shouldComponentUpdate(e) {
                    return !(0, f.default)(this.props, e, ["channelId"])
                }
                render() {
                    let {
                        colorString: e,
                        colorRoleName: t,
                        isOwner: n,
                        nick: a,
                        user: s,
                        currentUser: i,
                        activities: r,
                        applicationStream: u,
                        status: o,
                        channel: c,
                        guildId: f,
                        isTyping: p,
                        isMobileOnline: m,
                        premiumSince: E,
                        ...g
                    } = this.props, S = null != E ? new Date(E) : null;
                    return (0, l.jsx)(h.Popout, {
                        preload: () => (0, N.default)(s.id, s.getAvatarURL(f, 80), {
                            guildId: f,
                            channelId: c.id
                        }),
                        renderPopout: this.renderUserPopout,
                        position: d.isMobile ? "window_center" : "left",
                        spacing: 16,
                        onShiftClick: this.handleShiftClick,
                        children: (d, h) => {
                            let {
                                isShown: E
                            } = h;
                            return (0, l.jsx)(C.default, {
                                className: G.member,
                                onContextMenu: this.renderUserContextMenu,
                                shouldAnimateStatus: B,
                                user: s,
                                currentUser: i,
                                nick: a,
                                status: o,
                                activities: r,
                                applicationStream: u,
                                isOwner: n,
                                premiumSince: S,
                                colorString: e,
                                colorRoleName: t,
                                isTyping: p,
                                channel: c,
                                guildId: f,
                                isMobile: m,
                                onClickPremiumGuildIcon: this.openGuildSubscriptionModal,
                                selected: E,
                                itemProps: g,
                                ...d
                            })
                        }
                    })
                }
                constructor(...e) {
                    super(...e), this.renderUserContextMenu = e => {
                        (0, p.openContextMenuLazy)(e, async () => {
                            let {
                                default: e
                            } = await n.el("834247").then(n.bind(n, "834247"));
                            return t => (0, l.jsx)(e, {
                                ...t,
                                user: this.props.user,
                                guildId: this.props.guildId,
                                channel: this.props.channel,
                                showMediaItems: !0
                            })
                        })
                    }, this.handleShiftClick = () => {
                        let {
                            user: e,
                            channel: t
                        } = this.props, n = "@".concat(b.default.getUserTag(e, {
                            decoration: "never"
                        })), l = "<@".concat(e.id, ">");
                        P.ComponentDispatch.dispatchToLastSubscribed(w.ComponentActions.INSERT_TEXT, {
                            plainText: n,
                            rawText: l
                        }), E.default.startTyping(t.id)
                    }, this.openGuildSubscriptionModal = e => {
                        let {
                            guildId: t
                        } = this.props;
                        null != t && (e.stopPropagation(), (0, I.openGuildBoostingMarketingModal)({
                            guildId: t,
                            location: {
                                section: w.AnalyticsSections.MEMBER_LIST,
                                object: w.AnalyticsObjects.BOOST_GEM_ICON
                            }
                        }))
                    }, this.renderUserPopout = e => (0, l.jsx)(v.default, {
                        ...e,
                        userId: this.props.user.id,
                        guildId: this.props.guildId,
                        channelId: this.props.channel.id
                    })
                }
            }
            let W = a.memo(e => {
                    let {
                        colorRoleId: t,
                        ...n
                    } = e, {
                        channel: a,
                        user: s,
                        index: i
                    } = e, r = (0, o.useListItem)("".concat(i)), u = (0, c.useStateFromStores)([R.default], () => R.default.isTyping(a.id, s.id)), d = (0, c.useStateFromStores)([L.default], () => L.default.getCurrentUser()), f = (0, c.useStateFromStores)([M.default], () => {
                        var e, n;
                        return null != t ? null === (n = M.default.getGuild(a.guild_id)) || void 0 === n ? void 0 : null === (e = n.getRole(t)) || void 0 === e ? void 0 : e.name : void 0
                    }, [a, t]);
                    return (0, l.jsx)(V, {
                        ...n,
                        ...r,
                        isTyping: u,
                        currentUser: d,
                        colorRoleName: f
                    })
                }),
                Y = a.memo(function(e) {
                    let {
                        id: t,
                        title: n,
                        count: a,
                        guildId: s
                    } = e, i = (0, T.useRoleIcon)({
                        roleId: t,
                        guildId: s,
                        size: 16
                    });
                    return t === w.StatusTypes.UNKNOWN ? (0, l.jsx)("div", {
                        className: G.membersGroup,
                        children: (0, l.jsx)("div", {
                            className: G.memberGroupsPlaceholder
                        })
                    }) : (0, l.jsxs)(O.default, {
                        className: G.membersGroup,
                        children: [(0, l.jsx)(h.HiddenVisually, {
                            children: F.default.Messages.CHANNEL_MEMBERS_A11Y_LABEL.format({
                                title: n,
                                count: a
                            })
                        }), (0, l.jsxs)("span", {
                            "aria-hidden": !0,
                            children: [null != i ? (0, l.jsx)(y.default, {
                                className: G.roleIcon,
                                ...i
                            }) : null, n, " — ", a]
                        })]
                    })
                });

            function z(e) {
                let {
                    index: t
                } = e, n = (0, o.useListItem)("".concat(t));
                return (0, l.jsx)(C.default, {
                    itemProps: n
                })
            }
            class K extends a.Component {
                shouldComponentUpdate(e) {
                    return e.channel.id !== this.props.channel.id || e.version !== this.props.version || e.groups.length !== this.props.groups.length
                }
                componentDidMount() {
                    this.updateSubscription(), this.trackMemberListViewed()
                }
                componentDidUpdate(e) {
                    e.channel.id !== this.props.channel.id && this.updateSubscription(), this.trackMemberListViewed()
                }
                getDimensions() {
                    let e = this._list;
                    if (null == e) return {
                        y: 0,
                        height: 0,
                        rowHeight: 0
                    };
                    let {
                        offsetHeight: t,
                        scrollTop: n
                    } = e.getScrollerState(), l = Math.floor(t / k);
                    return {
                        height: t,
                        rowHeight: k,
                        rowsVisible: l,
                        y: n
                    }
                }
                render() {
                    let {
                        groups: e,
                        listId: t,
                        channel: n
                    } = this.props;
                    return (0, l.jsxs)(l.Fragment, {
                        children: [(0, l.jsx)("div", {
                            className: G.membersListNotices,
                            children: (0, l.jsx)(_.default, {
                                channel: n
                            })
                        }), (0, l.jsx)(h.FocusJumpSection, {
                            children: a => (0, l.jsx)(j.UID, {
                                children: s => (0, l.jsx)("aside", {
                                    className: i(G.membersWrap, G.hiddenMembers),
                                    "aria-labelledby": s,
                                    children: (0, l.jsx)(h.HeadingLevel, {
                                        component: (0, l.jsx)(h.HiddenVisually, {
                                            children: (0, l.jsx)(h.H, {
                                                id: s,
                                                children: F.default.Messages.MEMBERS_LIST_LANDMARK_LABEL.format({
                                                    channel: n.name
                                                })
                                            })
                                        }),
                                        children: (0, l.jsx)(o.ListNavigatorContainer, {
                                            children: n => {
                                                let {
                                                    ref: s,
                                                    role: r,
                                                    ...u
                                                } = n;
                                                return (0, l.jsx)(h.List, {
                                                    innerRole: r,
                                                    innerAriaLabel: F.default.Messages.MEMBERS,
                                                    ref: e => {
                                                        var t;
                                                        this._list = e, this.props.listRef.current = e, s.current = null !== (t = null == e ? void 0 : e.getScrollerNode()) && void 0 !== t ? t : null
                                                    },
                                                    className: i(G.members, {
                                                        [G.fullWidth]: d.isMobile
                                                    }),
                                                    paddingTop: 0,
                                                    sectionHeight: 40,
                                                    rowHeight: k,
                                                    renderSection: this.renderSection,
                                                    renderRow: this.renderRow,
                                                    sections: e.map(e => e.count),
                                                    onScroll: this.handleScroll,
                                                    fade: !0,
                                                    customTheme: !0,
                                                    ...u,
                                                    ...a
                                                }, t)
                                            }
                                        })
                                    })
                                })
                            })
                        })]
                    })
                }
                constructor(...e) {
                    super(...e), this._list = null, this.setList = e => {
                        this._list = e, this.props.listRef.current = e
                    }, this.renderSection = e => {
                        let {
                            section: t
                        } = e, {
                            groups: n,
                            channel: s
                        } = this.props, i = n[t];
                        return 0 === t ? (0, l.jsx)(x.default, {
                            tutorialId: "whos-online",
                            position: "left",
                            inlineSpecs: H,
                            children: (0, l.jsx)(Y, {
                                ...i,
                                guildId: s.guild_id
                            })
                        }, "section-".concat(t)) : (0, a.createElement)(Y, {
                            ...i,
                            key: "section-".concat(t),
                            guildId: s.guild_id
                        })
                    }, this.getRowProps = e => {
                        let {
                            groups: t,
                            rows: n
                        } = this.props, l = t[e.section];
                        if (null == l) return null;
                        let {
                            index: a
                        } = l;
                        return null == a || "row" !== e.type ? null : n[a + 1 + e.row]
                    }, this.renderRow = e => {
                        let {
                            section: t,
                            row: n,
                            rowIndex: a
                        } = e, {
                            channel: s
                        } = this.props, i = this.getRowProps(e);
                        if (null == i || i.type !== A.MemberListRowTypes.MEMBER || !("user" in i)) return (0, l.jsx)(z, {
                            index: a
                        }, "placeholder-".concat(t, ":").concat(n));
                        {
                            let {
                                colorString: e,
                                colorRoleId: t,
                                user: n,
                                status: r,
                                isOwner: u,
                                isMobileOnline: o,
                                nick: d,
                                activities: c,
                                applicationStream: f,
                                premiumSince: h
                            } = i;
                            return (0, l.jsx)(W, {
                                colorString: e,
                                colorRoleId: t,
                                user: n,
                                status: r,
                                isOwner: u,
                                nick: d,
                                activities: c,
                                applicationStream: f,
                                channel: s,
                                guildId: s.guild_id,
                                premiumSince: h,
                                isMobileOnline: o,
                                index: a
                            }, "member-".concat(i.user.id))
                        }
                    }, this.handleScroll = () => {
                        this.updateSubscription()
                    }, this.updateSubscription = u.debounce(() => {
                        let e = this._list;
                        if (null == e) return;
                        let {
                            channel: t
                        } = this.props, {
                            rowHeight: n,
                            y: l,
                            height: a
                        } = this.getDimensions();
                        (0, m.subscribeChannelDimensions)({
                            guildId: t.guild_id,
                            channelId: t.id,
                            y: l,
                            height: a,
                            rowHeight: n
                        })
                    }, 50), this.trackMemberListViewed = () => {
                        var e;
                        if (this.lastReportedAnalyticsChannel === this.props.channel.id) return;
                        let t = null === (e = this._list) || void 0 === e ? void 0 : e.getItems(),
                            {
                                rowsVisible: n
                            } = this.getDimensions();
                        if (void 0 === n || 0 === n || null == t) return;
                        let l = t.map(e => this.getRowProps(e)).slice(0, n + 1).filter(D.isNotNullish);
                        if (0 === l.length) return;
                        let a = l.reduce((e, t) => t.type !== A.MemberListRowTypes.MEMBER ? e : (e.num_users_visible++, t.isMobileOnline && e.num_users_visible_with_mobile_indicator++, null != t.activities && t.activities.length > 0 && (e.num_users_visible_with_activity++, t.activities.some(e => e.type === w.ActivityTypes.PLAYING) && e.num_users_visible_with_game_activity++), null != t.user.avatarDecoration && e.num_users_visible_with_avatar_decoration++, e), {
                            num_users_visible: 0,
                            num_users_visible_with_mobile_indicator: 0,
                            num_users_visible_with_game_activity: 0,
                            num_users_visible_with_activity: 0,
                            num_users_visible_with_avatar_decoration: 0
                        });
                        this.lastReportedAnalyticsChannel = this.props.channel.id, S.default.trackWithMetadata(w.AnalyticEvents.MEMBER_LIST_VIEWED, {
                            ...a
                        })
                    }
                }
            }

            function Z(e) {
                let {
                    channel: t,
                    className: n
                } = e, s = (0, c.useStateFromStores)([g.default], () => g.default.keyboardModeEnabled), r = (0, c.useStateFromStoresObject)([A.default], () => A.default.getProps(t.guild_id, t.id)), {
                    rows: u,
                    groups: d
                } = r, f = a.useRef(null), h = a.useCallback((e, t) => {
                    let n = f.current;
                    if (null == n) return;
                    let l = parseInt(t, 10),
                        [a, s] = n.getSectionRowFromIndex(l),
                        i = 0 === a && 0 === s ? k : 0;
                    n.scrollToIndex({
                        section: a,
                        row: s,
                        padding: i,
                        callback: () => {
                            requestAnimationFrame(() => {
                                var t;
                                return null === (t = document.querySelector(e)) || void 0 === t ? void 0 : t.focus({
                                    preventScroll: !0
                                })
                            })
                        }
                    })
                }, []), p = a.useCallback(() => new Promise(e => {
                    let t = f.current;
                    if (null == t) return e();
                    t.scrollToTop({
                        callback: () => requestAnimationFrame(() => e())
                    })
                }), []), m = a.useCallback(() => new Promise(e => {
                    let t = f.current;
                    if (null == t) return e();
                    t.scrollToBottom({
                        callback() {
                            requestAnimationFrame(() => setTimeout(e, 100))
                        }
                    })
                }), []), E = (0, o.default)({
                    id: "members-".concat(t.id),
                    setFocus: h,
                    isEnabled: s,
                    scrollToStart: p,
                    scrollToEnd: m
                });
                return (0, l.jsx)("div", {
                    className: i(G.container, n),
                    children: (0, l.jsx)(o.ListNavigatorProvider, {
                        navigator: E,
                        children: (0, l.jsx)(K, {
                            ...e,
                            ...r,
                            groups: d,
                            rows: u,
                            listRef: f
                        })
                    })
                })
            }

            function X(e) {
                let {
                    channel: t,
                    className: n
                } = e, s = a.useDeferredValue(t);
                return a.useMemo(() => (0, l.jsx)(Z, {
                    channel: s,
                    className: n
                }), [s, n])
            }
        },
        656612: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("819855"),
                i = n("77078"),
                r = n("841098"),
                u = n("716241"),
                o = n("539938"),
                d = n("593195"),
                c = n("49111"),
                f = n("782340"),
                h = n("845871"),
                p = n("242412"),
                m = n("846770"),
                E = () => {
                    let e = (0, r.default)();
                    a.useEffect(() => {
                        u.default.trackWithMetadata(c.AnalyticEvents.GUILD_OUTAGE_VIEWED, {})
                    }, []);
                    let t = (0, s.isThemeDark)(e) ? p : m;
                    return (0, l.jsxs)("div", {
                        className: h.container,
                        children: [(0, l.jsxs)(o.default, {
                            toolbar: (0, l.jsx)(a.Fragment, {}),
                            children: [(0, l.jsx)(o.default.Icon, {
                                icon: d.default,
                                "aria-hidden": !0
                            }), (0, l.jsx)(o.default.Title, {
                                children: f.default.Messages.GUILD_UNAVAILABLE_HEADER
                            })]
                        }), (0, l.jsxs)("div", {
                            className: h.content,
                            children: [(0, l.jsx)("img", {
                                alt: "",
                                className: h.splashImage,
                                src: t
                            }), (0, l.jsx)(i.Heading, {
                                className: h.splashHeader,
                                variant: "heading-lg/medium",
                                children: f.default.Messages.GUILD_UNAVAILABLE_TITLE
                            }), (0, l.jsx)(i.Text, {
                                className: h.splashText,
                                variant: "text-md/normal",
                                children: f.default.Messages.GUILD_UNAVAILABLE_BODY
                            })]
                        })]
                    })
                }
        },
        624027: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("394846"),
                i = n("446674"),
                r = n("77078"),
                u = n("120252"),
                o = n("161778"),
                d = n("162771"),
                c = n("941886"),
                f = n("664336"),
                h = n("49111"),
                p = n("782340"),
                m = n("889175");

            function E(e) {
                let t, {
                    channelId: E
                } = e;
                a.useEffect(() => {
                    u.default.loadThread(E)
                });
                let C = (0, i.useStateFromStores)([d.default], () => d.default.getGuildId()),
                    g = C === h.FAVORITES,
                    S = (0, i.useStateFromStores)([o.default], () => o.default.theme);
                return t = g ? (0, l.jsx)(c.EmptyStateText, {
                    note: p.default.Messages.FAVORITES_EMPTY_BODY,
                    children: p.default.Messages.FAVORITES_EMPTY_TITLE
                }) : null != E ? (0, l.jsx)(r.Spinner, {
                    type: r.Spinner.Type.SPINNING_CIRCLE
                }) : (0, l.jsx)(c.EmptyStateText, {
                    note: p.default.Messages.CHANNELS_UNAVAILABLE_BODY,
                    children: p.default.Messages.CHANNELS_UNAVAILABLE_TITLE
                }), (0, l.jsxs)("div", {
                    className: m.noChannel,
                    children: [s.isMobile && (0, l.jsx)(f.default, {
                        children: (0, l.jsx)(a.Fragment, {})
                    }), (0, l.jsxs)(c.default, {
                        theme: S,
                        children: [(0, l.jsx)(c.EmptyStateImage, {
                            darkSrc: g ? n("41912") : n("605834"),
                            lightSrc: g ? n("706692") : n("976585"),
                            width: 272,
                            height: 222
                        }), t]
                    })]
                })
            }
        },
        30874: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("77078"),
                s = n("263024"),
                i = n("300322"),
                r = n("782340");

            function u(e) {
                var t;
                let n = (0, i.useCanManageThread)(e),
                    u = (0, i.useCanUnarchiveThread)(e),
                    o = e.isArchivedThread();
                if (o ? u : n) return (null === (t = e.threadMetadata) || void 0 === t ? void 0 : t.archived) ? (0, l.jsx)(a.MenuItem, {
                    id: "unarchive-thread",
                    label: e.isForumPost() ? r.default.Messages.UNARCHIVE_FORUM_POST : r.default.Messages.UNARCHIVE_THREAD,
                    action: () => s.default.unarchiveThread(e, !1)
                }) : (0, l.jsx)(a.MenuItem, {
                    id: "archive-thread",
                    label: e.isForumPost() ? r.default.Messages.ARCHIVE_FORUM_POST : r.default.Messages.ARCHIVE_THREAD,
                    action: () => s.default.archiveThread(e, !1)
                })
            }
        },
        458574: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("281071"),
                s = n("65597"),
                i = n("77078"),
                r = n("867965"),
                u = n("42203"),
                o = n("404008"),
                d = n("49111"),
                c = n("782340");

            function f(e, t, n) {
                let f = (0, s.default)([u.default], () => u.default.getChannel(e.parent_id));
                return (0, l.jsx)(i.MenuItem, {
                    id: "channel-copy-link",
                    label: c.default.Messages.COPY_LINK,
                    action: () => {
                        e.isForumPost() && (0, r.trackForumPostLinkCopied)({
                            postId: e.id,
                            location: {
                                section: d.AnalyticsSections.CONTEXT_MENU
                            }
                        }), (0, a.copy)((0, o.getChannelLinkToCopy)(e, f, t, n))
                    }
                })
            }
        },
        308798: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("446674"),
                s = n("77078"),
                i = n("18054"),
                r = n("819689"),
                u = n("430475"),
                o = n("610730"),
                d = n("271938"),
                c = n("957255"),
                f = n("49111"),
                h = n("782340");

            function p(e) {
                var t;
                let p = e.isForumPost(),
                    m = (0, a.useStateFromStores)([d.default], () => e.isOwner(d.default.getId()), [e]),
                    {
                        canManageChannel: E,
                        canAccessChannel: C
                    } = (0, a.useStateFromStoresObject)([c.default], () => ({
                        canAccessChannel: c.default.can(e.accessPermissions, e),
                        canManageChannel: c.default.can(e.isThread() ? f.Permissions.MANAGE_THREADS : f.Permissions.MANAGE_CHANNELS, e)
                    }), [e]),
                    g = (0, a.useStateFromStores)([o.default], () => null !== (t = o.default.getCount(e.id)) && void 0 !== t ? t : 0, [e.id]),
                    {
                        firstMessage: S
                    } = (0, a.useStateFromStores)([u.default], () => u.default.getMessage(e.id), [e.id]),
                    _ = p && (E || m && g < 1),
                    I = p && m && !E && g > 0 && null != S;
                return C && (E || _ || I) ? (0, l.jsx)(s.MenuItem, {
                    id: "delete-channel",
                    label: (() => {
                        if (e.type === f.ChannelTypes.GUILD_CATEGORY) return h.default.Messages.DELETE_CATEGORY;
                        if (e.isForumPost()) return _ ? h.default.Messages.DELETE_FORUM_POST : h.default.Messages.DELETE_MESSAGE;
                        if (e.isThread()) return h.default.Messages.DELETE_THREAD;
                        return h.default.Messages.DELETE_CHANNEL
                    })(),
                    color: "danger",
                    action: () => (0, s.openModalLazy)(async () => {
                        let {
                            default: t
                        } = await n.el("575351").then(n.bind(n, "575351"));
                        return n => (0, l.jsx)(t, {
                            ...n,
                            onConfirm: () => {
                                n.onClose(), I ? r.default.deleteMessage(e.id, e.id) : i.default.deleteChannel(e.id)
                            },
                            channel: e
                        })
                    })
                }) : null
            }
        },
        13777: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("917351"),
                i = n.n(s),
                r = n("446674"),
                u = n("77078"),
                o = n("848848"),
                d = n("300322"),
                c = n("800762"),
                f = n("242740"),
                h = n("782340");

            function p(e) {
                let t = (0, d.useCanJoinThreadVoice)(e),
                    n = (0, r.useStateFromStores)([c.default], () => c.default.isInChannel(e.id)),
                    s = (0, r.useStateFromStores)([c.default], () => !i.isEmpty(c.default.getVoiceStatesForChannel(e.id))),
                    {
                        needSubscriptionToAccess: p
                    } = (0, o.default)(e.id),
                    m = a.useCallback(() => {
                        f.default.handleVoiceConnect({
                            channel: e,
                            connected: n,
                            needSubscriptionToAccess: p,
                            locked: !1
                        })
                    }, [e, n, p]);
                return n || !t ? null : (0, l.jsx)(u.MenuItem, {
                    id: "join-thread-voice",
                    label: s ? h.default.Messages.JOIN_CALL : h.default.Messages.START_CALL,
                    action: m
                })
            }
        },
        37774: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("77078"),
                s = n("263024"),
                i = n("300322"),
                r = n("782340");

            function u(e) {
                let t = (0, i.useIsThreadModerator)(e),
                    n = e.isLockedThread();
                if (t) return n ? (0, l.jsx)(a.MenuItem, {
                    id: "unlock-thread",
                    label: e.isForumPost() ? r.default.Messages.UNLOCK_FORUM_POST : r.default.Messages.UNLOCK_THREAD,
                    action: () => s.default.unlockThread(e)
                }) : (0, l.jsx)(a.MenuItem, {
                    id: "lock-thread",
                    label: e.isForumPost() ? r.default.Messages.LOCK_FORUM_POST : r.default.Messages.LOCK_THREAD,
                    action: () => s.default.lockThread(e)
                })
            }
        },
        117399: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return h
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("446674"),
                s = n("77078"),
                i = n("477566"),
                r = n("680986"),
                u = n("263024"),
                o = n("300322"),
                d = n("42203"),
                c = n("724210"),
                f = n("782340");

            function h(e) {
                let t = (0, a.useStateFromStores)([d.default], () => d.default.getChannel(e.parent_id)),
                    n = (0, o.useIsThreadModerator)(e),
                    h = (0, r.useExistingPin)(e);
                return (null == t ? void 0 : t.isForumLikeChannel()) && n ? e.hasFlag(c.ChannelFlags.PINNED) ? (0, l.jsx)(s.MenuItem, {
                    id: "unpin-thread",
                    label: f.default.Messages.UNPIN_POST,
                    action: () => u.default.unpin(e)
                }) : (0, l.jsx)(s.MenuItem, {
                    id: "pin-thread",
                    label: f.default.Messages.PIN_POST,
                    action: function() {
                        null != h ? i.default.show({
                            title: f.default.Messages.FORUM_PIN_CONFIRM_TITLE,
                            body: f.default.Messages.FORUM_PIN_CONFIRM_BODY,
                            onConfirm: async () => {
                                await u.default.unpin(h), u.default.pin(e)
                            }
                        }) : u.default.pin(e)
                    }
                }) : null
            }
        },
        400501: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("77078"),
                s = n("18054"),
                i = n("300322"),
                r = n("782340");

            function u(e) {
                let t = (0, i.useCanManageThread)(e),
                    n = (0, i.useIsActiveChannelOrUnarchivableThread)(e),
                    u = (0, i.useIsNonModInLockedThread)(e);
                return !t || !n || u || __OVERLAY__ ? null : (0, l.jsx)(a.MenuItem, {
                    id: "edit-thread",
                    label: e.isForumPost() ? r.default.Messages.EDIT_FORUM_POST : r.default.Messages.EDIT_THREAD,
                    action: () => {
                        (0, a.closeAllModals)(), s.default.open(e.id)
                    }
                })
            }
        },
        542640: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return C
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("446674"),
                s = n("77078"),
                i = n("272030"),
                r = n("430568"),
                u = n("385976"),
                o = n("404607"),
                d = n("680986"),
                c = n("300322"),
                f = n("42203"),
                h = n("953371"),
                p = n("782340"),
                m = n("208701");

            function E(e) {
                let {
                    tag: t
                } = e, {
                    name: n,
                    emojiId: s,
                    emojiName: i
                } = t, o = (0, a.useStateFromStores)([u.default], () => null != s ? u.default.getUsableCustomEmojiById(s) : null);
                return (0, l.jsxs)(l.Fragment, {
                    children: [(0, l.jsx)(r.default, {
                        className: m.emoji,
                        emojiId: s,
                        emojiName: i,
                        animated: !!(null == o ? void 0 : o.animated)
                    }), n]
                })
            }

            function C(e) {
                let t = (0, a.useStateFromStores)([f.default], () => f.default.getChannel(e), [e]),
                    n = (0, c.useCanManageThread)(t),
                    r = (0, a.useStateFromStores)([f.default], () => f.default.getChannel(null == t ? void 0 : t.parent_id), [t]),
                    u = (0, d.useVisibleForumTags)(r),
                    m = (0, d.useAppliedTags)(t),
                    C = m.length >= h.MAX_FORUM_POST_TAGS,
                    g = (0, c.useIsActiveChannelOrUnarchivableThread)(t);
                if (null == t) return (0, i.closeContextMenu)(), null;
                if (!n || __OVERLAY__ || !t.isForumPost() || (null == u ? void 0 : u.length) === 0 || !g) return null;
                let S = e => {
                        let n = new Set(m);
                        if (n.has(e)) n.delete(e);
                        else {
                            if (C) return;
                            n.add(e)
                        }
                        let l = Array.from(n).map(e => e.id);
                        o.default.updateForumPostTags(t.id, l)
                    },
                    _ = null == u ? void 0 : u.map(e => {
                        let t = m.includes(e);
                        return (0, l.jsx)(s.MenuCheckboxItem, {
                            id: e.id,
                            label: (0, l.jsx)(E, {
                                tag: e
                            }),
                            disabled: C && !t,
                            action: () => S(e),
                            checked: t
                        }, e.id)
                    });
                return (0, l.jsx)(s.MenuItem, {
                    id: "edit-tags",
                    label: p.default.Messages.FORUM_TAG_POST_EDIT,
                    children: _
                })
            }
        },
        772371: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("446674"),
                s = n("77078"),
                i = n("755624"),
                r = n("263024"),
                u = n("414833"),
                o = n("648564"),
                d = n("782340");

            function c(e) {
                let t = (0, u.useThreadNotificationSetting)(e),
                    n = (0, a.useStateFromStores)([i.default], () => i.default.hasJoined(e.id));
                return n ? (0, l.jsx)(s.MenuItem, {
                    id: "thread-notifications",
                    label: d.default.Messages.NOTIFICATION_SETTINGS,
                    children: (0, o.getThreadNotificationOptions)().map(n => {
                        let {
                            setting: a,
                            label: i
                        } = n;
                        return (0, l.jsx)(s.MenuRadioItem, {
                            group: "thread-notifications",
                            id: "".concat(a),
                            label: i,
                            action: () => r.default.setNotificationSettings(e, {
                                flags: a
                            }),
                            checked: a === t
                        }, a)
                    })
                }) : (0, l.jsx)(s.MenuItem, {
                    id: "notifications-disabled",
                    label: d.default.Messages.NOTIFICATION_SETTINGS,
                    disabled: !0
                })
            }
        },
        604656: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("77078"),
                s = n("263024"),
                i = n("300322"),
                r = n("49111"),
                u = n("782340");

            function o(e) {
                var t, n;
                let o = (0, i.useIsThreadModerator)(e);
                if (!o || e.type !== r.ChannelTypes.PRIVATE_THREAD) return null;
                let d = null === (n = null === (t = e.threadMetadata) || void 0 === t ? void 0 : t.invitable) || void 0 === n || n;
                return (0, l.jsx)(a.MenuCheckboxItem, {
                    id: "toggle-thread-invitable",
                    label: u.default.Messages.THREAD_INVITABLE_TOGGLE_LABEL,
                    checked: d,
                    action: () => s.default.setInvitable(e, !d)
                })
            }
        },
        164586: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("917351"),
                u = n("77078"),
                o = n("716241"),
                d = n("945330"),
                c = n("599110"),
                f = n("49111"),
                h = n("782340"),
                p = n("832025");
            let m = (0, r.debounce)(o.default.trackWithMetadata, 500);
            var E = function(e) {
                let {
                    guild: t,
                    title: n,
                    message: s,
                    image: r,
                    type: E,
                    imageStyles: C,
                    imageMarginX: g,
                    imageMarginTop: S,
                    trackingSource: _,
                    undismissable: I,
                    onDismissed: T,
                    onClick: x,
                    cta: N,
                    ctaColor: v,
                    centerText: A
                } = e;
                a.useEffect(() => {
                    m(f.AnalyticEvents.CHANNEL_NOTICE_VIEWED, {
                        notice_type: E,
                        guild_id: t.id
                    })
                }, [t.id, E]);
                let M = null;
                "function" == typeof N ? M = N() : null != N && (M = (0, l.jsx)(u.Button, {
                    className: p.button,
                    size: u.Button.Sizes.SMALL,
                    onClick: () => {
                        null != E && c.default.track(f.AnalyticEvents.CHANNEL_NOTICE_CTA_CLICKED, {
                            source: _,
                            guild_id: t.id,
                            notice_type: E
                        }), null == x || x()
                    },
                    fullWidth: !0,
                    color: v,
                    children: N
                }));
                let R = null;
                "function" == typeof n ? R = n() : null != n && (R = (0, l.jsx)(u.Text, {
                    variant: "text-md/medium",
                    color: "header-primary",
                    className: i(p.title, {
                        [p.noImageTitle]: null == r
                    }, {
                        [p.center]: A
                    }),
                    children: n
                }));
                let L = null != g ? "".concat(g, "px") : "16px";
                return (0, l.jsxs)("div", {
                    className: p.container,
                    children: [!0 === I ? null : (0, l.jsx)(u.Clickable, {
                        onClick: () => {
                            o.default.trackWithMetadata(f.AnalyticEvents.CHANNEL_NOTICE_CLOSED, {
                                notice_type: E
                            }), null == T || T()
                        },
                        className: p.close,
                        "aria-label": h.default.Messages.DISMISS,
                        children: (0, l.jsx)(d.default, {
                            className: p.closeIcon
                        })
                    }), null != r && (0, l.jsx)("div", {
                        className: p.imageContainer,
                        style: {
                            marginTop: "".concat(S, "px"),
                            marginLeft: L,
                            marginRight: L
                        },
                        children: (0, l.jsx)("img", {
                            className: p.image,
                            style: C,
                            src: r,
                            alt: ""
                        })
                    }), (0, l.jsxs)("div", {
                        className: p.message,
                        children: [R, (0, l.jsx)(u.Text, {
                            className: i({
                                [p.center]: A
                            }),
                            variant: "text-sm/normal",
                            color: "text-muted",
                            children: s
                        }), M]
                    })]
                })
            }
        },
        521803: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return h
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("446674"),
                s = n("151426"),
                i = n("980215"),
                r = n("28561"),
                u = n("509802"),
                o = n("305961"),
                d = n("449008"),
                c = n("994428");

            function f(e) {
                e.stopPropagation()
            }
            var h = function(e) {
                let {
                    channel: t
                } = e, n = (0, a.useStateFromStores)([o.default], () => o.default.getGuild(t.guild_id)), h = (0, i.useClydeProfilesEnabled)(n, !0), p = [];
                return h && (0, d.isNotNullish)(t.guild_id) && p.push(s.DismissibleContent.CLYDE_AI_PERSONALITIES_NUX_MODAL), (0, l.jsx)(u.default, {
                    contentTypes: p,
                    groupName: c.DismissibleContentGroupName.MEMBER_LIST_HEADER,
                    children: e => {
                        let {
                            visibleContent: n,
                            markAsDismissed: a
                        } = e, i = (() => {
                            if (n === s.DismissibleContent.CLYDE_AI_PERSONALITIES_NUX_MODAL) return (0, l.jsx)(r.default, {
                                channel: t,
                                markAsDismissed: a
                            });
                            return null
                        })();
                        return (0, l.jsx)("div", {
                            onContextMenu: f,
                            children: i
                        })
                    }
                })
            }
        },
        28561: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return x
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("446674"),
                i = n("77078"),
                r = n("545158"),
                u = n("206230"),
                o = n("164586"),
                d = n("713135"),
                c = n("305961"),
                f = n("145131"),
                h = n("449008"),
                p = n("701909"),
                m = n("335189"),
                E = n("190045"),
                C = n("680894"),
                g = n("49111"),
                S = n("782340"),
                _ = n("400496"),
                I = n("382719"),
                T = n("559016");

            function x(e) {
                var t;
                let {
                    channel: n,
                    markAsDismissed: x
                } = e, [N, v] = a.useState(!0), A = (0, s.useStateFromStores)([u.default], () => u.default.useReducedMotion), M = (0, s.useStateFromStores)([c.default], () => c.default.getGuild(n.guild_id)), R = (0, s.useStateFromStores)([d.default], () => d.default.getGuildMemberProfile(C.CLYDE_AI_USER_ID, null !== (t = null == M ? void 0 : M.id) && void 0 !== t ? t : "")), L = () => {
                    var e;
                    (0, E.default)(null !== (e = null == M ? void 0 : M.id) && void 0 !== e ? e : ""), x()
                }, j = () => {
                    (0, r.default)(p.default.getArticleURL(g.HelpdeskArticles.CLYDE_AI), !0)
                };
                return (a.useEffect(() => {
                    let e = async () => {
                        if ((0, h.isNotNullish)(M) && null == R) try {
                            await (0, m.addClydeGuildMember)(M.id), v(!1)
                        } catch {} else v(!1)
                    };
                    e()
                }, [R, M]), null == M) ? null : (0, l.jsx)(o.default, {
                    type: g.ChannelNoticeTypes.CLYDE_PERSONALITIES_NUX,
                    image: A ? I : T,
                    imageStyles: {
                        borderRadius: "50%"
                    },
                    imageMarginTop: 8,
                    guild: M,
                    onDismissed: x,
                    centerText: !0,
                    imageMarginX: 64,
                    title: S.default.Messages.CLYDE_PERSONALITY_NUX_HEADER,
                    message: S.default.Messages.CLYDE_PERSONALITY_NUX_INFO,
                    cta: () => (0, l.jsxs)(f.default, {
                        grow: 0,
                        shrink: 0,
                        direction: f.default.Direction.VERTICAL,
                        justify: f.default.Justify.START,
                        align: f.default.Align.STRETCH,
                        wrap: f.default.Wrap.NO_WRAP,
                        className: _.footer,
                        children: [(0, l.jsx)(i.Button, {
                            type: "submit",
                            submitting: N,
                            color: i.Button.Colors.BRAND,
                            onClick: L,
                            children: S.default.Messages.CLYDE_CUSTOMIZE
                        }), (0, l.jsx)(i.Button, {
                            type: "button",
                            look: i.Button.Looks.LINK,
                            color: i.Button.Colors.LINK,
                            onClick: j,
                            children: S.default.Messages.LEARN_MORE
                        })]
                    })
                })
            }
        },
        15433: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                fetchDirectoryEntries: function() {
                    return o
                }
            });
            var l = n("483366"),
                a = n.n(l),
                s = n("872717"),
                i = n("913144"),
                r = n("730647"),
                u = n("49111");
            let o = a(async e => {
                try {
                    i.default.dispatch({
                        type: "EVENT_DIRECTORY_FETCH_START"
                    });
                    let t = await s.default.get({
                        url: u.Endpoints.DIRECTORY_CHANNEL_ENTRIES(e),
                        query: {
                            type: r.DirectoryEntryTypes.GUILD_SCHEDULED_EVENT
                        }
                    });
                    i.default.dispatch({
                        type: "EVENT_DIRECTORY_FETCH_SUCCESS",
                        channelId: e,
                        entries: t.body
                    })
                } catch (e) {
                    i.default.dispatch({
                        type: "EVENT_DIRECTORY_FETCH_FAILURE"
                    })
                }
            }, 200)
        },
        71102: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                fetchDirectoryEntries: function() {
                    return f
                },
                fetchDirectoryCounts: function() {
                    return h
                },
                addDirectoryGuildEntry: function() {
                    return p
                },
                removeDirectoryGuildEntry: function() {
                    return m
                },
                searchDirectoryEntries: function() {
                    return E
                },
                clearDirectorySearch: function() {
                    return C
                },
                updateDirectoryEntry: function() {
                    return g
                },
                selectDirectoryCategory: function() {
                    return S
                },
                fetchGuildEntriesForIds: function() {
                    return _
                }
            });
            var l = n("483366"),
                a = n.n(l),
                s = n("759843"),
                i = n("872717"),
                r = n("913144"),
                u = n("840707"),
                o = n("393467"),
                d = n("730647"),
                c = n("49111");
            let f = a(async (e, t) => {
                    try {
                        r.default.dispatch({
                            type: "GUILD_DIRECTORY_FETCH_START"
                        });
                        let n = await i.default.get({
                            url: c.Endpoints.DIRECTORY_CHANNEL_ENTRIES(e),
                            query: {
                                category_id: t
                            }
                        });
                        r.default.dispatch({
                            type: "GUILD_DIRECTORY_FETCH_SUCCESS",
                            channelId: e,
                            entries: n.body
                        })
                    } catch (e) {
                        r.default.dispatch({
                            type: "GUILD_DIRECTORY_FETCH_FAILURE"
                        })
                    }
                }, 200),
                h = a(async e => {
                    try {
                        let t = await i.default.get({
                            url: c.Endpoints.DIRECTORY_CHANNEL_CATEGORY_COUNTS(e)
                        });
                        r.default.dispatch({
                            type: "GUILD_DIRECTORY_COUNTS_FETCH_SUCCESS",
                            channelId: e,
                            counts: t.body
                        })
                    } catch (e) {}
                }, 200);
            async function p(e, t, n) {
                let l = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : d.DirectoryEntryCategories.UNCATEGORIZED,
                    a = await u.default.post({
                        url: c.Endpoints.DIRECTORY_CHANNEL_ENTRY(e, t),
                        body: {
                            description: n,
                            primary_category_id: l
                        },
                        trackedActionData: {
                            event: s.NetworkActionNames.DIRECTORY_GUILD_ENTRY_CREATE,
                            properties: {
                                directory_channel_id: e,
                                guild_id: t,
                                primary_category_id: l
                            }
                        }
                    });
                r.default.dispatch({
                    type: "GUILD_DIRECTORY_ENTRY_CREATE",
                    channelId: e,
                    entry: a.body
                })
            }

            function m(e, t) {
                u.default.delete({
                    url: c.Endpoints.DIRECTORY_CHANNEL_ENTRY(e, t),
                    trackedActionData: {
                        event: s.NetworkActionNames.DIRECTORY_GUILD_ENTRY_DELETE,
                        properties: {
                            directory_channel_id: e,
                            guild_id: t
                        }
                    }
                }), r.default.dispatch({
                    type: "GUILD_DIRECTORY_ENTRY_DELETE",
                    channelId: e,
                    guildId: t
                })
            }
            let E = a(async (e, t) => {
                    let n = o.default.shouldFetch(e, t);
                    if (!n) {
                        r.default.dispatch({
                            type: "GUILD_DIRECTORY_CACHED_SEARCH",
                            channelId: e,
                            query: t
                        });
                        return
                    }
                    try {
                        r.default.dispatch({
                            type: "GUILD_DIRECTORY_SEARCH_START",
                            channelId: e,
                            query: t
                        });
                        let n = await i.default.get({
                            url: c.Endpoints.DIRECTORY_ENTRIES_SEARCH(e),
                            query: {
                                query: t
                            }
                        });
                        r.default.dispatch({
                            type: "GUILD_DIRECTORY_SEARCH_SUCCESS",
                            channelId: e,
                            query: t,
                            results: n.body
                        })
                    } catch (e) {
                        r.default.dispatch({
                            type: "GUILD_DIRECTORY_FETCH_FAILURE"
                        })
                    }
                }, 200),
                C = e => {
                    r.default.dispatch({
                        type: "GUILD_DIRECTORY_SEARCH_CLEAR",
                        channelId: e
                    })
                },
                g = async function(e, t, n) {
                    let l = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : d.DirectoryEntryCategories.UNCATEGORIZED,
                        a = await i.default.patch({
                            url: c.Endpoints.DIRECTORY_CHANNEL_ENTRY(e, t),
                            body: {
                                description: n,
                                primary_category_id: l
                            }
                        });
                    r.default.dispatch({
                        type: "GUILD_DIRECTORY_ENTRY_UPDATE",
                        channelId: e,
                        entry: a.body
                    })
                }, S = (e, t) => {
                    r.default.dispatch({
                        type: "GUILD_DIRECTORY_CATEGORY_SELECT",
                        channelId: e,
                        categoryId: t
                    })
                }, _ = async (e, t) => {
                    try {
                        let n = await i.default.get({
                            url: c.Endpoints.DIRECTORY_CHANNEL_LIST_BY_ID(e),
                            query: {
                                entity_ids: t
                            }
                        });
                        r.default.dispatch({
                            type: "GUILD_DIRECTORY_ADMIN_ENTRIES_FETCH_SUCCESS",
                            channelId: e,
                            entries: n.body
                        })
                    } catch (e) {}
                }
        },
        393467: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var l = n("446674"),
                a = n("913144"),
                s = n("513688");
            let i = [],
                r = {},
                u = {};
            class o extends l.default.Store {
                getSearchState(e) {
                    var t;
                    return null !== (t = r[e]) && void 0 !== t ? t : {
                        mostRecentQuery: "",
                        fetching: !1
                    }
                }
                getSearchResults(e, t) {
                    var n, l, a;
                    return null !== (a = null === (l = u[e]) || void 0 === l ? void 0 : null === (n = l[t]) || void 0 === n ? void 0 : n.results) && void 0 !== a ? a : i
                }
                shouldFetch(e, t) {
                    var n, l;
                    let a = null === (l = u[e]) || void 0 === l ? void 0 : null === (n = l[t]) || void 0 === n ? void 0 : n.lastSearchedAt;
                    return null == a || Date.now() - a > 12e4
                }
            }
            o.displayName = "GuildDirectorySearchStore";
            var d = new o(a.default, {
                GUILD_DIRECTORY_SEARCH_START: function(e) {
                    let {
                        channelId: t,
                        query: n
                    } = e;
                    r[t] = {
                        fetching: !0,
                        mostRecentQuery: n
                    }
                },
                GUILD_DIRECTORY_SEARCH_SUCCESS: function(e) {
                    let {
                        channelId: t,
                        query: n,
                        results: l
                    } = e;
                    r[t] = {
                        ...r[t],
                        fetching: !1
                    };
                    let a = [];
                    l.forEach(e => {
                        let t = (0, s.guildDirectoryEntryFromServer)(e);
                        a.push(t)
                    }), u[t] = {
                        ...u[t],
                        [n]: {
                            results: (0, s.orderByTotalMemberCount)(a),
                            lastSearchedAt: Date.now()
                        }
                    }
                },
                GUILD_DIRECTORY_SEARCH_FAILURE: function(e) {
                    let {
                        channelId: t
                    } = e;
                    r[t] = {
                        ...r[t],
                        fetching: !1
                    }
                },
                GUILD_DIRECTORY_SEARCH_CLEAR: function(e) {
                    let {
                        channelId: t
                    } = e;
                    r[t] = {
                        fetching: !1,
                        mostRecentQuery: ""
                    }
                },
                GUILD_DIRECTORY_CACHED_SEARCH: function(e) {
                    let {
                        channelId: t,
                        query: n
                    } = e;
                    r[t] = {
                        fetching: !1,
                        mostRecentQuery: n
                    }
                },
                GUILD_DIRECTORY_ENTRY_DELETE: function(e) {
                    var t;
                    let {
                        channelId: n,
                        guildId: l
                    } = e, a = null === (t = r[n]) || void 0 === t ? void 0 : t.mostRecentQuery;
                    if (null == a) return;
                    let s = u[n][a];
                    if (null == s) return;
                    let i = s.results.filter(e => e.guildId !== l);
                    u[n] = {
                        ...u[n],
                        [r[n].mostRecentQuery]: {
                            ...s,
                            results: i
                        }
                    }
                }
            })
        },
        209397: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return m
                }
            });
            var l = n("446674"),
                a = n("913144"),
                s = n("513688"),
                i = n("730647");
            let r = Object.freeze({}),
                u = !1,
                o = {},
                d = {},
                c = {},
                f = {},
                h = {};
            class p extends l.default.Store {
                isFetching() {
                    return u
                }
                getCurrentCategoryId(e) {
                    var t;
                    return null !== (t = d[e]) && void 0 !== t ? t : i.DirectoryEntryCategories.ALL
                }
                getDirectoryEntries(e, t) {
                    var n;
                    return null != t ? null === (n = c[e]) || void 0 === n ? void 0 : n[t] : o[e]
                }
                getDirectoryEntry(e, t) {
                    var n;
                    return null === (n = o[e]) || void 0 === n ? void 0 : n[t]
                }
                getDirectoryAllEntriesCount(e) {
                    var t;
                    return Object.keys(null !== (t = o[e]) && void 0 !== t ? t : {}).length
                }
                getDirectoryCategoryCounts(e) {
                    var t;
                    return null !== (t = f[e]) && void 0 !== t ? t : r
                }
                getAdminGuildEntryIds(e) {
                    return h[e]
                }
            }
            p.displayName = "GuildDirectoryStore";
            var m = new p(a.default, {
                GUILD_DIRECTORY_FETCH_START: function() {
                    u = !0
                },
                GUILD_DIRECTORY_FETCH_SUCCESS: function(e) {
                    let {
                        channelId: t,
                        entries: n
                    } = e;
                    u = !1;
                    let l = {},
                        a = {};
                    n.forEach(e => {
                        let t = (0, s.guildDirectoryEntryFromServer)(e);
                        l[t.guildId] = t, null != a[t.primaryCategoryId] ? a[t.primaryCategoryId][t.guildId] = t : a[t.primaryCategoryId] = {
                            [t.guildId]: t
                        }
                    }), o[t] = l, c[t] = a
                },
                GUILD_DIRECTORY_FETCH_FAILURE: function() {
                    u = !1
                },
                GUILD_DIRECTORY_ENTRY_CREATE: function(e) {
                    var t, n, l, a, r;
                    let {
                        channelId: u,
                        entry: d
                    } = e, h = (0, s.guildDirectoryEntryFromServer)(d);
                    if (null == h || (null === (t = o[u]) || void 0 === t ? void 0 : t[h.guildId]) != null) return;
                    o[u] = {
                        ...o[u],
                        [h.guildId]: h
                    };
                    let p = null !== (l = h.primaryCategoryId) && void 0 !== l ? l : i.DirectoryEntryCategories.UNCATEGORIZED;
                    if (c[u] = {
                            ...c[u],
                            [p]: {
                                ...null === (n = c[u]) || void 0 === n ? void 0 : n[p],
                                [h.guildId]: h
                            }
                        }, null != f[u]) {
                        let e = null !== (r = null === (a = f[u]) || void 0 === a ? void 0 : a[p]) && void 0 !== r ? r : 0;
                        f[u] = {
                            ...f[u],
                            [p]: e + 1
                        }
                    }
                },
                GUILD_DIRECTORY_ENTRY_DELETE: function(e) {
                    var t, n;
                    let {
                        channelId: l,
                        guildId: a
                    } = e, s = null === (t = o[l]) || void 0 === t ? void 0 : t[a];
                    if (null == s) return;
                    let i = s.primaryCategoryId,
                        r = Object.assign({}, o[l]);
                    delete r[a], null === (n = h[l]) || void 0 === n || n.delete(a), h[l] = new Set(h[l]), o[l] = r;
                    let u = Object.assign({}, c[l][i]);
                    if (delete u[a], c[l] = {
                            ...c[l],
                            [i]: u
                        }, null != f[l]) {
                        let e = f[l][i] - 1;
                        f[l] = {
                            ...f[l],
                            [i]: e >= 0 ? e : 0
                        }
                    }
                },
                GUILD_DIRECTORY_ENTRY_UPDATE: function(e) {
                    var t, n, l, a, r, u, d, h, p;
                    let {
                        channelId: m,
                        entry: E
                    } = e, C = (0, s.guildDirectoryEntryFromServer)(E), g = null === (t = o[m]) || void 0 === t ? void 0 : t[C.guildId];
                    o[m] = {
                        ...o[m],
                        [C.guildId]: {
                            ...g,
                            ...C
                        }
                    };
                    let S = null !== (a = null == g ? void 0 : g.primaryCategoryId) && void 0 !== a ? a : i.DirectoryEntryCategories.UNCATEGORIZED,
                        _ = null !== (r = C.primaryCategoryId) && void 0 !== r ? r : i.DirectoryEntryCategories.UNCATEGORIZED,
                        I = Object.assign({}, null === (n = c[m]) || void 0 === n ? void 0 : n[S]);
                    null != g && S !== _ && delete I[C.guildId], c[m] = {
                        ...c[m],
                        [S]: I,
                        [_]: {
                            ...null === (l = c[m]) || void 0 === l ? void 0 : l[_],
                            [C.guildId]: {
                                ...g,
                                ...C
                            }
                        }
                    }, _ !== S && null != f[m] && (f[m] = {
                        ...f[m],
                        [S]: (null === (u = f[m]) || void 0 === u ? void 0 : u[S]) > 0 ? (null === (d = f[m]) || void 0 === d ? void 0 : d[S]) - 1 : 0,
                        [_]: (null !== (p = null === (h = f[m]) || void 0 === h ? void 0 : h[_]) && void 0 !== p ? p : 0) + 1
                    })
                },
                GUILD_DIRECTORY_CATEGORY_SELECT: function(e) {
                    let {
                        channelId: t,
                        categoryId: n
                    } = e;
                    d[t] = n
                },
                GUILD_DIRECTORY_COUNTS_FETCH_SUCCESS: function(e) {
                    let {
                        channelId: t,
                        counts: n
                    } = e;
                    f[t] = n
                },
                GUILD_DIRECTORY_ADMIN_ENTRIES_FETCH_SUCCESS: function(e) {
                    let {
                        channelId: t,
                        entries: n
                    } = e, l = new Set;
                    n.forEach(e => {
                        let t = (0, s.guildDirectoryEntryFromServer)(e);
                        l.add(t.guildId)
                    }), h[t] = l
                }
            })
        },
        513688: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                guildDirectoryEntryFromServer: function() {
                    return u
                },
                MAX_CATEGORY_SERVERS: function() {
                    return o
                },
                orderByTotalMemberCount: function() {
                    return d
                },
                rankByDateAdded: function() {
                    return c
                },
                rankGuildEntries: function() {
                    return f
                },
                hasMinimumMemberCount: function() {
                    return h
                }
            });
            var l = n("627445"),
                a = n.n(l),
                s = n("917351"),
                i = n.n(s),
                r = n("730647");

            function u(e) {
                var t, n, l, s, i, u, o;
                return a(e.type === r.DirectoryEntryTypes.GUILD, "Directory entries must be connected to a guild!"), {
                    channelId: e.directory_channel_id,
                    guildId: e.entity_id,
                    type: e.type,
                    authorId: e.author_id,
                    createdAt: e.created_at,
                    description: e.description,
                    primaryCategoryId: e.primary_category_id,
                    name: null === (t = e.guild) || void 0 === t ? void 0 : t.name,
                    icon: null === (n = e.guild) || void 0 === n ? void 0 : n.icon,
                    splash: null === (l = e.guild) || void 0 === l ? void 0 : l.splash,
                    features: new Set(null === (s = e.guild) || void 0 === s ? void 0 : s.features),
                    approximateMemberCount: null === (i = e.guild) || void 0 === i ? void 0 : i.approximate_member_count,
                    approximatePresenceCount: null === (u = e.guild) || void 0 === u ? void 0 : u.approximate_presence_count,
                    featurableInDirectory: null === (o = e.guild) || void 0 === o ? void 0 : o.featurable_in_directory
                }
            }
            let o = 5;

            function d(e) {
                return i.orderBy(e, [e => e.approximateMemberCount], ["desc"])
            }

            function c(e) {
                var t;
                let n = e.filter(e => e.featurableInDirectory && h(e));
                return (t = n, i.orderBy(t, [e => e.createdAt], ["desc"])).slice(0, o)
            }

            function f(e) {
                return d(e)
            }

            function h(e) {
                var t;
                return (null !== (t = e.approximateMemberCount) && void 0 !== t ? t : 0) >= 5
            }
        },
        187163: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                },
                useCanCreateOrAddGuildInDirectory: function() {
                    return o
                }
            });
            var l = n("446674"),
                a = n("42203"),
                s = n("305961"),
                i = n("957255"),
                r = n("49111");

            function u(e) {
                let t = (0, l.useStateFromStores)([s.default], () => s.default.getGuild(e.guildId)),
                    n = (0, l.useStateFromStores)([a.default], () => a.default.getChannel(e.channelId)),
                    u = (0, l.useStateFromStores)([i.default], () => i.default.can(r.Permissions.ADMINISTRATOR, t)),
                    o = (0, l.useStateFromStores)([i.default], () => i.default.can(r.Permissions.MANAGE_MESSAGES, n));
                return {
                    isEntryAdmin: u,
                    canEdit: u || o,
                    canRemove: u || o
                }
            }

            function o(e) {
                return (0, l.useStateFromStores)([i.default], () => i.default.can(r.Permissions.SEND_MESSAGES, e))
            }
        },
        40635: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return N
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("446674"),
                i = n("77078"),
                r = n("913144"),
                u = n("267363"),
                o = n("27978"),
                d = n("660478"),
                c = n("599110"),
                f = n("15433"),
                h = n("71102"),
                p = n("393467"),
                m = n("209397"),
                E = n("187163"),
                C = n("132615"),
                g = n("663685"),
                S = n("516056"),
                _ = n("30176"),
                I = n("730647"),
                T = n("49111"),
                x = n("512233"),
                N = e => {
                    var t;
                    let {
                        channel: N,
                        guild: v
                    } = e, {
                        currentCategoryId: A,
                        directoryEntries: M,
                        categoryCounts: R,
                        allEntriesCount: L,
                        isLoading: j
                    } = (0, s.useStateFromStoresObject)([m.default], () => {
                        let e = m.default.getCurrentCategoryId(N.id),
                            t = m.default.getDirectoryEntries(N.id, e === I.DirectoryEntryCategories.ALL ? null : e),
                            n = m.default.getDirectoryCategoryCounts(N.id),
                            l = m.default.getDirectoryAllEntriesCount(N.id),
                            a = m.default.isFetching();
                        return {
                            currentCategoryId: e,
                            directoryEntries: t,
                            categoryCounts: n,
                            allEntriesCount: l,
                            isLoading: a
                        }
                    });
                    a.useEffect(() => () => {
                        let e = d.default.lastMessageId(N.id);
                        null != e && r.default.wait(() => {
                            (0, u.ack)(N.id, !0, !0, e)
                        })
                    }, [N.id]);
                    let O = a.useMemo(() => null != M ? (0, S.generateDirectoryRows)(Object.values(M), A) : null, [M, A]),
                        {
                            mostRecentQuery: y,
                            searchFetching: P,
                            searchResults: D
                        } = (0, s.useStateFromStoresObject)([p.default], () => {
                            let {
                                mostRecentQuery: e,
                                fetching: t
                            } = p.default.getSearchState(N.id);
                            return {
                                mostRecentQuery: e,
                                searchFetching: t,
                                searchResults: p.default.getSearchResults(N.id, e)
                            }
                        }),
                        [b, U] = a.useState(y),
                        w = "" !== y,
                        {
                            showHubEventsList: F
                        } = o.default.useExperiment({
                            guildId: null !== (t = v.id) && void 0 !== t ? t : "",
                            location: "6f7fb0_1"
                        }, {
                            autoTrackExposure: !1
                        });
                    a.useEffect(() => {
                        h.fetchDirectoryEntries(N.id), h.fetchDirectoryCounts(N.id), F && f.fetchDirectoryEntries(N.id), U(y)
                    }, [N.id]), a.useEffect(() => {
                        c.default.track(T.AnalyticEvents.GUILD_DIRECTORY_CHANNEL_VIEWED, {
                            directory_channel_id: N.id,
                            directory_guild_id: v.id,
                            primary_category_id: A
                        })
                    }, [N.id, v.id, A]);
                    let G = (0, E.useCanCreateOrAddGuildInDirectory)(N),
                        B = G ? () => {
                            (0, i.openModalLazy)(async () => {
                                let {
                                    default: e
                                } = await n.el("467085").then(n.bind(n, "467085"));
                                return t => (0, l.jsx)(e, {
                                    ...t,
                                    directoryGuildName: v.name,
                                    directoryGuildId: v.id,
                                    directoryChannelId: N.id,
                                    currentCategoryId: A === I.DirectoryEntryCategories.ALL ? null : A
                                })
                            })
                        } : void 0,
                        k = e => {
                            0 !== b.trim().length && e.charCode === T.KeyboardKeys.ENTER && (h.searchDirectoryEntries(N.id, b), c.default.track(T.AnalyticEvents.GUILD_DIRECTORY_SEARCH, {
                                directory_channel_id: N.id,
                                directory_guild_id: v.id
                            }))
                        },
                        H = () => {
                            U(""), h.clearDirectorySearch(N.id)
                        };
                    return w ? (0, l.jsx)(_.default, {
                        searchQuery: b,
                        setSearchQuery: U,
                        mostRecentQuery: y,
                        handleSearchKeyPress: k,
                        handleClearSearch: H,
                        handleCreateOrAddGuild: B,
                        searchResults: D,
                        searchFetching: P
                    }) : null == O && null == A ? (0, l.jsx)("div", {
                        className: x.pageContainer,
                        children: (0, l.jsx)(i.Spinner, {
                            className: x.spinner
                        })
                    }) : (null == O ? void 0 : O.length) === 0 && null == A ? (0, l.jsx)("div", {
                        className: x.pageContainer,
                        children: (0, l.jsx)(C.default, {
                            guild: v,
                            onAddGuild: B
                        })
                    }) : (0, l.jsx)(g.default, {
                        channel: N,
                        searchQuery: b,
                        setSearchQuery: U,
                        handleSearchKeyPress: k,
                        handleClearSearch: H,
                        handleCreateOrAddGuild: B,
                        currentCategoryId: A,
                        handleSelectCategory: e => {
                            h.selectDirectoryCategory(N.id, e)
                        },
                        directoryEntries: O,
                        categoryCounts: R,
                        allEntriesCount: L,
                        isLoading: j
                    })
                }
        },
        132615: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("77078"),
                i = n("952999"),
                r = n("49111"),
                u = n("782340"),
                o = n("760472"),
                d = e => {
                    let {
                        guild: t,
                        onAddGuild: d
                    } = e, c = a.useCallback(() => {
                        (0, s.openModalLazy)(async () => {
                            let {
                                default: e
                            } = await n.el("310688").then(n.bind(n, "310688"));
                            return n => (0, l.jsx)(e, {
                                ...n,
                                guild: t,
                                source: r.InstantInviteSources.HUB_DIRECTORY,
                                analyticsLocation: {
                                    section: r.AnalyticsSections.HUB_WELCOME_CTA
                                }
                            })
                        })
                    }, [t]);
                    return (0, l.jsxs)("div", {
                        className: o.emptyWrapper,
                        children: [(0, l.jsx)("img", {
                            className: o.emptyImage,
                            alt: "",
                            src: n("704176")
                        }), (0, l.jsx)(s.Heading, {
                            className: o.emptyTitle,
                            variant: "heading-xl/semibold",
                            children: u.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_TITLE.format({
                                guildName: t.name
                            })
                        }), (0, l.jsx)(s.Text, {
                            variant: "text-md/normal",
                            className: o.emptySubtitle,
                            children: u.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_SUBTITLE
                        }), null != d ? (0, l.jsx)(i.WelcomeMessageCTA, {
                            className: o.emptyCTA,
                            iconUrl: n("233135"),
                            header: u.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_ADD_SERVER,
                            completed: !1,
                            onClick: d
                        }) : null, (0, l.jsx)(i.WelcomeMessageCTA, {
                            className: o.emptyCTA,
                            iconUrl: n("243826"),
                            header: u.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_INVITE,
                            completed: !1,
                            onClick: c
                        })]
                    })
                }
        },
        791679: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                AddEntryCard: function() {
                    return R
                },
                default: function() {
                    return j
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("446674"),
                u = n("77078"),
                o = n("272030"),
                d = n("851387"),
                c = n("407063"),
                f = n("239380"),
                h = n("813006"),
                p = n("305961"),
                m = n("580357"),
                E = n("109024"),
                C = n("433487"),
                g = n("987772"),
                S = n("587974"),
                _ = n("149279"),
                I = n("315102"),
                T = n("187163"),
                x = n("175703"),
                N = n("49111"),
                v = n("782340"),
                A = n("477362"),
                M = n("712967");
            let R = e => {
                let {
                    onClick: t
                } = e;
                return (0, l.jsxs)(u.Clickable, {
                    onClick: t,
                    className: A.addEntryCard,
                    children: [(0, l.jsx)("img", {
                        alt: "",
                        src: M
                    }), (0, l.jsx)(u.Text, {
                        variant: "text-sm/semibold",
                        color: "header-primary",
                        className: A.addServerText,
                        children: v.default.Messages.HUB_ADD_SERVER_CTA
                    })]
                })
            };

            function L(e) {
                let {
                    entry: t
                } = e, [s, r] = a.useState(!1), {
                    canEdit: o
                } = (0, T.default)(t);
                return (0, l.jsx)("div", {
                    className: i(A.actionButtonsContainer, {
                        [A.forceButtonsShow]: s
                    }),
                    children: (0, l.jsxs)(_.default, {
                        children: [o ? (0, l.jsx)(u.Tooltip, {
                            text: v.default.Messages.HUB_ENTRY_UPDATE,
                            hideOnClick: !0,
                            children: e => {
                                let {
                                    onClick: a,
                                    ...s
                                } = e;
                                return (0, l.jsx)(_.Button, {
                                    ...s,
                                    onClick: () => {
                                        null == a || a(), (0, u.openModalLazy)(async () => {
                                            let {
                                                default: e
                                            } = await n.el("895792").then(n.bind(n, "895792"));
                                            return n => (0, l.jsx)(e, {
                                                ...n,
                                                entry: t
                                            })
                                        })
                                    },
                                    "aria-label": v.default.Messages.HUB_ENTRY_UPDATE,
                                    children: (0, l.jsx)(g.default, {
                                        className: A.overflowIcon
                                    })
                                })
                            }
                        }) : null, (0, l.jsx)(x.default, {
                            onRequestOpen: () => r(!0),
                            onRequestClose: () => r(!1),
                            entry: t,
                            hideEditButton: !0,
                            children: e => {
                                let {
                                    onClick: t,
                                    ...n
                                } = e;
                                return (0, l.jsx)(u.Tooltip, {
                                    text: v.default.Messages.MORE,
                                    hideOnClick: !0,
                                    children: e => {
                                        let {
                                            onClick: a,
                                            ...s
                                        } = e;
                                        return (0, l.jsx)(_.Button, {
                                            ...n,
                                            ...s,
                                            onClick: e => {
                                                null == a || a(), t(e)
                                            },
                                            "aria-label": v.default.Messages.MORE,
                                            children: (0, l.jsx)(C.default, {
                                                className: A.overflowIcon
                                            })
                                        })
                                    }
                                })
                            }
                        })]
                    })
                })
            }
            var j = e => {
                var t;
                let {
                    entry: s
                } = e, [i, C] = a.useState(!1), g = (0, r.useStateFromStores)([p.default], () => p.default.getGuild(s.guildId)), _ = null != g, T = async () => {
                    C(!0);
                    try {
                        _ ? (0, f.transitionToGuild)(s.guildId) : await d.default.joinGuild(s.guildId, {
                            source: N.JoinGuildSources.DIRECTORY_ENTRY
                        })
                    } finally {
                        C(!1)
                    }
                }, x = I.default.getGuildSplashURL({
                    id: s.guildId,
                    splash: s.splash,
                    size: 300 * (0, c.getDevicePixelRatio)()
                }), M = null !== (t = I.default.getGuildIconURL({
                    id: s.guildId,
                    icon: s.icon,
                    size: 40
                })) && void 0 !== t ? t : void 0, R = v.default.Messages.JOIN;
                return _ && (R = v.default.Messages.HUB_DIRECTORY_CARD_JOINED_GUILD_BUTTON), (0, l.jsxs)("div", {
                    className: A.card,
                    onContextMenu: e => {
                        (0, o.openContextMenuLazy)(e, async () => {
                            let {
                                default: e
                            } = await n.el("184727").then(n.bind(n, "184727"));
                            return t => (0, l.jsx)(e, {
                                ...t,
                                entry: s
                            })
                        })
                    },
                    children: [(0, l.jsxs)("div", {
                        className: A.cardHeader,
                        children: [(0, l.jsx)("div", {
                            className: A.splash,
                            children: null != x && (0, l.jsx)("img", {
                                src: x,
                                alt: "",
                                className: A.splashImage
                            })
                        }), (0, l.jsx)("div", {
                            className: A.guildIcon,
                            children: (0, l.jsx)(S.default, {
                                mask: S.default.Masks.SQUIRCLE,
                                width: 48,
                                height: 48,
                                children: (0, l.jsx)("div", {
                                    className: A.iconMask,
                                    children: (0, l.jsx)(E.default, {
                                        className: A.icon,
                                        iconSrc: M,
                                        guild: new h.default(s),
                                        size: E.default.Sizes.MEDIUM,
                                        active: !0
                                    })
                                })
                            })
                        })]
                    }), (0, l.jsxs)("div", {
                        className: A.guildInfo,
                        children: [(0, l.jsxs)("div", {
                            className: A.title,
                            children: [(0, l.jsx)(m.default, {
                                className: A.guildBadge,
                                guild: s,
                                tooltipColor: u.Tooltip.Colors.PRIMARY
                            }), (0, l.jsx)(u.Text, {
                                className: A.guildName,
                                variant: "heading-md/semibold",
                                color: "header-primary",
                                children: s.name
                            })]
                        }), (0, l.jsx)(u.Text, {
                            className: A.description,
                            variant: "text-sm/normal",
                            color: "header-secondary",
                            children: s.description
                        }), (0, l.jsxs)("div", {
                            className: A.memberInfo,
                            children: [null != s.approximatePresenceCount && (0, l.jsxs)("div", {
                                className: A.memberCount,
                                children: [(0, l.jsx)("div", {
                                    className: A.dotOnline
                                }), (0, l.jsx)(u.Text, {
                                    variant: "text-xs/normal",
                                    color: "header-secondary",
                                    children: v.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({
                                        membersOnline: s.approximatePresenceCount
                                    })
                                })]
                            }), null != s.approximateMemberCount && (0, l.jsxs)("div", {
                                className: A.memberCount,
                                children: [(0, l.jsx)("div", {
                                    className: A.dotOffline
                                }), (0, l.jsx)(u.Text, {
                                    variant: "text-xs/normal",
                                    color: "header-secondary",
                                    children: v.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({
                                        count: s.approximateMemberCount
                                    })
                                })]
                            })]
                        }), (0, l.jsx)(u.Button, {
                            submitting: i,
                            className: A.joinButton,
                            color: _ ? u.Button.Colors.PRIMARY : u.Button.Colors.GREEN,
                            onClick: T,
                            children: R
                        })]
                    }), (0, l.jsx)(L, {
                        entry: s
                    })]
                })
            }
        },
        184727: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return h
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("77078"),
                i = n("272030"),
                r = n("861370"),
                u = n("377114"),
                o = n("907566"),
                d = n("71102"),
                c = n("187163"),
                f = n("782340");

            function h(e) {
                let {
                    entry: t,
                    onSelect: h,
                    closePopout: p,
                    forceLightTheme: m,
                    hideEditButton: E = !1
                } = e, {
                    isEntryAdmin: C,
                    canEdit: g,
                    canRemove: S
                } = (0, c.default)(t), _ = (0, r.default)({
                    id: t.guildId,
                    label: f.default.Messages.COPY_ID_GUILD,
                    onSuccess: p
                });
                a.useEffect(() => {
                    !g && !S && null == _ && (0, i.closeContextMenu)()
                });
                let I = () => {
                    d.removeDirectoryGuildEntry(t.channelId, t.guildId)
                };

                function T() {
                    (0, i.closeContextMenu)(), null == p || p()
                }
                return (0, l.jsxs)(s.Menu, {
                    className: m ? "theme-light" : null,
                    navId: "guild-entry-context",
                    onClose: T,
                    "aria-label": f.default.Messages.GUILD_ACTIONS_MENU_LABEL,
                    onSelect: h,
                    children: [(0, l.jsxs)(s.MenuGroup, {
                        children: [g && !E ? (0, l.jsx)(s.MenuItem, {
                            id: "update-entry",
                            label: f.default.Messages.HUB_ENTRY_UPDATE,
                            action: function() {
                                (0, s.openModalLazy)(async () => {
                                    let {
                                        default: e
                                    } = await n.el("895792").then(n.bind(n, "895792"));
                                    return n => (0, l.jsx)(e, {
                                        ...n,
                                        entry: t
                                    })
                                }), T()
                            }
                        }) : null, S ? (0, l.jsx)(s.MenuItem, {
                            id: "remove-from-hub",
                            label: f.default.Messages.HUB_ENTRY_REMOVE,
                            action: function() {
                                (0, s.openModal)(e => (0, l.jsx)(s.ConfirmModal, {
                                    header: f.default.Messages.HUB_ENTRY_REMOVE,
                                    confirmText: f.default.Messages.REMOVE,
                                    cancelText: f.default.Messages.CANCEL,
                                    onConfirm: I,
                                    ...e,
                                    children: (0, l.jsx)(s.Text, {
                                        variant: "text-md/normal",
                                        children: f.default.Messages.HUB_ENTRY_REMOVE_BODY.format({
                                            guildName: t.name
                                        })
                                    })
                                })), T()
                            },
                            color: "danger"
                        }) : null, C ? null : (0, l.jsx)(l.Fragment, {
                            children: (0, l.jsx)(s.MenuItem, {
                                id: "report-server-listing",
                                label: f.default.Messages.REPORT_SERVER_NO_NAME,
                                action: function() {
                                    null != t && ((0, u.showReportModalForGuildDirectoryEntry)(t), T())
                                },
                                icon: o.default,
                                color: "danger"
                            })
                        })]
                    }), (0, l.jsx)(s.MenuGroup, {
                        children: _
                    })]
                })
            }
        },
        175703: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("77078"),
                s = n("184727"),
                i = e => {
                    let {
                        entry: t,
                        forceLightTheme: n,
                        hideEditButton: i,
                        children: r,
                        onRequestOpen: u,
                        onRequestClose: o
                    } = e;
                    return (0, l.jsx)(a.Popout, {
                        onRequestOpen: u,
                        onRequestClose: o,
                        animation: a.Popout.Animation.NONE,
                        position: "bottom",
                        spacing: 4,
                        align: "right",
                        renderPopout: e => {
                            let {
                                closePopout: a
                            } = e;
                            return (0, l.jsx)(s.default, {
                                entry: t,
                                closePopout: a,
                                forceLightTheme: n,
                                hideEditButton: i
                            })
                        },
                        children: r
                    })
                }
        },
        663685: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return N
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("65597"),
                u = n("77078"),
                o = n("737960"),
                d = n("305961"),
                c = n("957255"),
                f = n("646240"),
                h = n("315102"),
                p = n("791679"),
                m = n("730647"),
                E = n("49111"),
                C = n("782340"),
                g = n("512233"),
                S = n("373586"),
                _ = n("981726"),
                I = n("529547");
            let T = (0, o.default)(e => {
                let {
                    searchQuery: t,
                    setSearchQuery: n,
                    handleClearSearch: a,
                    handleSearchKeyPress: s,
                    width: r
                } = e, o = null != r && r <= 800;
                return (0, l.jsxs)("div", {
                    className: S.header,
                    children: [(0, l.jsx)("img", {
                        alt: "",
                        className: S.headerImage,
                        src: o ? I : _
                    }), (0, l.jsx)("div", {
                        className: S.headerContentWrapper,
                        children: (0, l.jsxs)("div", {
                            className: i(S.headerContent, {
                                [S.headerContentSmall]: o
                            }),
                            children: [(0, l.jsx)(u.Heading, {
                                variant: "heading-xl/semibold",
                                className: S.searchTitle,
                                children: C.default.Messages.HUB_DIRECTORY_SEARCH_TITLE
                            }), (0, l.jsx)(u.Text, {
                                variant: "text-md/normal",
                                className: S.searchSubtitle,
                                children: C.default.Messages.HUB_DIRECTORY_SEARCH_SUBTITLE
                            }), (0, l.jsx)(f.default, {
                                searchTerm: t,
                                className: S.searchBox,
                                inputClassName: S.searchBoxInput,
                                closeIconClassName: S.closeIcon,
                                searchIconClassName: S.searchIcon,
                                label: C.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,
                                placeholder: C.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,
                                onChange: n,
                                onClear: a,
                                onKeyPress: s,
                                cta: null != t && t.length > 0 ? C.default.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA : null
                            })]
                        })
                    })]
                })
            });

            function x(e) {
                var t, n;
                let {
                    guild: a,
                    directoryEntries: s,
                    handleCreateOrAddGuild: o,
                    isLoading: d
                } = e, f = (0, r.default)([c.default], () => c.default.can(E.Permissions.ADMINISTRATOR, a)), m = [];
                null != s && s.forEach(e => {
                    m = m.concat(e.entries)
                }), m.sort((e, l) => (null !== (t = l.approximateMemberCount) && void 0 !== t ? t : 0) - (null !== (n = e.approximateMemberCount) && void 0 !== n ? n : 0));
                let _ = h.default.getGuildSplashURL({
                    id: a.id,
                    splash: a.splash
                });
                return (0, l.jsx)("div", {
                    className: g.pageContainer,
                    children: (0, l.jsxs)(u.AdvancedScrollerAuto, {
                        className: g.scroller,
                        children: [(0, l.jsxs)("div", {
                            className: S.header,
                            children: [null != _ ? (0, l.jsx)("img", {
                                alt: "",
                                className: i(S.headerImage, S.headerImageSimple),
                                src: _
                            }) : null, (0, l.jsx)("div", {
                                className: S.headerImageBG
                            }), (0, l.jsx)("div", {
                                className: S.headerContentWrapper,
                                children: (0, l.jsx)("div", {
                                    className: i(S.headerContent, S.headerContentSmall),
                                    children: (0, l.jsx)(u.Heading, {
                                        variant: "heading-xl/semibold",
                                        color: "always-white",
                                        children: C.default.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({
                                            categoryName: "Midjourney"
                                        })
                                    })
                                })
                            })]
                        }), d && null == s ? (0, l.jsx)(u.Spinner, {
                            className: g.spinner
                        }) : (0, l.jsxs)("div", {
                            className: g.cardsContainer,
                            children: [m.map(e => (0, l.jsx)(p.default, {
                                entry: e
                            }, e.guildId)), f && null != o ? (0, l.jsx)(p.AddEntryCard, {
                                onClick: o
                            }) : null]
                        })]
                    })
                })
            }
            var N = e => {
                let {
                    channel: t,
                    directoryEntries: n,
                    handleCreateOrAddGuild: s,
                    searchQuery: i,
                    setSearchQuery: o,
                    handleClearSearch: c,
                    handleSearchKeyPress: f,
                    currentCategoryId: h,
                    handleSelectCategory: _,
                    categoryCounts: I,
                    allEntriesCount: N,
                    isLoading: v
                } = e, A = (0, r.default)([d.default], () => d.default.getGuild(t.getGuildId()));
                return null != A && A.hasFeature(E.GuildFeatures.SHARD) ? (0, l.jsx)(x, {
                    guild: A,
                    directoryEntries: n,
                    handleCreateOrAddGuild: s,
                    isLoading: v
                }) : (0, l.jsx)("div", {
                    className: g.pageContainer,
                    children: (0, l.jsxs)(u.AdvancedScrollerAuto, {
                        className: g.scroller,
                        children: [(0, l.jsx)(T, {
                            searchQuery: i,
                            setSearchQuery: o,
                            handleClearSearch: c,
                            handleSearchKeyPress: f
                        }), (0, l.jsx)(u.AdvancedScrollerThin, {
                            orientation: "horizontal",
                            children: (0, l.jsxs)(u.TabBar, {
                                className: S.tabBar,
                                type: "top",
                                look: "brand",
                                selectedItem: h,
                                onItemSelect: e => {
                                    _(e)
                                },
                                children: [(0, l.jsx)(u.TabBar.Item, {
                                    className: S.tabBarItem,
                                    id: m.DirectoryEntryCategories.ALL,
                                    children: "".concat(C.default.Messages.DIRECTORY_CATEGORY_ALL, " (").concat(N, ")")
                                }, m.DirectoryEntryCategories.ALL), (0, m.getHubCategories)(t.id).map(e => {
                                    let {
                                        value: t,
                                        label: n
                                    } = e;
                                    return (0, l.jsx)(u.TabBar.Item, {
                                        className: S.tabBarItem,
                                        id: t,
                                        children: "".concat(n, " ").concat(null != I[t] ? "(".concat(I[t], ")") : "")
                                    }, t)
                                })]
                            })
                        }), v && null == n ? (0, l.jsx)(u.Spinner, {
                            className: g.spinner
                        }) : null == n ? void 0 : n.map((e, t) => (0, l.jsxs)(a.Fragment, {
                            children: [void 0 !== e.header ? (0, l.jsx)(u.Text, {
                                variant: "text-md/semibold",
                                className: S.sectionHeader,
                                children: e.header
                            }) : null, (0, l.jsxs)("div", {
                                className: g.cardsContainer,
                                children: [e.entries.map(e => (0, l.jsx)(p.default, {
                                    entry: e
                                }, e.guildId)), e.appendEndCard && null != s ? (0, l.jsx)(p.AddEntryCard, {
                                    onClick: s
                                }) : null]
                            })]
                        }, t))]
                    })
                })
            }
        },
        516056: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                generateDirectoryRows: function() {
                    return i
                }
            });
            var l = n("513688"),
                a = n("730647"),
                s = n("782340");

            function i(e, t) {
                if (t !== a.DirectoryEntryCategories.ALL) return [{
                    entries: (0, l.rankGuildEntries)(e),
                    appendEndCard: !0
                }];
                let n = [],
                    i = (0, l.rankByDateAdded)(e),
                    r = new Set(i.map(e => e.guildId));
                i.length > 0 && n.push({
                    header: s.default.Messages.SEARCH_NEWEST,
                    entries: i,
                    appendEndCard: !1
                });
                let u = e.filter(e => !r.has(e.guildId));
                return (u = (0, l.orderByTotalMemberCount)(u)).length > 0 && n.push({
                    header: s.default.Messages.ALL_SERVERS,
                    entries: u,
                    appendEndCard: !0
                }), n
            }
        },
        30176: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("77078"),
                s = n("646240"),
                i = n("246053"),
                r = n("791679"),
                u = n("782340"),
                o = n("512233"),
                d = n("64298"),
                c = n("16873"),
                f = e => {
                    let t, {
                        searchQuery: n,
                        setSearchQuery: f,
                        mostRecentQuery: h,
                        handleClearSearch: p,
                        handleSearchKeyPress: m,
                        handleCreateOrAddGuild: E,
                        searchResults: C,
                        searchFetching: g
                    } = e;
                    if (g) t = (0, l.jsx)("div", {
                        className: o.pageContainer,
                        children: (0, l.jsx)(a.Spinner, {
                            className: o.spinner
                        })
                    });
                    else if (0 === C.length) {
                        let e = null != E ? u.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_SUBTITLE.format({
                            addServerHook: function(e, t) {
                                return (0, l.jsx)(a.Anchor, {
                                    onClick: E,
                                    children: e
                                }, t)
                            }
                        }) : u.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_NO_ADD;
                        t = (0, l.jsxs)("div", {
                            className: d.emptySearchWrapper,
                            children: [(0, l.jsx)("img", {
                                className: d.emptySearchImage,
                                alt: "",
                                src: c
                            }), (0, l.jsx)(a.Heading, {
                                variant: "heading-xl/semibold",
                                color: "header-primary",
                                className: d.emptySearchTitle,
                                children: u.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_TITLE
                            }), (0, l.jsx)(a.Text, {
                                variant: "text-md/normal",
                                color: "header-secondary",
                                className: d.emptySearchSubtitle,
                                children: e
                            })]
                        })
                    } else t = (0, l.jsx)("div", {
                        className: o.cardsContainer,
                        children: C.map(e => (0, l.jsx)(r.default, {
                            entry: e
                        }, e.guildId))
                    });
                    return (0, l.jsx)("div", {
                        className: o.pageContainer,
                        children: (0, l.jsxs)(a.ScrollerAuto, {
                            className: o.scroller,
                            children: [(0, l.jsxs)("div", {
                                className: d.searchHeader,
                                children: [(0, l.jsxs)("div", {
                                    className: d.headerTitleWrapper,
                                    children: [(0, l.jsx)(a.Clickable, {
                                        onClick: p,
                                        className: d.arrow,
                                        children: (0, l.jsx)(i.default, {
                                            direction: i.default.Directions.LEFT
                                        })
                                    }), (0, l.jsx)(a.Heading, {
                                        variant: "heading-xl/semibold",
                                        className: d.searchPageTitle,
                                        children: u.default.Messages.DIRECTORY_SEARCH_RESULTS_HEADER.format({
                                            numResults: C.length,
                                            query: h
                                        })
                                    })]
                                }), (0, l.jsx)(s.default, {
                                    searchTerm: n,
                                    className: d.searchPageBox,
                                    inputClassName: d.searchPageInput,
                                    label: u.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,
                                    placeholder: u.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,
                                    onChange: f,
                                    onClear: p,
                                    onKeyPress: m,
                                    cta: null != n && n.length > 0 ? u.default.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA : null
                                })]
                            }), t]
                        })
                    })
                }
        },
        526812: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var l = n("446674"),
                a = n("913144");
            let s = new Set;
            class i extends l.default.PersistedStore {
                initialize(e) {
                    null != e && (s = new Set(e))
                }
                hasHidden(e) {
                    return s.has(e)
                }
                getState() {
                    return s
                }
            }
            i.displayName = "ForumChannelAdminOnboardingGuideStore", i.persistKey = "ForumChannelAdminOnboardingGuideStore";
            var r = new i(a.default, {
                ADMIN_ONBOARDING_GUIDE_HIDE: function(e) {
                    let {
                        channelId: t,
                        hide: n
                    } = e;
                    n ? s.add(t) : s.delete(t)
                }
            })
        },
        258039: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                isOnboardingDismissed: function() {
                    return i
                }
            });
            var l = n("866227"),
                a = n.n(l),
                s = n("249654");
            let i = e => {
                let t = s.default.extractTimestamp(e),
                    n = a().isBefore(a(t).add(a.duration(15, "days")));
                return !n
            }
        },
        327432: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return I
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("446674"),
                i = n("272030"),
                r = n("264732"),
                u = n("679653"),
                o = n("176347"),
                d = n("850391"),
                c = n("557809"),
                f = n("393414"),
                h = n("503220"),
                p = n("42203"),
                m = n("474643"),
                E = n("305961"),
                C = n("664336"),
                g = n("867965"),
                S = n("782340"),
                _ = n("435599");

            function I(e) {
                let {
                    channelId: t
                } = e, I = (0, s.useStateFromStores)([p.default], () => p.default.getChannel(t)), T = (0, s.useStateFromStores)([p.default], () => p.default.getChannel(null == I ? void 0 : I.parent_id)), x = (0, s.useStateFromStores)([E.default], () => E.default.getGuild(null == I ? void 0 : I.getGuildId())), N = (0, u.default)(I), v = a.useRef(!1);
                if (a.useEffect(() => {
                        null != I && !v.current && (v.current = !0, (0, g.trackForumPostSidebarViewed)(I))
                    }, [I]), null == I || null == x) return null;
                let A = (0, l.jsx)(h.default, {
                    channel: I
                });
                return (0, l.jsxs)(l.Fragment, {
                    children: [(0, l.jsx)(r.default, {
                        channel: I,
                        draftType: m.DraftType.ChannelMessage
                    }), (0, l.jsx)(C.default, {
                        toolbar: A,
                        "aria-label": S.default.Messages.THREAD_HEADER_BAR_A11Y_LABEL,
                        children: (0, c.renderTitle)({
                            channel: I,
                            parentChannel: T,
                            channelName: N,
                            guild: x,
                            inSidebar: !0,
                            handleContextMenu: function(e) {
                                (0, i.openContextMenuLazy)(e, async () => {
                                    let {
                                        default: e
                                    } = await n.el("994827").then(n.bind(n, "994827"));
                                    return t => (0, l.jsx)(e, {
                                        ...t,
                                        channel: I
                                    })
                                })
                            },
                            handleClick: function() {
                                null != I && (0, f.transitionToGuild)(I.guild_id, I.id)
                            }
                        })
                    }), (0, l.jsx)("div", {
                        className: _.chat,
                        children: (0, l.jsx)(o.default, {
                            channel: I,
                            guild: x,
                            chatInputType: d.ChatInputTypes.SIDEBAR
                        }, t)
                    })]
                })
            }
        },
        845038: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return s
                }
            });
            var l = n("171644"),
                a = n("782340");

            function s(e) {
                switch (e) {
                    case l.GameConsoleTypes.XBOX:
                        return a.default.Messages.XBOX_REMOTE_CONNECTED_RAW;
                    case l.GameConsoleTypes.PLAYSTATION:
                        return a.default.Messages.PLAYSTATION_REMOTE_CONNECTED_RAW
                }
            }
        },
        889486: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                handoffRemote: function() {
                    return d
                }
            });
            var l = n("627445"),
                a = n.n(l),
                s = n("629109"),
                i = n("987317"),
                r = n("42887"),
                u = n("700507"),
                o = n("780338");

            function d(e, t) {
                var n;
                let l = null !== (n = e.sessionId) && void 0 !== n ? n : "";
                (0, u.remoteDisconnect)(l), (0, u.disconnectRemote)();
                let d = null != t ? t : e.channelId;
                a(null != d, "attempted to transfer to unknown channel"), e.selfMute !== r.default.isSelfMute() && s.default.toggleSelfMute(), e.selfDeaf !== r.default.isSelfDeaf() && s.default.toggleSelfDeaf(), (0, o.default)(d, "discord_client", l), i.default.selectVoiceChannel(d, !1)
            }
        },
        742898: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var l = n("446674"),
                a = n("47319"),
                s = n("449008"),
                i = n("49111");

            function r() {
                return (0, l.useStateFromStoresArray)([a.default], () => [a.default.getAccount(null, i.PlatformTypes.XBOX), a.default.getAccount(null, i.PlatformTypes.PLAYSTATION), a.default.getAccount(null, i.PlatformTypes.PLAYSTATION_STAGING)].filter(s.isNotNullish))
            }
        },
        813893: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return m
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("627445"),
                s = n.n(a),
                i = n("917351"),
                r = n.n(i),
                u = n("5667"),
                o = n("49111"),
                d = n("782340"),
                c = n("591526"),
                f = n("21719"),
                h = n("117861");
            let p = null;

            function m(e) {
                let {
                    onDismiss: t,
                    onAccept: n,
                    popoutPosition: a,
                    gameConsoleAccounts: i
                } = e;
                s(i.length > 0, "Rendering ConsoleNUXTooltip without a game console account"), (null == p || null == i.find(e => e.type === p)) && (p = r.shuffle(i)[0].type);
                let m = null,
                    E = null;
                switch (p) {
                    case o.PlatformTypes.XBOX:
                        m = d.default.Messages.CONSOLE_NUX_TOOLTIP_BODY_XBOX, E = h;
                        break;
                    case o.PlatformTypes.PLAYSTATION:
                    case o.PlatformTypes.PLAYSTATION_STAGING:
                        m = d.default.Messages.CONSOLE_NUX_TOOLTIP_BODY_PS5, E = f
                }
                return (0, l.jsx)(u.default, {
                    header: d.default.Messages.CONSOLE_NUX_TOOLTIP_HEADER,
                    content: m,
                    asset: (0, l.jsx)("img", {
                        src: E,
                        alt: "",
                        className: c.art
                    }),
                    onClick: n,
                    onSecondaryClick: t,
                    markAsDismissed: t,
                    buttonCTA: d.default.Messages.CONSOLE_NUX_TOOLTIP_ACCEPT,
                    secondaryButtonCTA: d.default.Messages.CONSOLE_NUX_TOOLTIP_DISMISS,
                    caretPosition: "top" === a ? u.CaretPosition.BOTTOM_LEFT : u.CaretPosition.TOP_LEFT
                })
            }
        },
        710560: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return N
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("446674"),
                i = n("151426"),
                r = n("77078"),
                u = n("191145"),
                o = n("509802"),
                d = n("124824"),
                c = n("981913"),
                f = n("778588"),
                h = n("235660"),
                p = n("261552"),
                m = n("742898"),
                E = n("813893"),
                C = n("424024"),
                g = n("379304"),
                S = n("171644"),
                _ = n("49111"),
                I = n("782340"),
                T = n("309607");

            function x(e) {
                let {
                    onClose: t,
                    channel: n
                } = e, a = (0, g.default)(n);
                return (0, l.jsx)(r.Menu, {
                    onClose: t,
                    onSelect: () => null,
                    navId: "transfer-menu",
                    "aria-label": I.default.Messages.TRANSFER,
                    children: a
                })
            }

            function N(e) {
                var t;
                let {
                    channel: n,
                    showLeftDivider: g = !1,
                    ...N
                } = e, v = (0, p.default)(), A = (0, s.useStateFromStores)([h.default], () => {
                    var e;
                    return null === (e = h.default.getSessionById(null !== (t = null == v ? void 0 : v.sessionId) && void 0 !== t ? t : "")) || void 0 === e ? void 0 : e.clientInfo.os
                }), M = (0, s.useStateFromStores)([f.default], () => f.default.hasLayers()), [R, L] = (0, s.useStateFromStoresArray)([u.default], () => [u.default.getMode(n.id), u.default.getLayout(n.id)]), j = (0, r.useModalsStore)(r.hasAnyModalOpenSelector), O = (0, m.default)(), y = O.filter(e => e.twoWayLink), [P, D] = a.useState(!1);
                if (null == v && 0 === O.length || n.isBroadcastChannel()) return null;
                let b = _.ChannelModes.VOICE !== R && [_.ChannelLayouts.NO_CHAT, _.ChannelLayouts.FULL_SCREEN].includes(L) ? "top" : "bottom",
                    U = [];
                return y.length > 0 && U.push(i.DismissibleContent.DONUT_DESKTOP_NUX), (0, l.jsx)(o.default, {
                    contentTypes: U,
                    children: e => {
                        let {
                            visibleContent: t,
                            markAsDismissed: a
                        } = e, s = t === i.DismissibleContent.DONUT_DESKTOP_NUX;
                        return (0, l.jsxs)(l.Fragment, {
                            children: [g ? (0, l.jsx)("div", {
                                className: T.leftDivider
                            }) : null, (0, l.jsx)(r.Popout, {
                                position: b,
                                spacing: s ? 16 : void 0,
                                positionKey: "".concat(R, ":").concat(L),
                                onRequestClose: () => D(!1),
                                shouldShow: (s || P) && !M && !j,
                                renderPopout: e => {
                                    let {
                                        closePopout: t
                                    } = e;
                                    return (0, l.jsx)(d.default, {
                                        children: s ? (0, l.jsx)(E.default, {
                                            popoutPosition: b,
                                            onDismiss: a,
                                            onAccept: () => {
                                                a(), D(!0)
                                            },
                                            gameConsoleAccounts: y
                                        }) : (0, l.jsx)(x, {
                                            onClose: () => {
                                                t()
                                            },
                                            channel: n
                                        })
                                    })
                                },
                                children: e => {
                                    var t;
                                    return (0, l.jsx)(c.default, {
                                        ...e,
                                        ...N,
                                        onClick: () => D(!0),
                                        label: null != (t = A) ? t === S.GameConsoleTypes.XBOX ? I.default.Messages.XBOX_REMOTE_CONNECTED_RAW : I.default.Messages.PLAYSTATION_REMOTE_CONNECTED_RAW : I.default.Messages.CONSOLE_TRANSFER,
                                        iconComponent: (0, C.default)(A)
                                    })
                                }
                            })]
                        })
                    }
                })
            }
        },
        424024: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var l = n("303800"),
                a = n("998564"),
                s = n("420145"),
                i = n("171644");

            function r(e) {
                return null != e ? e === i.GameConsoleTypes.XBOX ? s.default : a.default : l.default
            }
        },
        379304: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("65597"),
                s = n("77078"),
                i = n("926994"),
                r = n("495194"),
                u = n("945956"),
                o = n("800762"),
                d = n("889486"),
                c = n("261552"),
                f = n("742898"),
                h = n("424024"),
                p = n("49111"),
                m = n("782340");

            function E(e) {
                let t = (0, a.default)([u.default], () => u.default.getChannelId() === e.id),
                    E = (0, c.default)(),
                    C = (null == E ? void 0 : E.channelId) === e.id,
                    g = (0, r.useIsVoiceChannelLocked)(e) && !e.isPrivate(),
                    S = (0, r.default)(e),
                    _ = (0, a.default)([o.default], () => o.default.isInChannel(e.id)),
                    I = !_ && S || g,
                    T = (0, f.default)();
                if (!C && 0 === T.length) return null;
                let x = t => {
                    if (!t.twoWayLink || t.revoked) {
                        (0, i.default)(t.type, "Console Transfer Item");
                        return
                    }
                    t.type === p.PlatformTypes.XBOX ? (0, s.openModalLazy)(async () => {
                        let {
                            default: t
                        } = await n.el("613895").then(n.bind(n, "613895"));
                        return n => (0, l.jsx)(t, {
                            ...n,
                            channel: e
                        })
                    }) : (t.type === p.PlatformTypes.PLAYSTATION || t.type === p.PlatformTypes.PLAYSTATION_STAGING) && (0, s.openModalLazy)(async () => {
                        let {
                            default: a
                        } = await n.el("962512").then(n.bind(n, "962512"));
                        return n => (0, l.jsx)(a, {
                            ...n,
                            platform: t.type,
                            channel: e
                        })
                    })
                };
                return (0, l.jsx)(l.Fragment, {
                    children: C ? (0, l.jsx)(s.MenuItem, {
                        label: m.default.Messages.TRANSFER_VOICE_TO_DEVICE,
                        id: "handoff",
                        action: () => {
                            (0, d.handoffRemote)(E)
                        },
                        icon: (0, h.default)(void 0),
                        disabled: I
                    }) : T.map(e => (0, l.jsx)(s.MenuItem, {
                        id: "transfer-".concat(e.type, "-").concat(e.id),
                        label: function(e, t) {
                            if (e === p.PlatformTypes.XBOX) return t ? m.default.Messages.TRANSFER_VOICE_TO_XBOX : m.default.Messages.JOIN_ON_XBOX;
                            if (e === p.PlatformTypes.PLAYSTATION) return t ? m.default.Messages.CONSOLE_PLAYSTATION_TRANSFER_VOICE : m.default.Messages.CONSOLE_PLAYSTATION_JOIN_VOICE;
                            if (e === p.PlatformTypes.PLAYSTATION_STAGING) return t ? m.default.Messages.CONSOLE_PLAYSTATION_STAGING_TRANSFER_VOICE : m.default.Messages.CONSOLE_PLAYSTATION_STAGING_JOIN_VOICE
                        }(e.type, t),
                        action: () => x(e),
                        icon: (0, h.default)(e.type),
                        disabled: I
                    }, e.id))
                })
            }
        },
        795026: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var l = n("374014"),
                a = n("223913"),
                s = n("49111"),
                i = n("782340");

            function r(e, t, n, r) {
                return null == t || t.state === s.ApplicationStreamStates.ENDED || (0, l.encodeStreamKey)(t) !== (0, l.encodeStreamKey)(e) ? (0, a.getStreamCTAString)(r) : t.ownerId === n ? i.default.Messages.WATCH_STREAM_STREAMING : i.default.Messages.WATCH_STREAM_WATCHING
            }
        },
        264429: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return L
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("446674"),
                u = n("77078"),
                o = n("463848"),
                d = n("750560"),
                c = n("532602"),
                f = n("76393"),
                h = n("373469"),
                p = n("271938"),
                m = n("305961"),
                E = n("957255"),
                C = n("824563"),
                g = n("800762"),
                S = n("822332"),
                _ = n("599110"),
                I = n("223913"),
                T = n("582415"),
                x = n("795026"),
                N = n("673527"),
                v = n("49111"),
                A = n("782340"),
                M = n("995068");
            class R extends a.PureComponent {
                componentDidMount() {
                    let {
                        user: e,
                        streamApplication: t
                    } = this.props;
                    _.default.track(v.AnalyticEvents.OPEN_POPOUT, {
                        type: "Stream Preview",
                        other_user_id: e.id,
                        application_id: null != t ? t.id : null,
                        application_name: null != t ? t.name : null,
                        game_id: null != t ? t.id : null,
                        is_streaming: !0
                    })
                }
                renderPreview(e) {
                    let {
                        onWatch: t,
                        activeStream: n,
                        currentUserId: a,
                        canWatch: s,
                        unavailableReason: i
                    } = this.props;
                    return (0, l.jsxs)(u.Clickable, {
                        onClick: t,
                        className: M.previewContainer,
                        children: [(0, l.jsx)(N.default, {
                            className: M.previewImage,
                            stream: e
                        }), s ? (0, l.jsx)("div", {
                            className: M.previewHover,
                            children: (0, l.jsx)(u.Text, {
                                variant: "text-sm/normal",
                                color: "none",
                                className: M.white,
                                children: (0, x.default)(e, n, a, i)
                            })
                        }) : null]
                    })
                }
                render() {
                    let {
                        activity: e,
                        user: t,
                        stream: n,
                        previewIsOpen: a
                    } = this.props;
                    return null == n ? null : (0, l.jsx)("div", {
                        className: i(M.streamPreviewWrapper, {
                            [M.mounted]: a
                        }),
                        children: (0, l.jsxs)("div", {
                            className: M.streamPreview,
                            children: [this.renderPreview(n), (0, l.jsxs)("div", {
                                className: M.body,
                                children: [null != e ? (0, l.jsx)(o.default, {
                                    hideHeader: !0,
                                    type: o.UserActivityTypes.STREAM_PREVIEW,
                                    activity: e,
                                    user: t,
                                    guildId: n.guildId,
                                    channelId: n.channelId
                                }) : (0, l.jsx)(c.default, {
                                    type: o.UserActivityTypes.STREAM_PREVIEW,
                                    applicationStream: n,
                                    user: t,
                                    guildId: n.guildId,
                                    channelId: n.channelId,
                                    className: M.activityActions,
                                    color: M.watchButton
                                }), (0, l.jsx)(S.default, {
                                    type: S.default.Types.INLINE,
                                    className: M.protip,
                                    children: __OVERLAY__ ? A.default.Messages.WATCH_STREAM_IN_APP : A.default.Messages.WATCH_STREAM_TIP
                                })]
                            })]
                        })
                    })
                }
            }

            function L(e) {
                let {
                    user: t,
                    channel: n,
                    ...s
                } = e, [i, u] = (0, r.useStateFromStoresArray)([g.default, m.default, E.default, f.default], () => (0, I.canWatchStream)(n, g.default, m.default, E.default, f.default)), o = (0, r.useStateFromStores)([h.default], () => h.default.getStreamForUser(t.id, n.getGuildId())), c = (0, r.useStateFromStores)([h.default], () => h.default.getActiveStreamForApplicationStream(o)), S = (0, r.useStateFromStores)([p.default], () => p.default.getId()), _ = (0, r.useStateFromStores)([C.default], () => (0, T.getStreamerApplication)(o, C.default)), x = (0, r.useStateFromStores)([C.default], () => (0, T.getStreamerActivity)(o, C.default)), N = a.useMemo(() => ({
                    [n.guild_id]: [t.id]
                }), [n.guild_id, t.id]);
                return (0, d.useSubscribeGuildMembers)(N), (0, l.jsx)(R, {
                    ...s,
                    canWatch: i,
                    unavailableReason: u,
                    user: t,
                    streamApplication: _,
                    stream: o,
                    activeStream: c,
                    currentUserId: S,
                    activity: x
                })
            }
        },
        237542: function(e, t, n) {
            "use strict";
            var l;
            n.r(t), n.d(t, {
                GuildPrompts: function() {
                    return l
                }
            }), (l || (l = {})).REAL_NAME_PROMPT = "REAL_NAME_PROMPT"
        },
        928265: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return a
                }
            });
            var l = n("913144"),
                a = {
                    viewPrompt: function(e, t) {
                        l.default.wait(() => {
                            l.default.dispatch({
                                type: "GUILD_PROMPT_VIEWED",
                                prompt: e,
                                guildId: t
                            })
                        })
                    }
                }
        },
        204743: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var l = n("446674"),
                a = n("913144");
            let s = {};
            class i extends l.default.PersistedStore {
                initialize(e) {
                    for (let t in e) {
                        let n = e[t];
                        s[t] = new Set(n)
                    }
                }
                hasViewedPrompt(e, t) {
                    let n = s[t];
                    return null != n && (!!n.has(e) || !1)
                }
                getState() {
                    return s
                }
            }
            i.displayName = "GuildPromptsStore", i.persistKey = "GuildPromptsStore";
            var r = new i(a.default, {
                GUILD_PROMPT_VIEWED: function(e) {
                    let {
                        prompt: t,
                        guildId: n
                    } = e, l = s[n];
                    return null == l ? (s[n] = new Set, s[n].add(t), !0) : !l.has(t) && (l.add(t), !0)
                },
                GUILD_DELETE: function(e) {
                    let {
                        guild: t
                    } = e;
                    return null != s[t.id] && !t.unavailable && (delete s[t.id], !0)
                }
            })
        },
        278483: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                openDisableCommunication: function() {
                    return s
                },
                openEnableCommunication: function() {
                    return i
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("77078");

            function s(e, t, s) {
                (0, a.openModalLazy)(async () => {
                    let {
                        default: a
                    } = await n.el("693120").then(n.bind(n, "693120"));
                    return n => (0, l.jsx)(a, {
                        guildId: e,
                        userId: t,
                        anaylticsLocations: s,
                        ...n
                    })
                })
            }

            function i(e, t, s) {
                (0, a.openModalLazy)(async () => {
                    let {
                        default: a
                    } = await n.el("750331").then(n.bind(n, "750331"));
                    return n => (0, l.jsx)(a, {
                        guildId: e,
                        userId: t,
                        anaylticsLocations: s,
                        ...n
                    })
                })
            }
        },
        209700: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                isInGuildMemberModViewExperiment: function() {
                    return i
                },
                useGuildMemberModViewExperiment: function() {
                    return r
                }
            });
            var l = n("812204"),
                a = n("862205");
            let s = (0, a.createExperiment)({
                    kind: "guild",
                    id: "2023-08_guild_member_mod_view",
                    label: "Guild Member Mod View",
                    defaultConfig: {
                        enabled: !1
                    },
                    treatments: [{
                        id: 1,
                        label: "Guild Member Mod View",
                        config: {
                            enabled: !0
                        }
                    }]
                }),
                i = function(e) {
                    let {
                        autoTrackExposure: t = !1,
                        disable: n = !1,
                        location: a = l.default.GUILD_MEMBER_MOD_VIEW
                    } = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, {
                        enabled: i
                    } = s.getCurrentConfig({
                        guildId: e,
                        location: a
                    }, {
                        autoTrackExposure: t,
                        disable: n
                    });
                    return i
                },
                r = function(e) {
                    let {
                        autoTrackExposure: t = !1,
                        disable: n = !1,
                        location: a = l.default.GUILD_MEMBER_MOD_VIEW
                    } = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, {
                        enabled: i
                    } = s.useExperiment({
                        guildId: e,
                        location: a
                    }, {
                        autoTrackExposure: t,
                        disable: n
                    });
                    return i
                }
        },
        459824: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                canAccessGuildMemberModViewWithExperiment: function() {
                    return c
                },
                useCanAccessGuildMemberModView: function() {
                    return f
                }
            });
            var l = n("316693"),
                a = n("446674"),
                s = n("466818"),
                i = n("305961"),
                r = n("697218"),
                u = n("991170"),
                o = n("209700");
            let d = function(e) {
                    let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [i.default, r.default],
                        [n, a] = t,
                        o = n.getGuild(e);
                    if (null == o) return !1;
                    let d = a.getCurrentUser(),
                        c = l.default.hasAny(u.default.computePermissions({
                            user: d,
                            context: o,
                            checkElevated: !1
                        }), s.MemberSafetyPagePermissions);
                    return c
                },
                c = function(e) {
                    let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                        n = arguments.length > 2 ? arguments[2] : void 0,
                        l = d(e),
                        a = (0, o.isInGuildMemberModViewExperiment)(e, {
                            autoTrackExposure: t,
                            disable: !l,
                            location: n
                        });
                    return l && a
                };

            function f(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                    n = arguments.length > 2 ? arguments[2] : void 0,
                    l = (0, a.useStateFromStores)([i.default, r.default], () => d(e, [i.default, r.default]), [e]),
                    s = (0, o.useGuildMemberModViewExperiment)(e, {
                        autoTrackExposure: t,
                        disable: !l,
                        location: n
                    });
                return l && s
            }
        },
        180968: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                HAS_NO_COUNT: function() {
                    return c
                },
                useServerActivityForUser: function() {
                    return C
                }
            });
            var l, a, s = n("884691"),
                i = n("308503"),
                r = n("16470"),
                u = n("84339"),
                o = n("390933"),
                d = n("49111");
            let c = -1;
            (l = a || (a = {})).MENTIONS = "mentions", l.MESSAGES = "messages";
            let f = {
                    searchFetcher: null,
                    messageCount: c,
                    lastMessage: null
                },
                h = (0, i.default)(() => new Map),
                p = (e, t) => {
                    h.setState(n => {
                        let l = n.get(e);
                        return null == l ? n.set(e, {
                            ...f,
                            ...t
                        }) : n.set(e, {
                            ...l,
                            ...t
                        }), n
                    })
                },
                m = e => h(t => t.get(e), r.default);

            function E(e, t, n) {
                let l = s.useMemo(() => {
                        var l, a, s;
                        return l = e, a = t, s = n, "guild_".concat(a, "_search_").concat(s, "_for_").concat(l)
                    }, [e, t, n]),
                    i = m(l),
                    r = (0, u.default)(l),
                    [h, E] = s.useState({});
                return s.useEffect(() => {
                    if (r !== l) {
                        let s = function(e, t) {
                                switch (t) {
                                    case a.MENTIONS:
                                        return {
                                            mentions: e
                                        };
                                    case a.MESSAGES:
                                        return {
                                            author_id: e
                                        }
                                }
                            }(e, n),
                            i = new o.default(t, d.SearchTypes.GUILD, s);
                        p(l, {
                            searchFetcher: i,
                            messageCount: c,
                            lastMessage: null
                        }), setTimeout(() => {
                            i.fetch(e => {
                                let t = e.body.messages[0];
                                p(l, {
                                    searchFetcher: i,
                                    messageCount: e.body.total_results,
                                    lastMessage: t
                                }), E({})
                            }, e => {}, e => {
                                p(l, {
                                    messageCount: 0,
                                    lastMessage: null
                                }), E({})
                            })
                        })
                    }
                    return () => {}
                }, [e, t, i, l, n]), null != i ? i : f
            }

            function C(e, t) {
                let n = E(e, t, a.MESSAGES),
                    l = E(e, t, a.MENTIONS);
                return {
                    messageCount: n.messageCount,
                    mentionsCount: l.messageCount,
                    lastMessage: n.lastMessage,
                    lastMention: l.lastMessage
                }
            }
        },
        813071: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("811022"),
                i = n("517001"),
                r = n("697218");
            let u = new s.default("ErrorBoundary"),
                o = {
                    error: null,
                    componentStack: null
                };
            class d extends a.Component {
                static getDerivedStateFromError(e) {
                    return {
                        error: e,
                        hasError: !0
                    }
                }
                componentDidCatch(e, t) {
                    let {
                        componentStack: n
                    } = t;
                    u.error("JANK ErrorBoundary", {
                        error: e,
                        componentStack: n
                    });
                    let {
                        onError: l
                    } = this.props;
                    null == l || l(e, n), this.setState({
                        error: e,
                        componentStack: n
                    })
                }
                render() {
                    let {
                        fallback: e,
                        children: t
                    } = this.props, {
                        error: n,
                        componentStack: a
                    } = this.state;
                    if (!(0, i.isStaffEnv)(r.default.getCurrentUser())) return t;
                    if (null != n) {
                        if ("function" == typeof e) {
                            let t = {
                                error: n,
                                componentStack: a,
                                onResetError: this.onResetError
                            };
                            return (0, l.jsx)(e, {
                                ...t
                            })
                        }
                        return (0, l.jsx)("h1", {
                            children: n.message
                        })
                    }
                    return t
                }
                constructor(...e) {
                    super(...e), this.state = {
                        ...o
                    }, this.onResetError = () => {
                        this.setState({
                            ...o
                        })
                    }
                }
            }
        },
        744568: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("459824"),
                u = n("813071"),
                o = n("249957"),
                d = n("986358"),
                c = n("623529");

            function f(e) {
                let {
                    userId: t,
                    guildId: n,
                    onClose: s,
                    className: f,
                    infoPanelClassName: h,
                    style: p
                } = e, m = (0, r.useCanAccessGuildMemberModView)(n, !0);
                return (a.useEffect(() => {
                    !m && s()
                }, [m, s]), m) ? (0, l.jsx)("div", {
                    className: i(c.sidebarContianer, f),
                    style: p,
                    children: (0, l.jsx)(u.default, {
                        children: (0, l.jsxs)(l.Fragment, {
                            children: [(0, l.jsx)(d.default, {
                                userId: t,
                                guildId: n,
                                onClose: s
                            }), (0, l.jsx)(o.default, {
                                userId: t,
                                guildId: n,
                                className: h
                            })]
                        })
                    })
                }) : null
            }
        },
        703433: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return _
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("414456"),
                s = n.n(a),
                i = n("65597"),
                r = n("77078"),
                u = n("917397"),
                o = n("305961"),
                d = n("124969"),
                c = n("36694"),
                f = n("984678"),
                h = n("153769"),
                p = n("83900"),
                m = n("556081"),
                E = n("216947"),
                C = n("592866"),
                g = n("782340"),
                S = n("63893");

            function _(e) {
                let {
                    member: t
                } = e, n = (0, i.default)([o.default], () => o.default.getGuild(t.guildId), [t.guildId]), a = (0, u.useUserEmailVerification)(t.userId), _ = (0, u.useUserPhoneVerification)(t.userId), I = (0, u.useUserRulesAgreementLevel)(t.userId, t.guildId), T = (0, u.useUserAccountAgeDate)(t.userId), x = (0, u.useGuildMemberJoinedAtDate)(t.userId, t.guildId), N = (0, u.useGuildMemberInviteLinkCode)(t.userId, t.guildId);
                return null == n ? null : (0, l.jsx)("div", {
                    className: s(S.safetySignalsMainContainer),
                    children: (0, l.jsx)(r.FormItem, {
                        title: g.default.Messages.ACCOUNT,
                        titleClassName: S.infoTitle,
                        children: (0, l.jsxs)(C.UserModInfoItemContainer, {
                            children: [(0, l.jsx)(C.UserModInfoItem, {
                                icon: (0, l.jsx)(m.default, {
                                    width: C.USER_MOD_ICON_SIZE_PX,
                                    height: C.USER_MOD_ICON_SIZE_PX,
                                    className: S.unusualDMLabelIcon
                                }),
                                name: (0, l.jsx)(r.Text, {
                                    variant: "text-sm/medium",
                                    color: "text-normal",
                                    children: g.default.Messages.MEMBER_VERIFICATION_EMAIL_VERIFIED
                                }),
                                description: a ? (0, l.jsx)(c.default, {
                                    className: s(S.verifiedIcon),
                                    width: C.USER_MOD_ICON_SIZE_PX,
                                    height: C.USER_MOD_ICON_SIZE_PX
                                }) : (0, l.jsx)(f.default, {
                                    className: s(S.unverifiedIcon),
                                    width: C.USER_MOD_ICON_SIZE_PX,
                                    height: C.USER_MOD_ICON_SIZE_PX
                                })
                            }), (0, l.jsx)(C.UserModInfoItem, {
                                icon: (0, l.jsx)(E.default, {
                                    width: C.USER_MOD_ICON_SIZE_PX,
                                    height: C.USER_MOD_ICON_SIZE_PX,
                                    className: S.unusualDMLabelIcon
                                }),
                                name: (0, l.jsx)(r.Text, {
                                    variant: "text-sm/medium",
                                    color: "text-normal",
                                    children: g.default.Messages.GUILD_MEMBER_MOD_VIEW_PHONE_VERIFIED
                                }),
                                description: _ ? (0, l.jsx)(c.default, {
                                    className: s(S.verifiedIcon),
                                    width: C.USER_MOD_ICON_SIZE_PX,
                                    height: C.USER_MOD_ICON_SIZE_PX
                                }) : (0, l.jsx)(f.default, {
                                    className: s(S.unverifiedIcon),
                                    width: C.USER_MOD_ICON_SIZE_PX,
                                    height: C.USER_MOD_ICON_SIZE_PX
                                })
                            }), I !== u.UserRulesAgreementLevel.NO_GATE && (0, l.jsx)(C.UserModInfoItem, {
                                icon: (0, l.jsx)(E.default, {
                                    width: C.USER_MOD_ICON_SIZE_PX,
                                    height: C.USER_MOD_ICON_SIZE_PX,
                                    className: S.unusualDMLabelIcon
                                }),
                                name: (0, l.jsx)(r.Text, {
                                    variant: "text-sm/medium",
                                    color: "text-normal",
                                    children: g.default.Messages.GUILD_MEMBER_MOD_VIEW_AGREE_TO_RULES
                                }),
                                description: I === u.UserRulesAgreementLevel.AGREED ? (0, l.jsx)(c.default, {
                                    className: s(S.verifiedIcon),
                                    width: C.USER_MOD_ICON_SIZE_PX,
                                    height: C.USER_MOD_ICON_SIZE_PX
                                }) : (0, l.jsx)(f.default, {
                                    className: s(S.unverifiedIcon),
                                    width: C.USER_MOD_ICON_SIZE_PX,
                                    height: C.USER_MOD_ICON_SIZE_PX
                                })
                            }), (0, l.jsx)(C.UserModInfoItem, {
                                icon: (0, l.jsx)(h.default, {
                                    width: C.USER_MOD_ICON_SIZE_PX,
                                    height: C.USER_MOD_ICON_SIZE_PX
                                }),
                                name: (0, l.jsx)(r.Text, {
                                    variant: "text-sm/medium",
                                    color: "text-normal",
                                    children: g.default.Messages.GUILD_MEMBER_MOD_VIEW_DISCORD_JOIN_DATE
                                }),
                                description: (0, l.jsx)(r.Text, {
                                    variant: "text-sm/medium",
                                    color: "text-normal",
                                    children: T
                                })
                            }), (0, l.jsx)(C.UserModInfoItem, {
                                icon: (0, l.jsx)(d.GuildIcon, {
                                    guild: n,
                                    size: d.GuildIcon.Sizes.SMOL,
                                    animate: !1,
                                    className: S.guildIcon
                                }),
                                name: (0, l.jsx)(r.Text, {
                                    variant: "text-sm/medium",
                                    color: "text-normal",
                                    children: g.default.Messages.GUILD_MEMBER_MOD_VIEW_GUILD_JOIN_DATE
                                }),
                                description: (0, l.jsx)(r.Text, {
                                    variant: "text-sm/medium",
                                    color: "text-normal",
                                    children: x
                                })
                            }), (0, l.jsx)(C.UserModInfoItem, {
                                icon: (0, l.jsx)(p.default, {
                                    width: C.USER_MOD_ICON_SIZE_PX,
                                    height: C.USER_MOD_ICON_SIZE_PX
                                }),
                                name: (0, l.jsx)(r.Text, {
                                    variant: "text-sm/medium",
                                    color: "text-normal",
                                    children: g.default.Messages.GUILD_MEMBER_MOD_VIEW_INVITE_LINK_LABEL
                                }),
                                description: (0, l.jsx)(r.Text, {
                                    variant: "text-sm/medium",
                                    color: "text-normal",
                                    children: null != N ? N : "-"
                                })
                            })]
                        })
                    })
                })
            }
        },
        21363: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return S
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("65597"),
                u = n("77078"),
                o = n("178406"),
                d = n("553275"),
                c = n("412013"),
                f = n("305961"),
                h = n("957255"),
                p = n("151185"),
                m = n("592866"),
                E = n("49111"),
                C = n("782340"),
                g = n("63893");

            function S(e) {
                let {
                    member: t
                } = e, n = (0, r.default)([f.default], () => f.default.getGuild(t.guildId), [t.guildId]), s = a.useMemo(() => {
                    var e, l, a;
                    if (null == n) return [];
                    let s = null !== (e = null == n ? void 0 : n.roles) && void 0 !== e ? e : {};
                    return null == t.highestRoleId ? t.roles : t.roles.filter(e => null != e && e !== t.highestRoleId).sort((e, t) => {
                        var n, i;
                        return null !== (a = null !== (l = null === (n = s[t]) || void 0 === n ? void 0 : n.position) && void 0 !== l ? l : 0 - (null === (i = s[e]) || void 0 === i ? void 0 : i.position)) && void 0 !== a ? a : 0
                    })
                }, [t.roles, t.highestRoleId, n]), S = (0, r.default)([o.default], () => o.default.getEnhancedMember(t.guildId, t.userId), [t.guildId, t.userId]), _ = (0, d.useHighestRole)(S), I = new Intl.NumberFormat(C.default.getLocale()).format(s.length), T = (0, d.useContextMenuModerateRoles)(t), x = (0, r.default)([h.default], () => h.default.can(E.Permissions.MANAGE_ROLES, n), [n]);
                return null == n ? null : (0, l.jsx)(u.FormItem, {
                    title: C.default.Messages.ROLES,
                    titleClassName: g.infoTitle,
                    children: (0, l.jsx)(m.UserModInfoItemContainer, {
                        children: (0, l.jsx)(m.UserModInfoItem, {
                            description: (0, l.jsxs)("div", {
                                className: g.roleContainer,
                                children: [null != _ && (0, l.jsx)(c.default, {
                                    className: i(g.roleTooltipItem, g.highestRole),
                                    role: _,
                                    guildId: t.guildId
                                }), s.length > 0 && (0, l.jsx)(u.Tooltip, {
                                    "aria-label": C.default.Messages.MEMBER_SAFETY_COMMUNICATION_DISABLED_TOOLTIP,
                                    tooltipContentClassName: g.roleTooltip,
                                    allowOverflow: !0,
                                    text: (0, l.jsx)("div", {
                                        className: g.roleTooltipItemContainer,
                                        children: s.map(e => (0, l.jsx)(c.default, {
                                            className: i(g.roleTooltipItem),
                                            role: n.roles[e],
                                            guildId: t.guildId
                                        }, e))
                                    }),
                                    children: e => {
                                        let {
                                            onMouseEnter: t,
                                            onMouseLeave: n
                                        } = e;
                                        return (0, l.jsx)(u.Clickable, {
                                            className: i(g.otherRoles),
                                            onMouseEnter: t,
                                            onMouseLeave: n,
                                            children: (0, l.jsxs)(u.Text, {
                                                variant: "text-xs/medium",
                                                color: "header-primary",
                                                children: ["+", I]
                                            })
                                        })
                                    }
                                }), x && (0, l.jsx)(u.Clickable, {
                                    className: i(g.otherRoles, g.addRoleContainer),
                                    onClick: T,
                                    children: (0, l.jsx)(p.default, {
                                        className: i(g.addRoleIcon),
                                        width: m.USER_MOD_ICON_SIZE_PX,
                                        height: m.USER_MOD_ICON_SIZE_PX
                                    })
                                })]
                            })
                        })
                    })
                })
            }
        },
        592866: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                USER_MOD_ICON_SIZE_PX: function() {
                    return r
                },
                UserModInfoItem: function() {
                    return u
                },
                UserModInfoItemContainer: function() {
                    return o
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("414456"),
                s = n.n(a),
                i = n("558595");
            let r = 16;

            function u(e) {
                let {
                    description: t,
                    name: n,
                    icon: a
                } = e;
                return (0, l.jsxs)("div", {
                    className: s(i.modInfoItem),
                    children: [null != a && (0, l.jsx)("div", {
                        className: s(i.modInfoItemIcon),
                        children: a
                    }), null != n && (0, l.jsx)("div", {
                        className: s(i.modInfoItemName),
                        children: n
                    }), (0, l.jsx)("div", {
                        className: s(i.modInfoItemDescription),
                        children: t
                    })]
                })
            }

            function o(e) {
                let {
                    children: t
                } = e;
                return (0, l.jsx)("div", {
                    className: s(i.modInfoItemContainer),
                    children: t
                })
            }
        },
        249957: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("414456"),
                s = n.n(a),
                i = n("65597"),
                r = n("26989"),
                u = n("697218"),
                o = n("703433"),
                d = n("21363"),
                c = n("608973"),
                f = n("132881"),
                h = n("63893");

            function p(e) {
                let {
                    userId: t,
                    guildId: n,
                    location: a,
                    className: p
                } = e, m = (0, i.default)([u.default], () => u.default.getUser(t), [t]), E = (0, i.default)([r.default], () => r.default.getMember(n, t), [n, t]);
                return null == m || null == E ? null : (0, l.jsxs)("div", {
                    className: s(h.container, p),
                    children: [(0, l.jsx)(c.default, {
                        member: E
                    }), (0, l.jsx)(d.default, {
                        member: E
                    }), (0, l.jsx)(f.default, {
                        member: E
                    }), (0, l.jsx)(o.default, {
                        member: E
                    })]
                })
            }
        },
        608973: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("65597"),
                i = n("77078"),
                r = n("509"),
                u = n("178406"),
                o = n("998940"),
                d = n("91551"),
                c = n("4845"),
                f = n("491401"),
                h = n("592866"),
                p = n("782340"),
                m = n("63893");

            function E(e) {
                let {
                    member: t
                } = e, n = t.userId, E = t.guildId, C = (0, s.default)([u.default], () => u.default.getEnhancedMember(E, n), [n, E]), g = null != C ? C : t, S = g.unusualDMActivityUntil, _ = a.useCallback(e => {
                    if (null == e) return null;
                    let t = new Date(e).getTime();
                    return (0, o.formatDateRelativeTime)(t, o.MembersTableDateFormats.JOINED_AT)
                }, []), I = a.useMemo(() => null == t ? null : _(S), [t, _, S]), T = a.useMemo(() => (0, r.isCommunicationDisabled)(t.communicationDisabledUntil), [t.communicationDisabledUntil]), x = a.useMemo(() => null == t.communicationDisabledUntil ? new Date : new Date(t.communicationDisabledUntil), [t.communicationDisabledUntil]), N = null == S && !T;
                return N ? null : (0, l.jsx)(i.FormItem, {
                    title: p.default.Messages.MEMBER_SAFETY_TABLE_HEADER_FLAGS,
                    titleClassName: m.infoTitle,
                    children: (0, l.jsxs)(h.UserModInfoItemContainer, {
                        children: [null != S && (0, l.jsx)(h.UserModInfoItem, {
                            icon: (0, l.jsx)(c.default, {
                                width: h.USER_MOD_ICON_SIZE_PX,
                                height: h.USER_MOD_ICON_SIZE_PX,
                                className: m.unusualDMLabelIcon
                            }),
                            name: (0, l.jsx)(i.Text, {
                                variant: "text-sm/semibold",
                                color: "text-normal",
                                children: p.default.Messages.MEMBER_SAFETY_UNUSUAL_DM_ACTIVITY
                            }),
                            description: (0, l.jsx)(i.Text, {
                                variant: "text-sm/semibold",
                                color: "text-normal",
                                children: I
                            })
                        }), T && null != x && (0, l.jsx)(h.UserModInfoItem, {
                            icon: (0, l.jsx)(f.default, {
                                width: h.USER_MOD_ICON_SIZE_PX,
                                height: h.USER_MOD_ICON_SIZE_PX,
                                className: m.unusualDMLabelIcon
                            }),
                            name: (0, l.jsx)(i.Text, {
                                variant: "text-sm/semibold",
                                color: "text-normal",
                                children: p.default.Messages.GUILD_COMMUNICATION_DISABLED_ON_MEMBER
                            }),
                            description: (0, l.jsx)(i.Text, {
                                variant: "text-sm/semibold",
                                color: "text-normal",
                                children: (0, l.jsx)(d.default, {
                                    deadline: x,
                                    showUnits: !0,
                                    stopAtOneSec: !0
                                })
                            })
                        })]
                    })
                })
            }
        },
        132881: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("77078"),
                s = n("116320"),
                i = n("109264"),
                r = n("180968"),
                u = n("592866"),
                o = n("782340"),
                d = n("63893");

            function c(e) {
                let {
                    member: t
                } = e, {
                    messageCount: n,
                    mentionsCount: c
                } = (0, r.useServerActivityForUser)(t.userId, t.guildId), f = new Intl.NumberFormat(o.default.getLocale()).format(n), h = new Intl.NumberFormat(o.default.getLocale()).format(c);
                return (0, l.jsx)(a.FormItem, {
                    title: o.default.Messages.GUILD_MEMBER_MOD_VIEW_GUILD_MESSAGE_ACTIVITY_TITLE,
                    titleClassName: d.infoTitle,
                    children: (0, l.jsxs)(u.UserModInfoItemContainer, {
                        children: [(0, l.jsx)(u.UserModInfoItem, {
                            icon: (0, l.jsx)(i.default, {
                                width: u.USER_MOD_ICON_SIZE_PX,
                                height: u.USER_MOD_ICON_SIZE_PX
                            }),
                            name: (0, l.jsx)(a.Text, {
                                variant: "text-sm/semibold",
                                color: "text-normal",
                                children: o.default.Messages.MESSAGES
                            }),
                            description: n === r.HAS_NO_COUNT ? (0, l.jsx)(a.Spinner, {
                                type: a.SpinnerTypes.SPINNING_CIRCLE,
                                className: d.loadingSpinner
                            }) : (0, l.jsx)(a.Text, {
                                variant: "text-sm/semibold",
                                color: "text-muted",
                                children: f
                            })
                        }), (0, l.jsx)(u.UserModInfoItem, {
                            icon: (0, l.jsx)(s.default, {
                                width: u.USER_MOD_ICON_SIZE_PX,
                                height: u.USER_MOD_ICON_SIZE_PX
                            }),
                            name: (0, l.jsx)(a.Text, {
                                variant: "text-sm/semibold",
                                color: "text-normal",
                                children: o.default.Messages.MENTIONS
                            }),
                            description: c === r.HAS_NO_COUNT ? (0, l.jsx)(a.Spinner, {
                                type: a.SpinnerTypes.SPINNING_CIRCLE,
                                className: d.loadingSpinner
                            }) : (0, l.jsx)(a.Text, {
                                variant: "text-sm/semibold",
                                color: "text-muted",
                                children: h
                            })
                        })]
                    })
                })
            }
        },
        986358: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return F
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("414456"),
                s = n.n(a),
                i = n("65597"),
                r = n("77078"),
                u = n("450911"),
                o = n("841098"),
                d = n("509"),
                c = n("278483"),
                f = n("700179"),
                h = n("130037"),
                p = n("430312"),
                m = n("271938"),
                E = n("26989"),
                C = n("305961"),
                g = n("957255"),
                S = n("824563"),
                _ = n("101125"),
                I = n("697218"),
                T = n("530346"),
                x = n("109264"),
                N = n("491401"),
                v = n("945330"),
                A = n("662255"),
                M = n("152224"),
                R = n("306160"),
                L = n("387111"),
                j = n("158998"),
                O = n("49111"),
                y = n("590456"),
                P = n("782340"),
                D = n("298028");

            function b(e) {
                let {
                    user: t,
                    guildId: n,
                    onClose: a
                } = e, s = t.id, u = (0, i.default)([_.default, S.default, m.default], () => s === m.default.getId() ? _.default.getStatus() : S.default.getStatus(s, n), [s, n]);
                return (0, l.jsxs)("div", {
                    className: D.topRow,
                    children: [(0, l.jsxs)("div", {
                        className: D.memberNameContainer,
                        children: [(0, l.jsx)("div", {
                            className: D.memberAvatar,
                            children: (0, l.jsx)(r.Avatar, {
                                src: t.getAvatarURL(n, 48),
                                "aria-label": t.username,
                                size: r.AvatarSizes.SIZE_48,
                                status: u
                            })
                        }), (0, l.jsx)("div", {
                            className: D.memberName,
                            children: (0, l.jsx)(r.Text, {
                                variant: "text-lg/medium",
                                children: (0, l.jsx)(r.NameWithRole, {
                                    name: L.default.getName(n, null, t),
                                    color: r.tokens.colors.HEADER_PRIMARY.css
                                })
                            })
                        }), (0, l.jsx)("div", {
                            className: D.memberGlobalName,
                            children: (0, l.jsx)(r.Text, {
                                variant: "text-md/medium",
                                color: "text-normal",
                                children: j.default.getUserTag(t)
                            })
                        })]
                    }), (0, l.jsx)("div", {
                        className: D.close,
                        children: (0, l.jsx)(r.Text, {
                            variant: "text-md/medium",
                            color: "text-normal",
                            children: (0, l.jsx)(r.Clickable, {
                                className: D.closeAction,
                                onClick: a,
                                children: (0, l.jsx)(v.default, {})
                            })
                        })
                    })]
                })
            }

            function U(e) {
                let {
                    tag: t = "div",
                    disabled: n,
                    children: a,
                    onClick: i,
                    ...u
                } = e;
                return (0, l.jsx)(r.Clickable, {
                    ...u,
                    tag: t,
                    className: s(D.bottomRowAction, {
                        [D.bottomRowActionDisabled]: n
                    }),
                    onClick: n ? void 0 : i,
                    children: a
                })
            }

            function w(e) {
                let {
                    user: t,
                    member: a,
                    guildId: s,
                    location: o
                } = e, p = (0, i.default)([C.default], () => C.default.getGuild(s)), {
                    canKickUser: m,
                    canBanUser: E,
                    canModerateMembers: S
                } = (0, i.useStateFromStoresObject)([g.default, I.default, C.default], () => ({
                    canKickUser: null != p && g.default.canManageUser(O.Permissions.KICK_MEMBERS, t, p),
                    canBanUser: null != p && g.default.canManageUser(O.Permissions.BAN_MEMBERS, t, p),
                    canModerateMembers: null != p && (0, f.canToggleCommunicationDisableOnUser)(p.id, t.id, [I.default, C.default, g.default])
                }), [t, p]), _ = (0, d.isMemberCommunicationDisabled)(a), v = null != o ? [o] : [], L = (0, h.useTrackModerationAction)(s, {
                    targetUserId: t.id,
                    location: o
                });
                return (0, l.jsxs)("div", {
                    className: D.bottomRow,
                    children: [(0, l.jsxs)(U, {
                        "aria-label": P.default.Messages.SEND_DM,
                        onClick: () => {
                            u.default.openPrivateChannel(t.id)
                        },
                        children: [(0, l.jsx)(x.default, {
                            width: 22,
                            height: 22
                        }), (0, l.jsx)(r.Text, {
                            variant: "text-sm/normal",
                            color: "none",
                            children: P.default.Messages.SEND_DM
                        })]
                    }), (0, l.jsxs)(U, {
                        disabled: !m,
                        "aria-label": P.default.Messages.KICK,
                        onClick: () => {
                            (0, r.openModalLazy)(async () => {
                                let {
                                    default: e
                                } = await n.el("125104").then(n.bind(n, "125104"));
                                return n => (0, l.jsx)(e, {
                                    ...n,
                                    location: o,
                                    guildId: s,
                                    user: t
                                })
                            })
                        },
                        children: [(0, l.jsx)(M.default, {
                            width: 22,
                            height: 22,
                            color: r.tokens.colors.TEXT_NORMAL.css
                        }), (0, l.jsx)(r.Text, {
                            variant: "text-sm/normal",
                            color: "none",
                            children: P.default.Messages.KICK
                        })]
                    }), (0, l.jsxs)(U, {
                        disabled: !E,
                        "aria-label": P.default.Messages.BAN,
                        onClick: () => {
                            (0, r.openModalLazy)(async () => {
                                let {
                                    default: e
                                } = await n.el("743506").then(n.bind(n, "743506"));
                                return n => (0, l.jsx)(e, {
                                    ...n,
                                    location: o,
                                    guildId: s,
                                    user: t
                                })
                            })
                        },
                        children: [(0, l.jsx)(T.default, {
                            width: 22,
                            height: 22,
                            color: r.tokens.colors.TEXT_NORMAL.css
                        }), (0, l.jsx)(r.Text, {
                            variant: "text-sm/normal",
                            color: "none",
                            children: P.default.Messages.BAN
                        })]
                    }), (0, l.jsxs)(U, {
                        disabled: !S,
                        "aria-label": P.default.Messages.TIMEOUT_USER,
                        onClick: () => {
                            _ ? (0, c.openEnableCommunication)(a.guildId, a.userId, v) : (0, c.openDisableCommunication)(a.guildId, a.userId, v)
                        },
                        children: [(0, l.jsx)(N.default, {
                            width: 22,
                            height: 22,
                            color: r.tokens.colors.TEXT_NORMAL.css
                        }), (0, l.jsx)(r.Text, {
                            variant: "text-sm/normal",
                            color: "none",
                            children: _ ? P.default.Messages.REMOVE_TIME_OUT : P.default.Messages.TIMEOUT_USER
                        })]
                    }), (0, l.jsxs)(U, {
                        "aria-label": P.default.Messages.COPY_ID,
                        onClick: () => {
                            L(h.ModerationActionType.COPY_ID), (0, R.copy)(t.id)
                        },
                        disabled: !R.SUPPORTS_COPY,
                        children: [(0, l.jsx)(A.default, {
                            width: 22,
                            height: 22,
                            color: r.tokens.colors.TEXT_NORMAL.css
                        }), (0, l.jsx)(r.Text, {
                            variant: "text-sm/normal",
                            color: "none",
                            children: P.default.Messages.COPY_ID
                        })]
                    })]
                })
            }

            function F(e) {
                let {
                    userId: t,
                    guildId: n,
                    onClose: a
                } = e, r = (0, i.default)([I.default], () => I.default.getUser(t), [t]), u = (0, i.default)([E.default], () => E.default.getMember(n, t), [n, t]), d = (0, o.default)();
                return null == r || null == u ? null : (0, l.jsx)(p.default, {
                    user: r,
                    guildId: n,
                    profileType: y.UserProfileTypes.CARD,
                    forceShowPremium: !0,
                    children: (0, l.jsx)("div", {
                        className: s(D.container, "theme-".concat(d)),
                        children: (0, l.jsxs)("div", {
                            className: D.innerBoarderedContainer,
                            children: [(0, l.jsx)(b, {
                                user: r,
                                guildId: n,
                                onClose: a
                            }), (0, l.jsx)(w, {
                                user: r,
                                member: u,
                                guildId: n,
                                location: location
                            })]
                        })
                    })
                })
            }
        },
        917397: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useUserPhoneVerification: function() {
                    return C
                },
                UserRulesAgreementLevel: function() {
                    return a
                },
                useUserRulesAgreementLevel: function() {
                    return g
                },
                useUserEmailVerification: function() {
                    return S
                },
                useUserAccountAgeDate: function() {
                    return _
                },
                useGuildMemberJoinedAtDate: function() {
                    return I
                },
                useGuildMemberInviteLinkCode: function() {
                    return T
                }
            });
            var l, a, s = n("884691"),
                i = n("866227"),
                r = n.n(i),
                u = n("65597"),
                o = n("26989"),
                d = n("305961"),
                c = n("697218"),
                f = n("568734"),
                h = n("299039"),
                p = n("178406"),
                m = n("645266"),
                E = n("657944");

            function C(e) {
                let t = (0, u.default)([c.default], () => c.default.getUser(e), [e]);
                return null != t && t.isPhoneVerified()
            }

            function g(e, t) {
                var n, l;
                let s = (0, u.default)([c.default], () => c.default.getUser(e), [e]),
                    i = (0, u.default)([o.default], () => o.default.getMember(t, e), [t, e]),
                    r = (0, u.default)([d.default], () => d.default.getGuild(t), [t]),
                    h = null == r ? void 0 : r.hasVerificationGate();
                return h ? null == s || null == i || null == r ? a.NO_AGREEMENT : (0, f.hasFlag)(null !== (n = i.flags) && void 0 !== n ? n : 0, E.GuildMemberFlags.BYPASSES_VERIFICATION) || (0, f.hasFlag)(null !== (l = i.flags) && void 0 !== l ? l : 0, E.GuildMemberFlags.COMPLETED_ONBOARDING) ? a.AGREED : a.NO_AGREEMENT : a.NO_GATE
            }

            function S(e) {
                let t = (0, u.default)([c.default], () => c.default.getUser(e), [e]);
                if (null == t) return !1;
                let n = (null == t ? void 0 : t.isPhoneVerified()) || (null == t ? void 0 : t.isStaff());
                return t.verified || n
            }

            function _(e) {
                return s.useMemo(() => {
                    let t = h.default.extractTimestamp(e);
                    return r(new Date(t)).format("MMM DD, YYYY")
                }, [e])
            }

            function I(e, t) {
                let n = (0, u.default)([o.default], () => o.default.getMember(t, e), [t, e]),
                    l = null == n ? void 0 : n.joinedAt;
                return s.useMemo(() => null == l ? "" : r(new Date(l)).format("MMM DD, YYYY"), [l])
            }

            function T(e, t) {
                var n;
                let [l, a] = s.useState(null), i = s.useRef(null), r = (0, u.default)([p.default], () => p.default.getEnhancedMember(t, e), [t, e]), o = null !== (n = null == r ? void 0 : r.sourceInviteCode) && void 0 !== n ? n : null;
                return s.useEffect(() => {
                    if (null != o && a(o), null != i.current) return () => {
                        i.current = null
                    };
                    i.current = (0, m.getMemberSupplemental)(t, [e]).then(e => {
                        if (e.length > 0) {
                            var t, n;
                            a(null !== (n = null === (t = e[0]) || void 0 === t ? void 0 : t.sourceInviteCode) && void 0 !== n ? n : null)
                        }
                    })
                }, [e, t, o]), null != l ? l : null
            }(l = a || (a = {}))[l.NO_GATE = 0] = "NO_GATE", l[l.NO_AGREEMENT = 1] = "NO_AGREEMENT", l[l.AGREED = 2] = "AGREED"
        },
        809167: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var l = n("884691"),
                a = n("133797"),
                s = n("577357"),
                i = n("41391"),
                r = n("782340");

            function u(e) {
                let {
                    includeFlairAsBenefit: t,
                    listing: n,
                    guildId: u
                } = e, o = 0, d = 0;
                for (let e of n.role_benefits.benefits)(0, s.isChannelBenefit)(e) ? o += 1 : (0, s.isIntangibleBenefit)(e) && (d += 1);
                let c = n.role_id,
                    f = (0, i.default)(u),
                    h = f.filter(e => e.roles.includes(c)).length;
                return l.useMemo(() => {
                    let e = [];
                    return !0 === t && e.push(r.default.Messages.GUILD_ROLE_SUBSCRIPTION_BENEFIT_VISUAL_FLAIR), 0 !== o && e.push(r.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_EXCLUSIVE_CHANNELS_SUBTITLE.format({
                        channelCount: o
                    })), 0 !== d && e.push(r.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_BENEFITS_SUBTITLE.format({
                        benefitCount: d
                    })), 0 !== h && e.push(r.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_EMOJI_SUBTITLE.format({
                        emojiCount: h
                    })), new a.default(e)
                }, [o, d, h, t])
            }
        },
        176687: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var l = n("884691"),
                a = n("446674"),
                s = n("775433"),
                i = n("10514"),
                r = n("521012"),
                u = n("648825"),
                o = n("136185"),
                d = n("49111");

            function c(e) {
                let t = (0, a.useStateFromStores)([r.default], () => r.default.getSubscriptions()),
                    n = l.useMemo(() => {
                        if (null == t) return {};
                        let e = {};
                        for (let n of Object.values(t))
                            if (n.type === d.SubscriptionTypes.GUILD) {
                                let t = (0, o.getRoleSubscriptionPlanId)(n);
                                e[t] = n
                            } return e
                    }, [t]),
                    {
                        activeSubscription: c,
                        activeSubscriptionListing: f
                    } = (0, a.useStateFromStoresObject)([u.default], () => {
                        var t;
                        let l;
                        let a = null,
                            s = null != e ? u.default.getSubscriptionGroupListing(e) : null,
                            i = null !== (t = null == s ? void 0 : s.subscription_listings_ids) && void 0 !== t ? t : [];
                        for (let e of i) {
                            let t = u.default.getSubscriptionListing(e),
                                s = null == t ? void 0 : t.subscription_plans[0].id;
                            if (null == s) continue;
                            let i = n[s];
                            if (null != i) {
                                a = i, l = t;
                                break
                            }
                        }
                        return {
                            activeSubscription: a,
                            activeSubscriptionListing: l
                        }
                    }),
                    h = null == f ? void 0 : f.subscription_plans[0],
                    p = null == h ? void 0 : h.id,
                    m = null == h ? void 0 : h.sku_id,
                    E = (0, a.useStateFromStores)([i.default], () => null != p ? i.default.get(p) : null),
                    C = null == f ? void 0 : f.soft_deleted;
                return l.useEffect(() => {
                    null == E && null != m && !i.default.isFetchingForSKU(m) && (0, s.fetchSubscriptionPlansForSKU)(m, void 0, void 0, C)
                }, [E, m, C]), {
                    activeSubscription: c,
                    activeSubscriptionListing: f,
                    activeSubscriptionPlanFromStore: E
                }
            }
        },
        492548: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useGetTrialPurchaseEligibility: function() {
                    return s
                }
            });
            var l = n("884691"),
                a = n("719726");
            let s = () => {
                let [e, t] = l.useState(!1), [n, s] = l.useState(null), i = l.useCallback(async (e, n, l) => {
                    t(!0), s(null);
                    try {
                        let t = await (0, a.getGuildRoleSubscriptionTrialEligibility)(e, n, l);
                        return t
                    } catch (e) {
                        s(e)
                    } finally {
                        t(!1)
                    }
                }, []);
                return {
                    loading: e,
                    error: n,
                    getTrialPurchaseEligibility: i
                }
            }
        },
        595197: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return s
                }
            });
            var l = n("884691"),
                a = n("837008");

            function s(e, t) {
                let n = (0, a.useSubscriptionTrial)(t);
                return l.useMemo(() => {
                    var e;
                    return null != n && (null == n.max_num_active_trial_users || n.max_num_active_trial_users > (null !== (e = n.num_active_trial_users) && void 0 !== e ? e : 0))
                }, [n])
            }
        },
        373622: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            });
            var l = n("617258"),
                a = n("769846"),
                s = n("834897"),
                i = n("677795");
            let r = (0, l.cssValueToNumber)(a.default.GUILD_ROLE_SUBSCRIPTION_CARD_BASIC_INFO_TIER_IMAGE_SIZE),
                u = (0, l.cssValueToNumber)(a.default.GUILD_ROLE_SUBSCRIPTION_CARD_BASIC_INFO_TIER_IMAGE_SIZE_MOBILE);

            function o() {
                let e = (0, s.default)(i.RESPONSIVE_MOBILE_WIDTH_SIZE_QUERY);
                return e ? u : r
            }
        },
        291444: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useSubscriptionListingsForChannel: function() {
                    return c
                }
            });
            var l = n("316693"),
                a = n("446674"),
                s = n("38654"),
                i = n("42203"),
                r = n("305961"),
                u = n("837008"),
                o = n("866595"),
                d = n("49111");

            function c(e) {
                let {
                    guildId: t,
                    channelId: n
                } = e, c = (0, u.useSubscriptionListingsForGuild)(t);
                return (0, a.useStateFromStoresArray)([i.default, r.default, s.default], () => {
                    let e = i.default.getChannel(n),
                        a = r.default.getGuild(t),
                        u = s.default.isViewingSubscriptionRoles(t);
                    return null != a && null != e ? c.filter(t => (function(e, t, n) {
                        let {
                            isPreviewingRoles: a = !1
                        } = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};
                        if (!(a || e.published)) return !1;
                        let s = n.permissionOverwrites[e.role_id];
                        if ((0, o.isChannelAccessGrantedBy)(n, s)) return !0;
                        let i = t.getRole(t.id),
                            r = null != i && !l.default.has(i.permissions, d.Permissions.VIEW_CHANNEL),
                            u = (0, o.isChannelAccessDeniedBy)(n, n.permissionOverwrites[t.id]),
                            c = t.getRole(e.role_id);
                        return r && !u && null != c && (0, o.isAllChannelsRole)(c) && !(0, o.isChannelAccessDeniedBy)(n, s)
                    })(t, a, e, {
                        isPreviewingRoles: u
                    })) : []
                }, [t, n, c])
            }
        },
        847426: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return h
                }
            });
            var l = n("884691"),
                a = n("446674"),
                s = n("716241"),
                i = n("685665"),
                r = n("393414"),
                u = n("599110"),
                o = n("257869"),
                d = n("648825"),
                c = n("176687"),
                f = n("49111");

            function h(e) {
                var t;
                let {
                    guildId: n,
                    groupListingId: h,
                    location: p,
                    relevantSubscriptionListingIds: m
                } = e, E = (0, o.useGroupListingsFetchContext)("useTrackRoleSubscriptionUpsellAnalytics"), {
                    activeSubscription: C
                } = (0, c.default)(h), g = null != C, S = (0, a.useStateFromStoresArray)([d.default], () => (null != m ? m : []).filter(e => {
                    var t;
                    return (null === (t = d.default.getSubscriptionListing(e)) || void 0 === t ? void 0 : t.published) === !0
                }), [m]), {
                    analyticsLocations: _
                } = (0, i.default)(null !== (t = (0, r.getLastRouteChangeSourceLocationStack)()) && void 0 !== t ? t : []), I = l.useRef(!1);
                l.useEffect(() => {
                    E && null != h && null != S && !I.current && (I.current = !0, u.default.track(f.AnalyticEvents.ROLE_SUBSCRIPTION_LISTING_UPSELL_PAGE_VIEWED, {
                        role_subscription_group_listing_id: h,
                        role_subscription_listing_ids: S,
                        is_premium_member: g,
                        location_stack: _,
                        location: p,
                        ...(0, s.collectGuildAnalyticsMetadata)(n)
                    }))
                }, [n, h, E, p, S, g, _])
            }
        },
        93252: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("77078"),
                s = n("592407"),
                i = n("479756"),
                r = n("432153"),
                u = n("49111"),
                o = n("782340"),
                d = n("573431"),
                c = n("408426");

            function f(e) {
                let {
                    guildId: t
                } = e;
                return (0, l.jsx)("div", {
                    className: d.upsellPage,
                    children: (0, l.jsxs)("div", {
                        className: d.upsellContainer,
                        children: [(0, l.jsx)("img", {
                            src: c,
                            alt: ""
                        }), (0, l.jsxs)("div", {
                            className: d.upsellContent,
                            children: [(0, l.jsx)(a.Heading, {
                                variant: "heading-xl/semibold",
                                children: o.default.Messages.GUILD_ROLE_SUBSCRIPTION_TEMPLATE_PREVIEW_CHANNEL_UPSELL_HEADER
                            }), (0, l.jsx)(a.Text, {
                                variant: "text-sm/normal",
                                className: d.bodyText,
                                children: o.default.Messages.GUILD_ROLE_SUBSCRIPTION_TEMPLATE_PREVIEW_CHANNEL_UPSELL_BODY
                            }), (0, l.jsx)(a.Button, {
                                size: a.Button.Sizes.MEDIUM,
                                onClick: () => {
                                    (0, i.stopImpersonating)(t), s.default.open(t, u.GuildSettingsSections.ROLE_SUBSCRIPTIONS, void 0, u.GuildSettingsSubsections.ROLE_SUBSCRIPTION_TIERS), (0, r.announceDeleteTemplateChannels)(t)
                                },
                                className: d.button,
                                children: o.default.Messages.GUILD_ROLE_SUBSCRIPTION_TEMPLATE_PREVIEW_CHANNEL_UPSELL_BUTTON
                            })]
                        })]
                    })
                })
            }
        },
        548683: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("77078"),
                u = n("808388"),
                o = n("782340"),
                d = n("635845");

            function c(e) {
                let {
                    text: t,
                    hasScrolled: n
                } = e;
                return (0, l.jsxs)("div", {
                    className: i(d.container, {
                        [d.containerHide]: n
                    }),
                    children: [(0, l.jsx)("div", {
                        className: d.notice,
                        children: (0, l.jsx)(r.Text, {
                            className: d.label,
                            variant: "text-md/medium",
                            color: "header-primary",
                            children: t
                        })
                    }), (0, l.jsx)("div", {
                        className: d.noticeArrow
                    })]
                })
            }

            function f(e) {
                let [t, n] = a.useState(), [s, i] = a.useState(), [r, d] = a.useState(!1), [f, h] = a.useState(!1), {
                    enabled: p
                } = (0, u.useRoleSubscriptionMaxTiersExperiment)(e);
                a.useEffect(() => {
                    p && null != t && null != s ? d(t < s) : d(!1)
                }, [p, t, s]);
                let m = a.useMemo(() => r ? (0, l.jsx)(c, {
                    text: o.default.Messages.GUILD_ROLE_SUBSCRIPTION_LISTINGS_SCROLLABLE_NOTICE,
                    hasScrolled: f
                }) : null, [r, f]);
                return {
                    horizontalScrollNotice: m,
                    handleScroll: () => h(!0),
                    handleSetScrollerRef: e => {
                        var t;
                        return i(null == e ? void 0 : null === (t = e.getScrollerState()) || void 0 === t ? void 0 : t.scrollWidth)
                    },
                    handleSetContainerRef: e => n(null == e ? void 0 : e.clientWidth)
                }
            }
        },
        900076: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("414456"),
                s = n.n(a),
                i = n("394846"),
                r = n("77078"),
                u = n("548683"),
                o = n("158238");

            function d(e) {
                let {
                    guildId: t,
                    children: n,
                    className: a
                } = e, {
                    horizontalScrollNotice: d,
                    handleScroll: c,
                    handleSetScrollerRef: f,
                    handleSetContainerRef: h
                } = (0, u.default)(t), p = (0, l.jsx)("div", {
                    className: o.tierPreviewsContainer,
                    children: (0, l.jsx)("div", {
                        className: s(o.tierPreviews, a),
                        children: n
                    })
                });
                return !i.isMobile && (p = (0, l.jsxs)(l.Fragment, {
                    children: [d, (0, l.jsx)(r.AdvancedScroller, {
                        className: o.scroller,
                        orientation: "horizontal",
                        ref: f,
                        onScroll: c,
                        children: p
                    })]
                })), (0, l.jsx)("div", {
                    className: o.carouselMaxWidth,
                    ref: h,
                    children: p
                })
            }
        },
        226965: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("414456"),
                s = n.n(a),
                i = n("77078"),
                r = n("484456"),
                u = n("559979"),
                o = n("70695"),
                d = n("441641");

            function c(e) {
                let {
                    benefit: t,
                    guildId: n
                } = e, a = (0, o.default)(n, t.ref_id), c = (0, l.jsx)(r.default, {
                    guildId: n,
                    emojiId: t.emoji_id,
                    emojiName: t.emoji_name
                }), f = null != a ? (0, l.jsx)(i.Clickable, {
                    className: d.channelLink,
                    onClick: a.navigateToChannel,
                    "aria-label": a.ariaLabel,
                    role: "link",
                    children: (0, l.jsx)(i.Text, {
                        variant: "text-md/medium",
                        color: "header-primary",
                        className: s(d.name, d.linkedName),
                        children: (0, u.default)(t)
                    })
                }) : (0, l.jsx)(i.Text, {
                    variant: "text-md/medium",
                    color: "header-primary",
                    className: d.name,
                    children: (0, u.default)(t)
                });
                return (0, l.jsxs)("div", {
                    className: d.container,
                    children: [(0, l.jsxs)("div", {
                        className: d.infoContainer,
                        children: [f, (0, l.jsx)(i.Text, {
                            color: "interactive-normal",
                            variant: "text-sm/normal",
                            children: t.description
                        })]
                    }), (0, l.jsx)("div", {
                        className: d.emojiContainer,
                        children: c
                    })]
                })
            }
        },
        108314: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                GuildRoleSubscriptionBenefits: function() {
                    return F
                },
                default: function() {
                    return B
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("446674"),
                u = n("77078"),
                o = n("834897"),
                d = n("38654"),
                c = n("160299"),
                f = n("191814"),
                h = n("476765"),
                p = n("837899"),
                m = n("425190"),
                E = n("68238"),
                C = n("315102"),
                g = n("577357"),
                S = n("837008"),
                _ = n("167109"),
                I = n("176687"),
                T = n("595197"),
                x = n("41391"),
                N = n("549590"),
                v = n("833531"),
                A = n("270295"),
                M = n("246506"),
                R = n("226965"),
                L = n("944256"),
                j = n("97116"),
                O = n("320946"),
                y = n("677795"),
                P = n("49111"),
                D = n("782340"),
                b = n("938088");
            let U = e => {
                    let {
                        benefits: t,
                        header: n,
                        guildId: s
                    } = e, [i, r] = a.useState(!1), o = i ? t : t.slice(0, 5), d = t.length > 5, c = t.length - 5, p = D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_SHOW_MORE_DESCRIPTION_WITH_ITEMS.format({
                        numTruncated: c
                    }), m = (0, h.useUID)();
                    return 0 === t.length ? null : (0, l.jsxs)("div", {
                        className: b.benefitsSection,
                        children: [(0, l.jsx)(u.Heading, {
                            variant: "text-xs/bold",
                            color: "header-secondary",
                            className: b.sectionHeader,
                            id: m,
                            children: n
                        }), (0, l.jsx)(f.default, {
                            size: 12
                        }), (0, l.jsx)("ul", {
                            className: b.benefitsList,
                            "aria-labelledby": m,
                            children: o.map((e, t) => (0, l.jsx)("li", {
                                children: (0, l.jsx)(R.default, {
                                    guildId: s,
                                    benefit: e
                                }, (0, g.getBenefitKey)(e))
                            }, t))
                        }), d && (0, l.jsx)(G, {
                            isViewAll: i,
                            onToggle: () => r(e => !e),
                            showMoreText: p
                        })]
                    })
                },
                w = e => {
                    var t;
                    let {
                        guildId: n,
                        listingId: a
                    } = e, s = (0, x.default)(n), [i] = _.useTierEmojiIds(a, n), r = s.filter(e => i.has(e.id));
                    return 0 === r.length ? null : (0, l.jsxs)("div", {
                        className: b.benefitsSection,
                        children: [(0, l.jsx)(u.Heading, {
                            variant: "text-xs/bold",
                            color: "header-secondary",
                            className: b.sectionHeader,
                            children: D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_EMOJI_SECTION_TITLE.format({
                                count: r.length
                            })
                        }), (0, l.jsx)(f.default, {
                            size: 12
                        }), (0, l.jsx)("div", {
                            className: b.emojiList,
                            children: r.map((e, n) => (0, l.jsx)(u.Tooltip, {
                                text: e.name,
                                "aria-label": !1,
                                children: t => {
                                    var n;
                                    return (0, l.jsx)("img", {
                                        ...t,
                                        className: b.emojiListEmoji,
                                        src: (n = e, C.default.getEmojiURL({
                                            id: n.id,
                                            animated: n.animated,
                                            size: 24
                                        })),
                                        width: 24,
                                        height: 24,
                                        alt: e.name
                                    })
                                }
                            }, null !== (t = e.id) && void 0 !== t ? t : n))
                        })]
                    })
                },
                F = e => {
                    let {
                        listingId: t,
                        guildId: n,
                        className: a
                    } = e, s = (0, N.default)(n, t), [r] = _.useChannelBenefits(t), o = (0, v.default)(r), [d] = _.useIntangibleBenefits(t), c = _.useRole(t, n), [h] = _.useTierEmojiIds(t, n);
                    return null == s && 0 === o.length && 0 === d.length && 0 === h.size ? null : (0, l.jsxs)("div", {
                        className: i(b.subscriptionPerks, a),
                        children: [null != s && (0, l.jsxs)(u.HeadingLevel, {
                            component: (0, l.jsx)(u.Heading, {
                                variant: "text-xs/bold",
                                color: "header-secondary",
                                className: b.sectionHeader,
                                children: D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_MEMBER_PREVIEW
                            }),
                            children: [(0, l.jsx)(f.default, {
                                size: 8
                            }), (0, l.jsx)(M.default, {
                                role: c,
                                guildId: n,
                                className: b.roleMessagePreview
                            })]
                        }), (0, l.jsx)(U, {
                            header: D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_EXCLUSIVE_CHANNELS_SECTION_TITLE,
                            benefits: o,
                            guildId: n
                        }), (0, l.jsx)(U, {
                            header: D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_ADDITIONAL_BENEFITS_SECTION_TITLE,
                            benefits: d,
                            guildId: n
                        }), (0, l.jsx)(w, {
                            guildId: n,
                            listingId: t
                        })]
                    })
                },
                G = e => {
                    let t, {
                        onToggle: n,
                        isViewAll: a,
                        showMoreText: s
                    } = e;
                    return t = a ? (0, l.jsxs)(l.Fragment, {
                        children: [D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_SHOW_LESS_DESCRIPTION, (0, l.jsx)(m.default, {
                            className: b.toggleTruncationButtonIcon
                        })]
                    }) : (0, l.jsxs)(l.Fragment, {
                        children: [s, (0, l.jsx)(p.default, {
                            className: b.toggleTruncationButtonIcon
                        })]
                    }), (0, l.jsx)(u.Button, {
                        look: u.Button.Looks.BLANK,
                        size: u.Button.Sizes.NONE,
                        className: b.toggleTruncationButton,
                        innerClassName: b.toggleTruncationButtonInner,
                        onClick: n,
                        children: t
                    })
                };
            var B = e => {
                var t;
                let {
                    listingId: n,
                    guildId: s,
                    groupListingId: h,
                    analyticsLocation: p
                } = e, m = (0, S.useSubscriptionListing)(n), {
                    openModal: C,
                    canOpenModal: x,
                    cannotOpenReason: N,
                    isCheckingTrialEligibility: v
                } = (0, O.default)(m, s, h, p), M = (0, r.useStateFromStores)([c.default], () => c.default.isSyncing), {
                    activeSubscription: R,
                    activeSubscriptionListing: U
                } = (0, I.default)(h), w = (null == U ? void 0 : U.id) === n, B = (null == R ? void 0 : R.status) === P.SubscriptionStatusTypes.CANCELED, [k, H] = a.useState(!1), [V, W] = a.useState(!1), Y = a.useCallback(e => {
                    let t = !1;
                    null != e && (t = e.scrollHeight - e.clientHeight > 1), W(t)
                }, []), [z] = _.useName(n), [K] = _.useDescription(n), [Z] = _.useTrialInterval(n), [X] = _.useTrialLimit(n), q = (0, T.default)(s, n), Q = null != Z && null == R && q, J = (0, o.default)(y.RESPONSIVE_MOBILE_WIDTH_SIZE_QUERY), [$, ee] = a.useState(!1), et = $ || !J, en = (0, r.useStateFromStores)([d.default], () => d.default.isViewingSubscriptionRoles(s)), el = (null == m ? void 0 : m.published) === !0, ea = (null == m ? void 0 : m.soft_deleted) === !0, es = D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_SHOW_MORE_DESCRIPTION;
                return (el || en) && !ea ? (0, l.jsxs)("article", {
                    className: b.container,
                    "aria-label": z,
                    children: [Q && (0, l.jsxs)("div", {
                        className: i(b.tierTrialIndicator, b.tierTopIndicator),
                        children: [D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_PERIOD.format({
                            trialPeriodDuration: (0, g.formatPlanIntervalDuration)({
                                interval: Z.interval,
                                interval_count: Z.interval_count
                            })
                        }), (0, l.jsx)(u.Tooltip, {
                            clickableOnMobile: !0,
                            text: D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_DISCLAIMER.format({
                                activeTrialUserLimit: null != X ? X : 0
                            }),
                            children: e => (0, l.jsx)(E.default, {
                                className: b.tierTrialIndicatorIcon,
                                ...e
                            })
                        })]
                    }), (0, l.jsxs)("div", {
                        className: Q ? void 0 : b.cardContainerWithoutTopIndicator,
                        children: [(0, l.jsxs)("div", {
                            className: b.tierInfoContainer,
                            children: [J ? (0, l.jsx)(j.GuildRoleSubscriptionCollapsibleCardBasicInfo, {
                                listingId: n,
                                isListingPublished: el,
                                expanded: et,
                                onToggleExpanded: () => ee(e => !e)
                            }) : (0, l.jsx)(L.GuildRoleSubscriptionCardBasicInfo, {
                                listingId: n,
                                isListingPublished: el
                            }), et && (0, l.jsxs)(l.Fragment, {
                                children: [J && (0, l.jsx)("div", {
                                    className: b.divider
                                }), w ? (0, l.jsx)(u.Button, {
                                    fullWidth: !0,
                                    look: u.Button.Looks.OUTLINED,
                                    color: u.Button.Colors.PRIMARY,
                                    disabled: !0,
                                    children: B ? D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_CANCELED_LABEL : D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_SUBSCRIBED_LABEL
                                }) : (0, l.jsx)(u.Tooltip, {
                                    text: x ? null : N,
                                    "aria-label": null !== (t = x && N) && void 0 !== t && t,
                                    children: e => (0, l.jsx)(A.default, {
                                        ...e,
                                        fullWidth: !0,
                                        disabled: !x || M,
                                        submitting: v,
                                        onClick: C,
                                        onlyShineOnHover: !0,
                                        children: D.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_SUBSCRIBE_LABEL
                                    })
                                }), (0, l.jsx)(f.default, {
                                    size: 16
                                }), (0, l.jsx)(u.Text, {
                                    variant: "text-sm/normal",
                                    color: "text-normal",
                                    className: i((!V || !k) && b.tierDescriptionTruncate),
                                    children: (0, l.jsx)("div", {
                                        ref: Y,
                                        children: K
                                    })
                                }), V && (0, l.jsx)(G, {
                                    isViewAll: k,
                                    onToggle: () => H(e => !e),
                                    showMoreText: es
                                })]
                            })]
                        }), et && (0, l.jsx)(u.HeadingLevel, {
                            children: (0, l.jsx)(F, {
                                listingId: n,
                                guildId: s
                            })
                        })]
                    })]
                }) : null
            }
        },
        944256: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                GuildRoleSubscriptionCardTierName: function() {
                    return h
                },
                GuildRoleSubscriptionCardTierImage: function() {
                    return p
                },
                GuildRoleSubscriptionCardDraftTierBadge: function() {
                    return m
                },
                GuildRoleSubscriptionCardBasicInfo: function() {
                    return E
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("669491"),
                s = n("77078"),
                i = n("956089"),
                r = n("153160"),
                u = n("577357"),
                o = n("167109"),
                d = n("373622"),
                c = n("782340"),
                f = n("118338");
            let h = e => {
                let {
                    listingName: t
                } = e;
                return (0, l.jsx)(s.Heading, {
                    variant: "text-md/normal",
                    color: "interactive-active",
                    className: f.tierName,
                    children: t
                })
            };

            function p(e) {
                let {
                    image: t
                } = e;
                return null == t ? null : (0, l.jsx)("img", {
                    src: t,
                    alt: "",
                    className: f.tierImage
                })
            }
            let m = () => (0, l.jsx)(i.TextBadge, {
                    color: a.default.unsafe_rawColors.YELLOW_300.css,
                    text: c.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_MANAGEMENT_DRAFT_LABEL,
                    className: f.draftBadge
                }),
                E = e => {
                    let {
                        listingId: t,
                        isListingPublished: n
                    } = e, a = (0, d.default)(), [i] = o.useName(t), [E] = o.useImage(t, a), [C] = o.useSubscriptionPlan(t);
                    return (0, l.jsxs)(l.Fragment, {
                        children: [(0, l.jsx)(h, {
                            listingName: i
                        }), (0, l.jsx)(p, {
                            image: E
                        }), !n && (0, l.jsx)("div", {
                            className: f.draftBadgeContainer,
                            children: (0, l.jsx)(m, {})
                        }), (0, l.jsx)(s.Text, {
                            variant: "heading-xl/semibold",
                            className: f.tierPrice,
                            tag: "div",
                            children: (0, r.formatPrice)(C.price, C.currency)
                        }), (0, l.jsx)(s.Text, {
                            variant: "text-xs/normal",
                            color: "interactive-normal",
                            className: f.tierPeriod,
                            children: c.default.Messages.GUILD_ROLE_SUBSCRIPTION_AMOUNT_PER_PERIOD.format({
                                period: (0, u.formatPlanInterval)({
                                    interval: C.interval,
                                    interval_count: C.interval_count
                                })
                            })
                        })]
                    })
                }
        },
        97116: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                GuildRoleSubscriptionCollapsibleCardBasicInfo: function() {
                    return p
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("77078"),
                s = n("837899"),
                i = n("425190"),
                r = n("153160"),
                u = n("577357"),
                o = n("167109"),
                d = n("373622"),
                c = n("944256"),
                f = n("782340"),
                h = n("948286");
            let p = e => {
                let {
                    listingId: t,
                    isListingPublished: n,
                    expanded: p,
                    onToggleExpanded: m
                } = e, E = (0, d.default)(), [C] = o.useName(t), [g] = o.useImage(t, E), [S] = o.useSubscriptionPlan(t);
                return (0, l.jsxs)("div", {
                    className: h.container,
                    children: [(0, l.jsx)(c.GuildRoleSubscriptionCardTierImage, {
                        image: g
                    }), (0, l.jsxs)("div", {
                        className: h.tierTextInfoContainer,
                        children: [(0, l.jsx)(c.GuildRoleSubscriptionCardTierName, {
                            listingName: C
                        }), (0, l.jsxs)("div", {
                            className: h.tierPriceContainer,
                            children: [!n && (0, l.jsx)(c.GuildRoleSubscriptionCardDraftTierBadge, {}), (0, l.jsxs)(a.Text, {
                                variant: "text-xs/normal",
                                className: h.tierPrice,
                                children: [(0, r.formatPrice)(S.price, S.currency), " ", f.default.Messages.GUILD_ROLE_SUBSCRIPTION_AMOUNT_PER_PERIOD.format({
                                    period: (0, u.formatPlanInterval)({
                                        interval: S.interval,
                                        interval_count: S.interval_count
                                    })
                                })]
                            })]
                        })]
                    }), (0, l.jsx)(a.Clickable, {
                        onClick: m,
                        children: p ? (0, l.jsx)(i.default, {
                            className: h.toggleButton
                        }) : (0, l.jsx)(s.default, {
                            className: h.toggleButton
                        })
                    })]
                })
            }
        },
        18544: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                PurchaseConfirmationLite: function() {
                    return c
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("446674"),
                s = n("77078"),
                i = n("724038"),
                r = n("305961"),
                u = n("809167"),
                o = n("782340"),
                d = n("646839");
            let c = e => {
                let {
                    onClose: t,
                    listing: n,
                    guildId: c
                } = e, f = (0, a.useStateFromStores)([r.default], () => r.default.getGuild(c), [c]), h = (0, u.default)({
                    listing: n,
                    guildId: c
                });
                return (0, l.jsxs)("div", {
                    className: d.confirmationContainer,
                    children: [(0, l.jsx)(s.Heading, {
                        className: d.confirmationHeader,
                        variant: "heading-lg/extrabold",
                        children: o.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_TITLE.format({
                            serverName: null == f ? void 0 : f.toString(),
                            tierName: n.name
                        })
                    }), !h.isEmpty() && (0, l.jsx)(s.Text, {
                        className: d.confirmationSubtitle,
                        variant: "text-sm/normal",
                        color: "header-secondary",
                        children: o.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_SUBTITLE.format({
                            benefits: h.asString()
                        })
                    }), (0, l.jsx)(s.Button, {
                        className: d.openDiscordButton,
                        onClick: () => (0, i.default)("role_sub_mweb_success_modal"),
                        children: o.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_OPEN_DISCORD_BUTTON
                    }), (0, l.jsx)(s.Button, {
                        className: d.doneButton,
                        look: s.Button.Looks.BLANK,
                        onClick: () => t(!0),
                        children: o.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_DONE_BUTTON
                    })]
                })
            }
        },
        258501: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                Header: function() {
                    return T
                },
                PurchaseConfirmation: function() {
                    return x
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("414456"),
                s = n.n(a),
                i = n("446674"),
                r = n("77078"),
                u = n("430568"),
                o = n("834897"),
                d = n("85336"),
                c = n("305961"),
                f = n("945330"),
                h = n("271560"),
                p = n("577357"),
                m = n("837008"),
                E = n("41391"),
                C = n("833531"),
                g = n("393381"),
                S = n("677795"),
                _ = n("782340"),
                I = n("751071");
            let T = e => {
                    let {
                        onClose: t,
                        listing: n,
                        step: a,
                        guildId: i
                    } = e, u = (0, m.useSubscriptionsSettings)(i), c = (0, o.default)(S.RESPONSIVE_MOBILE_HEIGHT_SMALL_QUERY);
                    return (0, l.jsxs)("div", {
                        className: s(I.headerContainer, {
                            [I.headerEmpty]: c
                        }),
                        children: [(() => {
                            var e;
                            if (c) return null;
                            let t = (null == u ? void 0 : null === (e = u.cover_image_asset) || void 0 === e ? void 0 : e.application_id) != null ? (0, h.getAssetURL)(u.cover_image_asset.application_id, u.cover_image_asset, 440) : void 0;
                            return (0, l.jsx)("img", {
                                src: t,
                                alt: "",
                                className: I.headerImage
                            })
                        })(), (() => {
                            if (a !== d.Step.CONFIRM) return null;
                            let e = null == n.image_asset ? void 0 : (0, h.getAssetURL)(n.application_id, n.image_asset, 80);
                            return (0, l.jsx)("div", {
                                className: I.tierImageContainer,
                                children: (0, l.jsx)("img", {
                                    src: e,
                                    alt: "",
                                    className: I.tierImage
                                })
                            })
                        })(), (0, l.jsx)(r.Clickable, {
                            className: I.closeContainer,
                            onClick: () => t(!1),
                            "aria-label": _.default.Messages.CLOSE,
                            children: (0, l.jsx)(f.default, {
                                className: I.closeIcon
                            })
                        })]
                    })
                },
                x = e => {
                    let {
                        onClose: t,
                        listing: n,
                        guildId: a
                    } = e, s = (0, i.useStateFromStores)([c.default], () => c.default.getGuild(a), [a]), o = (0, E.default)(a), d = o.filter(e => e.roles.includes(n.role_id)), f = n.role_benefits.benefits.filter(p.isChannelBenefit).slice(0, null === d.length ? 4 : 3), h = (0, C.default)(f).slice(0, null === d.length ? 4 : 3);
                    return (0, l.jsxs)("div", {
                        className: I.confirmationContainer,
                        children: [(0, l.jsx)(r.Heading, {
                            className: I.confirmationHeader,
                            variant: "heading-xl/semibold",
                            color: "header-secondary",
                            children: _.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_TITLE.format({
                                serverName: null == s ? void 0 : s.toString()
                            })
                        }), (0, l.jsx)(r.Text, {
                            className: I.confirmationSubtitle,
                            variant: "text-md/normal",
                            color: "header-secondary",
                            children: _.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_SUBTITLE.format({
                                tier: n.name
                            })
                        }), h.length > 0 && (0, l.jsxs)(l.Fragment, {
                            children: [(0, l.jsx)(r.Text, {
                                variant: "text-xs/normal",
                                color: "header-secondary",
                                className: I.confirmationSectionLabel,
                                children: _.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_CHANNEL_PREVIEW
                            }), (0, l.jsx)("div", {
                                className: I.confirmationBenefits,
                                children: h.map(e => (0, l.jsx)(g.default, {
                                    benefit: e,
                                    guildId: a,
                                    onClick: () => t(!0)
                                }, (0, p.getBenefitKey)(e)))
                            })]
                        }), (() => {
                            var e;
                            if (0 === d.length) return null;
                            let t = d[0];
                            return (0, l.jsxs)(l.Fragment, {
                                children: [(0, l.jsx)(r.Text, {
                                    variant: "text-xs/medium",
                                    color: "header-secondary",
                                    className: I.confirmationSectionLabel,
                                    children: _.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_PREMIUM_EMOJI_PREVIEW_TITLE
                                }), (0, l.jsxs)("div", {
                                    className: I.emojiBenefitsRow,
                                    children: [(0, l.jsx)(u.default, {
                                        emojiId: t.id,
                                        emojiName: t.name,
                                        animated: null !== (e = t.animated) && void 0 !== e && e,
                                        className: I.emojiImage
                                    }), (0, l.jsxs)("div", {
                                        children: [(0, l.jsx)(r.Text, {
                                            variant: "text-md/medium",
                                            color: "header-primary",
                                            className: I.emojiName,
                                            children: _.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_PREMIUM_EMOJI_BENEFIT_TEXT
                                        }), (0, l.jsx)(r.Text, {
                                            color: "interactive-normal",
                                            variant: "text-sm/normal",
                                            children: _.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_PREMIUM_EMOJI_BENEFIT_DESCRIPTION.format({
                                                count: d.length
                                            })
                                        })]
                                    })]
                                })]
                            })
                        })(), (0, l.jsx)(r.Button, {
                            className: I.confirmationButton,
                            onClick: () => t(!0),
                            children: _.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_DONE_BUTTON
                        })]
                    })
                }
        },
        393381: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("77078"),
                s = n("461380"),
                i = n("484456"),
                r = n("559979"),
                u = n("70695"),
                o = n("73495");

            function d(e) {
                let {
                    benefit: t,
                    guildId: n,
                    onClick: d
                } = e, c = (0, u.default)(n, t.ref_id), f = (0, l.jsx)(i.default, {
                    guildId: n,
                    emojiId: t.emoji_id,
                    emojiName: t.emoji_name
                });
                return (0, l.jsxs)(a.Clickable, {
                    className: o.container,
                    onClick: () => {
                        null == c || c.navigateToChannel(), d()
                    },
                    "aria-label": null == c ? void 0 : c.ariaLabel,
                    role: "link",
                    children: [(0, l.jsx)("div", {
                        className: o.emojiContainer,
                        children: f
                    }), (0, l.jsxs)("div", {
                        className: o.infoContainer,
                        children: [(0, l.jsx)(a.Text, {
                            variant: "text-md/medium",
                            color: "header-primary",
                            className: o.name,
                            children: (0, r.default)(t)
                        }), (0, l.jsx)(a.Text, {
                            color: "interactive-normal",
                            variant: "text-sm/normal",
                            children: t.description
                        })]
                    }), (0, l.jsx)(s.default, {
                        direction: s.default.Directions.RIGHT,
                        className: o.caret
                    })]
                })
            }
        },
        320946: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return y
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("627445"),
                i = n.n(s),
                r = n("866227"),
                u = n.n(r),
                o = n("446674"),
                d = n("913144"),
                c = n("775433"),
                f = n("834897"),
                h = n("685665"),
                p = n("233322"),
                m = n("567054"),
                E = n("982527"),
                C = n("157186"),
                g = n("267567"),
                S = n("666391"),
                _ = n("10514"),
                I = n("701909"),
                T = n("577357"),
                x = n("837008"),
                N = n("136185"),
                v = n("176687"),
                A = n("492548"),
                M = n("18544"),
                R = n("258501"),
                L = n("677795"),
                j = n("49111"),
                O = n("782340"),
                y = (e, t, n, s) => {
                    let r;
                    let y = (0, o.useStateFromStores)([g.default], () => g.default.isLurking(t)),
                        P = (0, C.useShowMemberVerificationGate)(t),
                        D = (0, o.useStateFromStores)([E.default], () => null != t ? E.default.getRequest(t) : null),
                        b = (null == D ? void 0 : D.applicationStatus) === m.GuildJoinRequestApplicationStatuses.SUBMITTED,
                        U = null == e ? void 0 : e.subscription_plans[0],
                        w = null == U ? void 0 : U.id,
                        F = (null == e ? void 0 : e.published) === !0,
                        G = null == U ? void 0 : U.sku_id,
                        B = (0, o.useStateFromStores)([_.default], () => null != w ? _.default.get(w) : null),
                        {
                            activeSubscription: k,
                            activeSubscriptionPlanFromStore: H
                        } = (0, v.default)(n),
                        V = null == k || null != H,
                        W = (0, x.useSubscriptionListingsForGroup)(n, {
                            includeSoftDeleted: !0
                        }),
                        Y = W.map(e => e.subscription_plans[0].id),
                        z = (0, N.getRoleSubscriptionMutationPlanId)(k),
                        K = null != z,
                        Z = (null == k ? void 0 : k.trialId) != null,
                        {
                            loading: X,
                            getTrialPurchaseEligibility: q
                        } = (0, A.useGetTrialPurchaseEligibility)(),
                        Q = (0, x.useSubscriptionTrial)(null == e ? void 0 : e.id),
                        {
                            analyticsLocations: J
                        } = (0, h.default)(),
                        $ = (null == k ? void 0 : k.paymentGateway) === j.PaymentGateways.APPLE_PARTNER;
                    b ? r = O.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_REQUIRE_APPROVED_MEMBER : y && !P ? r = O.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_REQUIRE_APPROVED_MEMBER : z === w ? r = O.default.Messages.GUILD_ROLE_SUBSCRIPTION_HAS_PENDING_MUTATION_TO_CURRENT_LISTING.format({
                        changeDate: null != k ? u(k.currentPeriodEnd).format("MMM DD, YYYY") : ""
                    }) : K ? r = O.default.Messages.GUILD_ROLE_SUBSCRIPTION_HAS_PENDING_MUTATION : Z ? r = O.default.Messages.GUILD_ROLE_SUBSCRIPTION_CHANGE_TIER_DISABLED_IN_TRIAL : $ && (r = O.default.Messages.GUILD_ROLE_SUBSCRIPTION_CHANGE_TIER_DISABLED_IF_IAP);
                    let ee = (0, f.default)(L.RESPONSIVE_MOBILE_WIDTH_SIZE_QUERY);
                    a.useEffect(() => {
                        F && null != G && d.default.wait(() => {
                            (0, c.fetchSubscriptionPlansForSKU)(G)
                        })
                    }, [F, G]);
                    let et = a.useCallback(async () => {
                            var n;
                            let a, r;
                            if (i(null != e, "No subscription listing"), i(null != U, "No subscription plan"), i(F, "Cannot purchase this unpublished plan"), (null == Q ? void 0 : Q.active_trial) != null) {
                                let l = await q(t, e.id, Q.active_trial.id);
                                (null == l ? void 0 : l.is_eligible) === !0 ? a = null == Q ? void 0 : null === (n = Q.active_trial) || void 0 === n ? void 0 : n.id : r = O.default.Messages.GUILD_ROLE_SUBSCRIPTION_INELIGIBLE_TRIAL_DISCLAIMER
                            }(0, S.default)({
                                activeSubscription: k,
                                analyticsSubscriptionType: j.SubscriptionTypes.GUILD,
                                trialId: a,
                                trialFooterMessageOverride: (null == Q ? void 0 : Q.active_trial) != null ? O.default.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_RENEWAL_FOOTER.format({
                                    trialInterval: (0, T.formatPlanIntervalDuration)(Q.active_trial),
                                    days: 1,
                                    contactLink: j.MarketingURLs.CONTACT,
                                    helpdeskArticle: I.default.getArticleURL(j.HelpdeskArticles.ROLE_SUBSCRIPTION_TRIAL)
                                }) : void 0,
                                analyticsLocations: J,
                                analyticsLocation: s,
                                renderHeader: (n, a, s) => (0, l.jsx)(R.Header, {
                                    onClose: a,
                                    listing: e,
                                    step: s,
                                    guildId: t
                                }),
                                initialPlanId: U.id,
                                skuId: U.sku_id,
                                planGroup: Y,
                                renderPurchaseConfirmation: (n, a) => ee ? (0, l.jsx)(M.PurchaseConfirmationLite, {
                                    listing: e,
                                    onClose: a,
                                    guildId: t
                                }) : (0, l.jsx)(R.PurchaseConfirmation, {
                                    listing: e,
                                    onClose: a,
                                    guildId: t
                                }),
                                reviewWarningMessage: r
                            })
                        }, [F, e, U, k, Y, t, J, s, q, Q, ee]),
                        en = a.useCallback(() => {
                            (0, p.openMemberVerificationModal)(t)
                        }, [t]);
                    return {
                        openModal: P ? en : et,
                        canOpenModal: !y && null != B && V && !b && !K && !Z && !$,
                        cannotOpenReason: r,
                        isCheckingTrialEligibility: X
                    }
                }
        },
        661455: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return C
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("446674"),
                i = n("77078"),
                r = n("42203"),
                u = n("305961"),
                o = n("837008"),
                d = n("291444"),
                c = n("847426"),
                f = n("900076"),
                h = n("108314"),
                p = n("49111"),
                m = n("782340"),
                E = n("528392");

            function C(e) {
                let {
                    guildId: t,
                    channelId: n
                } = e, C = (0, d.useSubscriptionListingsForChannel)({
                    guildId: t,
                    channelId: n
                }), g = (0, o.useGroupListingsForGuild)(t), S = (0, o.useSubscriptionsSettings)(t), _ = (0, s.useStateFromStores)([u.default], () => u.default.getGuild(t), [t]), I = null == _ ? void 0 : _.name, T = (0, s.useStateFromStores)([r.default], () => r.default.getChannel(n)), x = a.useMemo(() => {
                    let e = {};
                    for (let t of g)
                        for (let n of t.subscription_listings_ids) e[n] = t.id;
                    return e
                }, [g]);
                return ((0, c.default)({
                    guildId: t,
                    location: p.AnalyticsLocations.ROLE_SUBSCRIPTION_GATED_CHANNEL,
                    relevantSubscriptionListingIds: C.map(e => e.id)
                }), null == _) ? (0, l.jsx)("div", {
                    className: E.spinnerContainer,
                    children: (0, l.jsx)(i.Spinner, {
                        className: E.spinner
                    })
                }) : (0, l.jsxs)(i.ScrollerAuto, {
                    className: E.pageContainer,
                    children: [(0, l.jsx)(i.Heading, {
                        variant: "heading-xl/semibold",
                        className: E.joinCtaTitle,
                        children: m.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_UPSELL_PAGE_CTA.format({
                            serverName: I,
                            channelName: null == T ? void 0 : T.name
                        })
                    }), (0, l.jsx)(i.Text, {
                        className: E.joinCtaSubtitle,
                        variant: "text-md/normal",
                        color: "header-secondary",
                        children: null == S ? void 0 : S.description
                    }), (0, l.jsx)(f.default, {
                        guildId: t,
                        children: C.filter(e => null != x[e.id]).map(e => (0, l.jsx)(h.default, {
                            guildId: t,
                            listingId: e.id,
                            groupListingId: x[e.id],
                            analyticsLocation: p.AnalyticsLocations.ROLE_SUBSCRIPTION_GATED_CHANNEL
                        }, e.id))
                    })]
                })
            }
        },
        70695: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var l = n("446674"),
                a = n("139375"),
                s = n("242740"),
                i = n("393414"),
                r = n("42203"),
                u = n("800762"),
                o = n("848848"),
                d = n("49111");

            function c(e, t) {
                let n = (0, l.useStateFromStores)([r.default], () => r.default.getChannel(t)),
                    {
                        needSubscriptionToAccess: c
                    } = (0, o.default)(null == n ? void 0 : n.id);
                if (null == n || c) return null;
                let f = n.isGuildVocal(),
                    h = (0, a.default)({
                        channel: n
                    });
                return {
                    navigateToChannel: () => {
                        f ? s.default.handleVoiceConnect({
                            channel: n,
                            connected: u.default.isInChannel(n.id),
                            needSubscriptionToAccess: !1,
                            routeDirectlyToChannel: !0
                        }) : (0, i.transitionTo)(d.Routes.CHANNEL(e, n.id))
                    },
                    ariaLabel: h
                }
            }
        },
        941298: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("77078"),
                s = n("664336"),
                i = n("393745"),
                r = n("782340"),
                u = n("223209");

            function o(e) {
                let {
                    guildEvent: t
                } = e;
                return null == t ? null : (0, l.jsxs)(l.Fragment, {
                    children: [(0, l.jsx)(s.default.Divider, {
                        className: u.divider
                    }), (0, l.jsx)(i.GuildEventTimeStatus, {
                        startTime: t.scheduled_start_time,
                        status: t.status,
                        liveText: r.default.Messages.LIVE_EVENT,
                        className: u.eventSchedule,
                        textVariant: "text-lg/semibold",
                        eventType: t.entity_type
                    }), (0, l.jsx)(a.Text, {
                        color: "header-secondary",
                        variant: "text-md/normal",
                        className: u.eventName,
                        children: t.name
                    })]
                })
            }
        },
        18517: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("669491"),
                s = n("77078"),
                i = n("943232"),
                r = n("842672"),
                u = n("888237"),
                o = n("782340");

            function d(e) {
                let {
                    className: t,
                    guildId: d
                } = e, c = (0, r.default)();
                return (0, l.jsx)(u.default, {
                    className: t,
                    icon: (0, l.jsx)(i.default, {
                        height: 20,
                        width: 20
                    }),
                    color: a.default.unsafe_rawColors.BRAND_500.css,
                    title: o.default.Messages.SCHEDULE_EVENT,
                    description: o.default.Messages.SCHEDULE_EVENT_DESCRIPTION,
                    onClick: function() {
                        (0, s.openModalLazy)(async () => {
                            let {
                                default: e
                            } = await n.el("590942").then(n.bind(n, "590942"));
                            return t => (0, l.jsx)(e, {
                                ...t,
                                guildId: d
                            })
                        }, c)
                    }
                })
            }
        },
        487984: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("669491"),
                s = n("244201"),
                i = n("751661"),
                r = n("228427"),
                u = n("888237"),
                o = n("782340");

            function d(e) {
                let {
                    className: t,
                    channel: n,
                    highlight: d
                } = e, c = (0, s.useAppContext)();
                return (0, l.jsx)(u.default, {
                    highlight: null != d && d,
                    className: t,
                    icon: (0, l.jsx)(r.default, {
                        height: 20,
                        width: 20
                    }),
                    color: a.default.unsafe_rawColors.GREEN_360.css,
                    title: o.default.Messages.STAGE_CHANNEL_START_TITLE,
                    description: o.default.Messages.STAGE_CHANNEL_START_SUBTITLE,
                    onClick: function() {
                        (0, i.openStageChannelSettings)(n, c)
                    }
                })
            }
        },
        201380: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                MoreVoiceUser: function() {
                    return O
                },
                AudienceVoiceUser: function() {
                    return y
                },
                default: function() {
                    return D
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("77078"),
                u = n("255397"),
                o = n("272030"),
                d = n("987317"),
                c = n("990766"),
                f = n("650912"),
                h = n("76393"),
                p = n("845038"),
                m = n("374014"),
                E = n("223913"),
                C = n("709463"),
                g = n("264429"),
                S = n("506885"),
                _ = n("981601"),
                I = n("271938"),
                T = n("305961"),
                x = n("957255"),
                N = n("800762"),
                v = n("272339"),
                A = n("68148"),
                M = n("171644"),
                R = n("706530"),
                L = n("782340"),
                j = n("375674");

            function O(e) {
                let {
                    numUsers: t
                } = e;
                return (0, l.jsx)("div", {
                    className: j.moreContainer,
                    children: (0, l.jsxs)(r.Text, {
                        color: "text-muted",
                        variant: "text-sm/medium",
                        children: ["+", t]
                    })
                })
            }

            function y(e) {
                let {
                    numAudience: t,
                    collapsed: n
                } = e, a = n ? t : L.default.Messages.LISTENING_COUNT.format({
                    count: t
                });
                return (0, l.jsxs)("div", {
                    className: i(j.audienceContainer, {
                        [j.audienceContainerCollapsed]: n
                    }),
                    children: [(0, l.jsx)("div", {
                        className: j.audienceIconContainer,
                        children: (0, l.jsx)(v.default, {
                            className: j.audienceIcon
                        })
                    }), (0, l.jsx)(r.Text, {
                        color: "text-muted",
                        variant: "text-sm/medium",
                        children: a
                    })]
                })
            }
            class P extends a.PureComponent {
                get canWatchStream() {
                    let {
                        channel: e,
                        isStreaming: t
                    } = this.props;
                    return t && (0, E.canWatchStream)(e, N.default, T.default, x.default, h.default)[0]
                }
                render() {
                    let {
                        userPopoutOpen: e
                    } = this.state, {
                        connectUserDragSource: t,
                        canDrag: n,
                        isSelfOnOtherClient: a,
                        user: s,
                        channel: i
                    } = this.props, u = (0, l.jsx)("div", {
                        className: j.draggable,
                        "data-dnd-name": i.name,
                        onMouseEnter: a ? void 0 : this.handleMouseEnter,
                        onMouseLeave: a ? void 0 : this.handleHidePreview,
                        children: (0, l.jsx)(r.Popout, {
                            preload: () => (0, S.default)(s.id, s.getAvatarURL(i.guild_id, 80), {
                                guildId: i.guild_id,
                                channelId: i.id
                            }),
                            position: "right",
                            renderPopout: this.renderUserPopout,
                            shouldShow: e,
                            onRequestClose: this.handleCloseUserPopout,
                            children: e => this.renderUser(e)
                        })
                    });
                    return n ? t(u) : u
                }
                constructor(...e) {
                    super(...e), this.domElementRef = a.createRef(), this.state = {
                        userPopoutOpen: !1
                    }, this.handleClickUser = () => {
                        this.setState({
                            userPopoutOpen: !this.state.userPopoutOpen
                        })
                    }, this.handleCloseUserPopout = () => {
                        this.setState({
                            userPopoutOpen: !1
                        })
                    }, this.handleHidePreview = () => {
                        let {
                            hidePreview: e,
                            isStreaming: t,
                            user: n
                        } = this.props;
                        if (t) null == e || e(n.id)
                    }, this.handleMouseEnter = () => {
                        let {
                            user: e,
                            showPreview: t,
                            isStreaming: n
                        } = this.props;
                        if (n) null == t || t(e.id)
                    }, this.handleWatchStream = () => {
                        let {
                            user: e,
                            channel: t,
                            isWatching: n,
                            hidePreview: l
                        } = this.props;
                        if (!this.canWatchStream) return;
                        let a = {
                            streamType: R.StreamTypes.GUILD,
                            ownerId: e.id,
                            channelId: t.id,
                            guildId: t.guild_id
                        };
                        I.default.getId() !== e.id && d.default.selectVoiceChannel(t.id), n ? ((0, C.default)(a), u.default.selectParticipant(a.channelId, (0, m.encodeStreamKey)(a))) : (0, c.watchStreamAndTransitionToStream)(a), null == l || l(e.id)
                    }, this.handleUserContextMenu = e => {
                        let {
                            channel: t,
                            user: a
                        } = this.props;
                        (0, o.openContextMenuLazy)(e, async () => {
                            let {
                                default: e
                            } = await n.el("834247").then(n.bind(n, "834247"));
                            return n => (0, l.jsx)(e, {
                                ...n,
                                user: a,
                                guildId: t.guild_id,
                                channel: t,
                                showMediaItems: !0,
                                showStageChannelItems: t.isGuildStageVoice()
                            })
                        })
                    }, this.renderUserPopout = e => {
                        let {
                            channel: t,
                            user: n
                        } = this.props, a = t.getGuildId();
                        return (0, l.jsx)(_.default, {
                            userId: n.id,
                            guildId: null != a ? a : void 0,
                            channelId: t.id,
                            ...e
                        })
                    }, this.renderStreamPopout = () => {
                        let {
                            user: e,
                            channel: t,
                            previewIsOpen: n,
                            location: a
                        } = this.props;
                        return (0, l.jsx)(g.default, {
                            user: e,
                            channel: t,
                            onWatch: this.handleWatchStream,
                            previewIsOpen: n,
                            location: a
                        })
                    }, this.renderUser = e => {
                        let {
                            isSelfOnOtherClient: t,
                            otherClientSessionType: n,
                            voicePlatform: a,
                            shouldShowPreview: s,
                            mute: u,
                            localMute: o,
                            localVideoDisabled: d,
                            speaking: c,
                            user: f,
                            deaf: h,
                            priority: m,
                            collapsed: E,
                            isStreaming: C,
                            isGuest: g,
                            nick: S,
                            video: _,
                            serverMute: I,
                            serverDeaf: T,
                            tabIndex: x,
                            embeddedApplication: N,
                            channel: v
                        } = this.props, {
                            userPopoutOpen: R
                        } = this.state, O = M.GAME_CONSOLE_SESSIONS.has(null != n ? n : ""), y = {
                            user: f,
                            speaking: c,
                            mute: u,
                            localMute: o,
                            localVideoDisabled: d,
                            isStreaming: C,
                            isGuest: g,
                            video: _,
                            priority: m,
                            deaf: h,
                            nick: S,
                            collapsed: E,
                            overlap: E,
                            serverMute: I,
                            serverDeaf: T,
                            tabIndex: x,
                            otherClientSessionType: n,
                            voicePlatform: a,
                            embeddedApplication: N,
                            avatarContainerClass: i({
                                [j.userAvatar]: !0
                            }),
                            disabled: t && !O,
                            selected: R,
                            onClick: O ? void 0 : this.handleClickUser,
                            onDoubleClick: this.handleWatchStream,
                            onContextMenu: this.handleUserContextMenu,
                            guildId: v.guild_id
                        };
                        if (t) {
                            var P;
                            return (0, l.jsx)(r.Tooltip, {
                                text: null !== (P = (0, p.default)(n)) && void 0 !== P ? P : L.default.Messages.CONNECTED_ON_ANOTHER_CLIENT,
                                children: e => {
                                    let {
                                        onClick: t,
                                        onContextMenu: n,
                                        ...a
                                    } = e;
                                    return (0, l.jsx)(A.default, {
                                        ...y,
                                        ...a
                                    })
                                }
                            })
                        }
                        return (0, l.jsx)(r.Popout, {
                            position: "right",
                            renderPopout: this.renderStreamPopout,
                            shouldShow: s && !R,
                            onRequestClose: this.handleHidePreview,
                            spacing: 0,
                            children: () => (0, l.jsx)(A.default, {
                                ...y,
                                onMouseDown: e.onMouseDown,
                                onKeyDown: e.onKeyDown
                            })
                        })
                    }
                }
            }
            P.defaultProps = {
                isSelfOnOtherClient: !1
            };
            var D = (0, f.makeVoiceUserDraggable)(P)
        },
        884155: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return L
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("446674"),
                u = n("862337"),
                o = n("899633"),
                d = n("191225"),
                c = n("442939"),
                f = n("835040"),
                h = n("373469"),
                p = n("271938"),
                m = n("26989"),
                E = n("42887"),
                C = n("957255"),
                g = n("235660"),
                S = n("280168"),
                _ = n("800762"),
                I = n("68148"),
                T = n("158998"),
                x = n("201380"),
                N = n("49111"),
                v = n("39141"),
                A = n("707155");
            let M = a.memo(e => {
                var t;
                let {
                    mute: n,
                    deaf: a,
                    user: s,
                    channel: i,
                    sessionId: u,
                    nick: C
                } = e, I = s.id, A = (0, r.useStateFromStores)([p.default], () => p.default.getId() === I, [I]), [M, R, L] = (0, r.useStateFromStoresArray)([E.default], () => A ? [!E.default.isSupported() || E.default.isSelfMute() || E.default.isSelfMutedTemporarily(), E.default.isSelfDeaf(), !1] : [!E.default.isSupported() || E.default.isLocalMute(I), !1, E.default.isLocalVideoDisabled(I)], [A, I]), j = (0, r.useStateFromStores)([S.default], () => S.default.isPrioritySpeaker(I)), O = (0, o.default)({
                    userId: I,
                    checkSoundSharing: !0
                }), y = (0, r.useStateFromStores)([m.default], () => m.default.isGuestOrLurker(i.guild_id, I)), P = (0, r.useStateFromStores)([d.default], () => d.default.getEmbeddedActivitiesForChannel(i.id).find(e => {
                    let {
                        connections: t
                    } = e;
                    return t.has(I)
                }), [I, i.id]), D = (0, c.default)(null != P ? [P.application_id] : []), [b, U] = (0, r.useStateFromStoresArray)([h.default], () => [h.default.getStreamForUser(I, i.getGuildId()), h.default.getActiveStreamForUser(I, i.getGuildId())], [i, I]), w = (0, r.useStateFromStores)([g.default], () => g.default.getSessionById(u)), F = T.default.useName(s), G = (0, r.useStateFromStores)([_.default], () => _.default.getVoicePlatformForChannel(i.id, I), [i.id, I]);
                return (0, l.jsx)(f.default, {
                    shakeLocation: v.ShakeLocation.VOICE_USER,
                    isShaking: O,
                    children: (0, l.jsx)(x.default, {
                        ...e,
                        nick: null != C ? C : F,
                        canDrag: e.canDrag && !y,
                        otherClientSessionType: null == w ? void 0 : null === (t = w.clientInfo) || void 0 === t ? void 0 : t.os,
                        voicePlatform: G,
                        localMute: M && !A,
                        localVideoDisabled: L,
                        mute: n || M,
                        deaf: a || R,
                        speaking: O,
                        priority: j,
                        embeddedApplication: D[0],
                        isStreaming: null != b && b.channelId === i.id,
                        isWatching: null != U && U.state !== N.ApplicationStreamStates.ENDED,
                        isGuest: y
                    })
                })
            });
            M.displayName = "ConnectedVoiceUser";
            class R extends a.Component {
                renderVoiceUsers() {
                    let {
                        channel: e,
                        allowDragging: t,
                        voiceStates: n,
                        collapsed: a,
                        collapsedMax: s = 6,
                        tabIndex: i,
                        location: r,
                        numAudience: u
                    } = this.props, {
                        previewUserId: o,
                        previewIsOpen: d
                    } = this.state;
                    if (null == n || 0 === n.length) return null;
                    let c = a && n.length > s + 1 ? n.slice(0, s) : n,
                        f = c.map(n => {
                            var s;
                            let {
                                user: u,
                                nick: c,
                                voiceState: f
                            } = n;
                            return (0, l.jsx)(M, {
                                user: u,
                                nick: c,
                                isSelfOnOtherClient: p.default.getId() === u.id && f.sessionId !== p.default.getSessionId(),
                                mute: f.isVoiceMuted(),
                                deaf: f.isVoiceDeafened(),
                                video: f.selfVideo,
                                serverMute: f.mute,
                                serverDeaf: f.deaf,
                                sessionId: null !== (s = f.sessionId) && void 0 !== s ? s : "",
                                channel: e,
                                collapsed: a,
                                canDrag: t && C.default.can(N.Permissions.MOVE_MEMBERS, e),
                                showPreview: this.handleShowPreview,
                                hidePreview: this.handleHidePreview,
                                previewIsOpen: d,
                                shouldShowPreview: o === u.id,
                                tabIndex: i,
                                location: r
                            }, u.id)
                        });
                    return null != u && u > 0 ? f.push((0, l.jsx)(x.AudienceVoiceUser, {
                        collapsed: a,
                        numAudience: u
                    })) : a && n.length > s + 1 && f.push((0, l.jsx)(x.MoreVoiceUser, {
                        numUsers: n.length - s
                    })), f
                }
                render() {
                    let e = this.renderVoiceUsers(),
                        {
                            collapsed: t,
                            className: n,
                            children: a
                        } = this.props;
                    return null == e && null == a ? null : (0, l.jsxs)(I.VoiceUserList, {
                        className: i(n, A.list, {
                            [A.collapsed]: t
                        }),
                        collapsed: t,
                        children: [e, a]
                    })
                }
                constructor(...e) {
                    super(...e), this.showPreview = new u.DelayedCall(50, () => {
                        this.setState({
                            previewUserId: this.previewUserIdAfterDelay
                        }), this.previewUserIdAfterDelay = null
                    }), this.hidePreview = new u.DelayedCall(175, () => {
                        this.setState({
                            previewUserId: null
                        })
                    }), this.previewUserIdAfterDelay = null, this.state = {
                        previewUserId: null,
                        previewIsOpen: !1
                    }, this.handleShowPreview = e => {
                        this.props.allowPreviews && (this.setState({
                            previewIsOpen: !0
                        }), this.hidePreview.cancel(), this.previewUserIdAfterDelay = e, this.showPreview.delay())
                    }, this.handleHidePreview = e => {
                        if (!this.props.allowPreviews) return;
                        let {
                            previewUserId: t
                        } = this.state;
                        this.showPreview.cancel(), t === e && (this.setState({
                            previewIsOpen: !1
                        }), this.hidePreview.delay())
                    }
                }
            }
            R.defaultProps = {
                allowPreviews: !0,
                allowDragging: !0
            };
            var L = R
        },
        230035: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("65597"),
                i = n("151426"),
                r = n("551042"),
                u = n("77078"),
                o = n("509802"),
                d = n("619443"),
                c = n("162771"),
                f = n("994428");

            function h(e) {
                return "dismissible_content_".concat(f.DismissibleContentGroupName.GUILD_TAKEOVER_MODAL, "-").concat(e)
            }
            var p = a.memo(function() {
                return ! function() {
                    let e = function() {
                            let e = (0, s.default)([d.default], () => d.default.isConnected());
                            return e ? [] : []
                        }(),
                        [t, p] = (0, o.useDismissibleContentGroup)(e, f.DismissibleContentGroupName.GUILD_TAKEOVER_MODAL),
                        m = (0, r.useHasAnyModalOpen)(),
                        E = a.useRef(null);
                    a.useEffect(() => {
                        if (null == t) {
                            E.current = null;
                            return
                        }!m && E.current !== t && (! function(e) {
                            let {
                                dismissibleContent: t,
                                markAsDismissed: a
                            } = e, s = {
                                onCloseCallback: a,
                                modalKey: h(t)
                            }, r = c.default.getGuildId();
                            if (t === i.DismissibleContent.SERVER_SHOP_UPSELL) null != r && (0, u.openModalLazy)(async () => {
                                let {
                                    default: e
                                } = await n.el("730801").then(n.bind(n, "730801"));
                                return t => (0, l.jsx)(e, {
                                    ...t,
                                    guildId: r,
                                    markAsDismissed: a
                                })
                            }, s)
                        }({
                            dismissibleContent: t,
                            markAsDismissed: p
                        }), E.current = t)
                    }, [t, m, p]), a.useEffect(() => () => {
                        null != t && (0, r.closeModal)(h(t))
                    }, [t])
                }(), null
            })
        },
        993063: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return s
                }
            });
            var l = n("862205");
            let a = (0, l.createExperiment)({
                kind: "user",
                id: "2021-04_longer_group_dm_invites",
                label: "Longer Group DM Invites",
                defaultConfig: {
                    inviteMaxAgeSeconds: 86400
                },
                treatments: [{
                    id: 1,
                    label: "Makes group DM invites expire after 1 week.",
                    config: {
                        inviteMaxAgeSeconds: 604800
                    }
                }]
            });
            var s = a
        },
        155832: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return h
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("446674"),
                s = n("289867"),
                i = n("716241"),
                r = n("982108"),
                u = n("162771"),
                o = n("155207"),
                d = n("664336"),
                c = n("49111"),
                f = n("782340");

            function h(e) {
                let {
                    channelId: t
                } = e, n = (0, a.useStateFromStores)([r.default], () => r.default.getSection(t)), h = (0, a.useStateFromStores)([u.default], () => u.default.getGuildId()), p = n === c.ChannelSections.MEMBERS;
                return (0, l.jsx)(d.Icon, {
                    tooltip: p ? f.default.Messages.MEMBER_LIST_SHOWN : f.default.Messages.MEMBER_LIST_HIDDEN,
                    icon: o.default,
                    onClick: () => {
                        i.default.trackWithMetadata(c.AnalyticEvents.MEMBER_LIST_TOGGLED, {
                            channel_id: t,
                            guild_id: h,
                            member_list_open: !p
                        }), s.default.toggleMembersSection()
                    },
                    selected: p
                })
            }
        },
        353054: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return C
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("446674"),
                i = n("77078"),
                r = n("519705"),
                u = n("282109"),
                o = n("660279"),
                d = n("998650"),
                c = n("664336"),
                f = n("659500"),
                h = n("957825"),
                p = n("49111"),
                m = n("782340"),
                E = n("290236");

            function C(e) {
                let {
                    channel: t
                } = e, [n, C] = (0, s.useStateFromStoresArray)([u.default], () => [u.default.isChannelMuted(t.getGuildId(), t.id), u.default.resolvedMessageNotifications(t)], [t]), [g, S] = a.useState(!1);
                a.useEffect(() => {
                    let e = () => S(!0);
                    return f.ComponentDispatch.subscribe(p.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS, e), () => {
                        f.ComponentDispatch.unsubscribe(p.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS, e)
                    }
                }, []);
                let _ = e => {
                        e.shiftKey ? r.default.updateChannelOverrideSettings(t.guild_id, t.id, {
                            muted: !n
                        }) : S(e => !e)
                    },
                    I = m.default.Messages.NOTIFICATION_SETTINGS;
                return (0, l.jsx)(i.Popout, {
                    shouldShow: g,
                    animation: i.Popout.Animation.NONE,
                    position: "bottom",
                    align: "right",
                    autoInvert: !1,
                    onRequestClose: () => S(!1),
                    renderPopout: e => (0, l.jsx)(h.default, {
                        ...e,
                        channel: t,
                        navId: "channel-context",
                        label: m.default.Messages.CHANNEL_ACTIONS_MENU_LABEL
                    }),
                    children: (e, t) => {
                        let {
                            isShown: a
                        } = t;
                        return (0, l.jsx)(c.default.Icon, {
                            ...e,
                            onClick: _,
                            tooltip: a ? null : I,
                            icon: n || C !== p.UserNotificationSettings.ALL_MESSAGES ? d.default : o.default,
                            foreground: n ? E.strikethrough : null,
                            "aria-label": I,
                            selected: a
                        })
                    }
                })
            }
        },
        262956: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return g
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("446674"),
                i = n("77078"),
                r = n("112821"),
                u = n("244201"),
                o = n("274870"),
                d = n("247013"),
                c = n("660478"),
                f = n("697218"),
                h = n("566998"),
                p = n("664336"),
                m = n("659500"),
                E = n("49111"),
                C = n("782340"),
                g = function(e) {
                    let {
                        channel: t
                    } = e, n = (0, s.useStateFromStores)([d.default, f.default], () => {
                        let e = f.default.getCurrentUser();
                        return null == e || t.isNSFW() && (!e.nsfwAllowed || !d.default.didAgree(t.getGuildId()))
                    }, [t]), [g, S] = a.useState(!1), _ = (0, s.useStateFromStores)([c.default], () => c.default.hasUnreadPins(t.id), [t]), I = (0, u.useWindowDispatch)(), T = (0, o.useIsBroadcastingGDM)(t.id), x = a.useCallback(() => {
                        !n && S(e => !e)
                    }, [n]);

                    function N(e) {
                        !(null == e ? void 0 : e.shiftKey) && I.dispatch(E.ComponentActions.POPOUT_CLOSE)
                    }
                    return (a.useEffect(() => (m.ComponentDispatch.subscribe(E.ComponentActions.TOGGLE_CHANNEL_PINS, x), () => {
                        m.ComponentDispatch.unsubscribe(E.ComponentActions.TOGGLE_CHANNEL_PINS, x)
                    }), [x]), T) ? null : (0, l.jsx)(i.Popout, {
                        shouldShow: g,
                        animation: i.Popout.Animation.NONE,
                        position: "bottom",
                        align: "right",
                        autoInvert: !1,
                        ignoreModalClicks: !0,
                        onRequestClose: () => S(!1),
                        renderPopout: function(e) {
                            return (0, l.jsx)(r.default, {
                                ...e,
                                onJump: N,
                                channel: t
                            })
                        },
                        children: (e, t) => {
                            let {
                                isShown: a
                            } = t;
                            return (0, l.jsx)(p.Icon, {
                                ...e,
                                onClick: x,
                                tooltip: a ? null : C.default.Messages.PINNED_MESSAGES,
                                icon: h.default,
                                "aria-label": C.default.Messages.PINNED_MESSAGES,
                                disabled: n,
                                showBadge: _,
                                selected: a
                            })
                        }
                    })
                }
        },
        723431: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return h
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("446674"),
                s = n("793237"),
                i = n("347738"),
                r = n("909004"),
                u = n("664336"),
                o = n("599110"),
                d = n("49111"),
                c = n("995307"),
                f = n("782340");

            function h(e) {
                let {
                    channel: t
                } = e, n = (0, a.useStateFromStores)([i.default], () => i.default.shouldShowTopicsBar());
                return (0, l.jsx)(u.default.Icon, {
                    icon: r.default,
                    onClick: () => {
                        o.default.track(d.AnalyticEvents.SUMMARIES_SIDEBAR_TOGGLED, {
                            summaries_sidebar_open: !n,
                            source: c.SummariesSidebarToggledSource.TOOLBAR_BUTTON,
                            guild_id: t.guild_id,
                            channel_id: t.id,
                            channel_type: t.type
                        }), (0, s.toggleTopicsBar)()
                    },
                    tooltip: n ? f.default.Messages.SUMMARIES_SHOWN : f.default.Messages.SUMMARIES_HIDDEN,
                    selected: n,
                    "aria-expanded": n
                })
            }
        },
        977983: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return m
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("446674"),
                s = n("526812"),
                i = n("404607"),
                r = n("670902"),
                u = n("339792"),
                o = n("680986"),
                d = n("258039"),
                c = n("821343"),
                f = n("68238"),
                h = n("664336"),
                p = n("782340");

            function m(e) {
                var t, n;
                let {
                    channel: m
                } = e, E = (0, o.useCanManageChannel)(m), C = (0, a.useStateFromStores)([s.default], () => s.default.hasHidden(m.id)), g = (0, d.isOnboardingDismissed)(m.id), {
                    sortOrder: S,
                    tagFilter: _
                } = (0, u.useForumChannelStore)(m.id), I = (0, a.useStateFromStores)([r.default, c.default], () => {
                    let e = r.default.getThreadIds(m.id, S, _);
                    if (e.length > 0) return !0;
                    let t = c.default.getThreads(m.id, S, _);
                    return !!(t.length > 0) || !1
                }, [m.id, S, _]), T = m.isMediaChannel();
                if (!E || g || T && I) return null;
                let x = (t = C, n = T, t ? n ? p.default.Messages.MEDIA_CHANNEL_ADMIN_EDUCATION_SHOW : p.default.Messages.FORUM_CHANNEL_ONBOARDING_SHOW : n ? p.default.Messages.MEDIA_CHANNEL_ADMIN_EDUCATION_HIDE : p.default.Messages.FORUM_CHANNEL_ONBOARDING_HIDE);
                return (0, l.jsx)(h.Icon, {
                    tooltip: x,
                    icon: f.default,
                    onClick: () => i.default.hideAdminOnboarding(m.id, !C),
                    selected: !C
                })
            }
        },
        849324: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return m
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("414456"),
                s = n.n(a),
                i = n("974667"),
                r = n("446674"),
                u = n("77078"),
                o = n("145079"),
                d = n("87657"),
                c = n("824563"),
                f = n("145131"),
                h = n("158998"),
                p = n("539058");

            function m(e) {
                let {
                    user: t,
                    row: n,
                    hideDiscriminator: a,
                    comparator: m,
                    selected: E,
                    checked: C,
                    onClick: g,
                    onMouseEnter: S,
                    "aria-setsize": _,
                    "aria-posinset": I
                } = e, T = (0, r.useStateFromStores)([c.default], () => c.default.getStatus(t.id)), x = (0, i.useListItem)(String(t.id));
                return (0, l.jsx)(u.Clickable, {
                    id: "user-row-".concat(n),
                    className: p.friendWrapper,
                    onClick: () => {
                        null != g && g(t.id)
                    },
                    onMouseEnter: () => {
                        null != S && S(n)
                    },
                    ...x,
                    role: "option",
                    "aria-selected": C,
                    "aria-setsize": _,
                    "aria-posinset": I,
                    children: (0, l.jsxs)(f.default, {
                        align: f.default.Align.CENTER,
                        className: s(p.friend, {
                            [p.friendSelected]: E
                        }),
                        children: [(0, l.jsx)(d.default, {
                            user: t,
                            status: T,
                            className: p.avatar
                        }), (0, l.jsxs)(f.default, {
                            className: p.match,
                            align: f.default.Align.BASELINE,
                            children: [(0, l.jsx)(u.Text, {
                                tag: "strong",
                                className: p.nickname,
                                "aria-hidden": !0,
                                variant: "text-md/medium",
                                children: null != m && m === t.tag ? h.default.getName(t) : null != m && "" !== m ? m : h.default.getName(t)
                            }), (0, l.jsx)(o.default, {
                                user: t,
                                hideDiscriminator: a,
                                className: p.discordTag,
                                usernameClass: p.weightMedium,
                                discriminatorClass: p.weightMedium,
                                forceUsername: !0
                            })]
                        }), (0, l.jsx)(u.Checkbox, {
                            displayOnly: !0,
                            size: 22,
                            value: C,
                            className: p.checkbox
                        })]
                    })
                })
            }
        },
        853189: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return F
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("446674"),
                i = n("151426"),
                r = n("77078"),
                u = n("561288"),
                o = n("987317"),
                d = n("244201"),
                c = n("206230"),
                f = n("702173"),
                h = n("191145"),
                p = n("10641"),
                m = n("509802"),
                E = n("889014"),
                C = n("5667"),
                g = n("19065"),
                S = n("727284"),
                _ = n("950104"),
                I = n("778588"),
                T = n("42887"),
                x = n("27618"),
                N = n("697218"),
                v = n("800762"),
                A = n("887657"),
                M = n("437825"),
                R = n("664336"),
                L = n("58608"),
                j = n("659500"),
                O = n("701909"),
                y = n("49111"),
                P = n("994428"),
                D = n("353927"),
                b = n("782340"),
                U = n("367731");
            class w extends a.PureComponent {
                componentDidMount() {
                    j.ComponentDispatch.subscribe(y.ComponentActions.CALL_START, this.handleVoiceClick)
                }
                componentWillUnmount() {
                    j.ComponentDispatch.unsubscribe(y.ComponentActions.CALL_START, this.handleVoiceClick)
                }
                renderVideoCallButton() {
                    let e, t;
                    let {
                        inCall: n,
                        callActive: a,
                        callUnavailable: s,
                        isBlocked: i,
                        channel: u,
                        mode: o
                    } = this.props;
                    if (n || a && o === y.ChannelModes.VOICE) return null;
                    let d = u.isManaged(),
                        c = null,
                        f = !1;
                    return T.default.supports(D.Features.VIDEO) ? i ? (c = b.default.Messages.CALL_UNAVAILABLE_BLOCKED_USERS, e = r.Tooltip.Colors.RED, f = !0) : a && o === y.ChannelModes.VIDEO ? (t = this.handleJoinVideoCall, c = d ? b.default.Messages.CONNECT : b.default.Messages.JOIN_VIDEO_CALL) : (t = this.handleStartVideoCall, c = d ? b.default.Messages.CONNECT : b.default.Messages.START_VIDEO_CALL) : (f = !0, t = this.handleBrowserNotSupported, c = b.default.Messages.BROWSER_NOT_SUPPORTED), (0, l.jsx)(R.default.Icon, {
                        icon: M.default,
                        onClick: t,
                        disabled: f || s,
                        tooltip: c,
                        tooltipColor: e
                    })
                }
                renderVoiceCallButton() {
                    let e;
                    let {
                        inCall: t,
                        canShowTooltip: n,
                        callActive: a,
                        callUnavailable: s,
                        isBlocked: u,
                        channel: o,
                        canShowActivityGdmTooltip: d,
                        dismissibleContentTypes: c,
                        useReducedMotion: f
                    } = this.props;
                    if (t) return null;
                    let h = o.isManaged(),
                        p = "",
                        E = !1;
                    s ? (p = h ? b.default.Messages.VOICE_UNAVAILABLE : b.default.Messages.CALL_UNAVAILABLE, e = r.Tooltip.Colors.RED, E = !0) : u ? (p = b.default.Messages.CALL_UNAVAILABLE_BLOCKED_USERS, e = r.Tooltip.Colors.RED, E = !0) : p = a ? h ? b.default.Messages.CONNECT : b.default.Messages.JOIN_VOICE_CALL : h ? b.default.Messages.CONNECT : b.default.Messages.START_VOICE_CALL;
                    let g = (0, l.jsx)(R.default.Icon, {
                        icon: A.default,
                        onClick: this.handleVoiceClick,
                        disabled: E,
                        tooltip: p,
                        tooltipColor: e
                    });
                    return (0, l.jsx)(m.default, {
                        contentTypes: c,
                        children: e => {
                            let {
                                visibleContent: a,
                                markAsDismissed: s
                            } = e;
                            if (a === i.DismissibleContent.ACTIVITY_GDM_CALL_TOOLTIP) return (0, l.jsx)(r.Popout, {
                                position: "bottom",
                                align: "center",
                                animation: r.Popout.Animation.TRANSLATE,
                                shouldShow: n && d && !t,
                                renderPopout: e => {
                                    let {
                                        closePopout: t
                                    } = e;
                                    return (0, l.jsx)(C.default, {
                                        header: (0, l.jsxs)("div", {
                                            children: [(0, l.jsx)(L.default, {
                                                className: U.tooltipImage,
                                                autoPlay: !f,
                                                src: "https://cdn.discordapp.com/attachments/860252504826445825/1078051428028924006/mobile_coachmark.mp4",
                                                width: 248,
                                                height: 139.5,
                                                loop: !0,
                                                muted: !0
                                            }), (0, l.jsx)(r.Heading, {
                                                variant: "heading-md/bold",
                                                color: "always-white",
                                                children: b.default.Messages.EMBEDDED_ACTIVITIES_DM_TOOLTIP_HEADER
                                            })]
                                        }),
                                        content: (0, l.jsxs)("div", {
                                            children: [(0, l.jsx)(r.Text, {
                                                variant: "text-sm/normal",
                                                color: "always-white",
                                                children: b.default.Messages.EMBEDDED_ACTIVITIES_DM_TOOLTIP_BODY
                                            }), (0, l.jsx)(r.Anchor, {
                                                href: O.default.getArticleURL(y.HelpdeskArticles.ACTIVITIES),
                                                children: b.default.Messages.LEARN_MORE
                                            })]
                                        }),
                                        buttonCTA: b.default.Messages.GOT_IT,
                                        onClick: () => {
                                            t(), s()
                                        },
                                        className: U.tooltip
                                    })
                                },
                                children: () => g
                            });
                            return g
                        }
                    })
                }
                render() {
                    return (0, l.jsxs)(a.Fragment, {
                        children: [this.renderVoiceCallButton(), this.renderVideoCallButton()]
                    })
                }
                constructor(...e) {
                    super(...e), this.handleStartCall = (e, t) => {
                        let {
                            channel: n,
                            notFriend: l,
                            appContext: a
                        } = this.props, s = l ? n.getRecipientId() : null, i = () => u.default.call(n.id, t, !l && !n.isManaged() && !(null == e ? void 0 : e.shiftKey), s);
                        t ? (0, S.default)(i, a) : i()
                    }, this.handleJoinCall = e => {
                        o.default.selectVoiceChannel(this.props.channel.id, e)
                    }, this.handleVoiceClick = e => {
                        let {
                            callUnavailable: t,
                            callActive: n,
                            canShowActivityGdmTooltip: l
                        } = this.props;
                        if (l && (0, p.markDismissibleContentAsDismissed)(i.DismissibleContent.ACTIVITY_GDM_CALL_TOOLTIP, {
                                dismissAction: P.ContentDismissActionType.AUTO
                            }), t);
                        else if (n) return this.handleJoinCall(!1);
                        else return this.handleStartCall(e, !1)
                    }, this.handleStartVideoCall = e => {
                        this.handleStartCall(e, !0)
                    }, this.handleJoinVideoCall = () => {
                        let {
                            appContext: e
                        } = this.props;
                        (0, S.default)(() => this.handleJoinCall(!0), e)
                    }, this.handleBrowserNotSupported = () => {
                        (0, g.default)()
                    }
                }
            }

            function F(e) {
                let {
                    channel: t
                } = e, n = (0, E.default)(), r = (0, s.useStateFromStores)([h.default], () => h.default.getMode(t.id)), u = (0, s.useStateFromStores)([v.default], () => v.default.isInChannel(t.id)), o = (0, s.useStateFromStores)([c.default], () => c.default.useReducedMotion), {
                    callActive: p,
                    callUnavailable: m
                } = (0, s.useStateFromStoresObject)([_.default], () => ({
                    callActive: _.default.isCallActive(t.id),
                    callUnavailable: _.default.isCallUnavailable(t.id)
                })), C = t.getRecipientId(), {
                    notFriend: g,
                    isBlocked: S
                } = (0, s.useStateFromStoresObject)([x.default], () => ({
                    notFriend: t.type === y.ChannelTypes.DM && null != C && !x.default.isFriend(C),
                    isBlocked: t.type === y.ChannelTypes.DM && null != C && x.default.isBlocked(C)
                })), T = (0, s.useStateFromStores)([N.default], () => N.default.getUser(C)), A = (0, d.useAppContext)(), M = [], R = (0, f.default)(t.id), L = (0, s.useStateFromStores)([I.default], () => I.default.hasLayers());
                R && !L && M.push(i.DismissibleContent.ACTIVITY_GDM_CALL_TOOLTIP);
                let [j, O] = a.useState(!1);
                return (a.useEffect(() => {
                    let e = setTimeout(() => {
                        O(!0)
                    }, 250);
                    return () => clearTimeout(e)
                }, []), n || (null == T ? void 0 : T.bot)) ? null : (0, l.jsx)(w, {
                    channel: t,
                    mode: r,
                    inCall: u,
                    callActive: p,
                    callUnavailable: m,
                    notFriend: g,
                    isBlocked: S,
                    appContext: A,
                    canShowTooltip: j,
                    canShowActivityGdmTooltip: R,
                    dismissibleContentTypes: M,
                    useReducedMotion: o
                })
            }
        },
        718091: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return ed
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("917351"),
                u = n.n(r),
                o = n("866227"),
                d = n.n(o),
                c = n("394846"),
                f = n("249654"),
                h = n("446674"),
                p = n("77078"),
                m = n("913144"),
                E = n("561288"),
                C = n("450911"),
                g = n("630086"),
                S = n("970728"),
                _ = n("369008"),
                I = n("736964"),
                T = n("304580"),
                x = n("137223"),
                N = n("244201"),
                v = n("716241"),
                A = n("274870"),
                M = n("843962"),
                R = n("679653"),
                L = n("52393"),
                j = n("393414"),
                O = n("233069"),
                y = n("42203"),
                P = n("330154"),
                D = n("501090"),
                b = n("945956"),
                U = n("660478"),
                w = n("27618"),
                F = n("102985"),
                G = n("697218"),
                B = n("145131"),
                k = n("476765"),
                H = n("570443"),
                V = n("76539"),
                W = n("664336"),
                Y = n("599110"),
                z = n("306160"),
                K = n("659500"),
                Z = n("449008"),
                X = n("158998"),
                q = n("993063"),
                Q = n("849324"),
                J = n("49111"),
                $ = n("782340"),
                ee = n("629722"),
                et = n("905518"),
                en = n("926622");
            let el = (0, k.uid)(),
                ea = (0, k.uid)();

            function es(e) {
                let {
                    className: t,
                    children: n
                } = e;
                return (0, l.jsxs)(B.default, {
                    align: B.default.Align.CENTER,
                    justify: B.default.Justify.CENTER,
                    direction: B.default.Direction.VERTICAL,
                    className: i(ee.errorState, t),
                    children: [(0, l.jsx)("div", {
                        className: i(ee.errorStateIcon, en.marginBottom20)
                    }), n]
                })
            }
            let ei = e => {
                    var t, n;
                    let {
                        channel: a,
                        onClose: s
                    } = e, i = null !== (t = (0, R.default)(a)) && void 0 !== t ? t : "", r = (0, h.useStateFromStores)([U.default], () => null !== (n = U.default.lastMessageId(a.id)) && void 0 !== n ? n : a.id);
                    return (0, l.jsx)(p.Clickable, {
                        onClick: () => {
                            (0, j.transitionToGuild)(J.ME, a.id), s()
                        },
                        children: (0, l.jsxs)("div", {
                            className: ee.confirmChannelItemContainer,
                            children: [(0, l.jsx)(p.Avatar, {
                                src: (0, M.getChannelIconURL)(a),
                                size: p.AvatarSizes.SIZE_24,
                                "aria-label": i
                            }), (0, l.jsx)("span", {
                                className: ee.confirmChannelName,
                                children: i
                            }), (0, l.jsx)("span", {
                                className: ee.lastActiveTimestamp,
                                children: d(f.default.extractTimestamp(r)).fromNow()
                            })]
                        })
                    })
                },
                er = e => {
                    let {
                        onConfirm: t,
                        channelIds: n,
                        ...a
                    } = e, s = (0, h.useStateFromStores)([y.default], () => Array.from(n).map(y.default.getChannel), [n]);
                    return (0, l.jsxs)(p.ConfirmModal, {
                        header: $.default.Messages.GROUP_DM_INVITE_CONFIRM,
                        confirmText: $.default.Messages.GROUP_DM_INVITE_CONFIRM_BUTTON,
                        cancelText: $.default.Messages.CANCEL,
                        onConfirm: t,
                        confirmButtonColor: p.Button.Colors.BRAND,
                        ...a,
                        children: [(0, l.jsx)(p.Text, {
                            variant: "text-md/normal",
                            children: $.default.Messages.GROUP_DM_INVITE_CONFIRM_DESCRIPTION
                        }), (0, l.jsx)(p.FormTitle, {
                            className: ee.selectExistingFormHeader,
                            children: $.default.Messages.GROUP_DM_INVITE_SELECT_EXISTING
                        }), (0, l.jsx)(p.Scroller, {
                            className: ee.confirmInviteScroller,
                            children: s.filter(Z.isNotNullish).sort((e, t) => {
                                var n, l;
                                let a = null !== (n = e.lastMessageId) && void 0 !== n ? n : e.id,
                                    s = null !== (l = t.lastMessageId) && void 0 !== l ? l : t.id;
                                return f.default.compare(s, a)
                            }).map(e => (0, l.jsx)(ei, {
                                onClose: a.onClose,
                                channel: e
                            }, e.id))
                        })]
                    })
                };
            class eu extends a.PureComponent {
                componentDidMount() {
                    let {
                        channel: e
                    } = this.props;
                    m.default.wait(() => _.default.open(null == e ? void 0 : e.id));
                    let t = (0, v.collectChannelAnalyticsMetadata)(e);
                    null != e ? e.isDM() ? Y.default.track(J.AnalyticEvents.OPEN_POPOUT, {
                        ...t,
                        type: "Add Friends to DM",
                        source: "DM",
                        is_friend: !this.isNotFriends()
                    }) : Y.default.track(J.AnalyticEvents.OPEN_POPOUT, {
                        ...t,
                        type: "Add Friends to DM",
                        source: "Group DM"
                    }) : Y.default.track(J.AnalyticEvents.OPEN_POPOUT, {
                        ...t,
                        type: "New Group DM",
                        source: "Friends List"
                    }), K.ComponentDispatch.subscribe(J.ComponentActions.SCROLL_PAGE_UP, this.scrollPageUp), K.ComponentDispatch.subscribe(J.ComponentActions.SCROLL_PAGE_DOWN, this.scrollPageDown)
                }
                componentWillUnmount() {
                    K.ComponentDispatch.unsubscribe(J.ComponentActions.SCROLL_PAGE_UP, this.scrollPageUp), K.ComponentDispatch.unsubscribe(J.ComponentActions.SCROLL_PAGE_DOWN, this.scrollPageDown), null != this.copyTimeout && clearTimeout(this.copyTimeout), m.default.wait(() => _.default.close())
                }
                isNotFriends() {
                    let {
                        channel: e
                    } = this.props;
                    if (null == e || !e.isDM()) return !1;
                    let t = e.getRecipientId();
                    if (null == t) throw Error("no recipient in DM");
                    return !w.default.isFriend(t)
                }
                createInvite() {
                    let {
                        channel: e
                    } = this.props;
                    if (null == e || !e.isMultiUserDM() || this.isPartyFull()) return;
                    let {
                        inviteMaxAgeSeconds: t
                    } = q.default.getCurrentConfig({
                        location: "5326c5_1"
                    }, {
                        autoTrackExposure: !1
                    });
                    S.default.createInvite(e.id, {
                        max_age: t
                    }, J.InstantInviteSources.GROUP_DM)
                }
                isPartyFull() {
                    let {
                        channel: e
                    } = this.props;
                    return null != e && e.recipients.length + 1 >= this.getMaxParticipants()
                }
                getMaxParticipants() {
                    let {
                        channel: e
                    } = this.props, t = G.default.getCurrentUser();
                    return null != t && t.isStaff() ? J.MAX_GROUP_DM_STAFF_PARTICIPANTS : null != e && e.isBroadcastChannel() ? J.MAX_GROUP_DM_BROADCAST_PARTICIPANTS : null != e && e.userLimit > 0 ? e.userLimit : J.MAX_GROUP_DM_PARTICIPANTS
                }
                getRemaining() {
                    let {
                        channel: e,
                        selectedUsers: t
                    } = this.props, n = (null == e ? 0 : e.recipients.length) + 1;
                    return this.getMaxParticipants() - t.size - n
                }
                renderCreateGroupButton() {
                    let {
                        channel: e,
                        selectedUsers: t
                    } = this.props, n = this.getRemaining(), a = null != e && 0 === t.size || n < 0, s = t.size > 1 ? $.default.Messages.CREATE_GROUP_DM : $.default.Messages.CREATE_DM;
                    return (0, l.jsx)(p.Button, {
                        fullWidth: !0,
                        disabled: a,
                        onClick: this.handleInviteUsers,
                        children: s
                    })
                }
                renderAddUsersButton() {
                    let {
                        channel: e,
                        selectedUsers: t
                    } = this.props;
                    if (null == e || e.isDM()) return;
                    let n = this.getRemaining(),
                        a = 0 === t.size || n < 0;
                    return (0, l.jsx)("div", {
                        className: ee.addButton,
                        children: (0, l.jsx)(p.Button, {
                            size: p.Button.Sizes.SMALL,
                            disabled: a,
                            onClick: this.handleInviteUsers,
                            children: $.default.Messages.ADD
                        })
                    })
                }
                renderSubtitle() {
                    if (!this.props.hasFriends || this.isNotFriends() || this.isPartyFull()) return null;
                    let e = this.getRemaining(),
                        t = e <= 0 ? $.default.Messages.GROUP_DM_INVITE_FULL_SUB2.format({
                            number: this.getMaxParticipants()
                        }) : $.default.Messages.GROUP_DM_INVITE_REMAINING.format({
                            number: e
                        });
                    return (0, l.jsx)(p.Text, {
                        variant: "text-xs/normal",
                        className: i(ee.subtitle, {
                            [ee.subtitleWarning]: e < 0
                        }, en.marginTop4),
                        children: t
                    })
                }
                renderSearchBar() {
                    var e;
                    let {
                        query: t,
                        hasFriends: n,
                        results: a,
                        selectedRow: s,
                        selectedUsers: r
                    } = this.props;
                    if (!n || this.isNotFriends()) return null;
                    let u = [];
                    return r.forEach(e => {
                        let t = G.default.getUser(e);
                        null != t && u.push(X.default.getName(t))
                    }), (0, l.jsxs)(B.default, {
                        className: i(ee.searchBar, en.marginTop20),
                        children: [(0, l.jsx)(x.default, {
                            ref: this.searchBarRef,
                            className: ee.searchBarComponent,
                            autoFocus: !0,
                            placeholder: 0 === r.size ? $.default.Messages.GROUP_DM_SEARCH_PLACEHOLDER : void 0,
                            disabled: this.isPartyFull(),
                            size: x.default.Sizes.MEDIUM,
                            query: t,
                            selectedRow: s,
                            sections: [null !== (e = null == a ? void 0 : a.length) && void 0 !== e ? e : 0],
                            tags: u,
                            onSelect: this.handleSelect,
                            onSelectionChange: this.handleSelectionChange,
                            onQueryChange: this.handleQueryChange,
                            onRemoveTag: this.handleRemoveUser,
                            inputProps: {
                                "aria-labelledby": el,
                                "aria-controls": ea,
                                "aria-expanded": !0,
                                "aria-activedescendant": "user-row-".concat(s)
                            }
                        }), this.renderAddUsersButton()]
                    })
                }
                renderHeader() {
                    let e = null != this.scrollerRef.current && this.state.separator,
                        t = this.isNotFriends() ? $.default.Messages.GROUP_DM_ADD_FRIENDS : $.default.Messages.GROUP_DM_HEADER;
                    return (0, l.jsxs)(p.ModalHeader, {
                        direction: B.default.Direction.VERTICAL,
                        align: B.default.Align.STRETCH,
                        className: ee.header,
                        separator: e,
                        children: [c.isMobile ? this.renderMobileCloseButton() : null, (0, l.jsx)(p.Heading, {
                            id: el,
                            variant: "heading-lg/semibold",
                            children: t
                        }), this.renderSubtitle(), this.renderSearchBar()]
                    })
                }
                renderBody() {
                    let {
                        channel: e,
                        hasFriends: t,
                        results: n
                    } = this.props;
                    if (this.isNotFriends()) {
                        let t = null != e ? e.getRecipientId() : null;
                        if (null == t) throw Error("no recipient in DM");
                        let n = G.default.getUser(t),
                            a = null != n ? n.username : "",
                            s = null != n && w.default.getRelationshipType(n.id) === J.RelationshipTypes.PENDING_OUTGOING;
                        return (0, l.jsxs)(es, {
                            className: ee.notFriends,
                            children: [(0, l.jsx)("div", {
                                children: $.default.Messages.GROUP_DM_INVITE_NOT_FRIENDS.format({
                                    username: a
                                })
                            }), (0, l.jsx)(p.Button, {
                                disabled: s,
                                size: p.Button.Sizes.SMALL,
                                onClick: () => null != n ? this.handleAddFriend(n) : null,
                                className: en.marginTop20,
                                children: s ? $.default.Messages.ADD_FRIEND_BUTTON_AFTER : $.default.Messages.ADD_FRIEND_BUTTON
                            })]
                        })
                    }
                    return t ? this.isPartyFull() ? (0, l.jsxs)(es, {
                        className: ee.partyFull,
                        children: [(0, l.jsx)("div", {
                            children: $.default.Messages.GROUP_DM_INVITE_FULL_MAIN
                        }), (0, l.jsx)("div", {
                            children: $.default.Messages.GROUP_DM_INVITE_FULL_SUB2.format({
                                number: this.getMaxParticipants()
                            })
                        })]
                    }) : 0 === n.length ? (0, l.jsx)(es, {
                        className: i(ee.noResults, en.marginBottom20),
                        children: (0, l.jsx)("div", {
                            children: $.default.Messages.GROUP_DM_INVITE_EMPTY
                        })
                    }) : (0, l.jsx)(p.List, {
                        ref: this.scrollerRef,
                        sections: [n.length],
                        className: ee.scroller,
                        renderRow: this.renderRow,
                        rowHeight: this.getRowHeight,
                        renderSection: this.renderSection,
                        sectionHeight: 0,
                        onScroll: this.handleScroll,
                        paddingTop: 0,
                        paddingBottom: 14,
                        fade: !0,
                        role: void 0,
                        innerRole: "listbox",
                        innerId: ea,
                        innerAriaMultiselectable: !0,
                        innerAriaOrientation: "vertical"
                    }) : (0, l.jsxs)(es, {
                        className: ee.noFriends,
                        children: [(0, l.jsx)("div", {
                            children: $.default.Messages.GROUP_DM_INVITE_NO_FRIENDS
                        }), (0, l.jsx)(p.Button, {
                            autoFocus: !0,
                            color: p.Button.Colors.GREEN,
                            fullWidth: !0,
                            size: p.Button.Sizes.SMALL,
                            onClick: this.handleAddFriendNavigation,
                            className: en.marginTop20,
                            children: $.default.Messages.ADD_FRIEND
                        })]
                    })
                }
                renderSection() {
                    return null
                }
                renderInviteLink() {
                    let {
                        channel: e,
                        invite: t,
                        hideInstantInvites: n
                    } = this.props, {
                        copied: s
                    } = this.state;
                    if (null == e || !e.isMultiUserDM() || this.isPartyFull()) return null;
                    let r = null != t ? (0, L.default)(t.code) : "";
                    return (0, l.jsxs)(a.Fragment, {
                        children: [(0, l.jsx)(p.FormTitle, {
                            tag: "h5",
                            className: en.marginBottom8,
                            children: $.default.Messages.GROUP_DM_INVITE_LINK_TITLE
                        }), (0, l.jsxs)(B.default, {
                            className: i(et.input, {
                                [et.success]: s
                            }),
                            justify: B.default.Justify.BETWEEN,
                            align: B.default.Align.CENTER,
                            children: [r.length > 0 ? (0, l.jsx)(p.TextInput, {
                                className: ee.copyInput,
                                name: "invite",
                                value: n ? $.default.Messages.INSTANT_INVITE_HIDDEN : r,
                                editable: !1,
                                inputClassName: ee.noBorder,
                                spellCheck: "false",
                                onClick: e => e.currentTarget.select()
                            }) : (0, l.jsx)(p.TextInput, {
                                className: ee.copyInput,
                                name: "invite",
                                value: r,
                                placeholder: (0, L.default)($.default.Messages.GROUP_DM_INVITE_LINK_EXAMPLE),
                                editable: !1,
                                inputClassName: ee.noBorder,
                                spellCheck: "false",
                                onClick: () => this.createInvite()
                            }), z.SUPPORTS_COPY && r.length > 0 ? (0, l.jsx)(p.Button, {
                                size: p.Button.Sizes.SMALL,
                                color: s ? p.Button.Colors.GREEN : p.Button.Colors.BRAND,
                                className: ee.copyButton,
                                onClick: () => this.handleCopyInvite(r),
                                children: s ? $.default.Messages.INVITE_COPIED : $.default.Messages.COPY
                            }) : null, 0 === r.length ? (0, l.jsx)(p.Button, {
                                size: p.Button.Sizes.SMALL,
                                color: p.Button.Colors.BRAND,
                                className: ee.copyButton,
                                onClick: () => this.createInvite(),
                                children: $.default.Messages.GROUP_DM_INVITE_LINK_CREATE
                            }) : null]
                        }), r.length > 0 ? (0, l.jsx)(p.Text, {
                            variant: "text-xs/normal",
                            className: i(en.marginTop8, ee.footerText),
                            children: $.default.Messages.INVITE_EXPIRES_HOURS.format({
                                numHours: "".concat(24)
                            })
                        }) : null]
                    })
                }
                renderFooter() {
                    let {
                        hasFriends: e,
                        channel: t
                    } = this.props;
                    if (this.isNotFriends() || !e || this.isPartyFull()) return null;
                    let n = null == t || t.isDM() ? this.renderCreateGroupButton() : this.renderInviteLink();
                    if (null != n) return (0, l.jsxs)(a.Fragment, {
                        children: [(0, l.jsx)("div", {
                            className: ee.footerSeparator
                        }), (0, l.jsx)(B.default, {
                            direction: B.default.Direction.VERTICAL,
                            className: ee.footer,
                            children: n
                        })]
                    })
                }
                render() {
                    let {
                        transitionState: e
                    } = this.props;
                    return (0, l.jsxs)(p.ModalRoot, {
                        transitionState: null != e ? e : p.ModalTransitionState.ENTERED,
                        className: ee.popout,
                        children: [this.renderHeader(), this.renderBody(), this.renderFooter()]
                    })
                }
                handleAddFriend(e) {
                    this.props.onClose(), I.default.sendRequest(X.default.getUserTag(e, {
                        identifiable: "always"
                    }), {
                        location: "Group DM"
                    })
                }
                constructor(...e) {
                    super(...e), this.state = {
                        separator: !1,
                        copied: !1
                    }, this.scrollerRef = a.createRef(), this.searchBarRef = a.createRef(), this._mobileCloseRef = a.createRef(), this.scrollPageUp = () => {
                        var e;
                        null === (e = this.scrollerRef.current) || void 0 === e || e.scrollPageUp({
                            animate: !0
                        })
                    }, this.scrollPageDown = () => {
                        var e;
                        null === (e = this.scrollerRef.current) || void 0 === e || e.scrollPageDown({
                            animate: !0
                        })
                    }, this.renderMobileCloseButton = () => (0, l.jsx)("div", {
                        className: i(ee.mobileToolsContainer),
                        ref: this._mobileCloseRef,
                        children: (0, l.jsx)(p.FocusRingScope, {
                            containerRef: this._mobileCloseRef,
                            children: (0, l.jsx)("div", {
                                children: (0, l.jsx)(T.default, {
                                    className: ee.mobileToolsCloseIcon,
                                    closeAction: this.props.onClose,
                                    keybind: "ESC"
                                })
                            })
                        })
                    }), this.getRowHeight = (e, t) => {
                        if (e > 0) return 0;
                        let {
                            results: n
                        } = this.props, l = n[t];
                        return null != l ? 42 : 0
                    }, this.renderRow = e => {
                        let {
                            section: t,
                            row: n
                        } = e;
                        if (t > 0) return null;
                        let {
                            results: a,
                            selectedUsers: s,
                            selectedRow: i,
                            hideDiscriminator: r
                        } = this.props, u = a[n];
                        if (null == u) return null;
                        let {
                            user: o,
                            comparator: d
                        } = u, c = s.has(o.id);
                        return (0, l.jsx)(Q.default, {
                            row: n,
                            user: o,
                            hideDiscriminator: r,
                            comparator: d,
                            checked: c,
                            selected: n === i,
                            onClick: this.handleClick,
                            onMouseEnter: this.focusResult,
                            "aria-posinset": n + 1,
                            "aria-setsize": a.length
                        }, o.id)
                    }, this.forceFocus = () => {
                        let e = this.searchBarRef.current;
                        null == e || e.focus()
                    }, this.focusResult = e => {
                        _.default.select(e)
                    }, this.handleSelect = (e, t) => {
                        let {
                            results: n,
                            channel: l
                        } = this.props;
                        if (null == t) _.default.clear(null == l ? void 0 : l.id);
                        else null != n && this.handleClick(n[t].user.id)
                    }, this.handleSelectionChange = (e, t) => {
                        _.default.select(t);
                        let n = this.scrollerRef.current;
                        null != n && n.scrollToIndex({
                            section: e,
                            row: t,
                            padding: 8
                        })
                    }, this.handleQueryChange = e => {
                        let {
                            channel: t
                        } = this.props;
                        _.default.search(e, null == t ? void 0 : t.id)
                    }, this.handleRemoveUser = e => {
                        let t = Array.from(this.props.selectedUsers);
                        _.default.removeUser(t[e]), this.forceFocus()
                    }, this.handleClick = e => {
                        let {
                            selectedUsers: t,
                            query: n,
                            channel: l
                        } = this.props, a = !t.has(e);
                        if (a) {
                            if (_.default.addUser(e), n.length > 0) _.default.clear(null == l ? void 0 : l.id)
                        } else _.default.removeUser(e);
                        this.forceFocus()
                    }, this.handleAddFriendNavigation = () => {
                        (0, j.transitionTo)(J.Routes.FRIENDS), g.default.setSection(J.FriendsSections.ADD_FRIEND), this.props.onClose()
                    }, this.handleScroll = () => {
                        let e = this.scrollerRef.current;
                        null != e && this.setState({
                            separator: !e.isScrolledToTop()
                        })
                    }, this.createNewDM = e => {
                        C.default.openPrivateChannel(e, !1, !1, "New Group DM")
                    }, this.pushToExistingDM = (e, t) => {
                        let n = b.default.getChannelId() === e.id;
                        C.default.addRecipients(e.id, t, J.AnalyticsLocations.ADD_FRIENDS_TO_DM).then(l => {
                            if (n) {
                                if (e.isDM() && l !== e.id) {
                                    E.default.call(l, !1, !0);
                                    return
                                }
                                E.default.ring(l, t)
                            }
                        })
                    }, this.handleInviteUsers = () => {
                        let {
                            channel: e,
                            selectedUsers: t,
                            onClose: n
                        } = this.props, a = Array.from(t);
                        if (null != e) {
                            let t = ec(Array.from(new Set([...e.recipients, ...a])));
                            t.size > 0 ? (0, p.openModal)(n => (0, l.jsx)(er, {
                                ...n,
                                onConfirm: () => this.pushToExistingDM(e, a),
                                channelIds: t
                            }), {}, (0, p.modalContextFromAppContext)(this.context.appContext)) : this.pushToExistingDM(e, a)
                        } else {
                            let e = ec(a);
                            a.length > 1 && e.size > 0 ? (0, p.openModal)(t => (0, l.jsx)(er, {
                                ...t,
                                onConfirm: () => this.createNewDM(a),
                                channelIds: e
                            }), {}, (0, p.modalContextFromAppContext)(this.context.appContext)) : this.createNewDM(a)
                        }
                        n()
                    }, this.handleCopyInvite = e => {
                        let {
                            channel: t,
                            invite: n
                        } = this.props;
                        null != n && (0, z.copy)(e), null != this.copyTimeout && clearTimeout(this.copyTimeout), this.setState({
                            copied: !0
                        }), this.copyTimeout = setTimeout(() => {
                            this.setState({
                                copied: !1
                            })
                        }, 1e3), Y.default.track(J.AnalyticEvents.COPY_INSTANT_INVITE, {
                            server: null,
                            channel: null != t ? t.id : null,
                            channel_type: null != t ? t.type : null,
                            location: J.AnalyticsLocations.ADD_FRIENDS_TO_DM,
                            code: null != n ? n.code : null
                        })
                    }
                }
            }
            eu.contextType = N.default;
            let eo = h.default.connectStores([D.default, P.default, F.default], e => {
                let t, {
                    channel: n
                } = e;
                return null != n && null != (t = P.default.getInvite(n.id)) && t.isExpired() && (t = null), {
                    ...D.default.getState(),
                    invite: t,
                    hideDiscriminator: F.default.hidePersonalInformation,
                    hideInstantInvites: F.default.hideInstantInvites
                }
            })(eu);

            function ed(e) {
                let {
                    channel: t,
                    iconClassName: n,
                    icon: s,
                    tooltip: i,
                    tooltipPosition: r = "bottom",
                    popoutPosition: u = "bottom",
                    popoutAlign: o = "right",
                    subscribeToGlobalHotkey: d = !1
                } = e, [c, f] = a.useState(null != t && t.isGroupDM() && 0 === t.recipients.length), h = (0, A.useIsBroadcastingGDM)(null == t ? void 0 : t.id), m = a.useCallback(() => f(e => !e), []);
                return (a.useEffect(() => (d && K.ComponentDispatch.subscribe(J.ComponentActions.TOGGLE_DM_CREATE, m), () => {
                    K.ComponentDispatch.unsubscribe(J.ComponentActions.TOGGLE_DM_CREATE, m)
                }), [d, m]), h) ? null : (0, l.jsx)(p.Popout, {
                    renderPopout: e => (0, l.jsx)(eo, {
                        ...e,
                        onClose: e.closePopout,
                        channel: t
                    }),
                    position: u,
                    shouldShow: c,
                    align: o,
                    onRequestClose: () => f(!1),
                    animation: p.Popout.Animation.NONE,
                    children: e => (0, l.jsx)(W.default.Icon, {
                        ...e,
                        onClick: m,
                        icon: null != s ? s : null == t ? H.default : V.default,
                        className: n,
                        iconClassName: n,
                        tooltip: i,
                        tooltipPosition: r
                    })
                })
            }

            function ec(e) {
                let t = ef(e);
                return new Set(u(y.default.getMutablePrivateChannels()).values().filter(e => (0, O.isMultiUserDM)(e.type)).filter(e => ef(e.recipients) === t).map(e => e.id).value())
            }

            function ef(e) {
                return JSON.stringify(e.sort())
            }
        },
        922164: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("446674"),
                s = n("289867"),
                i = n("217513"),
                r = n("893980"),
                u = n("58351"),
                o = n("982108"),
                d = n("849483"),
                c = n("664336"),
                f = n("49111"),
                h = n("782340");

            function p(e) {
                let {
                    channel: t,
                    showCall: n
                } = e, p = (0, a.useStateFromStores)([o.default], () => o.default.getSection(t.id, null == t ? void 0 : t.isDM())), m = (0, i.default)(t.getRecipientId()), E = (0, u.default)(), C = p === f.ChannelSections.PROFILE && !E;
                return (0, l.jsx)(c.Icon, {
                    disabled: E || n,
                    tooltip: E || n ? h.default.Messages.SHOW_USER_PROFILE_UNAVAILABLE : C ? h.default.Messages.HIDE_USER_PROFILE : h.default.Messages.SHOW_USER_PROFILE,
                    icon: d.default,
                    onClick: () => {
                        (0, r.trackProfilePanelToggled)(m, !C), s.default.toggleProfilePanelSection()
                    },
                    selected: C && !E && !n
                })
            }
        },
        148205: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return S
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("917351"),
                i = n.n(s),
                r = n("446674"),
                u = n("242740"),
                o = n("889014"),
                d = n("848848"),
                c = n("300322"),
                f = n("957255"),
                h = n("800762"),
                p = n("887657"),
                m = n("664336"),
                E = n("659500"),
                C = n("49111"),
                g = n("782340"),
                S = a.memo(function(e) {
                    let {
                        channel: t
                    } = e, n = (0, o.default)(), s = (0, r.useStateFromStores)([h.default], () => h.default.isInChannel(t.id)), S = (0, r.useStateFromStores)([h.default], () => !i.isEmpty(h.default.getVoiceStatesForChannel(t.id))), _ = (0, r.useStateFromStores)([f.default], () => f.default.can(C.Permissions.CONNECT, t)), {
                        needSubscriptionToAccess: I
                    } = (0, d.default)(t.id), T = (0, c.useIsActiveChannelOrUnarchivableThread)(t), x = a.useCallback(() => {
                        u.default.handleVoiceConnect({
                            channel: t,
                            connected: s,
                            needSubscriptionToAccess: I,
                            locked: !1
                        })
                    }, [t, s, I]);
                    return (a.useEffect(() => (E.ComponentDispatch.subscribe(C.ComponentActions.CALL_START, x), () => {
                        E.ComponentDispatch.unsubscribe(C.ComponentActions.CALL_START, x)
                    }), [x]), c.VoiceInThreadsExperiment.useExperiment({
                        guildId: t.guild_id,
                        location: "63250c_1"
                    }, {
                        autoTrackExposure: !1
                    }).enabled && !n && !s && _ && T && t.isVocalThread()) ? (0, l.jsx)(m.default.Icon, {
                        icon: p.default,
                        onClick: x,
                        tooltip: S ? g.default.Messages.JOIN_VOICE_CALL : g.default.Messages.START_VOICE_CALL
                    }) : null
                })
        },
        27978: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return l
                }
            });
            var l = (0, n("862205").createExperiment)({
                kind: "guild",
                id: "2021-11_hub_events",
                label: "Hub Events",
                defaultConfig: {
                    showHubEventsList: !1
                },
                treatments: [{
                    id: 1,
                    label: "Show Hub Events List",
                    config: {
                        showHubEventsList: !0
                    }
                }]
            })
        },
        969103: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var l = n("884691"),
                a = n("446674"),
                s = n("928265"),
                i = n("204743"),
                r = n("26989"),
                u = n("697218"),
                o = n("49111"),
                d = n("237542"),
                c = e => {
                    let t = (0, a.useStateFromStores)([i.default], () => (null == e ? void 0 : e.hasFeature(o.GuildFeatures.HUB)) ? i.default.hasViewedPrompt(d.GuildPrompts.REAL_NAME_PROMPT, e.id) : null),
                        n = (0, a.useStateFromStores)([u.default], () => u.default.getCurrentUser()),
                        c = (0, a.useStateFromStores)([r.default], () => (null == e ? void 0 : e.id) != null && null != n ? r.default.getMember(null == e ? void 0 : e.id, n.id) : null),
                        f = (null == c ? void 0 : c.nick) != null;
                    return l.useEffect(() => {
                        f && null != e && !1 === t && s.default.viewPrompt(d.GuildPrompts.REAL_NAME_PROMPT, e.id)
                    }, [f, e, t]), !1 === t && !f
                }
        },
        666391: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("77078"),
                s = n("49111");

            function i(e) {
                let {
                    initialPlanId: t,
                    activeSubscription: i,
                    trialId: r,
                    trialFooterMessageOverride: u,
                    onClose: o,
                    analyticsObject: d,
                    analyticsLocation: c,
                    analyticsLocations: f,
                    analyticsSubscriptionType: h,
                    renderHeader: p,
                    renderPurchaseConfirmation: m,
                    planGroup: E,
                    reviewWarningMessage: C,
                    skuId: g
                } = e;
                (0, a.openModalLazy)(async () => {
                    let {
                        PaymentContextProvider: e
                    } = await n.el("642906").then(n.bind(n, "642906")), {
                        PaymentModal: a
                    } = await n.el("385179").then(n.bind(n, "385179")), {
                        STEPS: s
                    } = await n.el("646139").then(n.bind(n, "646139"));
                    return n => {
                        let {
                            onClose: S,
                            ..._
                        } = n;
                        return (0, l.jsx)(e, {
                            activeSubscription: i,
                            stepConfigs: s,
                            skuIDs: [g],
                            children: (0, l.jsx)(a, {
                                ..._,
                                initialPlanId: t,
                                onClose: e => {
                                    S(), null == o || o(e)
                                },
                                analyticsLocations: f,
                                analyticsObject: d,
                                analyticsLocation: c,
                                analyticsSubscriptionType: h,
                                skuId: g,
                                renderHeader: p,
                                renderPurchaseConfirmation: m,
                                planGroup: E,
                                trialId: r,
                                trialFooterMessageOverride: u,
                                reviewWarningMessage: C
                            })
                        })
                    }
                }, {
                    onCloseCallback: () => {
                        null == o || o(!1)
                    },
                    onCloseRequest: s.NOOP
                })
            }
        },
        724110: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return I
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("746379"),
                i = n("77078"),
                r = n("716241"),
                u = n("368639"),
                o = n("33942"),
                d = n("506885"),
                c = n("401642"),
                f = n("315102"),
                h = n("701909"),
                p = n("253981"),
                m = n("252063"),
                E = n("49111"),
                C = n("782340"),
                g = n("402739"),
                S = n("271861");
            let _ = new Set(["Spacebar", " ", "Enter"]);

            function I(e) {
                let {
                    channelId: t,
                    transitionState: n,
                    onClose: I
                } = e, {
                    fetched: T,
                    applicationsShelf: x,
                    installedIntegrations: N
                } = (0, m.usePrivateChannelIntegrationState)({
                    channelId: t
                });
                a.useEffect(() => {
                    (0, r.trackWithMetadata)(E.AnalyticEvents.GDM_STARTER_APPS_VIEWED)
                }, []);
                let v = e => {
                        var t;
                        (0, d.default)(null !== (t = null == e ? void 0 : e.id) && void 0 !== t ? t : "", null == e ? void 0 : e.getAvatarURL(void 0, 80), {
                            dispatchWait: !0
                        })
                    },
                    A = (e, t) => {
                        _.has(e.key) && v(t)
                    },
                    M = a.useCallback(e => {
                        let {
                            application: t,
                            location: n
                        } = e;
                        if (null == n) return !1;
                        let {
                            host: l,
                            path: a
                        } = s.parse(n, !0), i = p.default.isDiscordHostname(l) || window.location.host === l;
                        return !!i && a === E.Routes.OAUTH2_AUTHORIZED && (null != t && I(), !0)
                    }, [I]);
                return (0, l.jsxs)(i.ModalRoot, {
                    transitionState: n,
                    size: i.ModalSize.DYNAMIC,
                    className: g.modal,
                    children: [(0, l.jsx)(i.ModalContent, {
                        className: g.modalContent,
                        children: (0, l.jsxs)(l.Fragment, {
                            children: [(0, l.jsx)("img", {
                                src: S,
                                alt: "",
                                className: g.image
                            }), (0, l.jsxs)("div", {
                                className: g.headingContainer,
                                children: [(0, l.jsx)(i.Heading, {
                                    variant: "heading-xl/bold",
                                    className: g.modalHeader,
                                    children: C.default.Messages.PRIVATE_CHANNEL_AVAILABLE_APPS
                                }), (0, l.jsx)(i.Text, {
                                    variant: "text-md/medium",
                                    className: g.modalHeader,
                                    children: C.default.Messages.PRIVATE_CHANNEL_INTEGRATION_MORE_APPS_INFO_LINKED.format({
                                        helpCenterLink: h.default.getArticleURL(E.HelpdeskArticles.PRIVATE_CHANNEL_INTEGRATIONS)
                                    })
                                })]
                            }), (0, l.jsx)("div", {
                                className: g.applicationRowContainer,
                                children: T ? x.map(e => {
                                    if (null != N.find(t => t.application.id === e.id)) return null;
                                    let n = null != e.description ? (0, u.parseBioReact)(e.description) : null,
                                        a = f.default.getApplicationIconURL({
                                            id: e.id,
                                            icon: e.icon,
                                            size: 40
                                        }),
                                        s = (0, l.jsxs)(l.Fragment, {
                                            children: [null != a && (0, l.jsx)("img", {
                                                className: g.applicationIcon,
                                                alt: "",
                                                "aria-hidden": !0,
                                                src: a,
                                                width: 40,
                                                height: 40
                                            }), (0, l.jsxs)("div", {
                                                className: g.applicationRowContent,
                                                children: [(0, l.jsxs)("div", {
                                                    className: g.applicationText,
                                                    children: [(0, l.jsx)(i.Heading, {
                                                        variant: "heading-md/medium",
                                                        children: e.name
                                                    }), null != e.description && (0, l.jsx)(i.Text, {
                                                        variant: "text-sm/normal",
                                                        color: "text-muted",
                                                        lineClamp: 1,
                                                        children: n
                                                    })]
                                                }), (0, l.jsx)(i.Button, {
                                                    type: "button",
                                                    innerClassName: g.applicationButtonHack,
                                                    onClick: n => {
                                                        n.stopPropagation(), (0, o.openOAuth2Modal)({
                                                            clientId: e.id,
                                                            scopes: [E.OAuth2Scopes.APPLICATIONS_COMMANDS],
                                                            channelId: t,
                                                            disableGuildSelect: !0,
                                                            callback: M
                                                        })
                                                    },
                                                    size: i.Button.Sizes.SMALL,
                                                    color: i.Button.Colors.PRIMARY,
                                                    children: C.default.Messages.ADD
                                                })]
                                            })]
                                        }),
                                        {
                                            bot: r
                                        } = e;
                                    return null != r ? (0, l.jsx)(i.ClickableContainer, {
                                        onMouseDown: () => v(r),
                                        onKeyDown: e => A(e, r),
                                        className: g.applicationRow,
                                        onClick: () => {
                                            (0, c.openUserProfileModal)({
                                                userId: r.id,
                                                channelId: t,
                                                analyticsLocation: {
                                                    section: E.AnalyticsSections.ADD_PRIVATE_CHANNEL_INTEGRATION_MODAL
                                                }
                                            })
                                        },
                                        "aria-label": C.default.Messages.PRIVATE_CHANNEL_INTEGRATION_ADD_MODAL_ROW_INFO.format({
                                            appName: e.name
                                        }),
                                        children: s
                                    }, e.id) : (0, l.jsx)("div", {
                                        className: g.applicationRow,
                                        children: s
                                    }, e.id)
                                }) : (0, l.jsx)(i.Spinner, {
                                    className: g.spinner,
                                    type: i.Spinner.Type.SPINNING_CIRCLE
                                })
                            })]
                        })
                    }), (0, l.jsxs)(i.ModalFooter, {
                        className: g.modalFooter,
                        children: [(0, l.jsx)(i.Button, {
                            onClick: I,
                            children: C.default.Messages.DONE
                        }), (0, l.jsx)(i.Button, {
                            look: i.Button.Looks.LINK,
                            onClick: I,
                            color: i.Button.Colors.PRIMARY,
                            children: C.default.Messages.CANCEL
                        })]
                    })]
                })
            }
        },
        632892: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                FeatureBorderTypes: function() {
                    return a
                },
                default: function() {
                    return c
                }
            });
            var l, a, s = n("37983"),
                i = n("884691"),
                r = n("414456"),
                u = n.n(r),
                o = n("623682");
            (l = a || (a = {})).PREMIUM = "premium", l.LIMITED = "limited";
            let d = {
                [a.PREMIUM]: {
                    border: o.premiumFeatureBorder,
                    background: o.premiumBackground
                },
                [a.LIMITED]: {
                    border: o.limitedFeatureBorder,
                    background: o.limitedBackground
                }
            };
            var c = i.forwardRef(function(e, t) {
                let {
                    children: n,
                    type: l = a.PREMIUM,
                    isShown: i,
                    hasBackground: r = !1,
                    className: c,
                    backgroundClassName: f
                } = e;
                if (!i) return (0, s.jsx)(s.Fragment, {
                    children: n
                });
                let {
                    border: h,
                    background: p
                } = d[l];
                return (0, s.jsx)("div", {
                    ref: t,
                    className: u(h, c),
                    children: (0, s.jsx)("div", {
                        className: u(r ? p : o.background, f),
                        children: n
                    })
                })
            })
        },
        767094: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            });
            var l = n("446674"),
                a = n("419135"),
                s = n("692038"),
                i = n("95045"),
                r = n("27618"),
                u = n("744983");

            function o(e) {
                let t = (0, l.useStateFromStores)([u.default], () => {
                        var t;
                        let n = u.default.getQuery(e),
                            l = u.default.getRawResults(e);
                        if (null == n || null == l) return [];
                        let r = (0, a.createASTHighlighter)(null !== (t = n.content) && void 0 !== t ? t : "");
                        return l.map(e => e.map(e => {
                            let t = (0, s.createMessageRecord)(e);
                            return t.isSearchHit ? t.set("customRenderedContent", (0, i.default)(t, {
                                postProcessor: r,
                                allowHeading: !0,
                                allowList: !0
                            })) : t
                        }))
                    }, [e], l.statesWillNeverBeEqual),
                    [n, o] = (0, l.useStateFromStores)([r.default], () => {
                        let e = 0,
                            n = t.map(t => t.filter(t => {
                                let n = r.default.isBlocked(t.author.id);
                                return n && t.isSearchHit && e++, !n || t.isSearchHit
                            }));
                        return [n, e]
                    }, [t], l.statesWillNeverBeEqual);
                return {
                    searchResults: n,
                    blockCount: o
                }
            }
        },
        565996: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("77078"),
                s = n("701909"),
                i = n("49111"),
                r = n("782340"),
                u = n("14310");

            function o(e) {
                let {
                    searchMode: t,
                    searchByMode: n
                } = e;
                return (0, l.jsxs)("header", {
                    className: u.searchHeader,
                    children: [(0, l.jsx)(d, {
                        ...e
                    }), (0, l.jsxs)(a.TabBar, {
                        orientation: "horizontal",
                        className: u.searchHeaderTabList,
                        selectedItem: t,
                        onItemSelect: n,
                        children: [(0, l.jsx)(a.TabBar.Item, {
                            id: i.SearchModes.NEWEST,
                            children: r.default.Messages.SEARCH_NEWEST_SHORT
                        }), (0, l.jsx)(a.TabBar.Item, {
                            id: i.SearchModes.OLDEST,
                            children: r.default.Messages.SEARCH_OLDEST_SHORT
                        }), (0, l.jsx)(a.TabBar.Item, {
                            id: i.SearchModes.MOST_RELEVANT,
                            children: r.default.Messages.SEARCH_MOST_RELEVANT_SHORT
                        })]
                    })]
                })
            }

            function d(e) {
                let t;
                let {
                    isSearching: n,
                    isIndexing: s,
                    documentsIndexed: i
                } = e;
                (s || n) && (t = (0, l.jsx)("div", {
                    className: u.spinnerWrapper,
                    children: (0, l.jsx)(a.Spinner, {
                        type: a.Spinner.Type.SPINNING_CIRCLE,
                        className: u.spinner,
                        itemClassName: u.spinnerPath
                    })
                }));
                let o = s && !n;
                return (0, l.jsxs)("div", {
                    className: u.totalResults,
                    role: "status",
                    children: [o ? (0, l.jsx)(a.Tooltip, {
                        text: r.default.Messages.SEARCH_STILL_INDEXING_HINT.format({
                            count: i
                        }),
                        children: n => (0, l.jsxs)("div", {
                            className: u.totalResultsWrapper,
                            ...n,
                            children: [(0, l.jsx)(c, {
                                ...e
                            }), t]
                        })
                    }) : (0, l.jsx)(c, {
                        ...e
                    }), o ? null : t]
                })
            }

            function c(e) {
                let {
                    isSearching: t,
                    isIndexing: n,
                    totalResults: o
                } = e;
                if (t) return (0, l.jsx)(a.Text, {
                    variant: "text-md/normal",
                    color: "header-primary",
                    children: r.default.Messages.SEARCHING
                });
                {
                    if (n) return (0, l.jsx)(a.Text, {
                        variant: "text-md/normal",
                        children: (0, l.jsx)(a.Anchor, {
                            className: u.helpdeskLink,
                            href: s.default.getArticleURL(i.HelpdeskArticles.SEARCH_INDEXING),
                            children: r.default.Messages.STILL_INDEXING
                        })
                    });
                    let e = o.toLocaleString();
                    return (0, l.jsx)(a.Text, {
                        variant: "text-md/normal",
                        color: "header-primary",
                        children: r.default.Messages.TOTAL_RESULTS.format({
                            count: e
                        })
                    })
                }
            }
        },
        420861: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("77078"),
                s = n("102499");

            function i(e) {
                let {
                    changePage: t,
                    offset: n,
                    totalResults: i,
                    pageLength: r
                } = e;
                return (0, l.jsx)("div", {
                    className: s.container,
                    children: (0, l.jsx)(a.Paginator, {
                        currentPage: Math.floor(n / r) + 1,
                        totalCount: i,
                        pageSize: r,
                        onPageChange: t,
                        maxVisiblePages: 5
                    })
                })
            }
        },
        18061: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("917351"),
                i = n.n(s),
                r = n("118810"),
                u = n("77078"),
                o = n("272030"),
                d = n("699473"),
                c = n("42203"),
                f = n("782340"),
                h = n("821867");
            class p extends a.PureComponent {
                render() {
                    let {
                        result: e,
                        listItemProps: t,
                        searchOffset: n,
                        index: a,
                        totalResults: s
                    } = this.props, r = i.find(e, e => e.isSearchHit);
                    if (null == r) return null;
                    let o = c.default.getChannel(r.channel_id);
                    if (null == o) return null;
                    let p = "search-result-".concat(r.id);
                    return (0, l.jsx)(u.FocusRing, {
                        ringTarget: this.hitRef,
                        ringClassName: h.searchResultFocusRing,
                        offset: 4,
                        children: (0, l.jsxs)("li", {
                            className: h.container,
                            ...t,
                            "aria-posinset": 1 + n + a,
                            "aria-setsize": s,
                            "aria-labelledby": p,
                            children: [(0, l.jsx)(u.Clickable, {
                                tabIndex: -1,
                                onClick: this.handleMessageClick,
                                innerRef: this.containerRef,
                                className: h.searchResult,
                                focusProps: {
                                    enabled: !1
                                },
                                children: (0, l.jsx)("div", {
                                    ref: this.hitRef,
                                    className: h.message,
                                    children: (0, l.jsx)(d.default, {
                                        id: p,
                                        message: r,
                                        channel: o,
                                        onContextMenu: e => this.handleContextMenu(e, r),
                                        animateAvatar: !1,
                                        subscribeToComponentDispatch: !1,
                                        trackAnnouncementViews: !0
                                    })
                                }, r.id)
                            }), (0, l.jsx)("div", {
                                className: h.buttonsContainer,
                                "aria-hidden": !0,
                                children: (0, l.jsx)(u.Clickable, {
                                    className: h.button,
                                    onClick: this.jumpTo,
                                    children: f.default.Messages.JUMP
                                })
                            })]
                        })
                    })
                }
                constructor(...e) {
                    super(...e), this.containerRef = a.createRef(), this.hitRef = a.createRef(), this.handleContextMenu = (e, t) => {
                        let a = c.default.getChannel(t.channel_id);
                        null != a && (e.stopPropagation(), (0, o.openContextMenuLazy)(e, async () => {
                            let {
                                default: e
                            } = await n.el("13406").then(n.bind(n, "13406"));
                            return n => (0, l.jsx)(e, {
                                ...n,
                                message: t,
                                channel: a
                            })
                        }))
                    }, this.jumpTo = e => {
                        null != e && (e.preventDefault(), e.stopPropagation());
                        let {
                            onJump: t,
                            result: n
                        } = this.props, l = n.find(e => e.isSearchHit);
                        null != l && t(l)
                    }, this.handleMessageClick = e => {
                        if (function(e, t) {
                                var n;
                                let l = null === (n = window) || void 0 === n ? void 0 : n.getSelection();
                                if (null != l && !l.isCollapsed) return !0;
                                if (null == e || null == t) return !1;
                                for (;
                                    (0, r.isElement)(e) && e !== t;) {
                                    ;
                                    let {
                                        tagName: t
                                    } = e;
                                    if ("A" === t || "IMG" === t || "BUTTON" === t) return !0;
                                    e = e.parentNode
                                }
                                return !1
                            }(e.target, this.containerRef.current)) {
                            e.stopPropagation();
                            return
                        }
                        this.jumpTo(e)
                    }
                }
            }
        },
        535260: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return y
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("880317"),
                i = n("77078"),
                r = n("404118"),
                u = n("819689"),
                o = n("378438"),
                d = n("419135"),
                c = n("206230"),
                f = n("679653"),
                h = n("619335"),
                p = n("70845"),
                m = n("95045"),
                E = n("393414"),
                C = n("144491"),
                g = n("845579"),
                S = n("42203"),
                _ = n("957255"),
                I = n("27618"),
                T = n("744983"),
                x = n("18494"),
                N = n("697218"),
                v = n("505684"),
                A = n("593195"),
                M = n("420861"),
                R = n("18061"),
                L = n("49111"),
                j = n("782340"),
                O = n("211631");

            function y(e) {
                var t;
                let {
                    search: n,
                    searchId: f,
                    renderEmbeds: h,
                    scrollTo: p,
                    searchResults: m,
                    blockCount: C
                } = e, {
                    offset: g,
                    totalResults: _,
                    isSearching: x,
                    showBlockedResults: N
                } = n, v = a.useCallback(e => {
                    !x && o.changePage(f, e - 1)
                }, [f, x]), A = a.useCallback(e => {
                    if (e.blocked) r.default.show({
                        title: j.default.Messages.UNBLOCK_TO_JUMP_TITLE,
                        body: j.default.Messages.UNBLOCK_TO_JUMP_BODY.format({
                            name: e.author.username
                        }),
                        confirmText: j.default.Messages.OKAY
                    });
                    else {
                        let t = S.default.getChannel(e.channel_id),
                            n = null != t ? t.getGuildId() : null;
                        u.default.trackJump(e.channel_id, e.id, "Search Results", {
                            search_id: T.default.getAnalyticsId(f)
                        }), (0, E.transitionTo)(L.Routes.CHANNEL(n, e.channel_id, e.id))
                    }
                }, [f]), R = a.useMemo(() => {
                    let e;
                    if (null == m) return [];
                    let t = 0;
                    return m.reduce((n, l) => {
                        let a = l.find(e => e.isSearchHit);
                        if (!N && null != a && I.default.isBlocked(a.author.id)) return n;
                        let s = S.default.getChannel(l[0].channel_id);
                        return null == s ? n : ((null == e || e !== s.id) && n.push({
                            channel: s,
                            results: [],
                            startIndex: t
                        }), t += 1, n[n.length - 1].results.push(l), e = null == s ? void 0 : s.id, n)
                    }, [])
                }, [m, N]), y = a.useRef([]), D = R.reduce((e, t) => e + 1 + t.results.length, 0), b = a.useCallback((e, t) => {
                    if (!c.default.keyboardModeEnabled) return;
                    let n = y.current,
                        l = null != t ? n[t] : void 0;
                    if (null == l || null == l.hitRef.current) return;
                    let a = l.hitRef.current.getClientRects()[0],
                        s = a.top - .5 * a.height;
                    p(s, !1, () => {
                        var t;
                        null === (t = document.getElementById(e)) || void 0 === t || t.focus()
                    })
                }, [p]), U = a.useCallback(e => {
                    let t = y.current[e];
                    null == t || t.jumpTo()
                }, []), w = (0, s.useListNavigator)({
                    navId: "search-results",
                    itemCount: D,
                    focusedIndex: 0,
                    setFocus: b,
                    onSelect: U
                }), F = T.default.getQuery(f), G = (0, d.createASTHighlighter)(null !== (t = null == F ? void 0 : F.content) && void 0 !== t ? t : ""), B = R.map(e => {
                    let {
                        channel: t,
                        results: n,
                        startIndex: a
                    } = e;
                    return (0, l.jsx)(P, {
                        channel: t,
                        results: n,
                        highlighter: G,
                        startIndex: a,
                        resultRefs: y,
                        totalResults: _,
                        scrollTo: p,
                        searchId: f,
                        renderEmbeds: h,
                        offset: g,
                        jumpToMessage: A,
                        listNavigator: w
                    }, "".concat(t.id, "-").concat(a))
                });
                B.push();
                let k = a.useRef(null);
                a.useLayoutEffect(() => {
                    var e;
                    null === (e = k.current) || void 0 === e || e.focus()
                }, [m]);
                let H = (0, i.useFocusJumpSection)();
                return (0, l.jsxs)(l.Fragment, {
                    children: [(0, l.jsx)("div", {
                        ref: k,
                        ...w.getContainerProps(),
                        ...H,
                        "aria-busy": x,
                        children: B
                    }), C > 0 ? (0, l.jsxs)(i.Clickable, {
                        tag: "div",
                        className: O.resultsBlocked,
                        onClick: () => o.setShowBlockedResults(f, !N),
                        children: [(0, l.jsx)("div", {
                            className: O.resultsBlockedImage
                        }), (0, l.jsx)("div", {
                            className: O.resultsBlockedText,
                            children: N ? j.default.Messages.SEARCH_HIDE_BLOCKED_MESSAGES.format({
                                count: C
                            }) : j.default.Messages.SEARCH_NUM_RESULTS_BLOCKED_NOT_SHOWN.format({
                                count: C
                            })
                        })]
                    }) : null, !x && (0, l.jsx)(M.default, {
                        changePage: v,
                        offset: g,
                        totalResults: _,
                        pageLength: L.SEARCH_PAGE_SIZE
                    })]
                })
            }

            function P(e) {
                var t;
                let {
                    channel: n,
                    results: s,
                    highlighter: r,
                    startIndex: u,
                    resultRefs: o,
                    totalResults: d,
                    scrollTo: c,
                    searchId: E,
                    renderEmbeds: T,
                    offset: M,
                    jumpToMessage: j,
                    listNavigator: y
                } = e, P = g.RenderSpoilers.useSetting(), D = a.useCallback(e => {
                    if (e === x.default.getChannelId()) return;
                    let t = S.default.getChannel(e);
                    if (null != t) _.default.can(L.Permissions.VIEW_CHANNEL, t) && (0, C.transitionToChannel)(t.id)
                }, []), b = null != n ? (0, f.computeChannelName)(n, N.default, I.default, !1) : "???", U = (null == n ? void 0 : n.parent_id) != null ? S.default.getChannel(n.parent_id) : null, w = null != U ? U.name : null, F = null !== (t = (0, h.default)(n)) && void 0 !== t ? t : A.default, G = null != U ? (0, h.default)(U) : null, B = _.default.can(L.Permissions.MANAGE_MESSAGES, n), {
                    content: k
                } = (0, m.default)({
                    content: b,
                    embeds: []
                }, {
                    postProcessor: r
                }), H = a.useRef(null), [V, W] = a.useState(!1);
                return a.useEffect(() => {
                    let e = H.current;
                    null != e && null != e.offsetWidth && null != e.scrollWidth && W(e.offsetWidth < e.scrollWidth)
                }, []), (0, l.jsx)(v.ObscuredDisplayContext.Provider, {
                    value: (0, p.default)(P, B),
                    children: (0, l.jsxs)("ul", {
                        role: "group",
                        className: O.searchResultGroup,
                        "aria-label": null == w ? b : "".concat(b, ", ").concat(w),
                        children: [(0, l.jsx)(i.Clickable, {
                            onClick: () => D(n.id),
                            children: (0, l.jsxs)("div", {
                                className: O.channelNameContainer,
                                children: [(0, l.jsx)(F, {
                                    className: O.channelNameIcon,
                                    width: 16,
                                    height: 16
                                }), (0, l.jsx)(i.Tooltip, {
                                    text: b,
                                    shouldShow: V,
                                    children: e => (0, l.jsx)("span", {
                                        ...e,
                                        ref: H,
                                        className: O.channelNameText,
                                        children: k
                                    })
                                }), null != U && null != w && null != G ? (0, l.jsxs)(i.Clickable, {
                                    className: O.parentChannelNameClickable,
                                    onClick: e => {
                                        e.stopPropagation(), D(U.id)
                                    },
                                    children: [(0, l.jsx)(G, {
                                        className: O.parentChannelNameIcon,
                                        width: 12,
                                        height: 12
                                    }), (0, l.jsx)(i.Text, {
                                        className: O.parentChannelNameText,
                                        variant: "text-xs/medium",
                                        color: "header-secondary",
                                        children: w
                                    })]
                                }) : null]
                            })
                        }), s.map((e, t) => {
                            let n = u + t;
                            return (0, l.jsx)(R.default, {
                                ref: e => o.current[n] = e,
                                totalResults: d,
                                scrollTo: c,
                                searchId: E,
                                renderEmbeds: T,
                                searchOffset: M,
                                pageResultsLength: s.length,
                                result: e,
                                index: n,
                                onJump: j,
                                listItemProps: y.getItemProps({
                                    index: n
                                })
                            }, "search-result-".concat(n))
                        })]
                    })
                })
            }
        },
        56778: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return L
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("917351"),
                u = n.n(r),
                o = n("446674"),
                d = n("77078"),
                c = n("970728"),
                f = n("378438"),
                h = n("716241"),
                p = n("161778"),
                m = n("845579"),
                E = n("744983"),
                C = n("18494"),
                g = n("230559"),
                S = n("659500"),
                _ = n("767094"),
                I = n("565996"),
                T = n("535260"),
                x = n("49111"),
                N = n("782340"),
                v = n("557398");
            class A extends a.Component {
                componentDidMount() {
                    this.autoAnalytics()
                }
                componentDidUpdate(e) {
                    (this.props.searchAnalyticsId !== e.searchAnalyticsId || this.props.searchOffset !== e.searchOffset) && this.autoAnalytics(e.searchAnalyticsId)
                }
                render() {
                    return null
                }
                constructor(...e) {
                    var t;
                    super(...e), t = this, this.autoAnalytics = function() {
                        let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                        if (null == t.props.searchAnalyticsId) return;
                        let n = 0,
                            l = 0,
                            a = 0,
                            s = 0;
                        null != t.props.searchResults && u(t.props.searchResults).flatten().filter(e => e.isSearchHit).forEach(e => {
                            null != e.content && "" !== e.content && (n++, /https?:\/\/[^\s]+/.test(e.content) && s++), null != e.embeds && e.embeds.length > 0 && a++, null != e.attachments && e.attachments.length > 0 && l++
                        }), h.default.trackWithMetadata(x.AnalyticEvents.SEARCH_RESULT_VIEWED, {
                            search_type: t.props.searchType,
                            search_id: t.props.searchAnalyticsId,
                            prev_search_id: e !== t.props.searchAnalyticsId ? e : null,
                            is_error: t.props.searchHasError,
                            limit: t.props.searchLimit,
                            offset: t.props.searchOffset,
                            page: Math.floor(t.props.searchOffset / t.props.searchLimit) + 1,
                            total_results: t.props.searchTotalResults,
                            page_results: null != t.props.searchResults ? t.props.searchResults.length : null,
                            is_indexing: t.props.searchIsIndexing,
                            page_num_messages: n,
                            page_num_links: s,
                            page_num_embeds: a,
                            page_num_attach: l
                        })
                    }
                }
            }
            let M = e => {
                let {
                    children: t
                } = e;
                return (0, l.jsx)("div", {
                    className: v.emptyResultsWrap,
                    children: (0, l.jsx)("div", {
                        className: v.emptyResultsContent,
                        children: t
                    })
                })
            };
            class R extends a.PureComponent {
                componentDidMount() {
                    S.ComponentDispatch.subscribe(x.ComponentActions.SEARCH_RESULTS_CLOSE, this.handleSearchResultsClose)
                }
                componentWillUnmount() {
                    S.ComponentDispatch.unsubscribe(x.ComponentActions.SEARCH_RESULTS_CLOSE, this.handleSearchResultsClose)
                }
                componentDidUpdate(e) {
                    let {
                        search: t
                    } = e;
                    if (this.props.search.showBlockedResults !== t.showBlockedResults) {
                        let e = this.scrollerRef.current;
                        if (null == e) return;
                        e.scrollToBottom()
                    }
                    let n = E.default.getQuery(this.props.searchId);
                    JSON.stringify(n) !== JSON.stringify(this.state.searchQuery) && this.setState({
                        searchQuery: n,
                        searchMode: x.SearchModes.NEWEST
                    })
                }
                render() {
                    let {
                        searchAnalyticsId: e,
                        searchType: t,
                        searchResults: n
                    } = this.props, {
                        offset: a,
                        hasError: s,
                        totalResults: i,
                        isHistoricalIndexing: r
                    } = this.props.search;
                    return (0, l.jsxs)("section", {
                        className: v.searchResultsWrap,
                        "aria-label": N.default.Messages.SEARCH_RESULTS_SECTION_LABEL,
                        children: [this.renderHeader(), (0, l.jsx)(d.AdvancedScroller, {
                            ref: this.scrollerRef,
                            className: v.scroller,
                            children: this.renderContent()
                        }), (0, l.jsx)(A, {
                            searchType: t,
                            searchAnalyticsId: e,
                            searchResults: n,
                            searchOffset: a,
                            searchLimit: x.SEARCH_PAGE_SIZE,
                            searchHasError: s,
                            searchTotalResults: i,
                            searchIsIndexing: r
                        })]
                    })
                }
                constructor(...e) {
                    super(...e), this.state = {
                        searchMode: x.SearchModes.NEWEST,
                        searchQuery: null
                    }, this.scrollerRef = a.createRef(), this.scrollTo = (e, t, n) => {
                        let l = this.scrollerRef.current;
                        if (null == l) return;
                        let a = l.getScrollerState().scrollTop - e;
                        l.scrollTo({
                            to: a,
                            animate: t,
                            callback: n
                        })
                    }, this.selectChannel = e => {
                        e !== C.default.getChannelId() && c.default.transitionToInviteChannelSync(e)
                    }, this.searchPrevious = () => {
                        let {
                            searchId: e,
                            search: {
                                isSearching: t
                            }
                        } = this.props;
                        !t && f.searchPreviousPage(e)
                    }, this.searchNext = () => {
                        let {
                            searchId: e,
                            search: {
                                isSearching: t
                            }
                        } = this.props;
                        !t && f.searchNextPage(e)
                    }, this.handleSearchResultsClose = () => {
                        let {
                            searchId: e
                        } = this.props;
                        f.clearSearchState(e)
                    }, this.searchByMode = e => {
                        let {
                            searchId: t,
                            search: {
                                isSearching: n
                            }
                        } = this.props, {
                            searchMode: l
                        } = this.state;
                        e !== l && !n && (h.default.trackWithMetadata(x.AnalyticEvents.SEARCH_RESULT_SORT_CHANGED, {
                            search_id: E.default.getAnalyticsId(t),
                            new_sort_type: e
                        }), f.searchByMode(t, e), this.setState({
                            searchMode: e
                        }))
                    }, this.toggleShowBlockedMessages = () => {
                        let {
                            searchId: e,
                            search: {
                                showBlockedResults: t
                            }
                        } = this.props;
                        f.setShowBlockedResults(e, !t)
                    }, this.renderHeader = () => {
                        let {
                            searchMode: e
                        } = this.state, {
                            totalResults: t,
                            isSearching: n,
                            isHistoricalIndexing: a,
                            documentsIndexed: s
                        } = this.props.search;
                        return (0, l.jsx)(I.default, {
                            searchMode: e,
                            searchByMode: this.searchByMode,
                            totalResults: t,
                            isSearching: n,
                            isIndexing: a,
                            documentsIndexed: s
                        })
                    }, this.renderIndexing = () => {
                        let e = E.default.getSearchType(this.props.searchId),
                            t = e === x.SearchTypes.GUILD ? N.default.Messages.SEARCH_GUILD_STILL_INDEXING : N.default.Messages.SEARCH_DM_STILL_INDEXING;
                        return (0, l.jsxs)(M, {
                            children: [(0, l.jsx)(g.default, {}), (0, l.jsx)("div", {
                                className: (v.emptyResultsText, v.stillIndexing),
                                children: t
                            })]
                        })
                    }, this.renderNoResults = () => {
                        let {
                            showNoResultsAlt: e
                        } = this.props.search, t = e ? N.default.Messages.SEARCH_NO_RESULTS_ALT : N.default.Messages.SEARCH_NO_RESULTS;
                        return (0, l.jsxs)(M, {
                            children: [(0, l.jsx)("div", {
                                className: i(v.noResultsImage, {
                                    [v.alt]: e
                                })
                            }), (0, l.jsx)("div", {
                                className: i(v.emptyResultsText, v.noResults, {
                                    [v.alt]: e
                                }),
                                children: t
                            })]
                        })
                    }, this.renderError = () => (0, l.jsxs)(M, {
                        children: [(0, l.jsx)("div", {
                            className: v.errorImage
                        }), (0, l.jsx)("div", {
                            className: i(v.emptyResultsText, v.errorMessage),
                            children: N.default.Messages.SEARCH_ERROR
                        })]
                    }), this.renderContent = () => {
                        let {
                            searchResults: e,
                            blockCount: t
                        } = this.props, {
                            totalResults: n,
                            isSearching: a,
                            isIndexing: s,
                            hasError: i
                        } = this.props.search;
                        return i ? this.renderError() : s ? this.renderIndexing() : a ? null : n > 0 ? (0, l.jsx)(T.default, {
                            search: this.props.search,
                            searchResults: e,
                            blockCount: t,
                            searchId: this.props.searchId,
                            renderEmbeds: this.props.renderEmbeds,
                            scrollTo: this.scrollTo
                        }) : this.renderNoResults()
                    }
                }
            }

            function L(e) {
                let {
                    searchId: t
                } = e;
                return (0, l.jsx)(R, {
                    searchId: t,
                    ...(0, o.useStateFromStoresObject)([E.default], () => ({
                        search: E.default.getResultsState(t),
                        searchAnalyticsId: E.default.getAnalyticsId(t),
                        searchType: E.default.getSearchType()
                    }), [t]),
                    ...(0, _.default)(t),
                    renderEmbeds: m.RenderEmbeds.useSetting(),
                    developerMode: m.DeveloperMode.useSetting(),
                    ...(0, o.useStateFromStoresObject)([p.default], () => {
                        let {
                            theme: e
                        } = p.default;
                        return {
                            theme: e
                        }
                    })
                })
            }
        },
        429829: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                CustomCallSoundUpsell: function() {
                    return T
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("446674"),
                s = n("271841"),
                i = n("605451"),
                r = n("577776"),
                u = n("77078"),
                o = n("79112"),
                d = n("635956"),
                c = n("632892"),
                f = n("697218"),
                h = n("945330"),
                p = n("216422"),
                m = n("719923"),
                E = n("49111"),
                C = n("994428"),
                g = n("646718"),
                S = n("397336"),
                _ = n("782340"),
                I = n("948197");

            function T(e) {
                var t;
                let {
                    onClose: n,
                    markAsDismissed: T
                } = e, x = (0, a.useStateFromStores)([f.default], () => f.default.getCurrentUser());
                let N = (t = null == x ? void 0 : x.premiumType) === g.PremiumTypes.TIER_2 ? _.default.Messages.CALL_SOUNDS_UPSELL_DESCRIPTION_TIER_2 : null == t ? _.default.Messages.CALL_SOUNDS_UPSELL_DESCRIPTION_NON_SUB : _.default.Messages.CALL_SOUNDS_UPSELL_DESCRIPTION_NON_TIER_2,
                    v = m.default.canUseCustomCallSounds(x);
                return (0, l.jsxs)(c.default, {
                    isShown: !0,
                    type: c.FeatureBorderTypes.PREMIUM,
                    className: I.upsellOuter,
                    backgroundClassName: I.upsellInner,
                    children: [null != T ? (0, l.jsx)(u.Clickable, {
                        className: I.close,
                        onClick: () => null == T ? void 0 : T(C.ContentDismissActionType.DISMISS),
                        "aria-label": _.default.Messages.CLOSE,
                        children: (0, l.jsx)(h.default, {
                            className: I.closeIcon,
                            width: 16,
                            height: 16
                        })
                    }) : null, (0, l.jsxs)("div", {
                        className: I.upsellTitle,
                        children: [(0, l.jsx)(p.default, {
                            className: I.nitroWheel,
                            width: 18,
                            height: 18
                        }), (0, l.jsx)(i.Heading, {
                            variant: "heading-sm/bold",
                            children: _.default.Messages.CALL_SOUNDS_UPSELL_TITLE_NON_SUB
                        })]
                    }), (0, l.jsx)(r.Text, {
                        variant: "text-sm/normal",
                        children: N
                    }), v ? (0, l.jsx)(s.Button, {
                        onClick: function() {
                            o.default.open(E.UserSettingsSections.VOICE, S.SOUNDBOARD_SUBSECTION), null == n || n(), null == T || T(C.ContentDismissActionType.PRIMARY)
                        },
                        children: _.default.Messages.CHECK_IT_OUT
                    }) : (0, l.jsx)(d.default, {
                        buttonText: _.default.Messages.PREMIUM_UPSELL_GET_NITRO,
                        subscriptionTier: g.PremiumSubscriptionSKUs.TIER_2,
                        premiumModalAnalyticsLocation: {
                            section: E.AnalyticsSections.SOUNDBOARD_SOUND_PICKER,
                            object: E.AnalyticsObjects.BUTTON_CTA
                        },
                        color: s.Button.Colors.GREEN,
                        onSubscribeModalClose: () => null == T ? void 0 : T(C.ContentDismissActionType.PRIMARY)
                    })]
                })
            }
        },
        844208: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                participantMemberInfo: function() {
                    return s
                }
            });
            var l = n("158998"),
                a = n("782340");

            function s(e) {
                var t, n, s;
                if ((0, l.isNewUser)(e.user)) return a.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NEW_TO_DISCORD;
                let i = null === (t = e.member) || void 0 === t ? void 0 : t.joinedAt;
                if (null == i) return a.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NON_MEMBER;
                if (null != e.member && e.member.roles.length > 0) return null !== (s = null === (n = e.role) || void 0 === n ? void 0 : n.name) && void 0 !== s ? s : a.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_MEMBER_ROLES;
                let r = new Date().getTime() - Date.parse(i);
                return r < 864e5 ? a.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NEW_MEMBER : a.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_MEMBER
            }
        },
        111542: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                updateStageMusicMuted: function() {
                    return a
                },
                updateStageMusicShouldPlay: function() {
                    return s
                }
            });
            var l = n("913144");

            function a(e) {
                l.default.dispatch({
                    type: "STAGE_MUSIC_MUTE",
                    muted: e
                })
            }

            function s(e) {
                l.default.dispatch({
                    type: "STAGE_MUSIC_PLAY",
                    play: e
                })
            }
        },
        734019: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var l = n("271938"),
                a = n("488464"),
                s = n("998716"),
                i = n("325861"),
                r = n("834052");

            function u(e) {
                if (!e.isGuildStageVoice()) return !1;
                let t = r.default.isLive(e.id);
                if (!t) return !1;
                let n = l.default.getId(),
                    u = i.default.isModerator(n, e.id);
                if (!u) return !1;
                let o = i.default.isSpeaker(n, e.id);
                if (!o) return !1;
                let d = a.default.getMutableParticipants(e.id),
                    c = d.find(t => t.user.id !== n && i.default.isModerator(t.user.id, e.id));
                if (null == c) return !0;
                let f = a.default.getMutableParticipants(e.id, s.StageChannelParticipantNamedIndex.SPEAKER),
                    h = f.find(t => t.user.id !== n && i.default.isModerator(t.user.id, e.id));
                return null == h
            }
        },
        519581: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return i
                }
            });
            var l = n("446674"),
                a = n("271938"),
                s = n("808422");

            function i(e) {
                let t = (0, l.useStateFromStores)([a.default], () => a.default.getId()),
                    n = (0, s.default)(t, e);
                return n === s.RequestToSpeakStates.ON_STAGE
            }
        },
        413882: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useRequestToSpeakPermission: function() {
                    return o
                }
            });
            var l = n("884691"),
                a = n("446674"),
                s = n("42203"),
                i = n("991170"),
                r = n("244480"),
                u = n("49111");

            function o(e) {
                let t = (0, a.useStateFromStores)([s.default], () => s.default.getChannel(e), [e]),
                    n = i.default.canEveryoneRole(u.Permissions.REQUEST_TO_SPEAK, t),
                    [o, d] = l.useState(n);
                return l.useEffect(() => {
                    n !== o && d(n)
                }, [n]), [o, e => {
                    null != t && (d(e), (0, r.setEveryoneRolePermissionAllowed)(t, u.Permissions.REQUEST_TO_SPEAK, e))
                }]
            }
        },
        223378: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useThrottleDurationForChannel: function() {
                    return p
                },
                useStageChannelParticipantsListThrottled: function() {
                    return m
                }
            });
            var l, a, s = n("884691"),
                i = n("917351"),
                r = n("446674"),
                u = n("560103"),
                o = n("191145"),
                d = n("334572"),
                c = n("488464"),
                f = n("567469"),
                h = n("998716");

            function p(e) {
                let t = (0, f.useStageParticipantsCount)(e, h.StageChannelParticipantNamedIndex.AUDIENCE),
                    [n, l] = s.useState(!1);
                return s.useEffect(() => {
                    t > 100 ? l(!0) : t < 75 && l(!1)
                }, [t]), n ? 5e3 : 0
            }

            function m(e, t, n) {
                let l = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
                    f = function(e, t, n) {
                        let l = (0, r.useStateFromStores)([c.default], () => [e, c.default.getParticipantsVersion(e)], [e], d.isVersionEqual),
                            a = (0, r.useStateFromStores)([o.default], () => o.default.getSelectedParticipantId(e), [e]);
                        return s.useMemo(() => {
                            let s = [],
                                r = [],
                                u = -1,
                                o = [];
                            if (n) {
                                let t = c.default.getMutableParticipants(e, h.StageChannelParticipantNamedIndex.SPEAKER);
                                for (let e of t)
                                    if (e.type === h.StageChannelParticipantTypes.STREAM) e.id !== a && o.push(e), u++;
                                    else break
                            }
                            let d = (e, t, n) => {
                                    let l = n ? e.filter((e, t) => e.id !== a && t > u) : e,
                                        o = (0, i.chunk)(l, t);
                                    r.push(o), s.push(o.length)
                                },
                                f = null != a ? c.default.getParticipant(e, a) : null;
                            return (null == f ? void 0 : f.speaker) ? d([f], 1, !1) : d([], 1, !1), [h.StageChannelParticipantNamedIndex.SPEAKER, h.StageChannelParticipantNamedIndex.AUDIENCE].forEach(e => {
                                d(c.default.getMutableParticipants(l[0], e), t[e], e === h.StageChannelParticipantNamedIndex.SPEAKER)
                            }), d(o, 1, !1), [s, r]
                        }, [l, t, a, n, e])
                    }(e, t, l),
                    [p, m] = f,
                    [E, C] = (0, u.useThrottledState)(f, n, [t[h.StageChannelParticipantNamedIndex.AUDIENCE]]),
                    g = [p[l ? a.MEDIA : a.SELECTED], p[a.SPEAKER], E[a.AUDIENCE]],
                    S = [m[l ? a.MEDIA : a.SELECTED], m[a.SPEAKER], C[a.AUDIENCE]];
                return [g, S]
            }(l = a || (a = {}))[l.SELECTED = 0] = "SELECTED", l[l.SPEAKER = 1] = "SPEAKER", l[l.AUDIENCE = 2] = "AUDIENCE", l[l.MEDIA = 3] = "MEDIA"
        },
        759718: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var l = n("446674"),
                a = n("334572"),
                s = n("488464"),
                i = n("998716");

            function r(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3,
                    [n] = (0, l.useStateFromStores)([s.default], () => {
                        let n = s.default.getMutableParticipants(e).filter(e => e.type === i.StageChannelParticipantTypes.VOICE),
                            l = [];
                        for (let e of n) {
                            if (l.length >= t) break;
                            null == l.find(t => t.id === e.user.id) && l.push(e.user)
                        }
                        return [{
                            participants: n,
                            usersInSummary: l
                        }, s.default.getParticipantsVersion(e)]
                    }, [e, t], a.isVersionEqual);
                return n
            }
        },
        709752: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var l = n("884691"),
                a = n("446674"),
                s = n("271938"),
                i = n("244480"),
                r = n("808422");

            function u(e) {
                let t = (0, a.useStateFromStores)([s.default], () => s.default.getId()),
                    n = (0, r.default)(t, e.id),
                    u = n === r.RequestToSpeakStates.REQUESTED_TO_SPEAK || n === r.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,
                    [o, d] = l.useState(u);
                return l.useEffect(() => {
                    d(u)
                }, [u]), [o, function() {
                    n === r.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK ? (0, i.audienceAckRequestToSpeak)(e, !0) : (0, i.toggleRequestToSpeak)(e, !o), d(!o)
                }]
            }
        },
        973137: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("552700"),
                i = n("894233"),
                r = a.memo(function(e) {
                    let {
                        channel: t,
                        participants: n,
                        maxTiles: a
                    } = e;
                    if (0 === n.length) return null;
                    let r = [];
                    for (let e = 0; e < a; e++)
                        if (e < n.length) {
                            let a = n[e];
                            r.push((0, l.jsx)(s.default, {
                                channel: t,
                                participant: a
                            }, a.id))
                        } else r.push((0, l.jsx)(s.AudienceEmptyTile, {}, e));
                    return (0, l.jsx)("div", {
                        className: i.participants,
                        children: r
                    })
                })
        },
        552700: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                AudienceEmptyTile: function() {
                    return v
                },
                default: function() {
                    return A
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("627445"),
                u = n.n(r),
                o = n("446674"),
                d = n("669491"),
                c = n("77078"),
                f = n("272030"),
                h = n("244201"),
                p = n("506885"),
                m = n("981601"),
                E = n("26989"),
                C = n("328275"),
                g = n("118503"),
                S = n("711486"),
                _ = n("387111"),
                I = n("808422"),
                T = n("5668");
            let x = a.memo(function(e) {
                    let {
                        guildId: t,
                        channelId: n,
                        user: a,
                        isPremium: s,
                        isBlocked: i
                    } = e;
                    return (0, l.jsxs)("div", {
                        className: T.textContainer,
                        children: [i ? (0, l.jsx)(C.default, {
                            className: T.blockedIcon,
                            color: d.default.unsafe_rawColors.RED_400.css
                        }) : null, (0, l.jsx)(c.Text, {
                            className: T.text,
                            variant: "text-sm/normal",
                            color: "header-primary",
                            children: _.default.getName(t, n, a)
                        }), s ? (0, l.jsx)(g.default, {
                            className: T.boost,
                            color: d.default.unsafe_rawColors.GUILD_BOOSTING_PINK.css
                        }) : null]
                    })
                }),
                N = a.memo(function(e) {
                    var t;
                    let {
                        participant: n,
                        guildId: a,
                        channel: s,
                        isPremium: r
                    } = e, {
                        user: u,
                        blocked: o,
                        rtsState: d
                    } = n, c = d === I.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK, f = d === I.RequestToSpeakStates.REQUESTED_TO_SPEAK || c;
                    return (0, l.jsxs)(l.Fragment, {
                        children: [(0, l.jsxs)("div", {
                            className: T.avatarContainer,
                            children: [f && (0, l.jsx)(S.default, {
                                className: i(T.icon, {
                                    [T.invited]: c
                                })
                            }), (0, l.jsx)("img", {
                                src: null !== (t = u.getAvatarURL(s.guild_id, 56, !1)) && void 0 !== t ? t : void 0,
                                alt: u.username,
                                "aria-label": u.username,
                                className: i(T.avatar, {
                                    [T.faded]: o
                                })
                            })]
                        }), (0, l.jsx)(x, {
                            guildId: a,
                            channelId: s.id,
                            user: u,
                            isPremium: r,
                            isBlocked: o
                        })]
                    })
                }),
                v = () => (0, l.jsx)("div", {
                    className: T.tileBaseContainer
                });
            var A = a.memo(function(e) {
                let {
                    participant: t,
                    channel: s
                } = e, {
                    user: r,
                    blocked: d
                } = t, C = s.getGuildId(), g = (0, h.useAppContext)(), S = (0, o.useStateFromStores)([E.default], () => {
                    var e;
                    return null != C && (null === (e = E.default.getMember(C, r.id)) || void 0 === e ? void 0 : e.premiumSince) != null
                }, [C, r.id]);
                u(null != C, "Channel cannot be guildless");
                let _ = a.useCallback(e => {
                        (0, f.openContextMenuLazy)(e, async () => {
                            let {
                                default: e
                            } = await n.el("834247").then(n.bind(n, "834247"));
                            return t => (0, l.jsx)(e, {
                                ...t,
                                user: r,
                                guildId: C,
                                channel: s,
                                showMediaItems: !0,
                                showStageChannelItems: !0,
                                showChatItems: !1
                            })
                        }, {
                            context: g
                        })
                    }, [r, C, s, g]),
                    I = a.useCallback(e => (0, l.jsx)(m.default, {
                        ...e,
                        guildId: C,
                        channelId: s.id,
                        userId: r.id
                    }), [s.id, C, r.id]);
                return (0, l.jsx)(c.Popout, {
                    preload: () => (0, p.default)(r.id, r.getAvatarURL(s.guild_id, 80), {
                        guildId: s.guild_id,
                        channelId: s.id
                    }),
                    renderPopout: I,
                    position: "right",
                    spacing: 8,
                    children: e => (0, l.jsx)(c.Clickable, {
                        className: i(T.tileContainer, {
                            [T.singleIcon]: S || d,
                            [T.doubleIcon]: S && d
                        }),
                        onContextMenu: _,
                        ...e,
                        children: (0, l.jsx)(N, {
                            participant: t,
                            guildId: C,
                            channel: s,
                            isPremium: S
                        })
                    })
                })
            })
        },
        584199: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("679243"),
                s = n("42887"),
                i = n("944832"),
                r = n("929018");

            function u(e) {
                let {
                    aspectRatio: t,
                    blocked: n,
                    channel: u,
                    className: o,
                    focused: d,
                    children: c,
                    inCall: f,
                    inPopout: h,
                    noBorder: p,
                    onClick: m,
                    onContextMenu: E,
                    onDoubleClick: C,
                    onVideoResize: g,
                    paused: S,
                    pulseSpeakingIndicator: _,
                    participant: I,
                    width: T,
                    ...x
                } = e, N = s.default.getVideoComponent();
                return (0, l.jsx)("div", {
                    style: {
                        width: T
                    },
                    className: r.spaceBetweenTiles,
                    children: (0, l.jsxs)(i.default, {
                        className: r.tileSizer,
                        aspectRatio: t,
                        children: [(0, l.jsx)(a.default, {
                            blocked: n,
                            channel: u,
                            className: o,
                            focused: d,
                            inCall: f,
                            inPopout: h,
                            noBorder: p,
                            onClick: m,
                            onContextMenu: E,
                            onDoubleClick: C,
                            onVideoResize: g,
                            participant: I,
                            paused: S,
                            pulseSpeakingIndicator: _,
                            videoComponent: N,
                            width: T,
                            ...x
                        }), c]
                    })
                })
            }
        },
        119184: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("414456"),
                s = n.n(a),
                i = n("782340"),
                r = n("53061"),
                u = n("284434"),
                o = n("315956");

            function d(e) {
                let {
                    className: t,
                    children: n
                } = e;
                return (0, l.jsxs)("div", {
                    className: s(r.container, t),
                    children: [(0, l.jsx)("img", {
                        alt: i.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,
                        src: o,
                        className: s(r.sparkleIcon, r.sparkleBottom)
                    }), n, (0, l.jsx)("img", {
                        alt: i.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,
                        src: u,
                        className: s(r.sparkleIcon, r.sparkleTop)
                    })]
                })
            }
        },
        116386: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("669491"),
                s = n("77078"),
                i = n("625687"),
                r = n("782340"),
                u = n("32352"),
                o = () => (0, l.jsx)(s.Tooltip, {
                    text: r.default.Messages.STAGE_MODERATOR_TOOLTIP,
                    children: e => (0, l.jsx)("div", {
                        ...e,
                        className: u.container,
                        children: (0, l.jsx)(i.default, {
                            color: a.default.unsafe_rawColors.WHITE_500.css
                        })
                    })
                })
        },
        876534: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("228427"),
                s = n("119184"),
                i = n("984742");

            function r(e) {
                let {
                    className: t
                } = e;
                return (0, l.jsx)(s.default, {
                    className: t,
                    children: (0, l.jsx)("div", {
                        className: i.background,
                        children: (0, l.jsx)(a.default, {
                            className: i.foreground,
                            width: 32,
                            height: 32
                        })
                    })
                })
            }
        },
        506466: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("748820"),
                u = n("77078"),
                o = n("981913"),
                d = n("782340"),
                c = n("281848");

            function f(e) {
                let {
                    width: t = 24,
                    height: n = 24,
                    isBadged: s = !1
                } = e, [i] = a.useState(() => (0, r.v4)());
                return (0, l.jsxs)("svg", {
                    width: t,
                    height: n,
                    viewBox: "0 0 24 24",
                    children: [(0, l.jsx)("defs", {
                        children: (0, l.jsxs)("mask", {
                            id: i,
                            children: [(0, l.jsx)("rect", {
                                fill: "white",
                                width: "100%",
                                height: "100%"
                            }), s && (0, l.jsx)("circle", {
                                cx: "20",
                                cy: "19",
                                r: "10",
                                fill: "black"
                            })]
                        })
                    }), (0, l.jsx)("path", {
                        fill: "currentColor",
                        fillRule: "evenodd",
                        clipRule: "evenodd",
                        d: "M20.53 7.76998C20.455 7.60998 20.31 7.48998 20.135 7.44498C20.075 7.42832 20.0106 7.41165 19.9462 7.39498L19.85 7.36998C19.305 7.22998 18.635 7.56498 18.35 8.11498L17.37 9.99998C17.085 10.55 16.725 10.51 16.57 9.90998L14.395 1.38498C14.24 0.779981 13.64 0.459981 13.05 0.664981C12.46 0.869981 12.095 1.52498 12.225 2.13498L13.495 7.95998C13.63 8.56998 13.575 9.11498 13.375 9.18498C13.175 9.25498 12.85 8.83498 12.65 8.24498L10.55 2.07498C10.35 1.48498 9.71004 1.17498 9.12004 1.37998C8.53004 1.58498 8.21504 2.22998 8.41004 2.81998L10.47 8.99998C10.665 9.58998 10.665 10.125 10.465 10.195C10.265 10.265 9.88504 9.86498 9.62504 9.29998L7.27504 4.29998C7.01004 3.73998 6.32004 3.44498 5.73004 3.64998C5.14504 3.85498 4.87504 4.47498 5.14004 5.03998L8.10004 11.045C8.36004 11.61 8.41004 12.125 8.21004 12.195C8.01004 12.265 7.53004 11.93 7.14004 11.445L5.10504 8.82498C4.71504 8.33998 4.04004 8.07498 3.59504 8.22998C3.15504 8.38498 3.04004 8.94498 3.34504 9.48998L5.84504 13.865C5.90004 14.02 7.35504 16.8 7.46004 16.915C8.50004 18.565 10.145 19.51 12.23 18.79L12.96 18.5372V15.84C12.96 14.2494 14.2494 12.96 15.84 12.96H18.3887C18.763 12.143 19.1735 11.2467 19.5492 10.4262L19.5592 10.4045L19.5647 10.3926L19.5648 10.3922L19.5702 10.3804L19.581 10.3569C19.9595 9.53048 20.3003 8.78624 20.53 8.28498C20.605 8.11498 20.605 7.92998 20.53 7.76998ZM11.81 20.51L12.96 20.0792V23.395H11.815L11.185 22.03C11.055 21.75 11.045 21.425 11.165 21.135C11.285 20.845 11.52 20.62 11.81 20.51ZM14.4 16.32C14.4 15.2596 15.2596 14.4 16.32 14.4H22.08C23.1404 14.4 24 15.2596 24 16.32V22.08C24 23.1404 23.1404 24 22.08 24H16.32C15.2596 24 14.4 23.1404 14.4 22.08V16.32ZM16.32 16.56H22.08V17.52H16.32V16.56ZM22.08 18.72H16.32V19.68H22.08V18.72ZM16.32 20.88H22.08V21.84H16.32V20.88Z",
                        mask: "url(#".concat(i, ")")
                    })]
                })
            }

            function h(e) {
                let {
                    className: t,
                    numRequestToSpeak: n
                } = e, a = n > 0;
                return (0, l.jsxs)("div", {
                    className: i(c.raisedHandIcon, t),
                    children: [(0, l.jsx)(f, {
                        isBadged: a
                    }), a ? (0, l.jsx)(u.Text, {
                        className: c.raisedHandCount,
                        variant: "text-xs/semibold",
                        children: n > 99 ? "99+" : n
                    }) : null]
                })
            }

            function p(e) {
                let {
                    toggleRequestToSpeakSidebar: t,
                    showRequestToSpeakSidebar: n,
                    className: s,
                    numRequestToSpeak: i,
                    onClick: r,
                    ...u
                } = e, c = a.useCallback(() => {
                    null == r || r(), t()
                }, [r, t]);
                return (0, l.jsx)(o.default, {
                    onClick: c,
                    label: n ? d.default.Messages.REQUEST_TO_SPEAK_AREA_CLOSE : d.default.Messages.REQUEST_TO_SPEAK_AREA_OPEN,
                    className: s,
                    iconComponent: () => (0, l.jsx)(h, {
                        numRequestToSpeak: i,
                        className: s
                    }),
                    ...u
                })
            }
        },
        145635: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return F
                }
            });
            var l, a, s = n("37983"),
                i = n("884691"),
                r = n("414456"),
                u = n.n(r),
                o = n("627445"),
                d = n.n(o),
                c = n("446674"),
                f = n("77078"),
                h = n("272030"),
                p = n("308289"),
                m = n("750560"),
                E = n("506885"),
                C = n("981601"),
                g = n("26989"),
                S = n("957255"),
                _ = n("824563"),
                I = n("945330"),
                T = n("277174"),
                x = n("711486"),
                N = n("664336"),
                v = n("244480"),
                A = n("567469"),
                M = n("844208"),
                R = n("808422"),
                L = n("413882"),
                j = n("876534"),
                O = n("843455"),
                y = n("782340"),
                P = n("455518");
            let D = i.memo(function(e) {
                    let {
                        toggleRequestToSpeakSidebar: t,
                        chatOpen: n
                    } = e, l = (0, s.jsx)(N.default.Icon, {
                        icon: I.default,
                        tooltip: y.default.Messages.CLOSE,
                        onClick: t
                    });
                    return (0, s.jsxs)(N.default, {
                        toolbar: l,
                        className: u(P.headerContainer, {
                            [P.chatOpen]: n
                        }),
                        children: [(0, s.jsx)(N.default.Icon, {
                            icon: x.default,
                            disabled: !0,
                            "aria-label": y.default.Messages.REQUEST_TO_SPEAK_AREA_TITLE
                        }), (0, s.jsx)(N.default.Title, {
                            children: y.default.Messages.REQUEST_TO_SPEAK_AREA_TITLE
                        })]
                    })
                }),
                b = i.memo(function(e) {
                    var t;
                    let {
                        channel: l,
                        participant: a,
                        tempDisableOnInit: r = !1
                    } = e, [o, S] = i.useState(r);
                    i.useEffect(() => {
                        if (!o) return;
                        let e = setTimeout(() => S(!1), 1e3);
                        return () => clearTimeout(e)
                    }, []);
                    let x = l.getGuildId();
                    d(null != x, "Channel cannot be guildless");
                    let {
                        isMobile: N,
                        status: A
                    } = (0, c.useStateFromStoresObject)([_.default], () => ({
                        isMobile: _.default.isMobileOnline(a.user.id),
                        status: _.default.getStatus(a.user.id, x)
                    })), L = (0, c.useStateFromStores)([g.default], () => g.default.getMember(x, a.user.id)), j = i.useMemo(() => ({
                        [x]: [a.user.id]
                    }), [x, a.user.id]);
                    (0, m.useSubscribeGuildMembers)(j);
                    let O = a.rtsState === R.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;

                    function D() {
                        (0, v.setUserSuppress)(l, a.user.id, !1)
                    }

                    function b() {
                        (0, v.setUserSuppress)(l, a.user.id, !0)
                    }
                    let U = e => {
                        (0, h.openContextMenuLazy)(e, async () => {
                            let {
                                default: e
                            } = await n.el("834247").then(n.bind(n, "834247"));
                            return t => (0, s.jsx)(e, {
                                ...t,
                                user: a.user,
                                guildId: x,
                                channel: l,
                                showMediaItems: !0
                            })
                        })
                    };
                    return (0, s.jsxs)("div", {
                        className: P.participantRowContainer,
                        children: [(0, s.jsx)(f.Popout, {
                            preload: () => (0, E.default)(a.user.id, a.user.getAvatarURL(l.guild_id, 80), {
                                guildId: l.guild_id,
                                channelId: l.id
                            }),
                            renderPopout: e => (0, s.jsx)(C.default, {
                                ...e,
                                userId: a.user.id,
                                guildId: x,
                                channelId: l.id
                            }),
                            position: "left",
                            spacing: 16,
                            children: e => (0, s.jsxs)(f.Clickable, {
                                className: P.participantMemberContainer,
                                onContextMenu: U,
                                ...e,
                                children: [(0, s.jsx)(p.default, {
                                    size: f.AvatarSizes.SIZE_40,
                                    className: P.participantAvatar,
                                    user: a.user,
                                    isMobile: N,
                                    status: A
                                }), (0, s.jsxs)("div", {
                                    className: P.participantTextContainer,
                                    children: [(0, s.jsx)(f.NameWithRole, {
                                        name: a.userNick,
                                        color: null !== (t = null == L ? void 0 : L.colorString) && void 0 !== t ? t : void 0,
                                        className: P.participantName
                                    }), (0, s.jsx)(f.Text, {
                                        variant: "text-xs/normal",
                                        color: "header-secondary",
                                        children: (0, M.participantMemberInfo)(a)
                                    })]
                                })]
                            })
                        }), (0, s.jsx)(f.Tooltip, {
                            text: O ? y.default.Messages.REQUEST_TO_SPEAK_INVITATION_SEND : y.default.Messages.REQUEST_TO_SPEAK_ACCEPT,
                            children: e => (0, s.jsx)(f.Button, {
                                ...e,
                                innerClassName: P.buttonContainer,
                                look: f.Button.Looks.BLANK,
                                size: f.Button.Sizes.NONE,
                                onClick: D,
                                disabled: O || o,
                                children: (0, s.jsx)(T.default, {
                                    width: 16,
                                    height: 16
                                })
                            })
                        }), (0, s.jsx)(f.Tooltip, {
                            text: y.default.Messages.REQUEST_TO_SPEAK_DECLINE,
                            children: e => (0, s.jsx)(f.Button, {
                                ...e,
                                innerClassName: u(P.buttonContainer, P.buttonMargin),
                                look: f.Button.Looks.BLANK,
                                size: f.Button.Sizes.NONE,
                                onClick: b,
                                children: (0, s.jsx)(I.default, {
                                    width: 16,
                                    height: 16
                                })
                            })
                        })]
                    })
                }),
                U = i.memo(function(e) {
                    let {
                        channel: t
                    } = e, [n, l] = (0, L.useRequestToSpeakPermission)(t.id);
                    return (0, s.jsx)(f.FormSwitch, {
                        className: P.toggle,
                        onChange: l,
                        value: n,
                        children: y.default.Messages.MODERATOR_ALLOW_EVERYONE_RAISE_HAND
                    })
                }),
                w = i.memo(function() {
                    return (0, s.jsxs)("div", {
                        className: P.emptyStateContainer,
                        children: [(0, s.jsx)(j.default, {}), (0, s.jsx)(f.Text, {
                            className: P.emptyStateTitle,
                            variant: "text-lg/semibold",
                            color: "header-primary",
                            children: y.default.Messages.REQUEST_TO_SPEAK_EMPTY_LIST_TITLE
                        }), (0, s.jsx)(f.Text, {
                            className: P.emptyStateBody,
                            variant: "text-sm/normal",
                            color: "header-secondary",
                            children: y.default.Messages.REQUEST_TO_SPEAK_EMPTY_LIST_BODY
                        })]
                    })
                });

            function F(e) {
                let {
                    channel: t,
                    toggleRequestToSpeakSidebar: n,
                    chatOpen: l
                } = e, i = (0, A.useSortedRequestToSpeakParticipants)(t.id), r = (0, c.useStateFromStores)([S.default], () => S.default.can(O.Permissions.MANAGE_CHANNELS, t) || S.default.can(O.Permissions.MANAGE_ROLES, t)), o = [r ? 1 : 0, Math.max(1, i.length)];
                return (0, s.jsxs)("div", {
                    className: u(P.container, {
                        [P.chatOpen]: l
                    }),
                    children: [(0, s.jsx)(D, {
                        toggleRequestToSpeakSidebar: n,
                        chatOpen: l
                    }), (0, s.jsx)(f.List, {
                        className: P.contentContainer,
                        sections: o,
                        sectionHeight: function(e) {
                            if (e === a.PARTICIPANTS) return 40;
                            return 0
                        },
                        rowHeight: function(e) {
                            switch (e) {
                                case a.TOGGLE_REQUEST_TO_SPEAK:
                                    return 66;
                                case a.PARTICIPANTS:
                                    if (0 === i.length) return 178;
                                    return 48
                            }
                            return 0
                        },
                        renderRow: function(e) {
                            let {
                                section: n,
                                row: l
                            } = e;
                            switch (n) {
                                case a.TOGGLE_REQUEST_TO_SPEAK:
                                    return (0, s.jsx)(U, {
                                        channel: t
                                    }, "rts-toggle");
                                case a.PARTICIPANTS: {
                                    if (0 === i.length) return (0, s.jsx)(w, {}, "participants-empty");
                                    let e = i[l];
                                    return (0, s.jsx)(b, {
                                        channel: t,
                                        participant: e,
                                        tempDisableOnInit: !0
                                    }, e.id)
                                }
                            }
                            return null
                        },
                        renderSection: function(e) {
                            let {
                                section: t
                            } = e;
                            if (t === a.PARTICIPANTS) return (0, s.jsx)(f.Text, {
                                className: P.listTitle,
                                variant: "text-xs/bold",
                                color: "header-secondary",
                                children: i.length > 0 ? y.default.Messages.REQUEST_TO_SPEAK_LIST_TITLE.format({
                                    numHands: i.length
                                }) : y.default.Messages.REQUEST_TO_SPEAK_AREA_TITLE
                            }, "participants-section");
                            return null
                        }
                    })]
                })
            }(l = a || (a = {}))[l.TOGGLE_REQUEST_TO_SPEAK = 0] = "TOGGLE_REQUEST_TO_SPEAK", l[l.PARTICIPANTS = 1] = "PARTICIPANTS"
        },
        58343: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return es
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("917351"),
                u = n("446674"),
                o = n("95410"),
                d = n("77078"),
                c = n("913144"),
                f = n("731898"),
                h = n("244201"),
                p = n("191145"),
                m = n("161306"),
                E = n("412090"),
                C = n("452027"),
                g = n("383294"),
                S = n("292687"),
                _ = n("393414"),
                I = n("486030"),
                T = n("115531"),
                x = n("620592"),
                N = n("336971"),
                v = n("555038"),
                A = n("634472"),
                M = n("271938"),
                R = n("712234"),
                L = n("305961"),
                j = n("957255"),
                O = n("18494"),
                y = n("773336"),
                P = n("439932"),
                D = n("50885"),
                b = n("716214"),
                U = n("567469"),
                w = n("998716"),
                F = n("834052"),
                G = n("534471"),
                B = n("145635"),
                k = n("277354"),
                H = n("100082"),
                V = n("598050"),
                W = n("977026"),
                Y = n("679703"),
                z = n("92447"),
                K = n("96151"),
                Z = n("49111"),
                X = n("99795"),
                q = n("782340"),
                Q = n("580105");
            let J = "HasBeenInStageChannel",
                $ = (e, t) => () => {
                    let n = e.getGuildId();
                    null != n && null != t && (0, _.transitionToGuild)(n, t), g.openChannelCallPopout(e)
                },
                ee = () => {
                    c.default.wait(() => g.close(Z.PopoutWindowKeys.CHANNEL_CALL_POPOUT))
                },
                et = e => {
                    g.setAlwaysOnTop(Z.PopoutWindowKeys.CHANNEL_CALL_POPOUT, e)
                };

            function en(e) {
                let {
                    channel: t,
                    appContext: n,
                    popoutOpen: s,
                    popoutWindow: i,
                    popoutWindowAlwaysOnTop: r,
                    selectedParticipant: o
                } = e, d = t.getGuildId(), c = (0, u.useStateFromStores)([O.default], () => O.default.getMostRecentSelectedTextChannelId(d), [d]), f = M.default.getId(), h = (0, u.useStateFromStores)([p.default], () => p.default.isFullscreenInContext(n)), E = !h && (!y.isPlatformEmbedded || y.isPlatformEmbedded && D.default.supportsFeature(Z.NativeFeatures.POPOUT_WINDOWS)), C = null != o && o.type !== X.ParticipantTypes.ACTIVITY && o.user.id !== f, g = a.useMemo(() => {
                    var e;
                    return null !== (e = null == i ? void 0 : i.window) && void 0 !== e ? e : window
                }, [i]), S = (0, z.default)({
                    channel: t,
                    appContext: n,
                    popoutOpen: s,
                    popoutWindow: i,
                    currentWindow: g
                }), _ = n === Z.AppContext.POPOUT && y.isPlatformEmbedded && D.default.supportsFeature(Z.NativeFeatures.POPOUT_WINDOWS);
                return (0, l.jsxs)(l.Fragment, {
                    children: [C ? (0, l.jsx)(A.default, {
                        context: (0, m.default)(o.type),
                        userId: o.user.id,
                        currentWindow: g,
                        sliderClassName: Q.volumeSlider
                    }) : null, _ ? (0, l.jsx)(v.default, {
                        className: Q.rightTrayIcon,
                        popoutWindowAlwaysOnTop: r,
                        onToggleStayOnTop: et
                    }) : null, E ? (0, l.jsx)(N.default, {
                        className: Q.rightTrayIcon,
                        popoutOpen: s,
                        onOpenPopout: $(t, c),
                        onClosePopout: ee
                    }) : null, S]
                })
            }

            function el(e) {
                let {
                    channel: t
                } = e, n = (0, h.useAppContext)(), a = (0, u.useStateFromStores)([j.default], () => j.default.can(Z.Permissions.CREATE_INSTANT_INVITE, t)), s = (0, u.useStateFromStores)([L.default], () => L.default.getGuild(t.guild_id)), i = (0, u.useStateFromStores)([F.default], () => F.default.getStageInstanceByChannel(t.id)), r = a || (null == i ? void 0 : i.invite_code) != null;
                return null != s && r ? (0, l.jsx)(I.default, {
                    channel: t,
                    appContext: n,
                    className: Q.leftTrayIcon,
                    analyticsLocation: Z.AnalyticsPages.GUILD_CHANNEL
                }) : null
            }

            function ea(e) {
                let t, {
                        channel: n,
                        toggleRequestToSpeakSidebar: s,
                        showRequestToSpeakSidebar: o,
                        popoutWindow: d,
                        popoutWindowAlwaysOnTop: c,
                        popoutOpen: f,
                        chatOpen: m
                    } = e,
                    C = (0, h.useAppContext)(),
                    g = (0, u.useStateFromStores)([O.default], () => O.default.getVoiceChannelId() === n.id, [n.id]),
                    S = (0, u.useStateFromStores)([j.default], () => j.default.can(Z.Permissions.CONNECT, n)),
                    _ = (0, U.useStageParticipants)(n.id, w.StageChannelParticipantNamedIndex.SPEAKER),
                    I = (0, u.useStateFromStores)([p.default], () => p.default.getSelectedParticipant(n.id)),
                    N = f && C !== Z.AppContext.POPOUT,
                    [v, A] = a.useState(0),
                    {
                        isOnStartStageScreen: M
                    } = (0, G.default)();
                (0, G.useUpdateIsOnStartStageScreenEffect)(n);
                let L = (0, u.useStateFromStores)([R.default], () => R.default.getToastsEnabled(n.id)),
                    y = (0, K.default)(n),
                    P = y ? null != I ? "84px" : "124px" : null != I ? "0px" : "48px";
                return t = M ? (0, l.jsx)(Y.default, {
                    channel: n,
                    onContinueClick: () => {
                        (0, G.setIsOnStartStageScreen)(!1), !g && (0, b.connectToStage)(n)
                    }
                }) : g ? (0, l.jsx)(V.default, {
                    channel: n,
                    onScroll: e => {
                        let {
                            scrollTop: t
                        } = e.target;
                        (0, r.debounce)(() => A(t), 1e3, {
                            leading: !0
                        })()
                    }
                }) : (0, l.jsx)(k.default, {
                    participants: _,
                    channel: n,
                    hasConnectPermission: S
                }), (0, l.jsx)(x.default, {
                    style: {
                        height: "calc(100% - ".concat(P, ")"),
                        paddingTop: P
                    },
                    disableGradients: 0 === v && x.DisableGradient.TOP,
                    renderBottomLeft: () => (0, l.jsx)(el, {
                        channel: n
                    }),
                    renderBottomCenter: () => g ? (0, l.jsx)(W.default, {
                        channel: n,
                        isOnStartStageScreen: M
                    }) : null,
                    renderBottomRight: () => g ? (0, l.jsx)(en, {
                        channel: n,
                        appContext: C,
                        popoutOpen: f,
                        popoutWindow: d,
                        popoutWindowAlwaysOnTop: c,
                        selectedParticipant: I
                    }) : null,
                    renderHeader: () => (0, l.jsx)(H.default, {
                        toggleRequestToSpeakSidebar: s,
                        showRequestToSpeakSidebar: o,
                        channel: n
                    }),
                    renderChatToasts: () => !L || m || N ? null : (0, l.jsx)(E.default, {
                        children: (0, l.jsx)(T.default, {
                            className: i(Q.chatToasts, {
                                [Q.rtsSidebarOpen]: o
                            }),
                            channelId: n.id
                        })
                    }),
                    onActive: () => {},
                    onPreventIdle: () => {},
                    onAllowIdle: () => {},
                    onForceIdle: () => {},
                    screenMessage: N ? {
                        mainText: q.default.Messages.POPOUT_PLAYER_OPENED
                    } : null,
                    idle: !1,
                    children: !N && t
                })
            }

            function es(e) {
                let {
                    channel: t
                } = e, [s, r] = a.useState(!1), c = a.useCallback(() => {
                    r(!s)
                }, [s, r]), {
                    popoutWindow: m,
                    popoutWindowAlwaysOnTop: g
                } = (0, u.useStateFromStoresObject)([S.default], () => ({
                    popoutWindow: S.default.getWindow(Z.PopoutWindowKeys.CHANNEL_CALL_POPOUT),
                    popoutWindowAlwaysOnTop: S.default.getIsAlwaysOnTop(Z.PopoutWindowKeys.CHANNEL_CALL_POPOUT)
                })), _ = null != m && !m.closed, I = (0, h.useAppContext)(), T = (0, u.useStateFromStores)([p.default], () => p.default.getChatOpen(t.id), [t.id]), x = (0, u.useStateFromStores)([L.default], () => L.default.getGuild(t.guild_id), [t.guild_id]);
                a.useEffect(() => {
                    null == o.default.get(J) && ((0, d.openModalLazy)(async () => {
                        let {
                            default: e
                        } = await n.el("108838").then(n.bind(n, "108838"));
                        return t => (0, l.jsx)(e, {
                            ...t
                        })
                    }), o.default.set(J, Date.now()))
                }, []);
                let {
                    width: N = 0,
                    ref: v
                } = (0, f.default)();
                return (0, l.jsxs)(E.ChannelCallChatLayerProvider, {
                    children: [(0, l.jsxs)("div", {
                        className: Q.container,
                        ref: v,
                        children: [(0, l.jsx)("div", {
                            className: i(Q.callContainer, (0, P.getThemeClass)(Z.ThemeTypes.DARK), {
                                [Q.sidebarVisible]: s,
                                [Q.sidebarOrChatVisible]: s || T
                            }),
                            children: (0, l.jsx)(ea, {
                                channel: t,
                                toggleRequestToSpeakSidebar: c,
                                showRequestToSpeakSidebar: s,
                                popoutWindow: m,
                                popoutWindowAlwaysOnTop: g,
                                popoutOpen: _,
                                chatOpen: T
                            })
                        }), s ? (0, l.jsx)(B.default, {
                            channel: t,
                            toggleRequestToSpeakSidebar: c,
                            chatOpen: T
                        }) : null, (0, l.jsx)("div", {
                            className: Q.channelChatWrapper,
                            children: T && (!_ || _ && I === Z.AppContext.POPOUT) && (0, l.jsx)(C.default, {
                                channel: t,
                                guild: x,
                                maxWidth: N - 550
                            })
                        })]
                    }), (0, l.jsx)(E.ChannelCallChatLayerContainer, {})]
                })
            }
        },
        277354: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return g
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("446674"),
                i = n("77078"),
                r = n("987317"),
                u = n("191145"),
                o = n("233322"),
                d = n("157186"),
                c = n("679243"),
                f = n("449008"),
                h = n("387111"),
                p = n("998716"),
                m = n("782340"),
                E = n("704414");
            let C = (e, t) => h.default.getName(e.getGuildId(), e.id, t.user);
            var g = function(e) {
                var t, n;
                let {
                    participants: h,
                    channel: g,
                    hasConnectPermission: S
                } = e, _ = (0, d.useShowMemberVerificationGate)(g.guild_id), I = a.useCallback(() => {
                    _ ? (0, o.openMemberVerificationModal)(g.guild_id, () => r.default.selectVoiceChannel(g.id)) : r.default.selectVoiceChannel(g.id)
                }, [g.id, g.guild_id, _]), T = h.filter(e => e.type === p.StageChannelParticipantTypes.VOICE), x = 4 === T.length ? 2 : 3, N = (0, s.useStateFromStoresArray)([u.default], () => T.map(e => u.default.getParticipant(g.id, e.id)).filter(f.isNotNullish), [g.id, T]);
                return (0, l.jsxs)("div", {
                    className: E.container,
                    children: [(0, l.jsx)("div", {
                        className: E.tiles,
                        style: {
                            maxWidth: 168 * x
                        },
                        children: N.slice(0, 5).map(e => (0, l.jsx)(c.default, {
                            participant: e,
                            channel: g,
                            className: E.tile,
                            paused: !0,
                            inCall: !0,
                            noVideoRender: !0,
                            inPopout: !1,
                            width: 48
                        }, e.id))
                    }), (0, l.jsx)(i.Heading, {
                        className: E.channelName,
                        variant: "heading-xxl/semibold",
                        children: g.name
                    }), (0, l.jsx)("div", {
                        className: E.participantsRow,
                        children: (0, l.jsx)(i.Text, {
                            color: "header-secondary",
                            variant: "text-sm/normal",
                            children: (t = g, 0 === (n = T).length ? m.default.Messages.CURRENTLY_IN_STAGE_EMPTY : 1 === n.length ? m.default.Messages.CURRENTLY_IN_STAGE_1.format({
                                a: C(t, n[0])
                            }) : 2 === n.length ? m.default.Messages.CURRENTLY_IN_STAGE_2.format({
                                a: C(t, n[0]),
                                b: C(t, n[1])
                            }) : n.length > 2 ? m.default.Messages.CURRENTLY_IN_STAGE_2_N.format({
                                a: C(t, n[0]),
                                b: C(t, n[1]),
                                n: n.length - 2
                            }) : void 0)
                        })
                    }), (0, l.jsx)(i.Button, {
                        disabled: !S,
                        className: E.joinButton,
                        color: S ? i.Button.Colors.GREEN : i.Button.Colors.PRIMARY,
                        onClick: I,
                        size: i.Button.Sizes.MEDIUM,
                        children: S ? m.default.Messages.STAGE_CHANNEL_JOIN : m.default.Messages.CHANNEL_LOCKED_SHORT
                    })]
                })
            }
        },
        100082: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return K
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("446674"),
                u = n("669491"),
                o = n("77078"),
                d = n("255397"),
                c = n("789394"),
                f = n("244201"),
                h = n("191145"),
                p = n("777274"),
                m = n("679653"),
                E = n("992207"),
                C = n("95039"),
                g = n("539938"),
                S = n("557809"),
                _ = n("311197"),
                I = n("550410"),
                T = n("124824"),
                x = n("640553"),
                N = n("104815"),
                v = n("305961"),
                A = n("957255"),
                M = n("181114"),
                R = n("849467"),
                L = n("155207"),
                j = n("228427"),
                O = n("664336"),
                y = n("599110"),
                P = n("439932"),
                D = n("567469"),
                b = n("998716"),
                U = n("619395"),
                w = n("923510"),
                F = n("834052"),
                G = n("506466"),
                B = n("199811"),
                k = n("96151"),
                H = n("49111"),
                V = n("646718"),
                W = n("782340"),
                Y = n("76066");

            function z(e) {
                let {
                    channel: t,
                    toggleRequestToSpeakSidebar: n,
                    showRequestToSpeakSidebar: s
                } = e, u = (0, f.useAppContext)(), c = (0, r.useStateFromStores)([h.default], () => h.default.getChatOpen(t.id)), m = (0, U.useCanModerateRequestToSpeak)(t.id), C = (0, D.useStageParticipantsCount)(t.id, b.StageChannelParticipantNamedIndex.REQUESTED_TO_SPEAK_ONLY), {
                    preventIdle: g,
                    allowIdle: S
                } = (0, I.usePreventIdle)("popup");
                return (0, l.jsxs)(l.Fragment, {
                    children: [(0, l.jsx)(E.default, {
                        channelId: t.id
                    }), (0, l.jsx)(o.Popout, {
                        position: "bottom",
                        animation: o.Popout.Animation.NONE,
                        align: "right",
                        renderPopout: e => (0, l.jsx)(T.default, {
                            children: (0, l.jsx)(B.default, {
                                ...e,
                                channelId: t.id,
                                appContext: u
                            })
                        }),
                        autoInvert: !1,
                        children: (e, t) => {
                            let {
                                isShown: n
                            } = t;
                            return (0, a.createElement)(N.default, {
                                ...e,
                                key: "more-options",
                                isActive: n,
                                className: Y.button,
                                iconClassName: Y.buttonIcon
                            })
                        }
                    }, "more-options-popout"), (0, l.jsx)(_.default, {
                        onOpen: g,
                        onClose: S,
                        className: Y.button
                    }, "recents"), !s && m ? (0, l.jsx)("div", {
                        className: Y.button,
                        children: (0, l.jsx)(G.default, {
                            toggleRequestToSpeakSidebar: () => {
                                c && d.default.updateChatOpen(t.id, !1), n()
                            },
                            showRequestToSpeakSidebar: s,
                            numRequestToSpeak: C
                        })
                    }) : null, (0, l.jsx)(p.CallscopeChannelCallIssueMarker, {
                        className: Y.button
                    }), !c && (0, l.jsx)("div", {
                        className: i(Y.button, {
                            [Y.sidebarOpen]: s
                        }),
                        children: (0, l.jsx)(x.ChatButton, {
                            channelId: t.id,
                            showRequestToSpeakSidebar: s,
                            toggleRequestToSpeakSidebar: n,
                            iconClassName: Y.buttonIcon
                        })
                    })]
                })
            }

            function K(e) {
                var t, n;
                let {
                    channel: s,
                    toggleRequestToSpeakSidebar: f,
                    showRequestToSpeakSidebar: h
                } = e, p = (0, m.default)(s), E = (0, r.useStateFromStores)([F.default], () => F.default.getStageInstanceByChannel(s.id)), _ = (0, D.useActualStageSpeakerCount)(s.id), I = (0, D.useStageParticipantsCount)(s.id, b.StageChannelParticipantNamedIndex.AUDIENCE), T = (0, r.useStateFromStores)([v.default], () => v.default.getGuild(s.guild_id), [s.guild_id]), x = null !== (t = null == T ? void 0 : T.maxStageVideoChannelUsers) && void 0 !== t ? t : 0, N = (null == T ? void 0 : T.isCommunity()) ? x < H.MAX_STAGE_VIDEO_USER_LIMIT_UNCAPPED : (null == T ? void 0 : T.premiumTier) !== H.BoostedGuildTiers.TIER_3 && x <= H.MAX_STAGE_VIDEO_USER_LIMIT_TIER2, U = (0, k.default)(s), G = (0, r.useStateFromStores)([A.default], () => A.default.can(w.MODERATE_STAGE_CHANNEL_PERMISSIONS, s)), B = () => {
                    d.default.updateStageVideoLimitBoostUpsellDismissed(s.id, !0), y.default.track(H.AnalyticEvents.BOOSTING_UPSELL_CLICKED, {
                        guild_id: s.guild_id,
                        type: V.PremiumUpsellTypes.VIDEO_STAGE_LIMIT,
                        is_moderator: G,
                        action: V.BoostingUpsellAction.DISMISS
                    })
                };
                a.useEffect(() => {
                    U && y.default.track(H.AnalyticEvents.BOOSTING_UPSELL_VIEWED, {
                        guild_id: s.guild_id,
                        type: V.PremiumUpsellTypes.VIDEO_STAGE_LIMIT,
                        is_moderator: G,
                        listener_count: _ + I
                    })
                }, [U]);
                let {
                    enabled: K,
                    left: X
                } = c.ChannelEmojisExperiment.useExperiment({
                    location: "f2c6da_2"
                }, {
                    autoTrackExposure: !1
                }), q = K && (0, l.jsx)(S.ChannelEmoji, {
                    channel: s
                }), Q = (0, l.jsxs)(O.default, {
                    toolbar: (0, l.jsx)(z, {
                        toggleRequestToSpeakSidebar: f,
                        showRequestToSpeakSidebar: h,
                        channel: s
                    }),
                    onDoubleClick: g.handleDoubleClick,
                    transparent: !0,
                    className: i((0, P.getThemeClass)(H.ThemeTypes.DARK), Y.participants),
                    children: [X && q, (0, l.jsx)(O.default.Icon, {
                        icon: j.default,
                        disabled: !0,
                        "aria-label": W.default.Messages.STAGE_CHANNEL,
                        className: Y.icon,
                        color: null != E ? u.default.unsafe_rawColors.GREEN_360.css : void 0
                    }), !X && q, (0, l.jsx)(O.default.Title, {
                        className: Y.channelName,
                        wrapperClassName: Y.channelNameWrapper,
                        children: null !== (n = null == E ? void 0 : E.topic) && void 0 !== n ? n : p
                    }), (0, l.jsx)(O.default.Divider, {
                        className: Y.divider
                    }), (0, l.jsxs)(O.default.Title, {
                        children: [(0, l.jsx)(R.default, {
                            width: 16,
                            height: 16
                        }), (0, l.jsx)(o.Text, {
                            variant: "text-xs/medium",
                            color: "header-secondary",
                            className: Y.speakerCount,
                            children: W.default.Messages.SPEAKING_COUNT.format({
                                count: _
                            })
                        }), (0, l.jsx)(L.default, {
                            width: 16,
                            height: 16
                        }), (0, l.jsx)(o.Text, {
                            variant: "text-xs/medium",
                            color: "header-secondary",
                            className: Y.speakerCount,
                            children: W.default.Messages.LISTENING_COUNT.format({
                                count: I
                            })
                        })]
                    })]
                });
                return U ? (0, l.jsxs)("div", {
                    children: [Q, (0, l.jsxs)("div", {
                        className: Y.boostUpsell,
                        children: [(0, l.jsx)(Z, {}), (0, l.jsxs)("div", {
                            className: Y.text,
                            children: [(0, l.jsx)(o.Text, {
                                variant: "text-md/medium",
                                color: "header-primary",
                                children: N ? W.default.Messages.STAGE_FULL_MODERATOR_TITLE : W.default.Messages.STAGE_FULL_MODERATOR_MAX_TITLE
                            }), (0, l.jsx)(o.Text, {
                                variant: "text-xs/medium",
                                color: "text-normal",
                                children: N ? W.default.Messages.STAGE_FULL_MODERATOR_BODY : W.default.Messages.STAGE_FULL_MAX_BODY
                            })]
                        }), (0, l.jsx)("div", {
                            className: Y.buttons,
                            children: N ? (0, l.jsxs)(l.Fragment, {
                                children: [(0, l.jsx)(o.Button, {
                                    className: Y.notNowButton,
                                    onClick: B,
                                    look: o.Button.Looks.BLANK,
                                    size: o.Button.Sizes.SMALL,
                                    children: W.default.Messages.NOT_NOW
                                }), (0, l.jsx)(M.default, {
                                    size: o.Button.Sizes.SMALL,
                                    onClick: () => {
                                        (0, C.openGuildBoostingMarketingModal)({
                                            guildId: s.guild_id,
                                            location: {
                                                section: H.AnalyticsSections.STAGE_VIDEO_LIMIT
                                            }
                                        }), y.default.track(H.AnalyticEvents.BOOSTING_UPSELL_CLICKED, {
                                            guild_id: s.guild_id,
                                            type: V.PremiumUpsellTypes.VIDEO_STAGE_LIMIT,
                                            is_moderator: G,
                                            action: V.BoostingUpsellAction.BOOST
                                        })
                                    },
                                    className: Y.boostButton,
                                    children: W.default.Messages.PREMIUM_GUILD_SUBSCRIPTION
                                })]
                            }) : (0, l.jsx)(o.Button, {
                                className: Y.notNowButton,
                                onClick: B,
                                look: o.Button.Looks.BLANK,
                                size: o.Button.Sizes.SMALL,
                                children: W.default.Messages.DISMISS
                            })
                        })]
                    })]
                }) : Q
            }

            function Z() {
                return (0, l.jsxs)("svg", {
                    width: "36",
                    height: "36",
                    viewBox: "0 0 36 36",
                    fill: "none",
                    children: [(0, l.jsxs)("g", {
                        clipPath: "url(#clip0_595_59940)",
                        children: [(0, l.jsx)("path", {
                            d: "M36 18C36 19.8 33.075 21.15 32.625 22.725C32.175 24.3 33.525 27.225 32.625 28.575C31.725 29.925 28.35 29.25 27 30.375C25.65 31.5 25.2 34.425 23.625 35.1C22.05 35.775 19.8 33.3 18 33.3C16.2 33.3 13.95 35.55 12.375 35.1C10.8 34.65 10.35 31.275 9 30.375C7.65 29.475 4.5 29.925 3.375 28.575C2.25 27.225 3.825 24.525 3.375 22.725C2.925 20.925 0 19.8 0 18C0 16.2 2.925 14.85 3.375 13.275C3.825 11.7 2.475 8.77497 3.375 7.42496C4.275 6.07497 7.65 6.74997 9 5.62497C10.35 4.49997 10.8 1.57497 12.375 0.899965C13.95 0.224965 16.2 2.69997 18 2.69997C19.8 2.69997 22.05 0.449965 23.625 0.899965C25.2 1.34997 25.65 4.49997 27 5.62497C28.35 6.74997 31.5 6.07497 32.625 7.42496C33.75 8.77497 32.175 11.475 32.625 13.275C33.075 15.075 36 16.2 36 18Z",
                            fill: "url(#paint0_linear_595_59940)"
                        }), (0, l.jsx)("path", {
                            d: "M15.75 20.7001L18 22.9501L20.25 20.7001V15.3001L18 13.0501L15.75 15.3001V20.7001Z",
                            fill: "white"
                        }), (0, l.jsx)("path", {
                            d: "M18 6.75L11.25 13.5V22.5L18 29.25L24.75 22.5V13.5L18 6.75ZM22.5 21.6L18 26.1L13.5 21.6V14.4L18 9.9L22.5 14.4V21.6Z",
                            fill: "white"
                        })]
                    }), (0, l.jsxs)("defs", {
                        children: [(0, l.jsxs)("linearGradient", {
                            id: "paint0_linear_595_59940",
                            x1: "2.4046e-06",
                            y1: "35.2166",
                            x2: "35.7182",
                            y2: "-1.45185",
                            gradientUnits: "userSpaceOnUse",
                            children: [(0, l.jsx)("stop", {
                                stopColor: "#3E70DD"
                            }), (0, l.jsx)("stop", {
                                offset: "1",
                                stopColor: "#B377F3"
                            })]
                        }), (0, l.jsx)("clipPath", {
                            id: "clip0_595_59940",
                            children: (0, l.jsx)("rect", {
                                width: "36",
                                height: "36",
                                fill: "white"
                            })
                        })]
                    })]
                })
            }
        },
        199811: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return T
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("627445"),
                s = n.n(a),
                i = n("446674"),
                r = n("77078"),
                u = n("244201"),
                o = n("191145"),
                d = n("769928"),
                c = n("321135"),
                f = n("976074"),
                h = n("639537"),
                p = n("619436"),
                m = n("42203"),
                E = n("957255"),
                C = n("751661"),
                g = n("923510"),
                S = n("834052"),
                _ = n("99795"),
                I = n("782340");

            function T(e) {
                let {
                    channelId: t,
                    closePopout: n,
                    appContext: a,
                    onSelect: T
                } = e, x = (0, i.useStateFromStores)([o.default], () => o.default.getSelectedParticipant(t)), N = (null == x ? void 0 : x.type) === _.ParticipantTypes.STREAM ? x.stream : null, v = (0, h.default)(t);
                return (0, l.jsxs)(r.Menu, {
                    navId: "stage-channel-call-overflow-popout",
                    onClose: n,
                    "aria-label": I.default.Messages.CHANNEL_CALL_OVERFLOW_MENU_LABEL,
                    onSelect: T,
                    children: [function(e) {
                        let t = (0, i.useStateFromStores)([m.default], () => m.default.getChannel(e), [e]),
                            n = (0, i.useStateFromStores)([E.default], () => E.default.can(g.MODERATE_STAGE_CHANNEL_PERMISSIONS, t)),
                            a = (0, i.useStateFromStores)([S.default], () => S.default.getStageInstanceByChannel(e), [e]),
                            s = (0, u.useAppContext)(),
                            o = () => null != t && (0, C.openStageChannelSettings)(t, s);
                        return (null == t ? void 0 : t.isGuildStageVoice()) && n ? null != a ? (0, l.jsx)(r.MenuItem, {
                            id: "edit-stage",
                            label: I.default.Messages.EDIT_STAGE_SUBTITLE,
                            action: o
                        }) : (0, l.jsx)(r.MenuItem, {
                            id: "start-stage",
                            label: I.default.Messages.STAGE_CHANNEL_START_TITLE,
                            action: o
                        }) : null
                    }(t), function(e) {
                        let t = (0, i.useStateFromStores)([m.default], () => m.default.getChannel(e), [e]);
                        return s(null != t, "useNotificationSettingsItem: channel cannot be undefined"), (0, p.default)(t)
                    }(t), (0, c.default)(), (0, d.default)(t), v, (0, f.default)(N, a)]
                })
            }
        },
        598050: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return v
                }
            });
            var l, a, s = n("37983"),
                i = n("884691"),
                r = n("446674"),
                u = n("737960"),
                o = n("191145"),
                d = n("488464"),
                c = n("567469"),
                f = n("998716"),
                h = n("223378"),
                p = n("973137"),
                m = n("661917"),
                E = n("85427"),
                C = n("620103"),
                g = n("297446"),
                S = n("782340"),
                _ = n("478107");
            let I = {
                singleSpeaker: 424,
                twoSpeakers: 624,
                threeSpeakers: 824
            };
            (l = a || (a = {}))[l.SELECTED = 0] = "SELECTED", l[l.SPEAKER = 1] = "SPEAKER", l[l.AUDIENCE = 2] = "AUDIENCE";
            let T = (e, t) => {
                    let n = Math.floor(e / t - 8),
                        l = Math.floor(n / g.SPEAKER_TILE_ASPECT_RATIO);
                    return {
                        speakerTileWidth: n,
                        speakerTileHeight: l
                    }
                },
                x = (e, t) => e < I.singleSpeaker ? 1 : e < I.twoSpeakers ? 2 : e < I.threeSpeakers ? 3 : t ? 3 : 4,
                N = e => Math.floor((e - 32) / 102);
            var v = (0, u.default)(e => {
                var t, n;
                let {
                    channel: l,
                    width: u,
                    onScroll: I
                } = e, {
                    selectedParticipantId: v,
                    largeStream: A,
                    chatOpen: M
                } = (0, r.useStateFromStoresObject)([o.default], () => ({
                    selectedParticipantId: o.default.getSelectedParticipantId(l.id),
                    largeStream: o.default.getStageStreamSize(l.id),
                    chatOpen: o.default.getChatOpen(l.id)
                }), [l.id]), R = (0, c.useActualStageSpeakerCount)(l.id), L = (0, c.useStageParticipantsCount)(l.id, f.StageChannelParticipantNamedIndex.AUDIENCE), j = (0, r.useStateFromStores)([d.default], () => null != v ? d.default.getParticipant(l.id, v) : null), O = (0, c.useStageParticipants)(l.id, f.StageChannelParticipantNamedIndex.SPEAKER), y = O.filter(e => e.type === f.StageChannelParticipantTypes.VOICE), P = null != O.find(e => e.type === f.StageChannelParticipantTypes.STREAM), D = N(u), b = x(u, M), U = {
                    [f.StageChannelParticipantNamedIndex.SPEAKER]: b,
                    [f.StageChannelParticipantNamedIndex.AUDIENCE]: D,
                    [f.StageChannelParticipantNamedIndex.SELECTED]: 1
                }, w = (0, h.useThrottleDurationForChannel)(l.id), [F, G] = (0, h.useStageChannelParticipantsListThrottled)(l.id, U, w), B = [Math.max(null !== (t = F[a.SELECTED]) && void 0 !== t ? t : 1, 1), Math.max(null !== (n = F[a.SPEAKER]) && void 0 !== n ? n : 1, 1), F[a.AUDIENCE]], {
                    speakerTileWidth: k,
                    speakerTileHeight: H
                } = T(u, b), V = A ? u - 32 : Math.min(u - 64, 3 * k + 8), W = e => e === F.length - 1 || 0 === L && 1 === e, [Y, z] = i.useState(!1), [K, Z] = i.useState(!1);
                return (0, s.jsx)(m.default, {
                    sections: B,
                    renderSection: e => {
                        let {
                            section: t
                        } = e;
                        if (t === a.SPEAKER) return 0 === R ? null : (0, s.jsx)(C.default, {
                            participantCount: R,
                            label: S.default.Messages.SPEAKER_LABEL,
                            className: _.header,
                            onClick: () => z(!Y),
                            collapsed: Y,
                            speakers: y,
                            channel: l,
                            isStreamLive: P
                        }, "speaker-header-".concat(t));
                        if (t === a.AUDIENCE) return 0 === L ? null : (0, s.jsx)(C.default, {
                            participantCount: L,
                            label: S.default.Messages.AUDIENCE_LABEL,
                            className: _.header,
                            onClick: () => Z(!K),
                            collapsed: K,
                            channel: l
                        }, "audience-header-".concat(t));
                        return null
                    },
                    sectionHeight: e => 48,
                    renderRow: e => {
                        let {
                            section: t,
                            row: n
                        } = e, r = G[t][n];
                        if ((null == r ? void 0 : r.length) == null) return null;
                        switch (t) {
                            case a.SELECTED:
                                if (0 === r.length || null == r[0]) return null;
                                return (0, s.jsx)("div", {
                                    className: _.focusedRow,
                                    children: (0, s.jsx)(g.default, {
                                        channel: l,
                                        participant: r[0],
                                        width: V
                                    })
                                }, "selected-participant");
                            case a.SPEAKER:
                                if (Y) return null;
                                return (0, s.jsx)(i.Fragment, {
                                    children: (0, s.jsx)(E.default, {
                                        tileWidth: k,
                                        channel: l,
                                        participants: r,
                                        selectedParticipant: j
                                    })
                                }, "speakers-".concat(t, "-").concat(n));
                            case a.AUDIENCE:
                                if (K) return null;
                                return (0, s.jsx)(p.default, {
                                    channel: l,
                                    participants: r,
                                    maxTiles: D
                                }, "audience-".concat(t, "-").concat(n));
                            default:
                                return null
                        }
                    },
                    rowHeight: e => {
                        let t = null == G[e][a.SELECTED];
                        return t ? 0 : e === a.SELECTED ? V / g.SPEAKER_TILE_ASPECT_RATIO + 8 : e === a.SPEAKER ? Y ? 0 : H : K ? 0 : 98
                    },
                    renderFooter: e => {
                        let {
                            section: t
                        } = e;
                        return W(t) ? (0, s.jsx)("div", {
                            className: _.spacer
                        }, "bottom-spacer") : null
                    },
                    footerHeight: e => e === a.SPEAKER ? 8 : e === a.SELECTED ? 12 : W(e) ? 88 : 0,
                    className: _.scroller,
                    chunkSize: 60,
                    onScroll: I
                })
            })
        },
        977026: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return eC
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("446674"),
                u = n("77078"),
                o = n("987317"),
                d = n("244201"),
                c = n("191145"),
                f = n("266392"),
                h = n("458685"),
                p = n("338677"),
                m = n("76393"),
                E = n("479788"),
                C = n("398604"),
                g = n("109526"),
                S = n("487984"),
                _ = n("817963"),
                I = n("999180"),
                T = n("830210"),
                x = n("289180"),
                N = n("244390"),
                v = n("581389"),
                A = n("19065"),
                M = n("124824"),
                R = n("981913"),
                L = n("785344"),
                j = n("116439"),
                O = n("271938"),
                y = n("42887"),
                P = n("957255"),
                D = n("18494"),
                b = n("697218"),
                U = n("887657"),
                w = n("293137"),
                F = n("381546"),
                G = n("293499"),
                B = n("277174"),
                k = n("711486"),
                H = n("394640"),
                V = n("343571"),
                W = n("751661"),
                Y = n("244480"),
                z = n("716214"),
                K = n("619395"),
                Z = n("923510"),
                X = n("325861"),
                q = n("834052"),
                Q = n("819450"),
                J = n("111542"),
                $ = n("924872"),
                ee = n("274438"),
                et = n("734019"),
                en = n("519581"),
                el = n("58763"),
                ea = n("709752"),
                es = n("49111"),
                ei = n("782340"),
                er = n("134095");

            function eu(e) {
                let {
                    channel: t,
                    appContext: n
                } = e, l = (0, et.default)(t);
                if (l) {
                    (0, W.openEndStageModal)(t, n);
                    return
                }
                o.default.disconnect()
            }

            function eo(e) {
                var t, n;
                let {
                    channel: a
                } = e, s = (0, en.default)(a.id), [i, u] = (0, ea.default)(a), o = (0, r.useStateFromStores)([P.default], () => P.default.can(es.Permissions.REQUEST_TO_SPEAK, a));
                if (s) return null;
                return (0, l.jsx)(R.CenterControlButton, {
                    isActive: i,
                    label: (t = i, n = o, t ? ei.default.Messages.AUDIENCE_LOWER_HAND : n ? ei.default.Messages.AUDIENCE_RAISE_HAND_CTA : ei.default.Messages.AUDIENCE_RAISE_HAND_NO_PERMISSION),
                    iconComponent: () => (0, l.jsx)(k.default, {
                        className: i ? er.raisedHandButtonIconActive : er.raisedHandButtonIcon
                    }),
                    onClick: u,
                    className: er.buttonSpacing,
                    disabled: !o && !i
                })
            }
            let ed = a.memo(function(e) {
                let {
                    channel: t
                } = e, n = (0, r.useStateFromStores)([D.default], () => D.default.getVoiceChannelId() === t.id, [t.id]);
                return (0, l.jsxs)("div", {
                    className: er.container,
                    children: [(0, l.jsx)(ep, {
                        channelId: t.id
                    }), n ? (0, l.jsx)(eo, {
                        channel: t
                    }) : null, (0, l.jsx)(ef, {
                        channel: t
                    })]
                })
            });

            function ec(e) {
                let {
                    onClick: t
                } = e;
                return (0, l.jsx)(u.Button, {
                    size: u.Button.Sizes.MEDIUM,
                    color: er.primaryButtonColor,
                    className: i(er.buttonSpacing, er.buttonWithTextButton),
                    onClick: t,
                    children: (0, l.jsxs)("div", {
                        className: er.buttonWithTextInnerContainer,
                        children: [(0, l.jsx)(B.default, {
                            height: 24,
                            width: 24,
                            className: er.buttonWithTextIcon
                        }), (0, l.jsx)(u.Text, {
                            color: "none",
                            variant: "text-sm/medium",
                            children: ei.default.Messages.MODERATOR_RAISE_OWN_HAND
                        })]
                    })
                })
            }

            function ef(e) {
                let {
                    channel: t,
                    onSelect: n
                } = e, a = (0, d.useAppContext)(), {
                    canManageGuildEvent: s
                } = (0, _.useManageResourcePermissions)(t), o = (0, r.useStateFromStores)([q.default], () => q.default.getStageInstanceByChannel(t.id), [t.id]), c = (0, r.useStateFromStores)([C.default], () => C.default.getGuildScheduledEvent(null == o ? void 0 : o.guild_scheduled_event_id)), f = (0, r.useStateFromStores)([D.default], () => D.default.getVoiceChannelId() === t.id, [t.id]), {
                    suppress: h
                } = (0, N.default)(t), p = O.default.getId(), [m] = (0, ea.default)(t), E = X.default.isModerator(p, t.id), g = (0, K.useCanModerateRequestToSpeak)(t.id), S = s(c);
                return f ? (E || S) && null != o ? (0, l.jsx)(u.Popout, {
                    renderPopout: e => {
                        let {
                            closePopout: s
                        } = e;
                        return (0, l.jsx)(M.default, {
                            children: (0, l.jsx)(u.Menu, {
                                navId: "exit-options",
                                "aria-label": ei.default.Messages.SET_STATUS,
                                onClose: s,
                                onSelect: n,
                                children: (0, l.jsx)(u.MenuItem, {
                                    id: "end-stage",
                                    color: "danger",
                                    action: () => (0, W.openEndGuildEventConfirmationModal)(t, a),
                                    label: ei.default.Messages.END_GUILD_EVENT_FOR_EVERYONE,
                                    icon: F.default
                                })
                            })
                        })
                    },
                    align: "center",
                    position: "top",
                    animation: u.Popout.Animation.FADE,
                    children: (e, n) => {
                        let {
                            onClick: s
                        } = e, {
                            isShown: i
                        } = n;
                        return (0, l.jsx)(R.CenterControlButton, {
                            className: er.buttonSpacing,
                            label: ei.default.Messages.EXIT_EVENT_STAGE_OPTIONS_LABEL,
                            color: "red",
                            iconComponent: () => (0, l.jsx)(w.default, {
                                height: 24,
                                width: 24
                            }),
                            onClick: () => eu({
                                channel: t,
                                appContext: a
                            }),
                            onPopoutClick: s,
                            popoutOpen: i
                        })
                    }
                }) : h && !g || m ? (0, l.jsx)(u.Button, {
                    size: u.Button.Sizes.MEDIUM,
                    color: u.Button.Colors.RED,
                    className: i(er.buttonSpacing, er.buttonWithTextButton),
                    onClick: () => eu({
                        channel: t,
                        appContext: a
                    }),
                    children: (0, l.jsxs)("div", {
                        className: er.buttonWithTextInnerContainer,
                        children: [(0, l.jsx)(w.default, {
                            height: 24,
                            width: 24,
                            className: er.buttonWithTextIcon
                        }), (0, l.jsx)(u.Text, {
                            color: "none",
                            variant: "text-sm/medium",
                            children: ei.default.Messages.AUDIENCE_DISCONNECT
                        })]
                    })
                }) : (0, l.jsx)(R.CenterControlButton, {
                    className: er.buttonSpacing,
                    label: ei.default.Messages.EXIT_EVENT_STAGE_OPTIONS_LABEL,
                    color: "red",
                    iconComponent: () => (0, l.jsx)(w.default, {
                        height: 24,
                        width: 24
                    }),
                    onClick: () => eu({
                        channel: t,
                        appContext: a
                    })
                }) : (0, l.jsx)(u.Button, {
                    size: u.Button.Sizes.MEDIUM,
                    color: u.Button.Colors.GREEN,
                    className: i(er.buttonSpacing, er.buttonWithTextButton),
                    onClick: () => {
                        var e;
                        return e = t, void(0, z.connectToStage)(e)
                    },
                    children: (0, l.jsxs)("div", {
                        className: er.buttonWithTextInnerContainer,
                        children: [(0, l.jsx)(U.default, {
                            height: 24,
                            width: 24,
                            className: er.buttonWithTextIcon
                        }), (0, l.jsx)(u.Text, {
                            color: "none",
                            variant: "text-sm/medium",
                            children: ei.default.Messages.STAGE_CHANNEL_JOIN
                        })]
                    })
                })
            }

            function eh(e) {
                let {
                    onClick: t
                } = e;
                return (0, l.jsx)(u.Button, {
                    size: u.Button.Sizes.MEDIUM,
                    color: er.primaryButtonColor,
                    className: i(er.buttonSpacing, er.buttonWithTextButton),
                    onClick: t,
                    children: (0, l.jsxs)("div", {
                        className: er.buttonWithTextInnerContainer,
                        children: [(0, l.jsx)(G.default, {
                            height: 24,
                            width: 24,
                            className: er.buttonWithTextIcon
                        }), (0, l.jsx)(u.Text, {
                            color: "none",
                            variant: "text-sm/medium",
                            children: ei.default.Messages.MOVE_ME_TO_AUDIENCE
                        })]
                    })
                })
            }

            function ep(e) {
                let {
                    channelId: t
                } = e, n = (0, r.useStateFromStores)([ee.default], () => ee.default.isMuted()), a = (0, $.useShowStageMusicMuteButton)(t), s = (0, r.useStateFromStores)([ee.default], () => ee.default.shouldPlay());
                return a ? (0, l.jsx)(R.CenterControlButton, {
                    isActive: n,
                    className: er.buttonSpacing,
                    label: n ? ei.default.Messages.STAGE_MUSIC_UNMUTE : ei.default.Messages.STAGE_MUSIC_MUTE,
                    iconComponent: () => n ? (0, l.jsx)(V.default, {
                        height: 24,
                        width: 24
                    }) : (0, l.jsx)(H.default, {
                        height: 24,
                        width: 24
                    }),
                    onClick: () => (0, J.updateStageMusicMuted)(!n)
                }) : (0, l.jsx)(R.CenterControlButton, {
                    isActive: s,
                    className: er.buttonSpacing,
                    label: s ? ei.default.Messages.STAGE_MUSIC_MUTE : ei.default.Messages.STAGE_MUSIC_UNMUTE,
                    iconComponent: () => s ? (0, l.jsx)(H.default, {
                        height: 24,
                        width: 24
                    }) : (0, l.jsx)(V.default, {
                        height: 24,
                        width: 24
                    }),
                    onClick: () => (0, J.updateStageMusicShouldPlay)(!s)
                })
            }
            let em = a.memo(function(e) {
                let {
                    channel: t
                } = e, {
                    suppress: n,
                    selfMute: a,
                    mute: s
                } = (0, N.default)(t), o = (0, K.useCanModerateRequestToSpeak)(t.id), d = (0, r.useStateFromStores)([m.default], () => null != m.default.getAwaitingRemoteSessionInfo()), {
                    cameraUnavailable: C,
                    enabled: g
                } = (0, I.default)(), S = (0, x.default)(t), {
                    limit: _,
                    reachedLimit: R
                } = (0, T.default)(t), O = (0, r.useStateFromStores)([b.default], () => b.default.getCurrentUser()), P = (0, r.useStateFromStores)([y.default], () => (0, E.default)(y.default)), U = (0, r.useStateFromStores)([D.default], () => D.default.getVoiceChannelId() === t.id, [t.id]), w = (0, r.useStateFromStores)([c.default], () => c.default.getStreamParticipants(t.id)[0], [t.id]), F = (0, Q.useStageHasMedia)(t.id), G = R && !F || null != w && w.user.id !== (null == O ? void 0 : O.id);
                if (null == O) return null;
                let B = (0, l.jsxs)(l.Fragment, {
                    children: [(0, l.jsx)(u.Popout, {
                        renderPopout: e => {
                            let {
                                closePopout: t
                            } = e;
                            return (0, l.jsx)(M.default, {
                                children: (0, l.jsx)(h.default, {
                                    onClose: t
                                })
                            })
                        },
                        position: "top",
                        align: "center",
                        animation: u.Popout.Animation.FADE,
                        children: (e, t) => {
                            let {
                                onClick: n
                            } = e, {
                                isShown: a
                            } = t;
                            return (0, l.jsx)(j.default, {
                                centerButton: !0,
                                hasPermission: S,
                                enabled: g,
                                cameraUnavailable: C,
                                onChange: v.handleToggleVideo,
                                onCameraUnavailable: A.default,
                                channelLimitReached: R,
                                channelLimit: _,
                                popoutOpen: a,
                                onPopoutClick: n
                            })
                        }
                    }), (0, l.jsx)(v.GoLiveButton, {
                        channel: t,
                        currentUser: O,
                        exitFullScreen: () => null,
                        canGoLive: P,
                        hasPermission: S,
                        disabled: G
                    })]
                });
                return (0, l.jsxs)("div", {
                    className: er.container,
                    children: [(0, l.jsx)(ep, {
                        channelId: t.id
                    }), U && (0, l.jsx)(eo, {
                        channel: t
                    }), U && !n ? (0, l.jsxs)("div", {
                        className: i(er.avControls, er.buttonSpacing),
                        children: [_ > 0 && _ > 0 && B, (0, l.jsx)(u.Popout, {
                            renderPopout: e => {
                                let {
                                    closePopout: t
                                } = e;
                                return (0, l.jsx)(M.default, {
                                    children: (0, l.jsx)(f.default, {
                                        onClose: t,
                                        renderInputDevices: !0,
                                        renderOutputDevices: !0
                                    })
                                })
                            },
                            align: "center",
                            position: "top",
                            animation: u.Popout.Animation.FADE,
                            children: (e, t) => {
                                let {
                                    onClick: i
                                } = e, {
                                    isShown: r
                                } = t;
                                return (0, l.jsx)(L.default, {
                                    centerButton: !0,
                                    onPopoutClick: i,
                                    selfMute: a,
                                    serverMute: s,
                                    suppress: n,
                                    popoutOpen: r,
                                    onClick: () => (0, p.default)(s, n),
                                    awaitingRemote: d
                                })
                            }
                        })]
                    }) : null, U && o && n && (0, l.jsx)(ec, {
                        onClick: () => (0, Y.audienceAckRequestToSpeak)(t, !1)
                    }), U && !n && (0, l.jsx)(eh, {
                        onClick: () => (0, Y.moveSelfToAudience)(t)
                    }), (0, l.jsx)(ef, {
                        channel: t
                    })]
                })
            });

            function eE(e) {
                let {
                    channel: t
                } = e;
                return (0, l.jsxs)("div", {
                    className: er.container,
                    children: [(0, l.jsx)(ep, {
                        channelId: t.id
                    }), (0, l.jsx)(ef, {
                        channel: t
                    })]
                })
            }
            var eC = a.memo(function(e) {
                let {
                    channel: t,
                    isOnStartStageScreen: n
                } = e, a = (0, en.default)(t.id), s = (0, K.useCanModerateRequestToSpeak)(t.id), i = (0, r.useStateFromStores)([P.default], () => P.default.can(Z.MODERATE_STAGE_CHANNEL_PERMISSIONS, t), [t]), u = (0, el.default)(t.id), o = (0, r.useStateFromStores)([c.default], () => null != t ? c.default.getSelectedParticipant(t.id) : null), d = !u && null == o;
                if (n) return (0, l.jsx)(eE, {
                    channel: t
                });
                if (a || s) return (0, l.jsxs)("div", {
                    className: er.containerColumn,
                    children: [(0, l.jsxs)("div", {
                        className: er.eventPrompts,
                        children: [d ? (0, l.jsx)(g.default, {
                            channelId: null == t ? void 0 : t.id
                        }) : null, (0, l.jsx)("div", {
                            className: er.separator
                        }), d && i ? (0, l.jsx)(S.default, {
                            highlight: !0,
                            channel: t
                        }) : null, (0, l.jsx)("div", {
                            className: er.separator
                        })]
                    }), (0, l.jsx)(em, {
                        channel: t
                    })]
                });
                return (0, l.jsx)(ed, {
                    channel: t
                })
            })
        },
        661917: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            });
            var l, a = n("405665"),
                s = n("77078"),
                i = n("657454"),
                r = n("517614");
            let u = (0, s.createListScroller)(i.auto, i.fade, r.customTheme, null !== (l = window.ResizeObserver) && void 0 !== l ? l : a.ResizeObserver);
            var o = u
        },
        85427: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("297446"),
                i = n("602580"),
                r = a.memo(function(e) {
                    let {
                        channel: t,
                        participants: n,
                        tileWidth: a,
                        selectedParticipant: r
                    } = e;
                    return (0, l.jsx)("div", {
                        className: i.rowContainer,
                        children: n.map(e => e.id === (null == r ? void 0 : r.id) ? null : (0, l.jsx)(s.default, {
                            channel: t,
                            participant: e,
                            width: a
                        }, e.id))
                    })
                })
        },
        620103: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("77078"),
                u = n("837899"),
                o = n("849467"),
                d = n("155207"),
                c = n("980423"),
                f = n("215536"),
                h = n("154017"),
                p = a.memo(function(e) {
                    let {
                        label: t,
                        participantCount: n,
                        onClick: a,
                        className: s,
                        collapsed: p,
                        speakers: m,
                        channel: E,
                        isStreamLive: C
                    } = e;
                    return (0, l.jsxs)(r.Clickable, {
                        onClick: a,
                        className: i(h.container, s),
                        children: [null == m ? (0, l.jsx)(d.default, {
                            width: 20,
                            height: 20,
                            className: h.micIcon
                        }) : (0, l.jsx)(o.default, {
                            width: 20,
                            height: 20,
                            className: h.micIcon
                        }), (0, l.jsxs)(r.Text, {
                            color: "header-primary",
                            variant: "text-md/semibold",
                            className: h.text,
                            children: [t, " — ", n]
                        }), p && null != E && null != m && m.length > 0 && (0, l.jsxs)(l.Fragment, {
                            children: [(0, l.jsx)(f.default, {
                                channel: E,
                                speakers: m
                            }), C && (0, l.jsx)(c.default, {})]
                        }), (0, l.jsx)(u.default, {
                            width: 20,
                            height: 20,
                            className: i(h.downIcon, {
                                [h.upIcon]: p
                            })
                        })]
                    })
                })
        },
        215536: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return C
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("77078"),
                u = n("272030"),
                o = n("899633"),
                d = n("244201"),
                c = n("506885"),
                f = n("981601"),
                h = n("533403"),
                p = n("315102"),
                m = n("324328");

            function E(e) {
                let {
                    channel: t,
                    speaker: s,
                    className: h
                } = e, E = (0, d.useAppContext)(), {
                    reducedMotion: C
                } = a.useContext(r.AccessibilityPreferencesContext), g = (0, o.default)({
                    userId: s.id
                }), S = null != s.member ? (0, p.getGuildMemberAvatarURL)(s.member) : null, _ = e => {
                    (0, u.openContextMenuLazy)(e, async () => {
                        let {
                            default: e
                        } = await n.el("834247").then(n.bind(n, "834247"));
                        return n => (0, l.jsx)(e, {
                            ...n,
                            user: s.user,
                            guildId: t.guild_id,
                            channel: t,
                            showMediaItems: !0,
                            showStageChannelItems: !0,
                            showChatItems: !1
                        })
                    }, {
                        context: E
                    })
                };
                return (0, l.jsx)(r.Popout, {
                    preload: () => (0, c.default)(s.user.id, s.user.getAvatarURL(t.guild_id, 80), {
                        guildId: t.guild_id,
                        channelId: t.id
                    }),
                    renderPopout: e => (0, l.jsx)(f.default, {
                        ...e,
                        guildId: t.guild_id,
                        channelId: t.id,
                        userId: s.id
                    }),
                    position: "right",
                    spacing: 8,
                    children: e => (0, l.jsx)(r.Tooltip, {
                        text: s.userNick,
                        position: "bottom",
                        children: n => (0, l.jsx)(r.Clickable, {
                            ...n,
                            ...e,
                            onClick: t => {
                                t.stopPropagation(), e.onClick(t)
                            },
                            onContextMenu: _,
                            children: (0, l.jsx)(r.Avatar, {
                                src: null != S ? S : s.user.getAvatarURL(t.guild_id, 24),
                                size: r.AvatarSizes.SIZE_24,
                                className: i(m.avatar, h),
                                "aria-label": s.userNick,
                                isSpeaking: g && !C.enabled
                            })
                        })
                    })
                })
            }

            function C(e) {
                let {
                    speakers: t,
                    channel: n
                } = e;
                return (0, l.jsx)(h.default, {
                    className: m.summary,
                    guildId: n.guild_id,
                    users: t,
                    max: 10,
                    renderUser: (e, t, a) => (0, l.jsx)(E, {
                        channel: n,
                        speaker: e,
                        className: t
                    }, a),
                    renderMoreUsers: (e, t, n) => (0, l.jsx)("div", {
                        className: i(m.speakers, t),
                        children: e
                    }, n)
                })
            }
        },
        297446: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                SPEAKER_TILE_ASPECT_RATIO: function() {
                    return j
                },
                default: function() {
                    return P
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("627445"),
                i = n.n(s),
                r = n("446674"),
                u = n("77078"),
                o = n("255397"),
                d = n("272030"),
                c = n("990766"),
                f = n("244201"),
                h = n("191145"),
                p = n("76393"),
                m = n("374014"),
                E = n("223913"),
                C = n("506885"),
                g = n("981601"),
                S = n("373469"),
                _ = n("305961"),
                I = n("957255"),
                T = n("800762"),
                x = n("512264"),
                N = n("325861"),
                v = n("584199"),
                A = n("116386"),
                M = n("49111"),
                R = n("99795"),
                L = n("649381");
            let j = 16 / 9,
                O = e => {
                    let {
                        stageParticipant: t,
                        rtcParticipant: n,
                        channel: s,
                        guildId: i,
                        user: r,
                        width: o,
                        isModerator: d,
                        onContextMenu: c,
                        inPopout: f
                    } = e, {
                        reducedMotion: h
                    } = a.useContext(u.AccessibilityPreferencesContext), {
                        blocked: p,
                        id: m
                    } = t;
                    return (0, l.jsx)(u.Popout, {
                        preload: null == n ? void 0 : () => (0, C.default)(n.user.id, n.user.getAvatarURL(s.guild_id, 80), {
                            guildId: s.guild_id,
                            channelId: s.id
                        }),
                        renderPopout: e => (0, l.jsx)(g.default, {
                            ...e,
                            guildId: i,
                            channelId: s.id,
                            userId: r.id
                        }),
                        position: "right",
                        spacing: 8,
                        children: e => (0, l.jsx)(u.Clickable, {
                            onContextMenu: e => c(n, e),
                            ...e,
                            children: (0, l.jsx)(v.default, {
                                participant: n,
                                aspectRatio: j,
                                blocked: p,
                                channel: s,
                                className: L.tile,
                                inCall: !0,
                                inPopout: f,
                                paused: !1,
                                pulseSpeakingIndicator: !h.enabled,
                                width: o,
                                children: d && (0, l.jsx)(A.default, {})
                            }, m)
                        })
                    })
                },
                y = e => {
                    let {
                        stageParticipant: t,
                        rtcParticipant: n,
                        channel: s,
                        width: i,
                        isModerator: d,
                        onContextMenu: f,
                        inPopout: C
                    } = e, {
                        reducedMotion: g
                    } = a.useContext(u.AccessibilityPreferencesContext), {
                        id: N,
                        blocked: O
                    } = t, y = (0, r.useStateFromStoresArray)([S.default], () => S.default.getAllActiveStreams(), []), {
                        selectedParticipant: P,
                        largeStream: D
                    } = (0, r.useStateFromStoresObject)([h.default], () => ({
                        selectedParticipant: null != s ? h.default.getSelectedParticipant(s.id) : null,
                        largeStream: null != s && h.default.getStageStreamSize(s.id)
                    })), b = a.useCallback((e, t) => {
                        if (e.type === R.ParticipantTypes.STREAM) {
                            let n = y.filter(t => (0, m.encodeStreamKey)(t) === e.id && t.state !== M.ApplicationStreamStates.ENDED);
                            if (0 === n.length) {
                                if (!(0, E.canWatchStream)(s, T.default, _.default, I.default, p.default)[0]) return;
                                (0, c.watchStream)((0, m.decodeStreamKey)(e.id), {
                                    forceMultiple: t.shiftKey
                                })
                            }
                        }(null == P ? void 0 : P.id) === e.id ? D ? (o.default.selectParticipant(s.id, null), o.default.updateStageStreamSize(s.id, !1)) : o.default.updateStageStreamSize(s.id, !0) : (o.default.updateStageStreamSize(s.id, !1), o.default.selectParticipant(s.id, e.id))
                    }, [y, s, P, D]);
                    return (0, l.jsx)(v.default, {
                        participant: n,
                        aspectRatio: j,
                        fit: n.type === R.ParticipantTypes.USER ? x.VideoStreamFit.COVER : void 0,
                        blocked: O,
                        channel: s,
                        className: L.tile,
                        inCall: !0,
                        inPopout: C,
                        onClick: b,
                        onContextMenu: f,
                        paused: !1,
                        pulseSpeakingIndicator: !g.enabled,
                        width: i,
                        children: d && n.type === R.ParticipantTypes.USER && (0, l.jsx)(A.default, {})
                    }, N)
                };
            var P = a.memo(function(e) {
                var t;
                let {
                    participant: a,
                    channel: s,
                    width: u
                } = e, o = (0, f.useAppContext)(), c = s.getGuildId();
                i(null != c, "Channel cannot be guildless");
                let {
                    user: p
                } = a, m = (0, r.useStateFromStores)([h.default], () => h.default.getParticipant(s.id, a.id), [s.id, a.id]), E = (0, r.useStateFromStores)([N.default], () => N.default.isModerator(p.id, s.id), [s.id, p.id]);
                if (null == m || m.type === R.ParticipantTypes.ACTIVITY) return null;
                let C = (e, t) => {
                        switch (e.type) {
                            case R.ParticipantTypes.HIDDEN_STREAM:
                            case R.ParticipantTypes.STREAM:
                                (0, d.openContextMenuLazy)(t, async () => {
                                    let {
                                        default: t
                                    } = await n.el("172844").then(n.bind(n, "172844"));
                                    return n => (0, l.jsx)(t, {
                                        ...n,
                                        stream: e.stream,
                                        appContext: o,
                                        exitFullscreen: () => {}
                                    })
                                }, {
                                    context: o
                                });
                                return;
                            case R.ParticipantTypes.USER:
                            default:
                                (0, d.openContextMenuLazy)(t, async () => {
                                    let {
                                        default: e
                                    } = await n.el("834247").then(n.bind(n, "834247"));
                                    return t => (0, l.jsx)(e, {
                                        ...t,
                                        user: p,
                                        guildId: c,
                                        channel: s,
                                        showMediaItems: !0,
                                        showStageChannelItems: !0,
                                        showChatItems: !1
                                    })
                                }, {
                                    context: o
                                })
                        }
                    },
                    g = m.type === R.ParticipantTypes.USER && !(null === (t = m.voiceState) || void 0 === t ? void 0 : t.selfVideo);
                return (0, l.jsx)(l.Fragment, {
                    children: g ? (0, l.jsx)(O, {
                        stageParticipant: a,
                        rtcParticipant: m,
                        channel: s,
                        guildId: c,
                        user: p,
                        width: u,
                        isModerator: E,
                        onContextMenu: C,
                        inPopout: o === M.AppContext.POPOUT
                    }) : (0, l.jsx)(y, {
                        stageParticipant: a,
                        rtcParticipant: m,
                        channel: s,
                        guildId: c,
                        user: p,
                        width: u,
                        isModerator: E,
                        onContextMenu: C,
                        inPopout: o === M.AppContext.POPOUT
                    })
                })
            })
        },
        679703: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return x
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("446674"),
                s = n("669491"),
                i = n("77078"),
                r = n("888237"),
                u = n("18517"),
                o = n("109526"),
                d = n("487984"),
                c = n("817963"),
                f = n("957255"),
                h = n("228427"),
                p = n("811305"),
                m = n("923510"),
                E = n("759718"),
                C = n("58763"),
                g = n("119184"),
                S = n("782340"),
                _ = n("563040");

            function I(e) {
                let {
                    onClick: t
                } = e;
                return (0, l.jsx)(r.default, {
                    iconContainerClassName: _.continueIconContainer,
                    icon: (0, l.jsx)(h.default, {
                        className: _.continueIcon,
                        height: 20,
                        width: 20
                    }),
                    color: s.default.unsafe_rawColors.PRIMARY_700.css,
                    title: S.default.Messages.STAGE_CONTINUE_PROMPT_TITLE,
                    description: S.default.Messages.STAGE_CONTINUE_PROMPT_SUBTITLE,
                    onClick: t
                })
            }

            function T(e) {
                let {
                    channel: t
                } = e, {
                    participants: n,
                    usersInSummary: a
                } = (0, E.default)(t.id);
                return (0, l.jsxs)("div", {
                    className: _.audienceSummary,
                    children: [(0, l.jsx)(p.default, {
                        className: _.summaryItem,
                        guildId: t.guild_id,
                        users: a,
                        size: p.Sizes.SIZE_16
                    }), (0, l.jsx)(i.Text, {
                        variant: "text-sm/normal",
                        color: "header-secondary",
                        children: function(e) {
                            if (0 === e.length) return "";
                            if (1 === e.length) return S.default.Messages.STAGE_AUDIENCE_WAITING_ONE.format({
                                first: e[0].userNick
                            });
                            if (2 === e.length) return S.default.Messages.STAGE_AUDIENCE_WAITING_TWO.format({
                                first: e[0].userNick,
                                second: e[1].userNick
                            });
                            let t = e.length - 2;
                            return S.default.Messages.STAGE_AUDIENCE_WAITING_MANY.format({
                                first: e[0].userNick,
                                second: e[1].userNick,
                                numOthers: t
                            })
                        }(n)
                    })]
                })
            }

            function x(e) {
                let {
                    channel: t,
                    onContinueClick: n
                } = e, s = (0, a.useStateFromStores)([f.default], () => f.default.can(m.MODERATE_STAGE_CHANNEL_PERMISSIONS, t), [t]), r = t.guild_id, {
                    canCreateGuildEvent: p
                } = (0, c.useManageResourcePermissions)(t), x = (0, C.default)(t.id), {
                    usersInSummary: N
                } = (0, E.default)(t.id);
                return (0, l.jsxs)("div", {
                    children: [(0, l.jsx)(g.default, {
                        children: (0, l.jsx)("div", {
                            className: _.iconBackground,
                            children: (0, l.jsx)(h.default, {
                                width: 40,
                                height: 40,
                                className: _.icon
                            })
                        })
                    }), (0, l.jsxs)("div", {
                        className: _.headerContainer,
                        children: [(0, l.jsx)(i.Heading, {
                            className: _.title,
                            variant: "heading-xl/semibold",
                            children: S.default.Messages.STAGE_START_PROMPT_TITLE_MODERATOR
                        }), (0, l.jsx)(i.Text, {
                            className: _.subtitle,
                            variant: "text-sm/normal",
                            children: S.default.Messages.STAGE_START_PROMPT_SUBTITLE
                        })]
                    }), x ? null : (0, l.jsx)(o.default, {
                        channelId: t.id
                    }), s ? (0, l.jsx)(d.default, {
                        className: _.eventPrompt,
                        channel: t
                    }) : null, p ? (0, l.jsx)(u.default, {
                        className: _.eventPrompt,
                        guildId: r
                    }) : null, (s || N.length > 0) && (0, l.jsx)("hr", {
                        className: _.separator
                    }), s ? (0, l.jsx)(I, {
                        onClick: n
                    }) : null, (0, l.jsx)(T, {
                        channel: t
                    })]
                })
            }
        },
        92447: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return _
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("446674"),
                i = n("913144"),
                r = n("255397"),
                u = n("716241"),
                o = n("191145"),
                d = n("383294"),
                c = n("95032"),
                f = n("18494"),
                h = n("599110"),
                p = n("659500"),
                m = n("773336"),
                E = n("563680"),
                C = n("49111"),
                g = n("580105");
            let S = () => {
                i.default.wait(() => d.close(C.PopoutWindowKeys.CHANNEL_CALL_POPOUT))
            };

            function _(e) {
                let {
                    channel: t,
                    appContext: n,
                    popoutOpen: i,
                    popoutWindow: d,
                    currentWindow: _
                } = e, I = n === C.AppContext.POPOUT, T = a.useRef(null), {
                    currentLayout: x,
                    mode: N
                } = (0, s.useStateFromStoresObject)([o.default], () => {
                    let e = o.default.getMode(t.id),
                        l = n === C.AppContext.POPOUT;
                    l && (e = C.ChannelModes.VIDEO);
                    let a = e === C.ChannelModes.VIDEO ? o.default.getLayout(t.id, n) : C.ChannelLayouts.MINIMUM;
                    return l && a !== C.ChannelLayouts.FULL_SCREEN && (a = C.ChannelLayouts.NO_CHAT), {
                        currentLayout: a,
                        mode: e
                    }
                }, [t, n]), v = (0, s.useStateFromStores)([f.default], () => f.default.getVoiceChannelId() === t.id, [t.id]);
                a.useEffect(() => {
                    T.current = N
                });
                let A = a.useRef(x),
                    {
                        currentDocument: M,
                        rootNode: R
                    } = a.useMemo(() => {
                        let e = null != d && I ? d.document : document,
                            t = _.document.getElementById("app-mount");
                        return {
                            currentWindow: _,
                            currentDocument: e,
                            rootNode: t
                        }
                    }, [d, I, _]),
                    L = i && !I,
                    j = N === C.ChannelModes.VIDEO && v && !L,
                    O = a.useCallback((e, l) => {
                        l !== e && (r.default.updateLayout(t.id, l, n), l === C.ChannelLayouts.FULL_SCREEN && t.isPrivate() && p.ComponentDispatch.dispatch(C.ComponentActions.TEXTAREA_BLUR))
                    }, [n, t]),
                    y = a.useCallback(e => {
                        if (null != R) e === C.ChannelLayouts.FULL_SCREEN && (O(e, A.current), (0, E.exitFullScreen)(e => {
                            A.current = e
                        }, M))
                    }, [M, O, R]),
                    P = a.useCallback(e => () => {
                        null != R && (e !== C.ChannelLayouts.FULL_SCREEN ? (A.current = e, O(e, C.ChannelLayouts.FULL_SCREEN), (0, E.requestFullScreen)(R)) : y(e))
                    }, [O, y, R]);
                return (a.useEffect(() => {
                    let e = () => {
                        null != R && !(0, E.isFullScreen)(R, M) && x === C.ChannelLayouts.FULL_SCREEN && P(x)()
                    };
                    return M.addEventListener(E.FULLSCREEN_CHANGE_EVENT, e), () => {
                        M.removeEventListener(E.FULLSCREEN_CHANGE_EVENT, e)
                    }
                }, [M, x, P, R]), a.useEffect(() => (h.default.track(C.AnalyticEvents.VIDEO_LAYOUT_TOGGLED, {
                    video_layout: I ? "popout" : x,
                    ...(0, u.collectVoiceAnalyticsMetadata)(t.id)
                }), () => {
                    !(I && (0, m.isMac)()) && y(x)
                }), [x, I]), a.useEffect(() => {
                    null != R && T.current === C.ChannelModes.VIDEO && N === C.ChannelModes.VOICE && (0, E.exitFullScreen)(R, M)
                }, [M, N, T, R]), a.useEffect(() => {
                    !v && I && S()
                }, [v, I]), j) ? (0, l.jsx)(c.default, {
                    themeable: !1,
                    node: R,
                    guestWindow: d,
                    className: g.rightTrayIcon,
                    onClick: P(x)
                }) : null
            }
        },
        96151: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var l = n("446674"),
                a = n("191145"),
                s = n("305961"),
                i = n("957255"),
                r = n("567469"),
                u = n("998716"),
                o = n("923510"),
                d = n("819450"),
                c = n("49111");

            function f(e) {
                var t;
                let n = (0, l.useStateFromStores)([a.default], () => a.default.getStageVideoLimitBoostUpsellDismissed(e.id), [e.id]),
                    f = (0, r.useActualStageSpeakerCount)(e.id),
                    h = (0, r.useStageParticipantsCount)(e.id, u.StageChannelParticipantNamedIndex.AUDIENCE),
                    p = (0, d.useStageHasMedia)(e.id),
                    m = (0, l.useStateFromStores)([s.default], () => s.default.getGuild(e.guild_id), [e.guild_id]),
                    E = (0, l.useStateFromStores)([i.default], () => i.default.can(o.MODERATE_STAGE_CHANNEL_PERMISSIONS, e), [e]),
                    C = null !== (t = null == m ? void 0 : m.maxStageVideoChannelUsers) && void 0 !== t ? t : 0,
                    g = !(null == m ? void 0 : m.isCommunity()) && C > c.MAX_STAGE_VIDEO_USER_LIMIT_TIER3;
                return p && !n && E && !g && f + h >= C
            }
        },
        910927: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                makeEmptyTitleError: function() {
                    return o
                },
                makeEmptyMessageError: function() {
                    return d
                },
                makeAutomodViolationError: function() {
                    return c
                },
                renderError: function() {
                    return f
                }
            });
            var l, a, s = n("600798"),
                i = n("782340");

            function r(e, t) {
                return {
                    type: e,
                    message: null != t ? t : null
                }
            }

            function u(e) {
                return r(a.EmptyContent, e)
            }

            function o() {
                return u(i.default.Messages.FORM_THREAD_NAME_REQUIRED_ERROR)
            }

            function d() {
                return u(i.default.Messages.FORM_THREAD_STARTER_MESSAGE_REQUIRED_ERROR)
            }

            function c(e, t) {
                return r(a.AutomodViolation, (0, s.getAutomodErrorMessageFromErrorResponse)(e, null == t ? void 0 : t.id))
            }

            function f(e, t) {
                var n;
                return null == e || e.type === a.EmptyContent && null != t.content && t.content.trim().length > 0 ? null : null !== (n = e.message) && void 0 !== n ? n : null
            }(l = a || (a = {}))[l.EmptyContent = 0] = "EmptyContent", l[l.AutomodViolation = 1] = "AutomodViolation"
        },
        256648: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useThreadMemberListSections: function() {
                    return d
                }
            });
            var l = n("884691"),
                a = n("917351"),
                s = n.n(a),
                i = n("446674"),
                r = n("593752"),
                u = n("782340");
            let o = [];

            function d(e, t) {
                let {
                    version: n,
                    members: a
                } = (0, i.useStateFromStoresObject)([r.default], () => ({
                    version: r.default.getMemberListVersion(e),
                    members: r.default.getMemberListSections(e)
                })), d = l.useMemo(() => {
                    if (null == t) return o;
                    let e = s(t.roles).values().filter(e => e.hoist).sortBy(e => e.position).reverse().map(e => e.id).value();
                    return e.push("online", "offline"), e.map(e => {
                        var n, l;
                        let s = t.roles[e],
                            i = "online" === e ? u.default.Messages.STATUS_ONLINE : "offline" === e ? u.default.Messages.STATUS_OFFLINE : s.name,
                            r = null !== (l = null == a ? void 0 : null === (n = a[e]) || void 0 === n ? void 0 : n.userIds) && void 0 !== l ? l : [];
                        return {
                            label: i,
                            userIds: r,
                            id: e,
                            roleId: e
                        }
                    })
                }, [null == t ? void 0 : t.roles, a, n]);
                return null != a ? d : o
            }
        },
        593752: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return N
                }
            });
            var l = n("917351"),
                a = n.n(l),
                s = n("249654"),
                i = n("446674"),
                r = n("913144"),
                u = n("42203"),
                o = n("26989"),
                d = n("10802"),
                c = n("824563"),
                f = n("101125"),
                h = n("697218"),
                p = n("449008"),
                m = n("991170"),
                E = n("158998"),
                C = n("49111");
            let g = {};
            class S {
                rebuild(e) {
                    this.version++, this.sections = {}, null != e && (this.allUserIds = new Set(e));
                    let t = u.default.getChannel(this.parentId);
                    a(Array.from(this.allUserIds)).map(e => {
                        let [n, l, a] = this.calculateNewState(e, t);
                        return {
                            userId: e,
                            sectionId: n,
                            displayName: l,
                            canViewChannel: a
                        }
                    }).sort((e, t) => s.default.compare(e.userId, t.userId)).sortBy(e => e.displayName).forEach(e => {
                        this.addUser(e.userId, e.sectionId, e.displayName, e.canViewChannel, !0)
                    })
                }
                updateMultipleUserIds(e, t) {
                    return (null == t || this.guildId === t) && 0 !== (e = e.filter(e => this.allUserIds.has(e))).length && (e.length > 50 ? this.rebuild() : e.forEach(e => this.updateUserId(e)), !0)
                }
                updateUserId(e) {
                    if (!this.allUserIds.has(e)) return !1;
                    let [t, n, l] = this.findOldState(e), [a, s, i] = this.calculateNewState(e, u.default.getChannel(this.parentId));
                    return (t !== a || n !== s || l !== i) && (this.removeUserId(e, t), this.addUser(e, a, s, i), !0)
                }
                addUserId(e) {
                    let [t, n, l] = this.calculateNewState(e, u.default.getChannel(this.parentId));
                    this.addUser(e, t, n, l)
                }
                removeUserId(e, t) {
                    if (this.allUserIds.delete(e), null != t && this.removeUserIdFromSection(e, t)) return !0;
                    for (let t in this.sections)
                        if (this.removeUserIdFromSection(e, t)) return !0;
                    return !1
                }
                addUser(e, t, n, l, a) {
                    this.allUserIds.add(e);
                    let s = h.default.getUser(e);
                    if (null == s || "" === s.username) return;
                    !(t in this.sections) && (this.sections[t] = {
                        sectionId: t,
                        usersById: {},
                        userIds: []
                    });
                    let i = this.sections[t];
                    if (i.usersById[e] = {
                            userId: e,
                            displayName: n,
                            canViewChannel: l
                        }, a) i.userIds.push(e);
                    else {
                        let t = this.findUserIdSortedPosition(i, e, n);
                        i.userIds.splice(t, 0, e)
                    }
                    this.version++
                }
                findUserIdSortedPosition(e, t, n) {
                    let {
                        userIds: l,
                        usersById: a
                    } = e;
                    for (let e = 0; e < l.length; e++) {
                        let s = l[e],
                            i = a[s].displayName;
                        if (i === n) {
                            if (t < s) return e
                        } else if (null == i) {
                            if (null != n) return e
                        } else if (null != n && n < i) return e
                    }
                    return l.length
                }
                removeUserIdFromSection(e, t) {
                    let n = this.sections[t];
                    return null != t && e in n.usersById && (delete n.usersById[e], n.userIds = n.userIds.filter(t => t !== e), this.version++, !0)
                }
                findOldState(e) {
                    for (let t in this.sections) {
                        let n = this.sections[t];
                        if (e in n.usersById) {
                            let l = n.usersById[e];
                            return [t, l.displayName, l.canViewChannel]
                        }
                    }
                    return [void 0, void 0, !1]
                }
                calculateNewState(e, t) {
                    var n, l;
                    let a = o.default.getMember(this.guildId, e),
                        s = h.default.getUser(e),
                        i = h.default.getCurrentUser(),
                        r = (null == s ? void 0 : s.id) === (null == i ? void 0 : i.id),
                        u = r ? f.default.getStatus() : c.default.getStatus(e, this.guildId),
                        d = null != s && null != t && m.default.can({
                            permission: C.Permissions.VIEW_CHANNEL,
                            user: s,
                            context: t
                        }),
                        p = u !== C.StatusTypes.OFFLINE && u !== C.StatusTypes.INVISIBLE && u !== C.StatusTypes.UNKNOWN,
                        g = p ? null !== (n = null == a ? void 0 : a.hoistRoleId) && void 0 !== n ? n : "online" : "offline",
                        S = null !== (l = null == a ? void 0 : a.nick) && void 0 !== l ? l : E.default.getName(s);
                    return [g, null == S ? void 0 : S.toLowerCase(), d]
                }
                constructor(e, t, n) {
                    this.guildId = e, this.parentId = t, this.threadId = n, this.version = 0, this.sections = {}, this.allUserIds = new Set
                }
            }

            function _(e) {
                return I(e.user.id)
            }

            function I(e) {
                if (null == e) return !1;
                let t = !1;
                for (let n in g) g[n].updateUserId(e) && (t = !0);
                return t
            }

            function T(e) {
                let {
                    guildId: t
                } = e, n = !1;
                for (let e in g) g[e].guildId === t && (g[e].rebuild(), n = !0);
                return n
            }
            class x extends i.default.Store {
                initialize() {
                    this.waitFor(u.default, o.default, d.default, c.default, f.default, h.default), this.syncWith([d.default], () => {
                        let e = d.default.getSubscribedThreadIds(),
                            t = !1;
                        for (let n in g) !e.has(n) && (delete g[n], t = !0);
                        return t
                    }), this.syncWith([f.default], () => {
                        var e;
                        return I(null === (e = h.default.getCurrentUser()) || void 0 === e ? void 0 : e.id)
                    })
                }
                getMemberListVersion(e) {
                    var t;
                    return null === (t = g[e]) || void 0 === t ? void 0 : t.version
                }
                getMemberListSections(e) {
                    var t;
                    return null === (t = g[e]) || void 0 === t ? void 0 : t.sections
                }
                canUserViewChannel(e, t, n) {
                    var l, a;
                    let s = g[e];
                    if (null == s) return !1;
                    let i = null === (l = s.sections[t]) || void 0 === l ? void 0 : l.usersById[n];
                    return null !== (a = null == i ? void 0 : i.canViewChannel) && void 0 !== a && a
                }
            }
            x.displayName = "ThreadMemberListStore";
            var N = new x(r.default, {
                CONNECTION_OPEN: function() {
                    g = {}
                },
                THREAD_MEMBERS_UPDATE: function(e) {
                    var t, n;
                    if (!(e.id in g)) return !1;
                    null === (t = e.addedMembers) || void 0 === t || t.forEach(t => {
                        let {
                            userId: n
                        } = t;
                        return g[e.id].addUserId(n)
                    }), null === (n = e.removedMemberIds) || void 0 === n || n.forEach(t => g[e.id].removeUserId(t))
                },
                THREAD_UPDATE: function(e) {
                    var t;
                    let {
                        channel: n
                    } = e;
                    if (!(n.id in g) || (null === (t = n.threadMetadata) || void 0 === t ? void 0 : t.archived) !== !0) return !1;
                    delete g[n.id]
                },
                THREAD_DELETE: function(e) {
                    let {
                        channel: t
                    } = e;
                    if (!(t.id in g)) return !1;
                    delete g[t.id]
                },
                CHANNEL_UPDATES: function(e) {
                    let {
                        channels: t
                    } = e, n = new Set(t.map(e => e.id)), l = !1;
                    for (let e in g) n.has(g[e].parentId) && (g[e].rebuild(), l = !0);
                    return l
                },
                THREAD_MEMBER_LIST_UPDATE: function(e) {
                    let {
                        threadId: t,
                        guildId: n,
                        members: l
                    } = e, a = u.default.getChannel(t), s = null == a ? void 0 : a.parent_id;
                    null != s && (g[t] = new S(n, s, t), g[t].rebuild(l.map(e => e.user_id)))
                },
                USER_UPDATE: _,
                PRESENCE_UPDATES: function(e) {
                    let {
                        updates: t
                    } = e;
                    return t.map(e => {
                        let {
                            user: t
                        } = e;
                        return I(t.id)
                    }).some(e => e)
                },
                GUILD_MEMBER_ADD: _,
                GUILD_MEMBER_UPDATE: _,
                GUILD_MEMBER_REMOVE: _,
                PRESENCES_REPLACE: function(e) {
                    let {
                        presences: t
                    } = e, n = a(t).map(e => {
                        var t;
                        return null === (t = e.user) || void 0 === t ? void 0 : t.id
                    }).filter(p.isNotNullish).uniq().value(), l = !1;
                    for (let e in g) g[e].updateMultipleUserIds(n) && (l = !0);
                    return l
                },
                GUILD_MEMBERS_CHUNK: function(e) {
                    let {
                        guildId: t,
                        members: n
                    } = e, l = n.map(e => e.user.id), a = !1;
                    for (let e in g) g[e].updateMultipleUserIds(l, t) && (a = !0);
                    return a
                },
                GUILD_ROLE_UPDATE: T,
                GUILD_ROLE_DELETE: T,
                PASSIVE_UPDATE_V1: function(e) {
                    var t;
                    return null === (t = e.members) || void 0 === t ? void 0 : t.reduce((e, t) => I(t.user.id) || e, !1)
                }
            })
        },
        445375: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return Z
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("446674"),
                u = n("77078"),
                o = n("295426"),
                d = n("352674"),
                c = n("125667"),
                f = n("264732"),
                h = n("206230"),
                p = n("812204"),
                m = n("685665"),
                E = n("850391"),
                C = n("149022"),
                g = n("681060"),
                S = n("376215"),
                _ = n("172554"),
                I = n("699473"),
                T = n("328511"),
                x = n("467094"),
                N = n("845579"),
                v = n("42203"),
                A = n("474643"),
                M = n("377253"),
                R = n("957255"),
                L = n("585722"),
                j = n("476765"),
                O = n("945330"),
                y = n("745183"),
                P = n("959097"),
                D = n("664336"),
                b = n("378765"),
                U = n("718422"),
                w = n("412861"),
                F = n("910927"),
                G = n("730498"),
                B = n("24337"),
                k = n("967241"),
                H = n("517141"),
                V = n("49111"),
                W = n("782340"),
                Y = n("276159"),
                z = n("881812");
            let K = E.ChatInputTypes.THREAD_CREATION;

            function Z(e) {
                let {
                    parentChannelId: t,
                    parentMessageId: n,
                    location: a
                } = e, s = (0, r.useStateFromStores)([v.default], () => v.default.getChannel(t)), {
                    AnalyticsLocationProvider: i
                } = (0, m.default)(p.default.CREATE_THREAD);
                return null == s ? null : (0, l.jsx)(i, {
                    children: (0, l.jsx)(b.ComponentDispatchGroupProvider, {
                        children: (0, l.jsxs)("section", {
                            "aria-label": W.default.Messages.CREATE_THREAD,
                            className: Y.container,
                            children: [(0, l.jsx)(f.default, {
                                channel: s,
                                draftType: A.DraftType.FirstThreadMessage
                            }), (0, l.jsxs)(D.default, {
                                toolbar: (0, l.jsx)(D.default.Icon, {
                                    icon: O.default,
                                    tooltip: W.default.Messages.CLOSE,
                                    onClick: () => (0, k.closeAndClearThreadSidebar)(t)
                                }),
                                children: [(0, l.jsx)(D.default.Icon, {
                                    icon: P.default,
                                    disabled: !0,
                                    "aria-label": W.default.Messages.THREAD
                                }), (0, l.jsx)(D.default.Title, {
                                    children: W.default.Messages.NEW_THREAD
                                })]
                            }), (0, l.jsx)(X, {
                                parentChannel: s,
                                parentMessageId: n,
                                location: a
                            })]
                        })
                    })
                })
            }

            function X(e) {
                let {
                    parentChannel: t,
                    parentMessageId: n,
                    location: s
                } = e, d = (0, r.useStateFromStores)([h.default], () => h.default.messageGroupSpacing), f = function() {
                    let e = a.useContext(b.ComponentDispatchGroupContext);
                    return a.useCallback(() => {
                        e.bumpDispatchPriority()
                    }, [e])
                }(), {
                    threadSettings: p,
                    setThreadSettings: m,
                    updateThreadSettings: E
                } = function(e, t) {
                    let [n, l] = a.useState({}), s = a.useCallback(n => {
                        l(e => ({
                            ...e,
                            ...n
                        })), o.default.changeThreadSettings(e.id, {
                            ...n,
                            parentMessageId: t
                        })
                    }, [e.id, t]);
                    return {
                        threadSettings: n,
                        setThreadSettings: l,
                        updateThreadSettings: s
                    }
                }(t, n), {
                    textAreaState: g,
                    setTextAreaState: S
                } = function(e, t) {
                    let [n, l] = a.useState((0, C.createEmptyState)());
                    return a.useEffect(() => {
                        function n(n) {
                            var a;
                            let s = A.default.getDraft(e.id, A.DraftType.FirstThreadMessage);
                            (0 === s.length || !0 === n) && l((0, C.createState)(s)), t(null !== (a = A.default.getThreadSettings(e.id)) && void 0 !== a ? a : {})
                        }
                        return n(!0), A.default.addChangeListener(n), () => {
                            A.default.removeChangeListener(n)
                        }
                    }, [e.id, t]), {
                        textAreaState: n,
                        setTextAreaState: l
                    }
                }(t, m), I = (0, G.usePrivateThreadMode)(t), {
                    nameError: N,
                    messageError: v,
                    submit: M
                } = function(e) {
                    let {
                        parentChannel: t,
                        parentMessageId: n,
                        threadSettings: l,
                        privateThreadMode: s,
                        textAreaState: i,
                        location: r
                    } = e, [u, o] = a.useState(null), [d, c] = a.useState(null), f = (0, H.default)({
                        parentChannel: t,
                        parentMessageId: n,
                        threadSettings: l,
                        privateThreadMode: s,
                        location: r,
                        onThreadCreated: k.openThreadSidebarForViewing,
                        useDefaultThreadName: !0
                    }), h = a.useCallback(async (e, a, s) => {
                        var r, u, d;
                        null == e && (e = i.textValue), e = e.trim(), (null == a || 0 === a.length) && (a = null === (r = T.default.getStickerPreview(t.id, K.drafts.type)) || void 0 === r ? void 0 : r.map(e => e.id)), (null == s || 0 === s.length) && (s = L.default.getUploads(t.id, A.DraftType.FirstThreadMessage));
                        let h = null !== (u = l.name) && void 0 !== u ? u : "",
                            p = null == n && 0 === h.length,
                            m = "" === e && (null == a || 0 === a.length) && 0 === s.length;
                        if (o(p ? (0, F.makeEmptyTitleError)() : null), c(m ? (0, F.makeEmptyMessageError)() : null), p || m) return {
                            shouldClear: !1,
                            shouldRefocus: !0
                        };
                        if (null == n) {
                            let {
                                valid: n
                            } = await (0, U.applyChatRestrictions)({
                                content: e,
                                stickers: a,
                                uploads: s,
                                type: K,
                                channel: t
                            });
                            if (!n) return {
                                shouldClear: !1,
                                shouldRefocus: !0
                            }
                        }
                        try {
                            await f(e, a, s)
                        } catch (e) {
                            return (null === (d = e.body) || void 0 === d ? void 0 : d.code) === V.AbortCodes.AUTOMOD_TITLE_BLOCKED && o((0, F.makeAutomodViolationError)(e.body, t)), {
                                shouldClear: !1,
                                shouldRefocus: !0
                            }
                        }
                        return (0, x.clearStickerPreview)(t.id, K.drafts.type), {
                            shouldClear: !0,
                            shouldRefocus: !1
                        }
                    }, [f, i.textValue, l.name, n, t]);
                    return {
                        nameError: u,
                        messageError: d,
                        submit: h
                    }
                }({
                    parentChannel: t,
                    parentMessageId: n,
                    threadSettings: p,
                    privateThreadMode: I,
                    textAreaState: g,
                    location: s
                }), R = (0, G.getIsPrivate)(p, I) ? y.default : P.default;
                return (0, l.jsx)("div", {
                    className: Y.chat,
                    onMouseDown: f,
                    onFocus: f,
                    children: (0, l.jsx)("div", {
                        className: i(Y.messagesWrapper, "group-spacing-".concat(d)),
                        children: (0, l.jsxs)("form", {
                            onSubmit: e => {
                                e.preventDefault(), M()
                            },
                            className: Y.form,
                            children: [(0, l.jsx)(u.Scroller, {
                                className: Y.scroller,
                                fade: !0,
                                children: (0, l.jsxs)("div", {
                                    className: Y.scrollerInner,
                                    children: [(0, l.jsxs)(_.default, {
                                        channelId: "create-thread-null",
                                        children: [(0, l.jsx)("div", {
                                            className: z.iconWrapper,
                                            children: (0, l.jsx)(R, {
                                                className: z.icon
                                            })
                                        }), (0, l.jsx)(Q, {
                                            parentChannel: t,
                                            parentMessageId: n,
                                            threadSettings: p,
                                            updateThreadSettings: E,
                                            error: N
                                        }), t.type === V.ChannelTypes.GUILD_TEXT ? (0, l.jsx)(q, {
                                            startedFromMessage: null != n,
                                            threadSettings: p,
                                            updateThreadSettings: E,
                                            privateThreadMode: I
                                        }) : null]
                                    }), (0, l.jsx)($, {
                                        parentChannel: t,
                                        parentMessageId: n
                                    })]
                                })
                            }), (0, l.jsxs)("div", {
                                className: Y.submitContainer,
                                children: [(0, l.jsx)(J, {
                                    parentChannel: t,
                                    textAreaState: g,
                                    setTextAreaState: S,
                                    submit: M,
                                    error: v
                                }), (0, l.jsx)(c.default, {
                                    channel: t,
                                    isThreadCreation: !0
                                })]
                            })]
                        })
                    })
                })
            }

            function q(e) {
                let {
                    startedFromMessage: t,
                    threadSettings: n,
                    updateThreadSettings: a,
                    privateThreadMode: s
                } = e, r = (0, G.getIsPrivate)(n, s), o = (0, l.jsx)("div", {
                    className: Y.privateThreadFormTitle,
                    children: (0, l.jsx)("span", {
                        className: Y.privateThreadFormTitleText,
                        children: W.default.Messages.PRIVATE_THREAD
                    })
                }), d = (0, l.jsx)(u.Checkbox, {
                    className: i(Y.checkbox),
                    type: u.Checkbox.Types.INVERTED,
                    disabled: s === G.PrivateThreadMode.PrivateOnly,
                    value: r,
                    onChange: (e, t) => a({
                        isPrivate: t
                    }),
                    children: (0, l.jsx)(u.Text, {
                        variant: "text-md/normal",
                        color: "none",
                        children: W.default.Messages.FORM_THREAD_PRIVATE_THREAD_SECTION_LABEL
                    })
                });
                return t || s === G.PrivateThreadMode.Disabled ? null : (0, l.jsxs)(u.FormSection, {
                    title: o,
                    className: Y.formSection,
                    children: [d, r ? (0, l.jsx)(u.Text, {
                        className: Y.privateThreadDescription,
                        variant: "text-xs/normal",
                        color: "header-secondary",
                        children: W.default.Messages.FORM_THREAD_PRIVATE_THREAD_DESCRIPTION
                    }) : null]
                })
            }

            function Q(e) {
                var t;
                let {
                    parentChannel: n,
                    parentMessageId: a,
                    threadSettings: s,
                    updateThreadSettings: i,
                    error: r
                } = e, o = null !== (t = s.name) && void 0 !== t ? t : "", c = (0, F.renderError)(r, {
                    content: o
                }), f = (0, G.getDefaultThreadName)(n, a), h = null != a, p = (0, j.useUID)();
                return (0, l.jsx)(u.FormSection, {
                    tag: "label",
                    htmlFor: p,
                    title: W.default.Messages.THREAD_NAME + (h ? " (Optional)" : ""),
                    className: Y.formSection,
                    children: (0, l.jsx)(u.TextInput, {
                        value: o,
                        id: p,
                        placeholder: "" !== f ? f : W.default.Messages.FORM_THREAD_NAME_PLACEHOLDER,
                        maxLength: V.MAX_CHANNEL_NAME_LENGTH,
                        onChange: e => {
                            i({
                                name: (0, B.default)(e, !1)
                            }), "" !== e ? d.default.startTyping(n.id) : d.default.stopTyping(n.id)
                        },
                        onBlur: () => {
                            let e = (0, B.default)(o, !0);
                            e !== o && i({
                                name: e
                            })
                        },
                        error: c
                    })
                })
            }

            function J(e) {
                let {
                    parentChannel: t,
                    textAreaState: n,
                    setTextAreaState: s,
                    submit: c,
                    error: f
                } = e, [h, p] = a.useState(!0), m = a.useCallback(() => p(!0), []), E = a.useCallback(() => p(!1), []), C = a.useCallback((e, n, l) => {
                    o.default.saveDraft(t.id, n, A.DraftType.FirstThreadMessage), s(e => ("" !== n && e.textValue !== n ? d.default.startTyping(t.id) : "" === n && d.default.stopTyping(t.id), {
                        textValue: n,
                        richValue: l
                    }))
                }, [t.id, s]), _ = a.useCallback(e => {
                    let {
                        value: t,
                        uploads: n,
                        stickers: l
                    } = e;
                    return c(t, l, n)
                }, [c]);
                (0, b.useComponentAction)({
                    event: V.ComponentActions.TEXTAREA_FOCUS,
                    handler: m
                }), (0, b.useComponentAction)({
                    event: V.ComponentActions.TEXTAREA_BLUR,
                    handler: E
                });
                let I = (0, r.useStateFromStores)([R.default], () => R.default.can(V.Permissions.ATTACH_FILES, t)),
                    T = (0, F.renderError)(f, {
                        content: n.textValue
                    });
                return (0, l.jsxs)(l.Fragment, {
                    children: [(0, l.jsx)(S.default, {
                        channelId: t.id,
                        type: K,
                        canAttachFiles: I
                    }), (0, l.jsx)("div", {
                        className: Y.starterMessageError,
                        children: (0, l.jsx)(u.InputError, {
                            error: T
                        })
                    }), (0, l.jsx)(g.default, {
                        type: K,
                        channel: t,
                        placeholder: W.default.Messages.FORM_THREAD_STARTER_MESSAGE_PLACEHOLDER,
                        textValue: n.textValue,
                        richValue: n.richValue,
                        focused: h,
                        className: Y.channelTextArea,
                        innerClassName: i(Y.channelTextAreaInner, {
                            [Y.channelTextAreaInnerError]: null != T
                        }),
                        onFocus: m,
                        onBlur: E,
                        onChange: C,
                        onSubmit: _,
                        promptToUpload: w.promptToUpload
                    })]
                })
            }

            function $(e) {
                let {
                    parentChannel: t,
                    parentMessageId: n
                } = e, a = (0, r.useStateFromStores)([M.default], () => null == n ? null : M.default.getMessage(t.id, n)), s = N.MessageDisplayCompact.useSetting();
                return null != a ? (0, l.jsx)(I.default, {
                    className: Y.messagePreview,
                    message: a,
                    channel: t,
                    compact: s,
                    renderThreadAccessory: !1,
                    trackAnnouncementViews: !0
                }) : null
            }
        },
        38861: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("446674"),
                i = n("782926"),
                r = n("77078"),
                u = n("247013"),
                o = n("697218"),
                d = n("959097"),
                c = n("664336"),
                f = n("487269"),
                h = n("537560"),
                p = n("782340"),
                m = n("16064");

            function E(e) {
                let {
                    channel: t
                } = e, [n, E] = a.useState(!1), C = (0, s.useStateFromStores)([u.default, o.default], () => {
                    let e = o.default.getCurrentUser();
                    return null == e || t.isNSFW() && (!e.nsfwAllowed || !u.default.didAgree(t.getGuildId()))
                }, [t]), g = a.useCallback(() => {
                    E(!1)
                }, []), S = a.useCallback(() => {
                    !n && (0, f.trackThreadBrowserOpened)("Popout"), E(!n)
                }, [n]), _ = (0, r.useRedesignIconContext)().enabled;
                return (0, l.jsx)(r.Popout, {
                    animation: r.Popout.Animation.NONE,
                    position: "bottom",
                    align: "right",
                    autoInvert: !1,
                    shouldShow: n,
                    onRequestClose: g,
                    renderPopout: function() {
                        return (0, l.jsx)(r.Dialog, {
                            children: (0, l.jsx)(h.default, {
                                className: m.browser,
                                channel: t,
                                onClose: g
                            })
                        })
                    },
                    children: (e, t) => {
                        let {
                            isShown: n
                        } = t;
                        return (0, l.jsx)(c.Icon, {
                            ...e,
                            className: m.icon,
                            onClick: S,
                            icon: _ ? i.ThreadIcon : d.default,
                            "aria-label": p.default.Messages.THREADS,
                            tooltip: n ? null : p.default.Messages.THREADS,
                            disabled: C,
                            selected: n
                        })
                    }
                })
            }
        },
        31673: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("77078"),
                i = n("660279"),
                r = n("998650"),
                u = n("664336"),
                o = n("659500"),
                d = n("414833"),
                c = n("547772"),
                f = n("648564"),
                h = n("49111"),
                p = n("782340"),
                m = n("496913");

            function E(e) {
                let {
                    channel: t
                } = e, n = (0, d.useThreadNotificationSetting)(t), [E, C] = a.useState(!1);
                a.useEffect(() => {
                    let e = () => C(!0);
                    return o.ComponentDispatch.subscribe(h.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS, e), () => {
                        o.ComponentDispatch.unsubscribe(h.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS, e)
                    }
                }, []);
                let g = p.default.Messages.NOTIFICATION_SETTINGS;
                return (0, l.jsx)(s.Popout, {
                    shouldShow: E,
                    animation: s.Popout.Animation.NONE,
                    position: "bottom",
                    align: "right",
                    autoInvert: !1,
                    onRequestClose: () => C(!1),
                    renderPopout: e => (0, l.jsx)(c.default, {
                        ...e,
                        channel: t,
                        navId: "thread-context",
                        label: p.default.Messages.THREAD_ACTIONS_MENU_LABEL
                    }),
                    children: (e, t) => {
                        let {
                            isShown: a
                        } = t;
                        return (0, l.jsx)(u.default.Icon, {
                            ...e,
                            onClick: () => C(e => !e),
                            tooltip: a ? null : g,
                            icon: n === f.ThreadMemberFlags.NO_MESSAGES ? r.default : i.default,
                            foreground: n === f.ThreadMemberFlags.NO_MESSAGES ? m.strikethrough : null,
                            "aria-label": g,
                            selected: a
                        })
                    }
                })
            }
        },
        338273: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return A
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("917351"),
                i = n.n(s),
                r = n("446674"),
                u = n("77078"),
                o = n("30874"),
                d = n("458574"),
                c = n("308798"),
                f = n("64016"),
                h = n("13777"),
                p = n("37774"),
                m = n("117399"),
                E = n("400501"),
                C = n("542640"),
                g = n("604656"),
                S = n("861370"),
                _ = n("845579"),
                I = n("800762"),
                T = n("433487"),
                x = n("664336"),
                N = n("967241"),
                v = n("782340");

            function A(e) {
                let {
                    channel: t
                } = e, [n, s] = a.useState(!1);

                function i() {
                    s(e => !e)
                }
                let r = v.default.Messages.MORE;
                return (0, l.jsx)(u.Popout, {
                    shouldShow: n,
                    animation: u.Popout.Animation.NONE,
                    position: "bottom",
                    align: "right",
                    autoInvert: !1,
                    onRequestClose: () => s(!1),
                    renderPopout: function(e) {
                        return (0, l.jsx)(M, {
                            ...e,
                            channel: t
                        })
                    },
                    children: (e, t) => {
                        let {
                            isShown: n
                        } = t;
                        return (0, l.jsx)(x.default.Icon, {
                            ...e,
                            onClick: i,
                            tooltip: n ? null : r,
                            icon: T.default,
                            "aria-label": r,
                            selected: n
                        })
                    }
                })
            }

            function M(e) {
                let {
                    channel: t,
                    closePopout: n,
                    onSelect: a
                } = e, s = (0, o.default)(t), T = (0, p.default)(t), x = (0, C.default)(t.id), A = (0, E.default)(t), M = (0, S.default)({
                    id: t.id,
                    label: v.default.Messages.COPY_ID_THREAD
                }), R = (0, d.default)(t), L = (0, c.default)(t), j = (0, f.default)(t, "Toolbar Overflow"), O = (0, m.default)(t), y = (0, h.default)(t), P = (0, g.default)(t), D = _.UseThreadSidebar.useSetting(), b = (0, r.useStateFromStores)([I.default], () => !i.isEmpty(I.default.getVoiceStatesForChannel(t.id)));
                return (0, l.jsxs)(u.Menu, {
                    navId: "thread-context",
                    onClose: n,
                    "aria-label": v.default.Messages.THREAD_ACTIONS_MENU_LABEL,
                    onSelect: a,
                    children: [(0, l.jsxs)(u.MenuGroup, {
                        children: [j, y]
                    }), (0, l.jsxs)(u.MenuGroup, {
                        children: [A, O, x, D && !b ? (0, l.jsx)(u.MenuItem, {
                            id: "open",
                            label: v.default.Messages.OPEN_IN_SPLIT_VIEW,
                            action: function() {
                                (0, N.openThreadSidebarForViewing)(t)
                            }
                        }) : null]
                    }), (0, l.jsxs)(u.MenuGroup, {
                        children: [P, s, T, L]
                    }), (0, l.jsxs)(u.MenuGroup, {
                        children: [R, M]
                    })]
                })
            }
        },
        503220: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return j
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("77078"),
                i = n("30874"),
                r = n("308798"),
                u = n("64016"),
                o = n("37774"),
                d = n("117399"),
                c = n("400501"),
                f = n("542640"),
                h = n("255228"),
                p = n("772371"),
                m = n("604656"),
                E = n("861370"),
                C = n("565298"),
                g = n("144491"),
                S = n("945330"),
                _ = n("758710"),
                I = n("433487"),
                T = n("664336"),
                x = n("659500"),
                N = n("31673"),
                v = n("967241"),
                A = n("49111"),
                M = n("782340");

            function R(e) {
                let {
                    channel: t
                } = e, [n, i] = a.useState(!1);

                function r() {
                    i(e => !e)
                }
                let u = M.default.Messages.MORE;
                return (0, l.jsx)(s.Popout, {
                    shouldShow: n,
                    animation: s.Popout.Animation.NONE,
                    position: "bottom",
                    align: "right",
                    autoInvert: !1,
                    onRequestClose: () => i(!1),
                    renderPopout: function(e) {
                        return (0, l.jsx)(L, {
                            ...e,
                            channel: t
                        })
                    },
                    children: (e, t) => {
                        let {
                            isShown: n
                        } = t;
                        return (0, l.jsx)(T.default.Icon, {
                            ...e,
                            onClick: r,
                            tooltip: n ? null : u,
                            icon: I.default,
                            "aria-label": u,
                            selected: n
                        })
                    }
                })
            }

            function L(e) {
                let {
                    channel: t,
                    closePopout: n,
                    onSelect: a
                } = e, C = (0, u.default)(t, "Sidebar Overflow"), S = (0, d.default)(t), I = (0, h.default)(t), T = (0, p.default)(t), N = (0, i.default)(t), v = (0, o.default)(t), R = (0, f.default)(t.id), L = (0, c.default)(t), j = (0, r.default)(t), O = (0, E.default)({
                    id: t.id,
                    label: M.default.Messages.COPY_ID_THREAD
                }), y = (0, m.default)(t);

                function P() {
                    (0, g.transitionToChannel)(t.id)
                }
                return (0, l.jsxs)(s.Menu, {
                    navId: "thread-context",
                    onClose: n,
                    "aria-label": M.default.Messages.THREAD_ACTIONS_MENU_LABEL,
                    onSelect: a,
                    children: [(0, l.jsxs)(s.MenuGroup, {
                        children: [C, (0, l.jsx)(s.MenuItem, {
                            id: "open",
                            label: M.default.Messages.OPEN_IN_FULL_VIEW,
                            action: P
                        })]
                    }), (0, l.jsxs)(s.MenuGroup, {
                        children: [I, T]
                    }), (0, l.jsxs)(s.MenuGroup, {
                        children: [L, S, R]
                    }), (0, l.jsxs)(s.MenuGroup, {
                        children: [(0, l.jsx)(s.MenuItem, {
                            id: "search",
                            label: M.default.Messages.SEARCH,
                            icon: _.default,
                            action: function() {
                                P(), setTimeout(() => {
                                    x.ComponentDispatch.dispatch(A.ComponentActions.FOCUS_SEARCH, {
                                        prefillCurrentChannel: !1
                                    })
                                }, 2e3)
                            }
                        }), (0, l.jsx)(s.MenuItem, {
                            id: "pins",
                            label: M.default.Messages.PINS,
                            icon: _.default,
                            action: function() {
                                P(), x.ComponentDispatch.dispatch(A.ComponentActions.TOGGLE_CHANNEL_PINS)
                            }
                        })]
                    }), (0, l.jsxs)(s.MenuGroup, {
                        children: [y, N, v, j]
                    }), (0, l.jsx)(s.MenuGroup, {
                        children: O
                    })]
                })
            }

            function j(e) {
                let {
                    channel: t,
                    baseChannelId: n
                } = e;
                return (0, l.jsxs)(l.Fragment, {
                    children: [t.isForumPost() ? null : (0, l.jsx)(N.default, {
                        channel: t
                    }), (0, l.jsx)(R, {
                        channel: t
                    }), (0, l.jsx)(T.default.Icon, {
                        icon: S.default,
                        tooltip: M.default.Messages.CLOSE,
                        onClick: () => (0, v.closeThreadSidebar)((0, C.getGuildIdForGenericRedirect)(t), null != n ? n : t.parent_id)
                    })]
                })
            }
        },
        861570: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return R
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("917351"),
                i = n.n(s),
                r = n("446674"),
                u = n("913144"),
                o = n("272030"),
                d = n("264732"),
                c = n("716241"),
                f = n("701916"),
                h = n("679653"),
                p = n("176347"),
                m = n("850391"),
                E = n("557809"),
                C = n("144491"),
                g = n("42203"),
                S = n("474643"),
                _ = n("305961"),
                I = n("800762"),
                T = n("664336"),
                x = n("503220"),
                N = n("648564"),
                v = n("49111"),
                A = n("782340"),
                M = n("176692");

            function R(e) {
                let {
                    channelId: t,
                    baseChannelId: s,
                    channelViewSource: R = "Split View"
                } = e, L = (0, r.useStateFromStores)([g.default], () => g.default.getChannel(t)), j = (0, r.useStateFromStores)([_.default], () => _.default.getGuild(null == L ? void 0 : L.getGuildId())), O = (0, h.default)(L);
                (function(e) {
                    let t = (0, r.useStateFromStores)([I.default], () => null != e && !i.isEmpty(I.default.getVoiceStatesForChannel(e.id)));
                    a.useEffect(() => {
                        t && null != e && (u.default.dispatch({
                            type: "SIDEBAR_CLOSE",
                            baseChannelId: e.parent_id
                        }), (0, C.transitionToThread)(e, N.OpenThreadAnalyticsLocations.VOICE_AUTO_OPEN))
                    }, [t, e])
                })(L);
                let y = a.useRef(!1);
                if (a.useEffect(() => {
                        if (null == L || y.current) return;
                        y.current = !0;
                        let e = (0, f.collectThreadMetadata)(g.default.getChannel(L.id), !0);
                        (0, c.trackWithMetadata)(v.AnalyticEvents.CHANNEL_OPENED, {
                            ...e,
                            channel_id: L.id,
                            guild_id: L.guild_id,
                            parent_id: L.parent_id,
                            channel_view: R
                        })
                    }, [L, R]), null == L || null == j) return null;
                let P = (0, l.jsx)(x.default, {
                    channel: L,
                    baseChannelId: s
                });
                return (0, l.jsxs)(l.Fragment, {
                    children: [(0, l.jsx)(d.default, {
                        channel: L,
                        draftType: S.DraftType.ChannelMessage
                    }), (0, l.jsx)(T.default, {
                        toolbar: P,
                        "aria-label": A.default.Messages.THREAD_HEADER_BAR_A11Y_LABEL,
                        children: (0, E.renderTitle)({
                            channel: L,
                            channelName: O,
                            guild: j,
                            inSidebar: !0,
                            handleContextMenu: function(e) {
                                (0, o.openContextMenuLazy)(e, async () => {
                                    let {
                                        default: e
                                    } = await n.el("994827").then(n.bind(n, "994827"));
                                    return t => (0, l.jsx)(e, {
                                        ...t,
                                        channel: L
                                    })
                                })
                            },
                            handleClick: function() {
                                null != L && (0, C.transitionToChannel)(L.id)
                            }
                        })
                    }), (0, l.jsx)("div", {
                        className: M.chat,
                        children: (0, l.jsx)(p.default, {
                            channel: L,
                            guild: j,
                            chatInputType: m.ChatInputTypes.SIDEBAR
                        }, t)
                    })]
                })
            }
        },
        517141: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                },
                useCreateForumPost: function() {
                    return C
                }
            });
            var l = n("884691"),
                a = n("16470"),
                s = n("404118"),
                i = n("783480"),
                r = n("681736"),
                u = n("578198"),
                o = n("884351"),
                d = n("474643"),
                c = n("305961"),
                f = n("254490"),
                h = n("730498"),
                p = n("49111"),
                m = n("782340");

            function E(e) {
                let {
                    parentChannel: t,
                    parentMessageId: n,
                    threadSettings: a,
                    privateThreadMode: s,
                    location: r,
                    onThreadCreated: u,
                    useDefaultThreadName: c
                } = e, f = l.useCallback((e, t, n, l) => {
                    i.default.uploadFiles({
                        channelId: e.id,
                        uploads: t,
                        draftType: d.DraftType.FirstThreadMessage,
                        options: {
                            stickerIds: l
                        },
                        parsedMessage: o.default.parse(e, n)
                    })
                }, []);
                return (0, h.useCreateThreadCommon)({
                    parentChannel: t,
                    parentMessageId: n,
                    threadSettings: a,
                    privateThreadMode: s,
                    location: r,
                    onThreadCreated: u,
                    useDefaultThreadName: c,
                    uploadHandler: f
                })
            }

            function C(e) {
                let {
                    parentChannel: t
                } = e, {
                    name: n,
                    appliedTags: l
                } = (0, u.useForumPostComposerStore)(e => {
                    let {
                        name: t,
                        appliedTags: n
                    } = e;
                    return {
                        name: t,
                        appliedTags: n
                    }
                }, a.default);
                return (0, h.useCreateForumPostCommon)({
                    parentChannel: t,
                    name: n,
                    appliedTags: l,
                    upload: function(e, n, l) {
                        return new Promise((a, i) => {
                            let u = new r.default(e);
                            u.on("error", (e, n, l) => {
                                if (n === p.AbortCodes.EXPLICIT_CONTENT) {
                                    var a;
                                    let e = c.default.getGuild(null !== (a = t.getGuildId()) && void 0 !== a ? a : "");
                                    null != e && s.default.show({
                                        title: m.default.Messages.UPLOAD_AREA_UPLOAD_FAILED_TITLE,
                                        body: m.default.Messages.BOT_GUILD_EXPLICIT_CONTENT.format({
                                            name: e.toString()
                                        })
                                    })
                                } else if (n === p.AbortCodes.ENTITY_TOO_LARGE) {
                                    let e = (0, f.maxFileSize)(t.getGuildId());
                                    s.default.show({
                                        title: m.default.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,
                                        body: m.default.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({
                                            maxSize: (0, f.sizeString)(e)
                                        })
                                    })
                                } else n === p.AbortCodes.TOO_MANY_ATTACHMENTS && s.default.show({
                                    title: m.default.Messages.ATTACHMENT_TOO_MANY_ERROR_TITLE,
                                    body: m.default.Messages.ATTACHMENT_TOO_MANY_ERROR_MESSAGE.format({
                                        limit: p.MAX_UPLOAD_COUNT
                                    })
                                });
                                i({
                                    body: l
                                })
                            }), u.on("complete", (e, t) => {
                                a({
                                    body: t
                                })
                            }), u.uploadFiles(l, n, {
                                addFilesTo: "message.attachments"
                            })
                        })
                    }
                })
            }
        },
        893980: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                trackProfilePanelViewed: function() {
                    return u
                },
                trackProfilePanelToggled: function() {
                    return o
                }
            });
            var l = n("373469"),
                a = n("824563"),
                s = n("27618"),
                i = n("599110"),
                r = n("49111");
            let u = e => {
                    let {
                        displayProfile: t,
                        isMobile: n,
                        loadDurationMs: l,
                        activity: a,
                        customStatusActivity: s,
                        status: u
                    } = e;
                    i.default.track(r.AnalyticEvents.DM_PROFILE_VIEWED, {
                        has_mobile_indicator: n,
                        has_activity: null != a && (null == a ? void 0 : a.type) !== r.ActivityTypes.CUSTOM_STATUS,
                        has_game_activity: (null == a ? void 0 : a.type) === r.ActivityTypes.PLAYING,
                        load_duration_ms: l,
                        profile_user_status: u,
                        has_custom_status: null != s,
                        has_profile_effect: null != t.profileEffectID,
                        ...d(t)
                    })
                },
                o = (e, t) => {
                    i.default.track(r.AnalyticEvents.DM_PROFILE_TOGGLED, {
                        is_profile_open: t,
                        ...d(e)
                    })
                },
                d = e => {
                    var t;
                    if (null == e) return {};
                    let n = e.userId,
                        i = null != l.default.getAnyStreamForUser(n),
                        u = a.default.findActivity(n, e => {
                            let {
                                type: t
                            } = e;
                            return i ? t === r.ActivityTypes.PLAYING : t !== r.ActivityTypes.CUSTOM_STATUS
                        }),
                        o = null == u ? void 0 : u.assets,
                        d = s.default.isFriend(n);
                    return {
                        has_images: !!(null !== (t = null == o ? void 0 : o.large_image) && void 0 !== t ? t : null == o ? void 0 : o.small_image),
                        is_friend: d,
                        viewed_profile_user_id: n,
                        profile_has_nitro_customization: e.hasPremiumCustomization(),
                        profile_has_theme_color_customized: e.hasThemeColors(),
                        profile_has_theme_animation: null != e.popoutAnimationParticleType
                    }
                }
        },
        69682: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                FriendRow: function() {
                    return E
                },
                default: function() {
                    return C
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("446674"),
                i = n("77078"),
                r = n("272030"),
                u = n("327037"),
                o = n("145079"),
                d = n("824563"),
                c = n("713135"),
                f = n("401642"),
                h = n("49111"),
                p = n("782340"),
                m = n("568719");

            function E(e) {
                let {
                    user: t,
                    status: n,
                    onSelect: a,
                    onContextMenu: r
                } = e, u = (0, s.useStateFromStores)([d.default], () => d.default.isMobileOnline(t.id));
                return (0, l.jsxs)(i.Clickable, {
                    className: m.listRow,
                    onClick: () => a(t.id),
                    onContextMenu: e => r(e, t),
                    children: [(0, l.jsx)(i.Avatar, {
                        src: t.getAvatarURL(void 0, 40),
                        "aria-label": t.username,
                        size: i.AvatarSizes.SIZE_40,
                        status: n,
                        isMobile: u,
                        className: m.listAvatar
                    }), (0, l.jsx)(o.default, {
                        user: t,
                        className: m.listName,
                        discriminatorClass: m.listDiscriminator
                    })]
                })
            }

            function C(e) {
                let t, {
                        user: o,
                        onClose: d
                    } = e,
                    C = (0, s.useStateFromStores)([c.default], () => c.default.getMutualFriends(o.id));

                function g(e) {
                    d(), (0, f.openUserProfileModal)({
                        userId: e,
                        analyticsLocation: {
                            section: h.AnalyticsSections.USER_PROFILE_MUTUAL_FRIENDS
                        }
                    })
                }

                function S(e, t) {
                    (0, r.openContextMenuLazy)(e, async () => {
                        let {
                            default: e
                        } = await n.el("406784").then(n.bind(n, "406784"));
                        return n => (0, l.jsx)(e, {
                            ...n,
                            user: t
                        })
                    })
                }
                return a.useEffect(() => {
                    null == C && (0, u.fetchMutualFriends)(o.id)
                }, [C, o.id]), t = null == C ? (0, l.jsx)("div", {
                    className: m.empty,
                    children: (0, l.jsx)(i.Spinner, {})
                }) : 0 === C.length ? (0, l.jsxs)("div", {
                    className: m.empty,
                    children: [(0, l.jsx)("div", {
                        className: m.emptyIconFriends
                    }), (0, l.jsx)("div", {
                        className: m.emptyText,
                        children: p.default.Messages.NO_MUTUAL_FRIENDS
                    })]
                }) : C.map(e => (0, l.jsx)(E, {
                    user: e.user,
                    status: e.status,
                    onSelect: g,
                    onContextMenu: S
                }, e.key)), (0, l.jsx)(i.ScrollerThin, {
                    className: m.listScroller,
                    fade: !0,
                    children: t
                })
            }
        },
        446509: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                GuildRow: function() {
                    return I
                },
                default: function() {
                    return T
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("414456"),
                s = n.n(a),
                i = n("446674"),
                r = n("819855"),
                u = n("77078"),
                o = n("272030"),
                d = n("54239"),
                c = n("841098"),
                f = n("449918"),
                h = n("239380"),
                p = n("109024"),
                m = n("158998"),
                E = n("713135"),
                C = n("49111"),
                g = n("782340"),
                S = n("568719"),
                _ = n("175321");

            function I(e) {
                let {
                    guild: t,
                    nick: n,
                    theme: a,
                    onSelect: i,
                    onContextMenu: o,
                    user: d
                } = e, c = d.hasAvatarForGuild(t.id);
                return (0, l.jsxs)(u.Clickable, {
                    focusProps: {
                        offset: {
                            right: 8
                        }
                    },
                    className: S.listRow,
                    onClick: () => i(t.id),
                    onContextMenu: e => o(e, t),
                    children: [(0, l.jsx)(p.default, {
                        tabIndex: -1,
                        guild: t,
                        showBadge: !0,
                        className: s(S.listAvatar, null == t.icon ? _.guildAvatarWithoutIcon : null),
                        badgeStrokeColor: (0, f.getColor)((0, r.isThemeDark)(a) ? C.Color.PRIMARY_600 : C.Color.WHITE_500),
                        size: p.default.Sizes.MEDIUM,
                        active: !0
                    }), (0, l.jsxs)("div", {
                        className: S.listRowContent,
                        children: [(0, l.jsx)("div", {
                            className: S.listName,
                            children: t.toString()
                        }), c || null != n ? (0, l.jsxs)("div", {
                            className: _.guildNick,
                            children: [c && (0, l.jsx)(u.Avatar, {
                                src: d.getAvatarURL(t.id, 16),
                                size: u.AvatarSizes.SIZE_16,
                                className: _.guildAvatar,
                                "aria-hidden": !0
                            }), null != n ? n : m.default.getName(d)]
                        }) : null]
                    })]
                })
            }

            function T(e) {
                let t, {
                        user: a,
                        onClose: s
                    } = e,
                    r = (0, i.useStateFromStores)([E.default], () => E.default.getMutualGuilds(a.id)),
                    f = (0, c.default)();

                function p(e) {
                    (0, h.transitionToGuild)(e), s(), (0, d.popLayer)()
                }

                function m(e, t) {
                    (0, o.openContextMenuLazy)(e, async () => {
                        let {
                            default: e
                        } = await n.el("374705").then(n.bind(n, "374705"));
                        return n => (0, l.jsx)(e, {
                            ...n,
                            guild: t
                        })
                    })
                }
                return t = null == r || 0 === r.length ? (0, l.jsxs)("div", {
                    className: S.empty,
                    children: [(0, l.jsx)("div", {
                        className: S.emptyIconGuilds
                    }), (0, l.jsx)("div", {
                        className: S.emptyText,
                        children: g.default.Messages.NO_MUTUAL_GUILDS
                    })]
                }) : r.map(e => {
                    let {
                        guild: t,
                        nick: n
                    } = e;
                    return (0, l.jsx)(I, {
                        user: a,
                        guild: t,
                        nick: n,
                        theme: f,
                        onSelect: p,
                        onContextMenu: m
                    }, t.id)
                }), (0, l.jsx)(u.ScrollerThin, {
                    className: S.listScroller,
                    fade: !0,
                    children: t
                })
            }
        },
        817080: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("394846"),
                u = n("77078"),
                o = n("272030"),
                d = n("754474"),
                c = n("315102"),
                f = n("506885"),
                h = n("981601"),
                p = n("568719"),
                m = n("599466");

            function E(e) {
                var t;
                let {
                    channel: s,
                    integration: E
                } = e, C = c.default.getApplicationIconURL({
                    id: E.application.id,
                    icon: E.application.icon,
                    size: 40
                }), g = a.useCallback(e => {
                    (0, o.openContextMenuLazy)(e, async () => {
                        let {
                            default: e
                        } = await n.el("348866").then(n.bind(n, "348866"));
                        return t => (0, l.jsx)(e, {
                            ...t,
                            channel: s,
                            integration: E
                        })
                    })
                }, [E, s]), S = (0, l.jsxs)("div", {
                    className: p.listRow,
                    onContextMenu: g,
                    children: [(0, l.jsx)("img", {
                        className: i(p.listAvatar, m.icon),
                        alt: "",
                        "aria-hidden": !0,
                        src: C,
                        width: 40,
                        height: 40
                    }), (0, l.jsx)("div", {
                        className: p.listRowContent,
                        children: (0, l.jsx)(d.default, {
                            name: E.application.name,
                            botType: d.BotTypes.BOT,
                            botVerified: null === (t = E.application.bot) || void 0 === t ? void 0 : t.isVerifiedBot(),
                            className: p.listName
                        })
                    })]
                }), {
                    bot: _
                } = E.application;
                return null == _ ? (0, l.jsx)("li", {
                    children: S
                }) : (0, l.jsx)(u.Popout, {
                    preload: () => (0, f.default)(_.id, C),
                    renderPopout: e => (0, l.jsx)(h.default, {
                        ...e,
                        userId: _.id,
                        channelId: s.id
                    }),
                    position: r.isMobile ? "window_center" : "left",
                    children: e => (0, l.jsx)("li", {
                        ...e,
                        children: S
                    })
                })
            }
        },
        390413: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                ListType: function() {
                    return a
                },
                default: function() {
                    return p
                }
            });
            var l, a, s = n("37983"),
                i = n("884691"),
                r = n("414456"),
                u = n.n(r),
                o = n("77078"),
                d = n("461380"),
                c = n("67602"),
                f = n("89195"),
                h = n("980662");
            (l = a || (a = {}))[l.MutualFriendsList = 0] = "MutualFriendsList", l[l.MutualGuildList = 1] = "MutualGuildList", l[l.AppsList = 2] = "AppsList";
            var p = e => {
                let {
                    header: t,
                    children: n,
                    itemType: l = a.MutualGuildList,
                    isLoadingHeader: r,
                    isLoadingContents: p,
                    loadingContentsCount: m = 0,
                    className: E,
                    onHover: C,
                    onFocus: g
                } = e, [S, _] = i.useState(!0), I = (0, s.jsx)("div", {
                    className: f.iconWrapper,
                    children: (0, s.jsx)(d.default, {
                        direction: S ? d.default.Directions.RIGHT : d.default.Directions.DOWN
                    })
                });
                return (0, s.jsxs)("div", {
                    className: u(f.listWrapper, E),
                    children: [(0, s.jsx)(o.Button, {
                        className: f.collapseBtn,
                        innerClassName: f.collapseBtnContent,
                        color: o.ButtonColors.CUSTOM,
                        onMouseEnter: C,
                        onFocus: g,
                        onClick: () => _(!S),
                        children: r ? (0, s.jsxs)(s.Fragment, {
                            children: [(0, s.jsx)(c.ContentBlob, {
                                width: 34,
                                opacity: .08
                            }), (0, s.jsx)(c.ContentBlob, {
                                width: 135,
                                opacity: .08
                            })]
                        }) : (0, s.jsxs)(s.Fragment, {
                            children: [(0, s.jsx)(o.Text, {
                                variant: "text-sm/medium",
                                children: t
                            }), I]
                        })
                    }), (0, s.jsx)("ul", {
                        className: u(f.connectionList, {
                            [f.isCollapsed]: S
                        }),
                        children: p ? Array.from({
                            length: m
                        }).map((e, t) => (0, s.jsxs)("div", {
                            className: u({
                                [h.mutualFriendItem]: l === a.MutualFriendsList,
                                [h.mutualGuildsItem]: l === a.MutualGuildList
                            }),
                            children: [(0, s.jsx)(c.ContentBlob, {
                                width: 34,
                                opacity: .08
                            }), (0, s.jsx)(c.ContentBlob, {
                                width: 135,
                                opacity: .08
                            })]
                        }, t)) : n
                    })]
                })
            }
        },
        104649: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("446674"),
                s = n("272030"),
                i = n("824563"),
                r = n("401642"),
                u = n("69682"),
                o = n("49111"),
                d = e => {
                    let {
                        connection: t
                    } = e, {
                        user: d
                    } = t, c = d.isNonUserBot(), f = (0, a.useStateFromStores)([i.default], () => c ? null : i.default.getStatus(d.id));
                    return (0, l.jsx)(u.FriendRow, {
                        user: d,
                        status: null != f ? f : o.StatusTypes.UNKNOWN,
                        onSelect: () => {
                            (0, r.openUserProfileModal)({
                                userId: d.id,
                                analyticsLocation: {
                                    section: o.AnalyticsSections.DM_PROFILE
                                }
                            })
                        },
                        onContextMenu: e => {
                            var t, a;
                            return t = e, a = d, void(0, s.openContextMenuLazy)(t, async () => {
                                let {
                                    default: e
                                } = await n.el("406784").then(n.bind(n, "406784"));
                                return t => (0, l.jsx)(e, {
                                    ...t,
                                    user: a
                                })
                            })
                        }
                    })
                }
        },
        80615: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("272030"),
                s = n("239380"),
                i = n("446509"),
                r = e => {
                    let {
                        connection: t,
                        user: r,
                        theme: u
                    } = e, {
                        guild: o,
                        nick: d
                    } = t;
                    return (0, l.jsx)(i.GuildRow, {
                        guild: o,
                        nick: d,
                        theme: u,
                        user: r,
                        onContextMenu: function(e, t) {
                            (0, a.openContextMenuLazy)(e, async () => {
                                let {
                                    default: e
                                } = await n.el("374705").then(n.bind(n, "374705"));
                                return n => (0, l.jsx)(e, {
                                    ...n,
                                    guild: t
                                })
                            })
                        },
                        onSelect: s.transitionToGuild
                    })
                }
        },
        514917: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return Y
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("627445"),
                u = n.n(r),
                o = n("446674"),
                d = n("77078"),
                c = n("327037"),
                f = n("841098"),
                h = n("252063"),
                p = n("724110"),
                m = n("373469"),
                E = n("824563"),
                C = n("102985"),
                g = n("697218"),
                S = n("387111"),
                _ = n("158998"),
                I = n("713135"),
                T = n("506885"),
                x = n("217513"),
                N = n("893980"),
                v = n("58351"),
                A = n("430312"),
                M = n("789321"),
                R = n("10532"),
                L = n("915712"),
                j = n("369869"),
                O = n("802279"),
                y = n("465215"),
                P = n("301998"),
                D = n("491250"),
                b = n("849674"),
                U = n("817080"),
                w = n("390413"),
                F = n("104649"),
                G = n("80615"),
                B = n("80531"),
                k = n("590456"),
                H = n("49111"),
                V = n("782340"),
                W = n("666204"),
                Y = e => {
                    var t;
                    let {
                        channel: n,
                        showCall: s
                    } = e, r = n.recipients[0], [Y, z] = a.useState(!1), K = a.useRef(0), Z = (0, v.default)(), X = (0, o.useStateFromStores)([g.default], () => g.default.getUser(r)), q = null == X ? void 0 : X.isNonUserBot();
                    u(null != X, "Profile Panel: user cannot be undefined");
                    let Q = (0, x.default)(X.id),
                        {
                            installedIntegrations: J,
                            fetched: $,
                            appsInGDMEnabled: ee,
                            availableApplications: et
                        } = (0, h.usePrivateChannelIntegrationState)({
                            channelId: n.id
                        }),
                        en = !Z && !s,
                        {
                            activity: el,
                            customStatusActivity: ea,
                            isApplicationStreaming: es,
                            isMobile: ei,
                            status: er
                        } = (0, o.useStateFromStoresObject)([m.default, E.default], () => {
                            let e = null != m.default.getAnyStreamForUser(X.id);
                            return {
                                activity: E.default.findActivity(X.id, t => {
                                    let {
                                        type: n
                                    } = t;
                                    return e ? n === H.ActivityTypes.PLAYING : n !== H.ActivityTypes.CUSTOM_STATUS
                                }),
                                customStatusActivity: E.default.findActivity(X.id, e => {
                                    let {
                                        type: t
                                    } = e;
                                    return t === H.ActivityTypes.CUSTOM_STATUS
                                }),
                                isApplicationStreaming: e,
                                isMobile: E.default.isMobileOnline(X.id),
                                status: q ? null : E.default.getStatus(X.id)
                            }
                        }),
                        eu = null != el || es,
                        eo = null !== (t = S.default.getNickname(null, n.id, X)) && void 0 !== t ? t : _.default.getName(X),
                        ed = (0, o.useStateFromStores)([C.default], () => C.default.hidePersonalInformation),
                        [ec, ef, eh, ep, em] = (0, o.useStateFromStoresArray)([I.default], () => [I.default.getMutualFriendsCount(X.id), I.default.getMutualFriends(X.id), I.default.getMutualGuilds(X.id), I.default.isFetchingProfile(X.id), I.default.isFetchingFriends(X.id)]),
                        eE = !X.bot && null != eh && eh.length > 0,
                        eC = !X.bot && null != ec && ec > 0,
                        {
                            shouldShow: eg,
                            markAsDismissed: eS
                        } = (0, b.useShouldShowUserPopoutCollectiblesUpsell)(X),
                        e_ = (0, f.default)();
                    a.useEffect(() => {
                        K.current = Date.now()
                    }, []), a.useEffect(() => {
                        (0, T.default)(X.id, X.getAvatarURL(void 0, 80), {
                            withMutualGuilds: !X.bot,
                            withMutualFriendsCount: !X.bot
                        })
                    }, [X]), a.useEffect(() => {
                        null != Q && en && (0, N.trackProfilePanelViewed)({
                            displayProfile: Q,
                            isMobile: ei,
                            loadDurationMs: Date.now() - K.current,
                            activity: el,
                            customStatusActivity: ea,
                            status: er
                        })
                    }, [Q, ei, el, ea, er, en]);
                    let eI = null == eh ? void 0 : eh.map(e => (0, l.jsx)(G.default, {
                            connection: e,
                            user: X,
                            theme: e_
                        }, e.guild.id)),
                        eT = null == ef ? void 0 : ef.map(e => (0, l.jsx)(F.default, {
                            connection: e
                        }, e.key)),
                        ex = J.map(e => (0, l.jsx)(U.default, {
                            channel: n,
                            integration: e
                        }, e.application.id)),
                        eN = a.useCallback(() => {
                            !X.bot && !em && null == eT && (0, c.fetchMutualFriends)(X.id)
                        }, [em, eT, X.id, X.bot]),
                        ev = a.useCallback(() => z(!0), []),
                        eA = a.useCallback(() => z(!1), []);
                    return en ? (0, l.jsx)("aside", {
                        className: W.profilePanel,
                        onMouseEnter: ev,
                        onMouseLeave: eA,
                        children: (0, l.jsxs)(A.default, {
                            user: X,
                            profileType: k.UserProfileTypes.PANEL,
                            useDefaultClientTheme: !0,
                            children: [eg && (0, l.jsx)(M.default, {
                                user: X,
                                onDismiss: eS,
                                isInSidebar: !0
                            }, X.id), (0, l.jsxs)(d.ScrollerNone, {
                                children: [(0, l.jsx)(B.default, {
                                    user: X,
                                    displayProfile: Q,
                                    channel: n,
                                    animateAssets: Y,
                                    forceShowPremiumBadge: Y
                                }), (0, l.jsxs)(A.default.Inner, {
                                    children: [(0, l.jsx)(D.default, {
                                        user: X,
                                        nickname: eo,
                                        pronouns: null == Q ? void 0 : Q.pronouns
                                    }), (0, l.jsx)(O.default, {
                                        customStatusActivity: ea,
                                        animate: Y
                                    }), (0, l.jsx)(R.default, {}), (0, l.jsx)(j.default, {
                                        bio: null == Q ? void 0 : Q.bio,
                                        hidePersonalInformation: ed,
                                        animateOnHover: !0,
                                        isHovering: Y
                                    }), (0, l.jsx)(y.default, {
                                        userId: r
                                    }), (0, l.jsx)(R.default, {}), (0, l.jsx)(P.default, {
                                        user: X,
                                        setNote: !1,
                                        hideNote: !1
                                    })]
                                }), eu ? (0, l.jsx)(A.default.Inner, {
                                    children: (0, l.jsx)(L.default, {
                                        activity: el,
                                        user: X,
                                        channelId: n.id
                                    })
                                }) : null, (0, l.jsxs)(A.default.Inner, {
                                    className: W.profilePanelConnections,
                                    children: [eE ? (0, l.jsx)(w.default, {
                                        className: W.mutualGuildsList,
                                        header: V.default.Messages.MUTUAL_GUILDS_COUNT.format({
                                            count: null == eh ? void 0 : eh.length
                                        }),
                                        isLoadingHeader: ep,
                                        children: eI
                                    }) : null, eC ? (0, l.jsx)(w.default, {
                                        className: i(W.mutualFriendsList, {
                                            [W.mutualFriendsDivider]: eE
                                        }),
                                        header: V.default.Messages.MUTUAL_FRIENDS_COUNT.format({
                                            count: ec
                                        }),
                                        isLoadingHeader: ep,
                                        isLoadingContents: em,
                                        loadingContentsCount: ec,
                                        onFocus: eN,
                                        onHover: eN,
                                        itemType: w.ListType.MutualFriendsList,
                                        children: eT
                                    }) : null]
                                }), (0, l.jsx)(A.default.Inner, {
                                    className: i(W.profilePanelConnections, W.appListThemedContainer),
                                    children: ee && (0, l.jsxs)(w.default, {
                                        header: ex.length > 0 ? V.default.Messages.PRIVATE_CHANNEL_APPS_HEADER_COUNT.format({
                                            count: ex.length
                                        }) : V.default.Messages.PRIVATE_CHANNEL_APPS_HEADER,
                                        isLoadingContents: !$,
                                        isLoadingHeader: !1,
                                        itemType: w.ListType.AppsList,
                                        children: [ex, et.length > 0 && (0, l.jsxs)("div", {
                                            className: W.appButtonContainer,
                                            children: [0 === J.length && (0, l.jsx)(d.Text, {
                                                variant: "text-xs/normal",
                                                color: "header-secondary",
                                                children: V.default.Messages.PRIVATE_CHANNEL_ADD_APPS_INFO
                                            }), (0, l.jsx)(d.Button, {
                                                onClick: () => {
                                                    (0, d.openModal)(e => (0, l.jsx)(p.default, {
                                                        channelId: n.id,
                                                        ...e
                                                    }))
                                                },
                                                color: W.appButtonColor,
                                                className: W.appButton,
                                                fullWidth: !0,
                                                size: d.ButtonSizes.SMALL,
                                                children: V.default.Messages.PRIVATE_CHANNEL_ADD_APPS
                                            })]
                                        })]
                                    })
                                })]
                            })]
                        })
                    }) : null
                }
        },
        80531: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("446674"),
                s = n("635471"),
                i = n("824563"),
                r = n("289918"),
                u = n("590006"),
                o = n("935409"),
                d = n("590456"),
                c = n("327828"),
                f = e => {
                    let {
                        user: t,
                        displayProfile: n,
                        channel: f,
                        animateAssets: h,
                        forceShowPremiumBadge: p
                    } = e, m = t.isNonUserBot(), [E, C] = (0, a.useStateFromStoresArray)([i.default], () => [m ? null : i.default.getStatus(t.id), i.default.isMobileOnline(t.id)]), g = null == n ? void 0 : n.profileEffectID;
                    return (0, l.jsxs)("div", {
                        children: [(0, l.jsx)(r.default, {
                            user: t,
                            displayProfile: n,
                            profileType: d.UserProfileTypes.PANEL,
                            showPremiumBadgeUpsell: !0,
                            isHovering: p,
                            animateOnHover: !h
                        }), (0, l.jsx)(o.UserPopoutAvatar, {
                            user: t,
                            displayProfile: n,
                            status: E,
                            isMobile: C,
                            channelId: f.id,
                            disableUserProfileLink: !0,
                            hasBanner: (null == n ? void 0 : n.banner) != null,
                            profileType: d.UserProfileTypes.PANEL,
                            animateOnHover: !h
                        }), (0, l.jsx)("div", {
                            className: c.badgelistGroup,
                            children: (0, l.jsx)(u.default, {
                                className: c.badgeList,
                                user: t,
                                size: u.BadgeSizes.SIZE_22
                            })
                        }), null != g && (0, l.jsx)(s.default, {
                            profileEffectID: g,
                            maxLoops: 0,
                            resetOnHover: !0,
                            isHovering: p,
                            urlQueryString: "dm-view",
                            noBorderRadius: !0
                        })]
                    })
                }
        },
        58351: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return a
                }
            });
            var l = n("884691");

            function a() {
                var e;
                let [t, n] = l.useState((e = window.innerWidth < 1132, e));
                return l.useEffect(() => {
                    function e() {
                        n(window.innerWidth < 1132)
                    }
                    return e(), window.addEventListener("resize", e), () => window.removeEventListener("resize", e)
                }, [n]), t
            }
        },
        444657: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                ActivityEntryPointTile: function() {
                    return y
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("151426"),
                u = n("669491"),
                o = n("77078"),
                d = n("997289"),
                c = n("860345"),
                f = n("865821"),
                h = n("441821"),
                p = n("478272"),
                m = n("812204"),
                E = n("685665"),
                C = n("10641"),
                g = n("36562"),
                S = n("945330"),
                _ = n("381546"),
                I = n("564875"),
                T = n("82636"),
                x = n("924506"),
                N = n("599110"),
                v = n("439932"),
                A = n("784981"),
                M = n("49111"),
                R = n("954016"),
                L = n("782340"),
                j = n("38064"),
                O = n("861948");

            function y(e) {
                let {
                    channel: t,
                    guild: n,
                    width: a,
                    inPopout: s,
                    handleClose: i,
                    userParticipantCount: r
                } = e, {
                    enabled: u
                } = c.PaxVcTileActivitiesExperiment.useExperiment({
                    location: "4934f1_1"
                }, {
                    autoTrackExposure: !1
                });
                return a < 250 ? (0, l.jsx)(P, {
                    channel: t,
                    guild: n,
                    width: a,
                    inPopout: s,
                    handleClose: i,
                    userParticipantCount: r
                }) : r > 1 || u ? (0, l.jsx)(U, {
                    channel: t,
                    guild: n,
                    width: a,
                    inPopout: s,
                    handleClose: i,
                    userParticipantCount: r
                }) : (0, l.jsx)(D, {
                    channel: t,
                    guild: n,
                    width: a,
                    inPopout: s
                })
            }

            function P(e) {
                let {
                    channel: t,
                    inPopout: n,
                    handleClose: a
                } = e, {
                    analyticsLocations: s,
                    AnalyticsLocationProvider: r
                } = (0, E.default)(m.default.VC_TILE_ACTIVITY_SHELF_BUTTON), c = (0, d.useAnalyticsContext)(), f = (0, o.useToken)(u.default.colors.INTERACTIVE_NORMAL).hex(), h = () => {
                    (0, p.default)({
                        channel: t,
                        guildId: t.guild_id,
                        locationObject: c.location,
                        openInPopout: n,
                        analyticsLocations: s
                    })
                };
                return (0, l.jsx)(r, {
                    children: (0, l.jsxs)(l.Fragment, {
                        children: [(0, l.jsx)(o.Tooltip, {
                            text: L.default.Messages.EMBEDDED_ACTIVITIES_START_AN_ACTIVITY,
                            children: e => {
                                let {
                                    onClick: t,
                                    ...n
                                } = e;
                                return (0, l.jsx)(o.Clickable, {
                                    ...n,
                                    className: j.clickableTile,
                                    onClick: () => {
                                        null == t || t(), h()
                                    },
                                    children: (0, l.jsx)(A.default, {
                                        className: j.root,
                                        children: (0, l.jsx)("div", {
                                            className: j.iconContainer,
                                            children: (0, l.jsx)(x.default, {
                                                width: 40,
                                                height: 40
                                            })
                                        })
                                    })
                                })
                            }
                        }), (0, l.jsx)(o.Clickable, {
                            onClick: a,
                            className: i((0, v.getThemeClass)(M.ThemeTypes.DARK), j.shelfButtonCloseButton),
                            children: (0, l.jsx)(_.default, {
                                width: 24,
                                height: 24,
                                className: j.closeButtonIcon,
                                backgroundColor: f
                            })
                        })]
                    })
                })
            }

            function D(e) {
                let {
                    channel: t,
                    guild: s,
                    inPopout: i,
                    width: r
                } = e;
                a.useEffect(() => {
                    N.default.track(M.AnalyticEvents.VC_TILE_ACTIVITIES_ENTRY_POINT_VIEWED, {
                        tile_type: "activity invite",
                        n_participants: 1
                    })
                }, []);
                let u = (0, d.useAnalyticsContext)(),
                    {
                        analyticsLocations: c,
                        AnalyticsLocationProvider: f
                    } = (0, E.default)(m.default.VC_TILE_ACTIVITY_INVITE);
                return (0, l.jsx)(f, {
                    children: (0, l.jsxs)(A.default, {
                        className: j.root,
                        children: [r > 400 ? (0, l.jsx)("img", {
                            src: O,
                            className: j.art,
                            alt: L.default.Messages.EMBEDDED_ACTIVITIES_SHELF_CHARACTERS_ALT_TEXT
                        }) : null, (0, l.jsx)(o.Text, {
                            className: j.heading,
                            variant: "text-md/semibold",
                            children: L.default.Messages.EMBEDDED_ACTIVITIES_VC_TILE_ENTRY_POINT_INVITE
                        }), (0, l.jsxs)("div", {
                            className: j.buttonContainer,
                            children: [(0, l.jsxs)(o.Button, {
                                size: o.Button.Sizes.LARGE,
                                color: o.Button.Colors.PRIMARY,
                                className: j.button,
                                innerClassName: j.buttonContents,
                                onClick: function() {
                                    (0, o.openModalLazy)(async () => {
                                        let {
                                            default: e
                                        } = await n.el("310688").then(n.bind(n, "310688"));
                                        return n => (0, l.jsx)(e, {
                                            ...n,
                                            guild: s,
                                            channel: t,
                                            source: M.InstantInviteSources.ACTIVITY_ENTRY_POINT_TILE
                                        })
                                    }, {
                                        contextKey: i ? o.POPOUT_MODAL_CONTEXT : o.DEFAULT_MODAL_CONTEXT
                                    })
                                },
                                children: [(0, l.jsx)(I.default, {
                                    width: 16,
                                    height: 16
                                }), (0, l.jsx)(o.Text, {
                                    variant: "text-sm/medium",
                                    children: L.default.Messages.INVITE_FRIENDS
                                })]
                            }), (0, l.jsxs)(o.Button, {
                                size: o.Button.Sizes.LARGE,
                                className: j.button,
                                innerClassName: j.buttonContents,
                                onClick: function() {
                                    (0, p.default)({
                                        channel: t,
                                        guildId: t.guild_id,
                                        locationObject: u.location,
                                        openInPopout: i,
                                        analyticsLocations: c
                                    })
                                },
                                children: [(0, l.jsx)(T.default, {
                                    width: 16,
                                    height: 16
                                }), (0, l.jsx)(o.Text, {
                                    variant: "text-sm/medium",
                                    children: L.default.Messages.EMBEDDED_ACTIVITIES_ACTIVITY_ENTRY_POINT_TILE_CHOOSE_AN_ACTIVITY
                                })]
                            })]
                        })]
                    })
                })
            }
            let b = e => {
                let {
                    userParticipantCount: t,
                    guildId: n
                } = e, {
                    enabled: l
                } = c.PaxVcTileActivitiesExperiment.useExperiment({
                    location: "4934f1_2"
                }, {
                    autoTrackExposure: !1
                }), a = (0, f.default)({
                    guildId: n
                });
                if (l) {
                    let e = new Set([R.PUTT_PARTY_APPLICATION_ID, R.LAND_IO_APPLICATION_ID, R.GARTIC_PHONE_APPLICATION_ID]);
                    return a.filter(t => e.has(t.application.id))
                }
                if (2 === t) {
                    let e = [],
                        t = [(0, R.WATCH_YOUTUBE_PROD_APP_ID), (0, R.PUTT_PARTY_APPLICATION_ID), (0, R.CHESS_IN_THE_PARK_APP_ID)].filter(Boolean).slice(0, 3);
                    return a.forEach(n => {
                        let l = t.indexOf(n.application.id);
                        !(l < 0) && (e[l] = n)
                    }), e
                }
                return a.slice(0, 3)
            };

            function U(e) {
                let {
                    channel: t,
                    guild: n,
                    handleClose: s,
                    width: u,
                    userParticipantCount: d
                } = e;
                a.useEffect(() => {
                    N.default.track(M.AnalyticEvents.VC_TILE_ACTIVITIES_ENTRY_POINT_VIEWED, {
                        tile_type: "activity suggestion",
                        n_participants: d
                    })
                }, []);
                let c = b({
                        userParticipantCount: d,
                        guildId: n.id
                    }),
                    {
                        AnalyticsLocationProvider: f
                    } = (0, E.default)(m.default.VC_TILE_ACTIVITY_SUGGESTION);
                return (0, l.jsx)(f, {
                    children: (0, l.jsxs)(A.default, {
                        className: j.root,
                        children: [u > 480 ? (0, l.jsx)("img", {
                            className: j.art,
                            src: O,
                            alt: L.default.Messages.EMBEDDED_ACTIVITIES_SHELF_CHARACTERS_ALT_TEXT
                        }) : null, u > 300 ? (0, l.jsx)(o.Text, {
                            className: j.heading,
                            variant: u > 550 ? "text-md/semibold" : "text-sm/semibold",
                            children: L.default.Messages.EMBEDDED_ACTIVITIES_VC_TILE_ENTRY_POINT_TITLE
                        }) : null, (0, l.jsx)("div", {
                            className: i(j.activitiesContainer, {
                                [j.activitiesContainerSmol]: u <= 300
                            }),
                            children: c.map(e => (0, l.jsx)(h.ActivitySuggestion, {
                                channel: t,
                                activityItem: e,
                                aspectRatio: h.ActivitySuggestion.AspectRatio.SIXTEEN_BY_NINE,
                                animatedDivClass: j.activitySuggestion
                            }, e.application.id))
                        }), (0, l.jsxs)(o.Clickable, {
                            className: j.checkboxContainer,
                            onClick: function() {
                                N.default.track(M.AnalyticEvents.VC_TILE_ACTIVITIES_ENTRY_POINT_CLOSED, {
                                    tile_type: "activity suggestion",
                                    close_type: "permanent",
                                    n_participants: d
                                }), (0, C.markDismissibleContentAsDismissed)(r.DismissibleContent.VC_TILE_ACTIVITIES_ENTRY_POINT)
                            },
                            children: [(0, l.jsx)(g.default, {}), (0, l.jsx)(o.Text, {
                                variant: "text-sm/medium",
                                children: L.default.Messages.DONT_SHOW_AGAIN
                            })]
                        }), (0, l.jsx)(o.Clickable, {
                            className: j.closeButtonContainer,
                            onClick: function() {
                                N.default.track(M.AnalyticEvents.VC_TILE_ACTIVITIES_ENTRY_POINT_CLOSED, {
                                    tile_type: "activity suggestion",
                                    close_type: "temporary",
                                    n_participants: d
                                }), s()
                            },
                            children: (0, l.jsx)(S.default, {
                                className: j.closeButton
                            })
                        })]
                    })
                })
            }
        },
        876715: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("95410"),
                i = n("457112"),
                r = n("679243"),
                u = n("49111"),
                o = n("204050");
            let d = "CameraPreviewPosition";

            function c(e) {
                let {
                    width: t,
                    onContextMenuParticipant: n,
                    height: c,
                    channel: f,
                    participants: h
                } = e, [p, m] = function() {
                    let [e, t] = a.useState(() => s.default.get(d, u.PictureInPicturePositions.BOTTOM_RIGHT));
                    return [e, a.useCallback(e => {
                        s.default.set(d, e), t(e)
                    }, [])]
                }(), E = a.useRef(null), C = null == f.getGuildId() ? 70 : 50;
                return a.useLayoutEffect(() => {
                    var e;
                    null === (e = E.current) || void 0 === e || e.ensureIsInPosition()
                }, [h.length]), (0, l.jsx)("div", {
                    className: o.container,
                    children: (0, l.jsx)(i.PictureInPictureWindow, {
                        position: p,
                        id: 0,
                        ref: E,
                        onMove: (e, t) => m(t),
                        maxX: t,
                        maxY: c,
                        edgeOffsetTop: C,
                        edgeOffsetBottom: 70,
                        edgeOffsetLeft: 16,
                        edgeOffsetRight: 16,
                        children: (0, l.jsx)("div", {
                            className: o.tileContainer,
                            children: h.map(e => (0, l.jsx)(r.default, {
                                participant: e,
                                channel: f,
                                onContextMenu: n,
                                className: o.tile,
                                fit: r.CallTileFit.COVER,
                                inCall: !0,
                                inPopout: !1,
                                width: 160
                            }, e.id))
                        })
                    })
                })
            }
        },
        103738: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return _
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("737960"),
                u = n("141681"),
                o = n("271938"),
                d = n("145131"),
                c = n("659500"),
                f = n("119106"),
                h = n("573540"),
                p = n("972155"),
                m = n("732961"),
                E = n("153984"),
                C = n("49111"),
                g = n("99795"),
                S = n("111647"),
                _ = (0, r.default)(e => {
                    let {
                        participants: t,
                        filteredParticipants: n,
                        selectedParticipant: s,
                        participantsVersion: r,
                        layout: _,
                        onSelectParticipant: I,
                        onContextMenuParticipant: T,
                        onFullscreenParticipant: x,
                        channel: N,
                        hasConnectPermission: v,
                        className: A,
                        inCall: M,
                        showParticipants: R = !0,
                        paused: L = !1,
                        width: j,
                        height: O,
                        idle: y,
                        mode: P,
                        popoutWindow: D,
                        awaitingRemoteSessionInfo: b
                    } = e;
                    a.useEffect(() => {
                        c.ComponentDispatch.dispatch(C.ComponentActions.REMEASURE_TARGET)
                    }, [j, O]);
                    let U = a.useMemo(() => n.filter(e => e.type !== g.ParticipantTypes.ACTIVITY || !e.participants.has(o.default.getId())), [n, r]);
                    if ((null == b ? void 0 : b.channelId) === N.id) return (0, l.jsx)(h.default, {
                        height: O
                    });
                    if ((null == N ? void 0 : N.isGuildVocal()) && !M) return (0, l.jsx)(f.default, {
                        channel: N,
                        participants: t,
                        hasConnectPermission: v
                    });
                    if (P === C.ChannelModes.VOICE) return (0, l.jsx)(u.default, {
                        guildId: N.guild_id,
                        width: j,
                        className: S.voiceCallWrapper,
                        participants: t,
                        onContextMenu: T
                    });
                    if (n = M ? n : t, null == s) return 0 === n.length ? (0, l.jsx)(E.default, {
                        className: i(S.videoGrid, S.hiddenParticipants),
                        channelId: N.id,
                        width: j
                    }) : (0, l.jsx)(d.default, {
                        className: S.videoGridWrapper,
                        justify: d.default.Justify.CENTER,
                        align: d.default.Align.CENTER,
                        children: (0, l.jsx)(p.default, {
                            channel: N,
                            className: S.videoGrid,
                            participants: U,
                            totalNumberOfParticipants: t.length,
                            onClick: I,
                            onDoubleClick: x,
                            onContextMenu: T,
                            paused: L,
                            inCall: M
                        })
                    });
                    return (0, l.jsx)(m.default, {
                        onFullscreenParticipant: x,
                        onContextMenuParticipant: T,
                        onSelectParticipant: I,
                        selectedParticipant: s,
                        filteredParticipants: U,
                        participants: t,
                        popoutWindow: D,
                        className: A,
                        idle: y,
                        height: O,
                        width: j,
                        layout: _,
                        inCall: M,
                        channel: N,
                        showParticipants: R
                    })
                })
        },
        842044: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                getPipParticipants: function() {
                    return i
                }
            });
            var l = n("449008"),
                a = n("830251"),
                s = n("99795");

            function i(e, t, n) {
                return null == t || t.type === s.ParticipantTypes.ACTIVITY ? [] : [t.type === s.ParticipantTypes.STREAM ? e.find(e => e.type === s.ParticipantTypes.USER && e.id === (null == t ? void 0 : t.user.id) && e.id !== n && (0, a.default)(e)) : null, t.type === s.ParticipantTypes.USER ? e.find(e => e.type === s.ParticipantTypes.STREAM && e.user.id === (null == t ? void 0 : t.user.id) && null != e.streamId) : null, t.id !== n ? e.find(e => e.type === s.ParticipantTypes.USER && e.id === n && (0, a.default)(e)) : null].filter(l.isNotNullish)
            }
        },
        119106: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return p
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("77078"),
                i = n("987317"),
                r = n("233322"),
                u = n("157186"),
                o = n("491519"),
                d = n("679243"),
                c = n("99795"),
                f = n("782340"),
                h = n("704414"),
                p = function(e) {
                    var t, n;
                    let {
                        participants: p,
                        channel: m,
                        hasConnectPermission: E
                    } = e, C = p.filter(c.isUserParticipant), g = (0, u.useShowMemberVerificationGate)(m.guild_id), S = a.useCallback(() => {
                        g ? (0, r.openMemberVerificationModal)(m.guild_id, () => i.default.selectVoiceChannel(m.id)) : i.default.selectVoiceChannel(m.id)
                    }, [m.id, m.guild_id, g]), _ = 4 === C.length ? 2 : 3;
                    return (0, l.jsxs)("div", {
                        className: h.container,
                        children: [(0, l.jsx)("div", {
                            className: h.tiles,
                            style: {
                                maxWidth: 168 * _
                            },
                            children: C.slice(0, 5).map(e => (0, l.jsx)(d.default, {
                                participant: e,
                                channel: m,
                                className: h.tile,
                                paused: !0,
                                inCall: !0,
                                noVideoRender: !0,
                                inPopout: !1,
                                width: 48
                            }, e.id))
                        }), (0, l.jsx)(s.Heading, {
                            className: h.channelName,
                            variant: "heading-xxl/semibold",
                            children: m.name
                        }), (0, l.jsx)("div", {
                            className: h.participantsRow,
                            children: (0, l.jsx)(s.Text, {
                                color: "header-secondary",
                                variant: "text-sm/normal",
                                children: (t = m, 0 === (n = C).length ? f.default.Messages.CURRENTLY_IN_VOICE_EMPTY : 1 === n.length ? f.default.Messages.CURRENTLY_IN_VOICE_1.format({
                                    a: (0, o.default)(t, n[0])
                                }) : 2 === n.length ? f.default.Messages.CURRENTLY_IN_VOICE_2.format({
                                    a: (0, o.default)(t, n[0]),
                                    b: (0, o.default)(t, n[1])
                                }) : n.length > 2 ? f.default.Messages.CURRENTLY_IN_VOICE_2_N.format({
                                    a: (0, o.default)(t, n[0]),
                                    b: (0, o.default)(t, n[1]),
                                    n: n.length - 2
                                }) : void 0)
                            })
                        }), (0, l.jsx)(s.Button, {
                            disabled: !E,
                            className: h.joinButton,
                            color: E ? s.Button.Colors.GREEN : s.Button.Colors.PRIMARY,
                            onClick: S,
                            size: s.Button.Sizes.MEDIUM,
                            children: E ? f.default.Messages.JOIN_VOICE : f.default.Messages.CHANNEL_LOCKED_SHORT
                        })]
                    })
                }
        },
        573540: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return h
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("414456"),
                s = n.n(a),
                i = n("446674"),
                r = n("77078"),
                u = n("206230"),
                o = n("700507"),
                d = n("491605"),
                c = n("782340"),
                f = n("594180");

            function h(e) {
                let {
                    height: t
                } = e, a = (0, i.useStateFromStores)([u.default], () => u.default.useReducedMotion);
                return (0, l.jsxs)("div", {
                    className: f.root,
                    children: [(0, l.jsx)(d.default, {
                        importData: () => n.el("210565").then(n.t.bind(n, "210565", 19)).then(e => {
                            let {
                                default: t
                            } = e;
                            return t
                        }),
                        shouldAnimate: !a,
                        className: s(f.art, {
                            [f.hidden]: t <= 280
                        })
                    }), (0, l.jsx)(r.Heading, {
                        className: f.header,
                        variant: "heading-md/bold",
                        children: c.default.Messages.PLAYSTATION_TRANSFERRING
                    }), (0, l.jsx)(r.Text, {
                        variant: "text-md/normal",
                        color: "header-secondary",
                        children: c.default.Messages.CONSOLE_TRANSFERRING_SUBTITLE.format({
                            onCancel: o.disconnectRemote
                        })
                    })]
                })
            }
        },
        972155: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return A
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("759843"),
                i = n("446674"),
                r = n("151426"),
                u = n("244201"),
                o = n("191225"),
                d = n("860345"),
                c = n("117582"),
                f = n("943349"),
                h = n("428958"),
                p = n("191145"),
                m = n("393171"),
                E = n("242757"),
                C = n("305961"),
                g = n("957255"),
                S = n("466079"),
                _ = n("444657"),
                I = n("679243"),
                T = n("832897"),
                x = n("308419"),
                N = n("49111"),
                v = n("740726");

            function A(e) {
                let {
                    participants: t,
                    onClick: n,
                    onDoubleClick: A,
                    onContextMenu: M,
                    channel: R,
                    className: L,
                    inCall: j,
                    totalNumberOfParticipants: O,
                    paused: y = !1
                } = e, P = (0, u.useAppContext)(), D = P === N.AppContext.POPOUT, b = (0, i.useStateFromStores)([C.default], () => C.default.getGuild(R.guild_id), [R.guild_id]), {
                    dismissedActivityEntryPointTileChannel: U
                } = (0, T.useChannelCallVideoGridStore)(), w = (0, i.useStateFromStores)([p.default], () => p.default.getUserParticipantCount(R.id), [R]), F = a.useCallback(() => {
                    T.useChannelCallVideoGridStore.setState({
                        dismissedActivityEntryPointTileChannel: R.id
                    })
                }, [R.id]);
                a.useEffect(() => {
                    null != U && R.id !== U && T.useChannelCallVideoGridStore.setState({
                        dismissedActivityEntryPointTileChannel: null
                    })
                }, [R.id, U]);
                let G = (0, i.useStateFromStores)([g.default], () => R.isPrivate() || (0, E.canViewInviteModal)(g.default, b, R), [b, R]),
                    B = (null == b ? void 0 : b.afkChannelId) === R.id,
                    k = R.userLimit <= 0 || R.userLimit > 1,
                    {
                        vcTileActivityExperimentType: H
                    } = c.VcTileActivitiesEntryPointExperiment.useExperiment({
                        location: "8711e9_1"
                    }, {
                        autoTrackExposure: !1
                    });
                R.isGuildVoice() && c.VcTileActivitiesEntryPointExperiment.trackExposure({
                    location: "8711e9_2"
                });
                let V = (0, i.useStateFromStores)([o.default], () => o.default.getEmbeddedActivitiesForChannel(R.id).length <= 0),
                    W = (0, m.useIsDismissibleContentTypeDismissed)(r.DismissibleContent.VC_TILE_ACTIVITIES_ENTRY_POINT),
                    Y = (0, f.useEmbeddedActivityLaunchability)(R.id),
                    z = Y !== f.EmbeddedActivityLaunchability.CAN_LAUNCH,
                    K = null != U && U === R.id,
                    {
                        enabled: Z
                    } = d.PaxVcTileActivitiesExperiment.useExperiment({
                        location: "8711e9_3"
                    }, {
                        autoTrackExposure: !1
                    }),
                    X = t.map(e => t => (0, l.jsx)(I.default, {
                        participant: e,
                        channel: R,
                        className: v.tile,
                        paused: y,
                        onClick: n,
                        onDoubleClick: A,
                        onContextMenu: M,
                        inCall: j,
                        width: t,
                        inPopout: D
                    }, e.id));
                (0, h.default)({
                    type: s.ImpressionTypes.VIEW,
                    name: s.ImpressionNames.CHANNEL_CALL_VIDEO_GRID_VIEW,
                    properties: {
                        total_participants: O,
                        can_invite: G,
                        is_afk_channel: B,
                        channel_user_limit: R.userLimit
                    }
                }, {
                    trackOnInitialLoad: !0
                }, []), null != b && !B && (Z ? X.push(e => (0, l.jsx)(_.ActivityEntryPointTile, {
                    channel: R,
                    guild: b,
                    width: e,
                    inPopout: D,
                    handleClose: F,
                    userParticipantCount: w
                })) : (H !== c.VcTileActivityExperimentType.ONE_OR_TWO_USERS || 2 !== w) && (H !== c.VcTileActivityExperimentType.ANY_NUMBER_OF_USERS || !(w >= 2)) || !V || z || W || K ? k && 1 === w && G && ([c.VcTileActivityExperimentType.ONE_OR_TWO_USERS, c.VcTileActivityExperimentType.ANY_NUMBER_OF_USERS].includes(H) && V && !z ? X.push(e => (0, l.jsx)(_.ActivityEntryPointTile, {
                    channel: R,
                    guild: b,
                    width: e,
                    inPopout: D,
                    handleClose: F,
                    userParticipantCount: w
                })) : X.push(e => (0, l.jsx)(x.default, {
                    width: e,
                    channel: R,
                    guild: b,
                    inPopout: D
                }))) : X.push(e => (0, l.jsx)(_.ActivityEntryPointTile, {
                    channel: R,
                    guild: b,
                    width: e,
                    inPopout: D,
                    handleClose: F,
                    userParticipantCount: w
                })));
                let q = a.useCallback(e => {
                    var n, l;
                    return null !== (l = null === (n = t[e]) || void 0 === n ? void 0 : n.id) && void 0 !== l ? l : "empty-tile"
                }, [t]);
                return (0, l.jsx)(S.default, {
                    className: L,
                    keyExtractor: q,
                    paddingTop: 64,
                    paddingBottom: 64,
                    children: X
                })
            }
        },
        832897: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useChannelCallVideoGridStore: function() {
                    return a
                }
            });
            var l = n("308503");
            let a = (0, l.default)(() => ({
                dismissedActivityEntryPointTileChannel: null
            }))
        },
        308419: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("77078"),
                s = n("784981"),
                i = n("607391"),
                r = n("49111"),
                u = n("782340"),
                o = n("334626"),
                d = n("425643");

            function c(e) {
                let {
                    channel: t,
                    guild: c,
                    width: f,
                    inPopout: h
                } = e;
                return (0, l.jsx)(s.default, {
                    className: o.root,
                    children: (0, l.jsx)(i.default, {
                        artURL: d,
                        size: (0, i.getSizeForWidth)(f),
                        header: u.default.Messages.STREAM_SINGLE_PERSON_BODY,
                        onCTAClick: () => (0, a.openModalLazy)(async () => {
                            let {
                                default: e
                            } = await n.el("310688").then(n.bind(n, "310688"));
                            return n => (0, l.jsx)(e, {
                                ...n,
                                guild: c,
                                channel: t,
                                source: r.InstantInviteSources.CHANNEL_CALL
                            })
                        }, {
                            contextKey: h ? a.POPOUT_MODAL_CONTEXT : a.DEFAULT_MODAL_CONTEXT
                        }),
                        callToAction: u.default.Messages.INSTANT_INVITE
                    })
                })
            }
        },
        732961: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return N
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("301165"),
                u = n("84339"),
                o = n("109489"),
                d = n("271938"),
                c = n("42887"),
                f = n("944832"),
                h = n("659500"),
                p = n("679243"),
                m = n("876715"),
                E = n("842044"),
                C = n("329515"),
                g = n("49111"),
                S = n("99795"),
                _ = n("111647"),
                I = n("542377");
            let T = 16 / 9,
                x = 8 + C.PARTICIPANTS_HEIGHT;

            function N(e) {
                let t, {
                        onSelectParticipant: n,
                        onContextMenuParticipant: s,
                        onFullscreenParticipant: N,
                        participants: v,
                        filteredParticipants: A,
                        popoutWindow: M,
                        inCall: R,
                        channel: L,
                        selectedParticipant: j,
                        showParticipants: O = !0,
                        className: y,
                        paused: P,
                        width: D,
                        height: b,
                        layout: U,
                        idle: w
                    } = e,
                    F = null != M,
                    G = c.default.getVideoComponent(),
                    B = d.default.getId(),
                    [k, H] = a.useState(null),
                    [V, W] = a.useState(!0),
                    [Y, z] = a.useState(!1),
                    K = j.type === S.ParticipantTypes.ACTIVITY,
                    Z = !K && null != j.streamId,
                    X = Z && null != k && k.width > 0 && k.height > 0 ? k.width / k.height : T,
                    q = b <= 2 * x + 144,
                    Q = O && !q,
                    J = (0, u.default)(Q),
                    $ = 0;
                (K || Q) && ($ += 72), K && !Q && ($ += 48), Q && ($ += .5 * x + 8);
                let ee = b - 2 * $,
                    et = ee * X,
                    en = Math.floor(Math.min(D, et) / X),
                    el = b > D / X + 72 + x + 8,
                    ea = !Q && !K;
                t = ea ? 40 + Math.max(0, 72 - (b - en) / 2) : Q ? -16 : -8, a.useEffect(() => {
                    let e = setTimeout(() => {
                        W(!1)
                    }, 250);
                    return () => {
                        clearTimeout(e)
                    }
                }, []);
                let es = (0, r.useSpring)({
                        value: Q ? 1 : 0,
                        delay: el || !Q ? 0 : 100,
                        config: {
                            ...r.config.stiff,
                            clamp: !0
                        },
                        onStart: () => z(!0),
                        onChange: () => h.ComponentDispatch.dispatch(g.ComponentActions.REMEASURE_TARGET),
                        onRest: () => {
                            z(!1), h.ComponentDispatch.dispatch(g.ComponentActions.REMEASURE_TARGET)
                        }
                    }),
                    ei = (0, r.useSpring)({
                        value: Q ? 1 : 0,
                        config: {
                            ...r.config.stiff,
                            clamp: !0
                        }
                    }),
                    er = (0, r.useSpring)({
                        value: et,
                        config: {
                            ...r.config.stiff,
                            clamp: !0
                        },
                        immediate: J === Q && ei.value.idle
                    }),
                    eu = (0, r.useSpring)({
                        value: t,
                        config: {
                            ...r.config.stiff,
                            clamp: !0
                        }
                    }),
                    eo = (0, r.useTransition)(j, {
                        keys: e => null == e ? void 0 : e.id,
                        config: {
                            ...r.config.stiff,
                            clamp: !0
                        },
                        initial: null,
                        from: {
                            opacity: 0
                        },
                        enter: {
                            opacity: 1
                        },
                        leave: {
                            opacity: 0
                        }
                    }),
                    ed = a.useCallback(e => {
                        H(e), W(!1)
                    }, []),
                    ec = Q || P ? [] : (0, E.getPipParticipants)(v, j, B),
                    {
                        visibleParticipants: ef,
                        participantTileWidth: eh
                    } = (0, C.useVisibleParticipants)(D, A);
                return (0, l.jsxs)("div", {
                    className: i(I.root, _.flexCenter, y),
                    children: [(0, l.jsxs)("div", {
                        className: I.tileWrapper,
                        style: {
                            opacity: Z && V ? 0 : 1
                        },
                        children: [(0, l.jsxs)(r.animated.div, {
                            className: I.videoFrame,
                            style: {
                                top: ei.value.to(e => -e * x / 2)
                            },
                            children: [(0, l.jsx)(r.animated.div, {
                                style: {
                                    width: er.value
                                },
                                className: I.videoWrapper,
                                children: (0, l.jsx)(f.default, {
                                    className: _.videoSizer,
                                    aspectRatio: X,
                                    children: eo((e, t, a) => {
                                        let {
                                            key: i
                                        } = a;
                                        return null != t ? (0, l.jsx)(r.animated.div, {
                                            className: _.videoWrapperAnimated,
                                            style: e,
                                            children: (0, l.jsx)(p.default, {
                                                focused: !0,
                                                noBorder: et >= D || ee >= b,
                                                channel: L,
                                                className: _.focusedVideo,
                                                videoComponent: G,
                                                paused: P,
                                                width: D,
                                                participant: t,
                                                onClick: n,
                                                onDoubleClick: N,
                                                onContextMenu: s,
                                                onVideoResize: ed,
                                                inCall: R,
                                                inPopout: F
                                            })
                                        }, i) : null
                                    })
                                })
                            }), q || U === g.ChannelLayouts.MINIMUM || U === g.ChannelLayouts.NORMAL ? null : (0, l.jsx)(r.animated.div, {
                                className: i(I.actionRow, {
                                    [I.idle]: w
                                }),
                                style: {
                                    bottom: eu.value
                                },
                                children: (0, l.jsx)(o.default, {
                                    channelId: L.id,
                                    isParticipantsOpen: O,
                                    isVertical: !0
                                })
                            })]
                        }), (0, l.jsx)(r.animated.div, {
                            className: I.participantsWrapperAnimated,
                            style: {
                                translateY: es.value.to(e => e * x / 2),
                                opacity: es.value,
                                visibility: es.value.to(e => 0 === e ? "hidden" : "visible")
                            },
                            children: (0, l.jsx)(C.default, {
                                channel: L,
                                onClick: n,
                                onContextMenu: s,
                                onDoubleClick: N,
                                participants: ef,
                                participantTileWidth: eh,
                                selectedParticipantId: j.id,
                                inCall: R,
                                paused: P || Y || !O,
                                popoutWindow: M
                            })
                        })]
                    }), ec.length > 0 ? (0, l.jsx)(m.default, {
                        onContextMenuParticipant: s,
                        width: D,
                        height: b,
                        channel: L,
                        participants: ec
                    }) : null]
                })
            }
        },
        329515: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                PARTICIPANTS_HEIGHT: function() {
                    return f
                },
                useVisibleParticipants: function() {
                    return m
                },
                default: function() {
                    return E
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("917351"),
                i = n("246846"),
                r = n("271938"),
                u = n("449008"),
                o = n("679243"),
                d = n("99795"),
                c = n("987162");
            let f = 112,
                h = 16 / 9 * f + 8;

            function p(e) {
                var t;
                let n = r.default.getId();
                return e.type === d.ParticipantTypes.USER && e.user.id === n && (null === (t = e.voiceState) || void 0 === t ? void 0 : t.selfVideo)
            }

            function m(e, t) {
                let [n, l] = a.useState(Date.now());
                a.useEffect(() => {
                    let e = setTimeout(() => {
                        l(Date.now())
                    }, 1e4);
                    return () => {
                        clearTimeout(e)
                    }
                }, [t]);
                let r = a.useRef({}),
                    {
                        visibleParticipants: o,
                        participantTileWidth: c
                    } = a.useMemo(() => {
                        let n = Date.now(),
                            l = (0, s.sortBy)(t, e => (function(e) {
                                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Date.now();
                                switch (e.type) {
                                    case d.ParticipantTypes.ACTIVITY:
                                        return "\x00".concat(e.sortKey);
                                    case d.ParticipantTypes.HIDDEN_STREAM:
                                    case d.ParticipantTypes.STREAM:
                                        return "\x01".concat((0, i.default)(e.userNick, e.user));
                                    case d.ParticipantTypes.USER:
                                        var n;
                                        let l = "\x05";
                                        return e.speaking ? l = "\x02" : t - e.lastSpoke < 1e4 ? l = "\x03" : (null === (n = e.voiceState) || void 0 === n ? void 0 : n.selfVideo) && (l = "\x04"), "".concat(l).concat(function(e) {
                                            let t = String(864e13).length;
                                            return String(864e13 - e).padStart(t, "0")
                                        }(e.lastSpoke)).concat((0, i.default)(e.userNick, e.user))
                                }
                            })(e, n)),
                            [a, o] = (0, s.partition)(l, d.isStreamParticipant),
                            c = o.findIndex(p),
                            f = null; - 1 !== c && (f = o[c], o.splice(c, 1));
                        let m = null != f ? e - h - 8 : e,
                            E = Math.max(0, Math.min(Math.floor((m - 8) / 132), 12, t.length)),
                            C = Math.min((m - 8) / E - 8, h),
                            g = Math.max(0, E - a.length),
                            S = a.slice(0, E),
                            _ = o.slice(0, g),
                            I = Array(g);
                        if (g > 0) {
                            let e = [];
                            for (let t of _) {
                                let n = r.current[t.id];
                                null != n && n < g ? I[n] = t : e.push(t)
                            }
                            for (let t = 0; t < I.length; t++) {
                                if (null != I[t]) continue;
                                let n = e.shift();
                                if (null == n) break;
                                I[t] = n
                            }
                        }
                        let T = I.filter(u.isNotNullish),
                            x = (0, s.keyBy)((0, s.range)(T.length), e => T[e].id);
                        r.current = x;
                        let N = [...S, ...T];
                        return null != f && N.push(f), {
                            visibleParticipants: N,
                            participantTileWidth: C
                        }
                    }, [e, t, n]);
                return {
                    visibleParticipants: o,
                    participantTileWidth: c
                }
            }

            function E(e) {
                let {
                    participants: t,
                    participantTileWidth: n,
                    selectedParticipantId: a,
                    onDoubleClick: s,
                    onContextMenu: i,
                    onClick: r,
                    channel: u,
                    inCall: d,
                    popoutWindow: f,
                    paused: m = !1
                } = e, E = null != f;
                return (0, l.jsx)("div", {
                    className: c.root,
                    children: t.map(e => {
                        if (null == e) return null;
                        let t = p(e);
                        return (0, l.jsx)("div", {
                            className: c.tileSizer,
                            style: t ? {
                                flexShrink: 0
                            } : void 0,
                            children: (0, l.jsx)(o.default, {
                                participant: e,
                                selected: a === e.id,
                                channel: u,
                                className: c.tile,
                                fit: o.CallTileFit.COVER,
                                onClick: r,
                                onDoubleClick: s,
                                onContextMenu: i,
                                width: t ? h : n,
                                inCall: d,
                                paused: m,
                                inPopout: E
                            })
                        }, e.id)
                    })
                })
            }
        },
        153984: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("255397"),
                s = n("607391"),
                i = n("782340");
            let r = n("328989");

            function u(e) {
                let {
                    width: t,
                    className: n,
                    channelId: u,
                    noArt: o = !1
                } = e;
                return (0, l.jsx)(s.default, {
                    artURL: r,
                    noArt: o,
                    size: (0, s.getSizeForWidth)(t),
                    className: n,
                    callToAction: i.default.Messages.STREAM_SHOW_ALL_PARTICIPANTS,
                    header: i.default.Messages.STREAM_PARTICIPANTS_HIDDEN.format(),
                    onCTAClick: () => a.default.toggleVoiceParticipantsHidden(u, !1)
                })
            }
        },
        616718: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var l = n("446674"),
                a = n("582415"),
                s = n("824563"),
                i = n("387111"),
                r = n("782340");

            function u(e, t, n) {
                let u = (0, l.useStateFromStores)([s.default], () => null != n ? (0, a.getStreamerApplication)(n, s.default) : null, [n]),
                    o = i.default.getName(e.getGuildId(), e.id, t);
                return null == n ? o : (null == u ? void 0 : u.name) != null ? r.default.Messages.GO_LIVE_USER_PLAYING.format({
                    applicationName: null == u ? void 0 : u.name,
                    username: o
                }) : r.default.Messages.GO_LIVE_TILE_SCREEN.format({
                    username: o
                })
            }
        },
        172131: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var l, a, s = n("37983");
            n("884691");
            var i = n("414456"),
                r = n.n(i),
                u = n("256170"),
                o = n("981913"),
                d = n("698310");

            function c(e) {
                let {
                    direction: t,
                    className: n,
                    themeable: l,
                    ...i
                } = e;
                return (0, s.jsx)(o.default, {
                    className: r(n, d.arrow, {
                        [d.up]: t === a.UP
                    }),
                    iconComponent: u.default,
                    themeable: l,
                    ...i
                })
            }(l = a || (a = {}))[l.UP = 0] = "UP", l[l.DOWN = 1] = "DOWN", c.Directions = a;
            var f = c
        },
        925674: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return u
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("255397"),
                s = n("407691"),
                i = n("981913"),
                r = n("782340");

            function u(e) {
                let {
                    channelId: t,
                    ...n
                } = e;
                return (0, l.jsx)(i.default, {
                    onClick: function() {
                        a.default.selectParticipant(t, null)
                    },
                    label: r.default.Messages.VIDEO_CALL_RETURN_TO_GRID,
                    iconComponent: s.default,
                    tooltipPosition: "bottom",
                    ...n
                })
            }
        },
        63260: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("414456"),
                s = n.n(a),
                i = n("77078"),
                r = n("155207"),
                u = n("981913"),
                o = n("782340"),
                d = n("443367");

            function c(e) {
                let {
                    className: t,
                    count: n
                } = e;
                return (0, l.jsxs)("div", {
                    className: s(d.root, d.comboIcon, t),
                    children: [(0, l.jsx)(r.default, {
                        className: d.icon
                    }), (0, l.jsx)(i.Text, {
                        color: "none",
                        className: d.count,
                        variant: "text-md/normal",
                        children: n
                    })]
                })
            }

            function f(e) {
                let {
                    count: t,
                    ...n
                } = e;
                return (0, l.jsx)(u.default, {
                    label: o.default.Messages.CHANNEL_CALL_PARTICIPANTS,
                    iconComponent: e => {
                        let {
                            className: n
                        } = e;
                        return (0, l.jsx)(c, {
                            className: n,
                            count: t
                        })
                    },
                    tooltipPosition: "bottom",
                    ...n
                })
            }
        },
        422736: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("255397"),
                s = n("229997"),
                i = n("763984"),
                r = n("981913"),
                u = n("99795"),
                o = n("782340");

            function d(e) {
                let {
                    channelId: t,
                    isHorizontal: n,
                    ...d
                } = e;
                return (0, l.jsx)(r.default, {
                    onClick: function() {
                        a.default.selectParticipant(t, u.ParticipantSelectionTypes.AUTO)
                    },
                    label: o.default.Messages.VIDEO_CALL_AUTO_SELECT,
                    iconComponent: n ? s.default : i.default,
                    tooltipPosition: "bottom",
                    ...d
                })
            }
        },
        495194: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                useIsVoiceChannelLocked: function() {
                    return o
                },
                default: function() {
                    return d
                }
            });
            var l = n("446674"),
                a = n("305961"),
                s = n("957255"),
                i = n("800762"),
                r = n("404008"),
                u = n("843455");

            function o(e) {
                return (0, l.useStateFromStores)([s.default], () => null == e || !s.default.can(u.Permissions.CONNECT, e), [e])
            }

            function d(e) {
                return (0, l.useStateFromStores)([i.default, a.default], () => (0, r.isChannelFull)(e, i.default, a.default))
            }
        },
        260014: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return E
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("917351"),
                u = n("748820"),
                o = n("446674"),
                d = n("913144"),
                c = n("430568"),
                f = n("206230"),
                h = n("962367");
            let p = [h.emoji1, h.emoji2, h.emoji3, h.emoji4],
                m = a.memo(function(e) {
                    var t;
                    let {
                        emoji: n,
                        onAnimationEnd: s
                    } = e, u = (0, r.sample)(p), o = a.useCallback(() => {
                        s(n.key)
                    }, [n.key, s]);
                    return (0, l.jsx)("div", {
                        className: i(h.emoji, u),
                        onAnimationEnd: o,
                        children: (0, l.jsx)(c.default, {
                            emojiId: n.id,
                            emojiName: n.name,
                            animated: null !== (t = n.animated) && void 0 !== t && t
                        })
                    })
                });

            function E(e) {
                let {
                    channelId: t
                } = e, n = (0, o.useStateFromStores)([f.default], () => f.default.useReducedMotion), [s, i] = a.useState([]);
                a.useEffect(() => {
                    function e(e) {
                        let {
                            channelId: l,
                            emoji: a
                        } = e;
                        l === t && !n && null != a && i(e => [...e, {
                            key: (0, u.v4)(),
                            ...a
                        }])
                    }
                    return d.default.subscribe("VOICE_CHANNEL_EFFECT_SEND", e), () => {
                        d.default.unsubscribe("VOICE_CHANNEL_EFFECT_SEND", e)
                    }
                }, [t, n]);
                let r = a.useCallback(e => {
                    i(t => t.filter(t => t.key !== e))
                }, []);
                return n ? null : (0, l.jsx)("div", {
                    className: h.container,
                    "aria-hidden": !0,
                    children: s.map(e => (0, l.jsx)(m, {
                        emoji: e,
                        onAnimationEnd: r
                    }, e.key))
                })
            }
        },
        824135: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return d
                }
            });
            var l = n("446674"),
                a = n("6263"),
                s = n("233069"),
                i = n("42203"),
                r = n("305961"),
                u = n("18494"),
                o = n("49111");

            function d(e, t) {
                let n = (0, l.useStateFromStores)([r.default], () => r.default.getGuild(t)),
                    d = (0, l.useStateFromStores)([i.default], () => i.default.getChannel(e)),
                    c = (0, l.useStateFromStores)([u.default], () => u.default.getChannelId(t)),
                    {
                        showOnboardingHome: f
                    } = a.default.useExperiment({
                        location: "52235f_1"
                    }, {
                        autoTrackExposure: !1
                    });
                return e === c && null != d && null != n && d.getGuildId() === n.id && (0, s.isGuildTextChannelType)(d.type) && n.hasFeature(o.GuildFeatures.WELCOME_SCREEN_ENABLED) && n.hasFeature(o.GuildFeatures.COMMUNITY) && (!f || !n.hasFeature(o.GuildFeatures.GUILD_SERVER_GUIDE))
            }
        },
        501090: function(e, t, n) {
            "use strict";
            let l;
            n.r(t), n.d(t, {
                default: function() {
                    return U
                }
            });
            var a = n("917351"),
                s = n.n(a),
                i = n("446674"),
                r = n("913144"),
                u = n("447909"),
                o = n("233069"),
                d = n("159885"),
                c = n("158998"),
                f = n("42203"),
                h = n("319781"),
                p = n("27618"),
                m = n("697218"),
                E = n("49111");
            let C = !1,
                g = "",
                S = 0,
                _ = [],
                I = !1,
                T = new Set,
                x = null;

            function N() {
                g = "", S = 0, _ = [], T = new Set, C = !1, x = null
            }

            function v(e) {
                g = e, S = 0, A()
            }

            function A() {
                if (!C) return !1;
                let e = f.default.getChannel(x);
                if (0 === g.trim().length) return null != l && l.clearQuery(), _ = function(e) {
                    let t = p.default.getFriendIDs();
                    return (null == e ? void 0 : e.isPrivate()) && (t = t.filter(t => !e.recipients.includes(t))), t.reduce((e, t) => {
                        let n = m.default.getUser(t);
                        return null == n ? e : (e.push({
                            user: n
                        }), e)
                    }, []).sort(R)
                }(e), !0;
                let t = null != e ? e.recipients : [];
                return null != l && l.setQuery(g, {
                    friends: !0
                }, t, function() {
                    let e = h.default.getFrequently(),
                        t = e.filter(e => e instanceof o.PrivateChannelRecord && e.isDM()),
                        n = Math.max(...t.map(e => {
                            let {
                                id: t
                            } = e;
                            return h.default.getScore(t)
                        })),
                        l = {};
                    return t.forEach(e => {
                        let t = h.default.getScore(e.id),
                            a = e.getRecipientId(),
                            s = p.default.isFriend(a) ? .2 : 0,
                            i = null != f.default.getDMFromUserId(a) ? .1 : 0;
                        l[a] = 1 + t / n + s + i
                    }), l
                }()), !1
            }

            function M() {
                if (!C) return !1;
                let e = I;
                return (I = s.some(p.default.getRelationships(), e => e === E.RelationshipTypes.FRIEND)) !== e
            }

            function R(e, t) {
                return (0, d.stripDiacritics)(c.default.getName(e.user).toLocaleLowerCase()).localeCompare((0, d.stripDiacritics)(c.default.getName(t.user).toLocaleLowerCase()))
            }

            function L(e) {
                let {
                    results: t
                } = e;
                C && "" !== g && (_ = t.map(e => {
                    let {
                        id: t
                    } = e;
                    return {
                        user: m.default.getUser(t)
                    }
                }).filter(e => null != e.user), b.emitChange())
            }

            function j() {
                return null != l && (l.destroy(), l = null), u.default.getSearchContext(L, 1e3)
            }

            function O(e) {
                if (e.key !== E.NEW_GROUP_DM_POPOUT_ID) return !1;
                C = !0, M(), l = j(), x = null, v("")
            }

            function y(e) {
                if (e.key !== E.NEW_GROUP_DM_POPOUT_ID) return !1;
                P()
            }

            function P() {
                null != l && (l.destroy(), l = null), N()
            }
            class D extends i.default.Store {
                initialize() {
                    this.waitFor(m.default, f.default, p.default), this.syncWith([m.default, f.default], A), this.syncWith([p.default], M)
                }
                getResults() {
                    return _
                }
                hasFriends() {
                    return I
                }
                getSelectedUsers() {
                    return T
                }
                getQuery() {
                    return g
                }
                getState() {
                    return {
                        query: g,
                        selectedRow: S,
                        selectedUsers: T,
                        results: _,
                        hasFriends: I
                    }
                }
            }
            D.displayName = "PrivateChannelRecipientsInviteStore";
            let b = new D(r.default, {
                CONNECTION_OPEN: function() {
                    N()
                },
                CHANNEL_SELECT: function(e) {
                    let {
                        guildId: t,
                        channelId: n
                    } = e;
                    if (null != t) return !1;
                    let l = C;
                    return N(), C = l, x = n, A()
                },
                MODAL_PUSH: O,
                SHOW_ACTION_SHEET: O,
                PRIVATE_CHANNEL_RECIPIENTS_INVITE_OPEN: function(e) {
                    C = !0, M(), l = j(), x = e.channelId, v("")
                },
                MODAL_POP: y,
                HIDE_ACTION_SHEET: y,
                PRIVATE_CHANNEL_RECIPIENTS_INVITE_CLOSE: P,
                PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY: function(e) {
                    x = e.channelId, v(e.query)
                },
                PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT: function(e) {
                    S = e.row
                },
                PRIVATE_CHANNEL_RECIPIENTS_ADD_USER: function(e) {
                    let {
                        userId: t
                    } = e;
                    T.add(t), T = new Set(T)
                },
                PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER: function(e) {
                    let {
                        userId: t
                    } = e;
                    T.delete(t), T = new Set(T)
                }
            });
            var U = b
        },
        402904: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return c
                }
            });
            var l = n("917351"),
                a = n.n(l),
                s = n("446674"),
                i = n("913144"),
                r = n("305961");
            let u = null,
                o = {};
            class d extends s.default.Store {
                initialize() {
                    this.waitFor(r.default)
                }
                getOptimalRegion() {
                    var e;
                    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                        n = this.getRegions(t);
                    return null != n ? null !== (e = n.find(e => {
                        let {
                            optimal: t
                        } = e;
                        return t
                    })) && void 0 !== e ? e : a.sample(n) : null
                }
                getOptimalRegionId() {
                    let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                        t = this.getOptimalRegion(e);
                    return null != t ? t.id : null
                }
                getRandomRegion() {
                    let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                        t = this.getRegions(e);
                    return null != t ? a.sample(t) : null
                }
                getRandomRegionId() {
                    let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                        t = this.getRandomRegion(e);
                    return null != t ? t.id : null
                }
                getRegions(e) {
                    return null != e ? o[e] : u
                }
            }
            d.displayName = "RegionStore";
            var c = new d(i.default, {
                LOAD_REGIONS: function(e) {
                    let t = a.sortBy(e.regions, e => e.name);
                    null != e.guildId ? o[e.guildId] = t : u = t
                },
                GUILD_DELETE: function(e) {
                    delete o[e.guild.id]
                }
            })
        },
        440351: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return f
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("77078"),
                u = n("145131"),
                o = n("296165"),
                d = n("926622");
            class c extends a.PureComponent {
                render() {
                    let {
                        title: e,
                        description: t,
                        agreement: n,
                        disagreement: a,
                        onAgree: s,
                        onDisagree: c,
                        imageClassName: f
                    } = this.props;
                    return (0, l.jsxs)(u.default, {
                        className: o.gatedContent,
                        justify: u.default.Justify.CENTER,
                        align: u.default.Align.CENTER,
                        direction: u.default.Direction.VERTICAL,
                        children: [(0, l.jsx)("div", {
                            className: i(o.image, f)
                        }), (0, l.jsx)("div", {
                            className: i(o.title, d.marginBottom8),
                            children: e
                        }), (0, l.jsx)("div", {
                            className: i(o.description, d.marginBottom20),
                            children: t
                        }), (0, l.jsxs)(u.default, {
                            justify: u.default.Justify.CENTER,
                            align: u.default.Align.CENTER,
                            grow: 0,
                            children: [null != a ? (0, l.jsx)(r.Button, {
                                className: o.action,
                                size: r.ButtonSizes.LARGE,
                                color: r.ButtonColors.PRIMARY,
                                onClick: c,
                                children: a
                            }) : null, null != n ? (0, l.jsx)(r.Button, {
                                className: o.action,
                                color: r.Button.Colors.RED,
                                size: r.ButtonSizes.LARGE,
                                onClick: s,
                                children: n
                            }) : null]
                        })]
                    })
                }
            }
            var f = c
        },
        646240: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return h
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("77078"),
                u = n("381546"),
                o = n("229915"),
                d = n("782340"),
                c = n("913893");
            class f extends a.Component {
                render() {
                    let {
                        autoFocus: e,
                        label: t,
                        placeholder: n,
                        searchTerm: a,
                        inputClassName: s,
                        className: f,
                        onChange: h,
                        onFocus: p,
                        onBlur: m,
                        onKeyPress: E,
                        autoComplete: C,
                        forwardedRef: g,
                        closeIconClassName: S,
                        searchIconClassName: _,
                        cta: I
                    } = this.props, T = null != a && a.length > 0, x = null != g ? g : this._textInputRef;
                    return (0, l.jsx)(r.FocusRing, {
                        focusTarget: x,
                        ringTarget: this._containerRef,
                        children: (0, l.jsxs)("div", {
                            className: i(c.searchBox, f),
                            ref: this._containerRef,
                            children: [(0, l.jsx)(r.TextInput, {
                                inputRef: x,
                                focusProps: {
                                    enabled: !1
                                },
                                name: "search",
                                maxLength: 100,
                                className: c.searchBoxInputWrapper,
                                inputClassName: i(c.searchBoxInput, s),
                                onChange: h,
                                onFocus: p,
                                onBlur: m,
                                onKeyPress: E,
                                value: T ? a : "",
                                placeholder: n,
                                autoFocus: e,
                                "aria-label": t,
                                autoComplete: C ? "on" : "off"
                            }), null != I ? (0, l.jsx)(r.Text, {
                                color: "text-muted",
                                variant: "text-xs/normal",
                                className: c.cta,
                                children: I
                            }) : null, T ? (0, l.jsx)(r.Clickable, {
                                onClick: this.handleClear,
                                className: c.clear,
                                "aria-label": d.default.Messages.SEARCH_CLEAR,
                                children: (0, l.jsx)(u.default, {
                                    className: i(c.clearIcon, S)
                                })
                            }) : (0, l.jsx)(o.default, {
                                className: i(c.searchIcon, _),
                                "aria-label": d.default.Messages.SEARCH
                            })]
                        })
                    })
                }
                constructor(...e) {
                    super(...e), this._textInputRef = a.createRef(), this._containerRef = a.createRef(), this.handleClear = () => {
                        let {
                            onClear: e,
                            forwardedRef: t
                        } = this.props, {
                            current: n
                        } = null != t ? t : this._textInputRef;
                        null != n && n.focus(), null != e && e()
                    }
                }
            }
            f.defaultProps = {
                autoComplete: !1
            };
            var h = a.forwardRef((e, t) => (0, l.jsx)(f, {
                forwardedRef: t,
                ...e
            }))
        },
        466079: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return h
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("944832"),
                u = n("124299"),
                o = n("127868");
            let d = 16 / 9;

            function c(e, t) {
                return Math.floor((t - e) / (8 + e)) + 1
            }

            function f(e, t, n) {
                let l = t - e;
                for (; l > 0;) {
                    let t = e,
                        a = Math.floor(l / 2);
                    n(t += a) ? (e = t + 1, l -= a + 1) : l = a
                }
                return e
            }

            function h(e) {
                var t;
                let {
                    className: n,
                    children: s,
                    keyExtractor: h,
                    paddingTop: p = 0,
                    paddingBottom: m = 0
                } = e, [E, C] = a.useState({
                    width: 0,
                    height: 0
                }), {
                    width: g,
                    height: S
                } = E, _ = null !== (t = null == s ? void 0 : s.length) && void 0 !== t ? t : 0, I = g - 16, T = S - (p + m), {
                    tileStyle: x,
                    tileWidth: N,
                    rows: v,
                    columns: A
                } = a.useMemo(() => (function(e, t, n) {
                    let {
                        rows: l,
                        columns: a,
                        tileWidth: s
                    } = function(e, t, n) {
                        let l;
                        let a = Math.floor(t / 25);
                        l = e > 25 ? f(a, t, e => {
                            let l = c(e, t),
                                a = function(e, t) {
                                    let n = e / d;
                                    return Math.ceil((t - n) / (8 + n)) + 1
                                }(e, n);
                            return l * a > 25
                        }) : f(a, t, l => {
                            let a = c(l, t),
                                s = function(e, t) {
                                    let n = e / d;
                                    return Math.floor((t - n) / (8 + n)) + 1
                                }(l, n);
                            return a * s >= e
                        }) - 1;
                        let s = c(l, t),
                            i = Math.ceil(e / s);
                        return {
                            tileWidth: l,
                            columns: Math.max(1, s),
                            rows: i
                        }
                    }(e, t, n);
                    return {
                        tileStyle: {
                            width: s
                        },
                        tileWidth: s,
                        rows: l,
                        columns: a
                    }
                })(_, I, T), [_, I, T]), M = A + 1, R = M * N + (M - 1) * 8, L = R <= g, j = Math.floor(N / d) + 8, O = Math.max(0, T - j * v) / 2;
                return (0, l.jsx)(u.default, {
                    fade: !0,
                    className: n,
                    listPadding: [p + O, 0, m + O - 8, 8],
                    renderRow: function(e) {
                        var t;
                        let n = e * A;
                        return (0, l.jsx)("div", {
                            className: o.row,
                            children: null == s ? void 0 : null === (t = s.slice(n, n + A)) || void 0 === t ? void 0 : t.map((e, t) => {
                                var a;
                                let s = n + t;
                                return (0, l.jsx)("div", {
                                    style: x,
                                    className: i(o.tile, {
                                        [o.padColumn]: L,
                                        [o.noVerticalMargin]: s >= (v - 1) * A,
                                        [o.noHorizontalMargin]: (s + 1) % A == 0 || s === _ - 1
                                    }),
                                    children: (0, l.jsx)(r.default, {
                                        className: o.tileSizer,
                                        aspectRatio: d,
                                        children: e(N)
                                    })
                                }, null !== (a = null == h ? void 0 : h(s)) && void 0 !== a ? a : s)
                            })
                        }, e)
                    },
                    rowCount: v,
                    rowCountBySection: [v],
                    rowHeight: j,
                    onResize: C
                })
            }
        },
        570443: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("469563"),
                s = n("918703"),
                i = n("75196"),
                r = (0, a.replaceIcon)(function(e) {
                    let {
                        width: t = 24,
                        height: n = 24,
                        color: a = "currentColor",
                        foreground: s,
                        ...r
                    } = e;
                    return (0, l.jsx)("svg", {
                        ...(0, i.default)(r),
                        width: t,
                        height: n,
                        viewBox: "0 0 24 24",
                        children: (0, l.jsx)("path", {
                            className: s,
                            fill: a,
                            fillRule: "evenodd",
                            clipRule: "evenodd",
                            d: "M20.998 0V3H23.998V5H20.998V8H18.998V5H15.998V3H18.998V0H20.998ZM2.99805 20V24L8.33205 20H14.998C16.102 20 16.998 19.103 16.998 18V9C16.998 7.896 16.102 7 14.998 7H1.99805C0.894047 7 -0.00195312 7.896 -0.00195312 9V18C-0.00195312 19.103 0.894047 20 1.99805 20H2.99805Z"
                        })
                    })
                }, s.ChatPlusIcon)
        },
        303800: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return o
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("748820"),
                i = n("469563"),
                r = n("917798"),
                u = n("75196"),
                o = (0, i.replaceIcon)(function(e) {
                    let {
                        width: t = 16,
                        height: n = 16,
                        color: i = "currentColor",
                        foreground: r,
                        ...o
                    } = e, [d] = a.useState(() => (0, s.v4)());
                    return (0, l.jsxs)("svg", {
                        ...(0, u.default)(o),
                        width: t,
                        height: n,
                        viewBox: "0 0 24 24",
                        children: [(0, l.jsx)("g", {
                            clipPath: "url(".concat(d, ")"),
                            children: (0, l.jsx)("path", {
                                className: r,
                                fillRule: "evenodd",
                                clipRule: "evenodd",
                                d: "M4.83075 2H13.2444C14.817 2 16.0751 3.13475 15.9965 4.55319V11H14.5025V4.69504H3.57264V18.8085H6V22H4.83075C3.25811 22 2 20.8652 2 19.4468V4.55319C2 3.13475 3.25811 2 4.83075 2Z",
                                fill: i
                            })
                        }), (0, l.jsx)("path", {
                            d: "M10.5646 13H19.4354C20.5365 13 21.4507 13.7808 21.5303 14.7893L21.9965 20.6997C22.0492 21.3677 21.5021 21.9485 20.7746 21.9968C20.7429 21.9989 20.7111 22 20.6792 22C19.8442 22 19.1157 21.4795 18.9105 20.7363L18.5495 19.4286H11.4504L11.0894 20.7363C10.8842 21.4795 10.1557 22 9.3207 22C8.5913 22 8 21.4571 8 20.7873C8 20.7581 8.00115 20.7289 8.00345 20.6997L8.46966 14.7893C8.5492 13.7808 9.46342 13 10.5646 13Z",
                            className: r,
                            fill: i
                        }), (0, l.jsx)("defs", {
                            children: (0, l.jsx)("clipPath", {
                                id: d,
                                children: (0, l.jsx)("rect", {
                                    width: "14",
                                    height: "21",
                                    fill: i,
                                    transform: "translate(2 2)"
                                })
                            })
                        })]
                    })
                }, r.MobilePhoneControllerIcon)
        },
        293499: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("469563"),
                s = n("26309"),
                i = n("75196"),
                r = (0, a.replaceIcon)(function(e) {
                    let {
                        width: t = 22,
                        height: n = 20,
                        color: a = "currentColor",
                        ...s
                    } = e;
                    return (0, l.jsxs)("svg", {
                        ...(0, i.default)(s),
                        width: t,
                        height: n,
                        viewBox: "0 0 24 24",
                        children: [(0, l.jsx)("path", {
                            d: "M15.9829 8.45685C16.4834 8.9082 17.0602 9.27649 17.6918 9.53992C17.1979 10.7194 16.1545 11.6141 14.8834 11.9017C14.8022 11.8683 14.7203 11.8358 14.6378 11.8041C15.3982 10.8785 15.8873 9.72192 15.9829 8.45685Z",
                            fill: a
                        }), (0, l.jsx)("path", {
                            d: "M14 8C14 10.205 12.206 12 10 12C7.79501 12 6 10.205 6 8C6 5.79498 7.79401 4 10 4C12.206 4 14 5.79498 14 8Z",
                            fill: a
                        }), (0, l.jsx)("path", {
                            d: "M2 19C2 15.467 5.29001 13 10 13C14.711 13 18 15.467 18 19V20H2V19Z",
                            fill: a
                        }), (0, l.jsx)("path", {
                            d: "M22.0001 20H20.0001V19C20.0001 16.7999 19.0621 14.9067 17.5213 13.5292C20.2697 14.4355 22.0001 16.4374 22.0001 19V20Z",
                            fill: a
                        }), (0, l.jsx)("path", {
                            d: "M-439.135 -677.865L-436.999 -675.729H-442V-674.271H-436.999L-439.135 -672.135L-438 -671L-434 -675L-438 -679L-439.135 -677.865Z",
                            fill: a
                        }), (0, l.jsx)("path", {
                            d: "M-446 -677C-445.566 -677 -445.153 -676.908 -444.781 -676.743C-444.924 -676.186 -445 -675.602 -445 -675C-445 -673.096 -444.24 -671.37 -443.007 -670.108L-443.01 -668C-443.01 -666.34 -444.34 -665 -446 -665C-447.66 -665 -449 -666.34 -449 -668V-674C-449 -675.66 -447.66 -677 -446 -677Z",
                            fill: a
                        }), (0, l.jsx)("path", {
                            d: "M-446 -662.9C-443.24 -662.9 -440.7 -665 -440.7 -668H-439C-439 -664.58 -441.72 -661.76 -445 -661.28V-657H-447V-661.28C-450.28 -661.77 -453 -664.59 -453 -668H-451.3C-451.3 -665 -448.76 -662.9 -446 -662.9Z",
                            fill: a
                        }), (0, l.jsx)("path", {
                            d: "M22.8648 2.86484L20.7293 5.00126L20.7293 -1.42968e-07L19.2707 -2.06723e-07L19.2707 5.00126L17.1352 2.86484L16 4L20 8L24 4L22.8648 2.86484Z",
                            fill: a
                        })]
                    })
                }, s.GroupArrowDownIcon)
        },
        407691: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("469563"),
                s = n("821355"),
                i = n("75196"),
                r = (0, a.replaceIcon)(function(e) {
                    let {
                        width: t = 24,
                        height: n = 24,
                        color: a = "currentColor",
                        foreground: s,
                        ...r
                    } = e;
                    return (0, l.jsxs)("svg", {
                        ...(0, i.default)(r),
                        width: t,
                        height: n,
                        viewBox: "0 0 24 24",
                        fill: "none",
                        children: [(0, l.jsx)("rect", {
                            className: s,
                            x: "4",
                            y: "4",
                            width: "7",
                            height: "7",
                            rx: "1",
                            fill: a
                        }), (0, l.jsx)("rect", {
                            className: s,
                            x: "4",
                            y: "13",
                            width: "7",
                            height: "7",
                            rx: "1",
                            fill: a
                        }), (0, l.jsx)("rect", {
                            className: s,
                            x: "13",
                            y: "4",
                            width: "7",
                            height: "7",
                            rx: "1",
                            fill: a
                        }), (0, l.jsx)("rect", {
                            className: s,
                            x: "13",
                            y: "13",
                            width: "7",
                            height: "7",
                            rx: "1",
                            fill: a
                        })]
                    })
                }, s.GridSquareIcon)
        },
        229997: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("469563"),
                s = n("831055"),
                i = n("75196"),
                r = (0, a.replaceIcon)(function(e) {
                    let {
                        width: t = 24,
                        height: n = 24,
                        color: a = "currentColor",
                        foreground: s,
                        ...r
                    } = e;
                    return (0, l.jsxs)("svg", {
                        ...(0, i.default)(r),
                        width: t,
                        height: n,
                        viewBox: "0 0 24 24",
                        fill: "none",
                        children: [(0, l.jsx)("rect", {
                            className: s,
                            x: "3",
                            y: "3",
                            width: "18",
                            height: "10",
                            rx: "1",
                            fill: a
                        }), (0, l.jsx)("rect", {
                            className: s,
                            x: "3",
                            y: "15",
                            width: "8",
                            height: "6",
                            rx: "1",
                            fill: a
                        }), (0, l.jsx)("rect", {
                            className: s,
                            x: "13",
                            y: "15",
                            width: "8",
                            height: "6",
                            rx: "1",
                            fill: a
                        })]
                    })
                }, s.GridHorizontalIcon)
        },
        472037: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("469563"),
                s = n("403295"),
                i = n("75196"),
                r = (0, a.replaceIcon)(function(e) {
                    let {
                        width: t = 24,
                        height: n = 24,
                        color: a = "currentColor",
                        foreground: s,
                        ...r
                    } = e;
                    return (0, l.jsxs)("svg", {
                        ...(0, i.default)(r),
                        width: t,
                        height: n,
                        viewBox: "0 0 20 16",
                        children: [(0, l.jsx)("path", {
                            d: "M15.428 8.127H4.368a.923.923 0 0 1-.921-.921c0-.576.533-.859 1.012-.931l8.656-1.754-.49-2.782L4.3 3.524C2.068 3.856.681 5.267.681 7.206a3.69 3.69 0 0 0 3.687 3.686h11.06a.922.922 0 0 1 0 1.843H2.063a.46.46 0 0 0-.461.461v1.843a.46.46 0 0 0 .46.461h13.364a3.686 3.686 0 1 0 0-7.373Z",
                            fill: a,
                            className: s
                        }), (0, l.jsx)("path", {
                            d: "M19.152 1.602a.46.46 0 0 0-.477-.38l-3.305.166-.089-.507a.46.46 0 0 0-.534-.374l-.907.16a.46.46 0 0 0-.374.534l.64 3.63a.46.46 0 0 0 .534.374l.908-.16a.46.46 0 0 0 .373-.534l-.09-.507 3.163-.974a.46.46 0 0 0 .318-.52l-.16-.908Z",
                            fill: a,
                            className: s
                        })]
                    })
                }, s.PaintbrushSmallIcon)
        },
        152224: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("469563"),
                s = n("559981"),
                i = n("75196"),
                r = (0, a.replaceIcon)(function(e) {
                    let {
                        width: t = 24,
                        height: n = 24,
                        color: a = "currentColor",
                        foreground: s,
                        ...r
                    } = e;
                    return (0, l.jsx)("svg", {
                        ...(0, i.default)(r),
                        width: t,
                        height: n,
                        viewBox: "0 0 24 24",
                        children: (0, l.jsx)("path", {
                            className: s,
                            fill: a,
                            fillRule: "evenodd",
                            clipRule: "evenodd",
                            d: "M20.2949 0.298996L21.7089 1.713L19.4169 4.006L21.7089 6.299L20.2949 7.713L18.0019 5.42L15.7099 7.713L14.2949 6.299L16.5879 4.006L14.2949 1.713L15.7099 0.298996L18.0019 2.592L20.2949 0.298996ZM8.00195 13.006C10.207 13.006 12.002 11.211 12.002 9.006C12.002 6.801 10.207 5.006 8.00195 5.006C5.79695 5.006 4.00195 6.801 4.00195 9.006C4.00195 11.211 5.79695 13.006 8.00195 13.006ZM8.00195 14.006C3.29095 14.006 0.00195312 16.473 0.00195312 20.006V21.006H16.002V20.006C16.002 16.473 12.713 14.006 8.00195 14.006Z"
                        })
                    })
                }, s.UserMinusIcon)
        },
        849483: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("469563"),
                s = n("392646"),
                i = n("75196"),
                r = (0, a.replaceIcon)(function(e) {
                    let {
                        width: t = 24,
                        height: n = 24,
                        color: a = "currentColor",
                        foreground: s,
                        ...r
                    } = e;
                    return (0, l.jsx)("svg", {
                        ...(0, i.default)(r),
                        width: t,
                        height: n,
                        viewBox: "0 0 24 24",
                        children: (0, l.jsxs)("g", {
                            fill: "none",
                            className: s,
                            children: [(0, l.jsx)("path", {
                                fillRule: "evenodd",
                                clipRule: "evenodd",
                                d: "M12 22C12.4883 22 12.9684 21.965 13.438 21.8974C12.5414 20.8489 12 19.4877 12 18C12 17.6593 12.0284 17.3252 12.083 17H6V16.0244C6 14.0732 10 13 12 13C12.6215 13 13.436 13.1036 14.2637 13.305C15.2888 12.4882 16.5874 12 18 12C19.4877 12 20.8489 12.5414 21.8974 13.438C21.965 12.9684 22 12.4883 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM12 12C13.66 12 15 10.66 15 9C15 7.34 13.66 6 12 6C10.34 6 9 7.34 9 9C9 10.66 10.34 12 12 12Z",
                                fill: a
                            }), (0, l.jsx)("path", {
                                d: "M18 22C20.2091 22 22 20.2091 22 18C22 15.7909 20.2091 14 18 14C15.7909 14 14 15.7909 14 18C14 20.2091 15.7909 22 18 22Z",
                                fill: a
                            })]
                        })
                    })
                }, s.UserCircleStatusIcon)
        },
        394640: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("469563"),
                s = n("283322"),
                i = n("75196"),
                r = (0, a.replaceIcon)(function(e) {
                    let {
                        width: t = 24,
                        height: n = 24,
                        color: a = "currentColor",
                        className: s,
                        foreground: r,
                        ...u
                    } = e;
                    return (0, l.jsx)("svg", {
                        ...(0, i.default)(u),
                        className: s,
                        width: t,
                        height: n,
                        viewBox: "0 0 24 24",
                        children: (0, l.jsx)("path", {
                            className: r,
                            fill: a,
                            d: "M22 16.53C22 18.3282 20.2485 19.7837 18.089 19.7837C15.9285 19.7837 14.5396 18.3277 14.5396 16.53C14.5396 14.7319 15.9286 13.2746 18.089 13.2746C18.7169 13.2746 19.3089 13.4013 19.8353 13.6205V5.814L9.46075 7.32352V18.7449C9.46075 20.5424 7.70957 22 5.54941 22C3.38871 22 2 20.5443 2 18.7456C2 16.9481 3.3892 15.4898 5.54941 15.4898C6.17823 15.4898 6.76966 15.6162 7.29604 15.836C7.29604 11.3608 7.29604 8.5366 7.29604 4.1395L21.9996 2L22 16.53Z"
                        })
                    })
                }, s.MusicIcon)
        },
        343571: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("469563"),
                s = n("473109"),
                i = n("75196"),
                r = (0, a.replaceIcon)(function(e) {
                    let {
                        width: t = 24,
                        height: n = 24,
                        color: a = "currentColor",
                        slashColor: s,
                        className: r,
                        foreground: u,
                        ...o
                    } = e;
                    return (0, l.jsxs)("svg", {
                        ...(0, i.default)(o),
                        className: r,
                        width: t,
                        height: n,
                        viewBox: "0 0 24 24",
                        children: [(0, l.jsx)("path", {
                            className: u,
                            fill: a,
                            fillRule: "evenodd",
                            clipRule: "evenodd",
                            d: "M5.25208 21.9906C5.34946 21.9968 5.44859 22 5.54939 22C7.70956 22 9.46073 20.5424 9.46073 18.7449V17.782L5.25208 21.9906ZM11.7699 6.98753L9.46073 7.32352V9.29667L7.29603 11.4614V4.13949L15.8647 2.89267L11.7699 6.98753ZM19.8353 7.4074V13.6205C19.3089 13.4013 18.7169 13.2746 18.089 13.2746C15.9286 13.2746 14.5395 14.7319 14.5395 16.53C14.5395 18.3277 15.9284 19.7837 18.089 19.7837C20.2485 19.7837 22 18.3282 22 16.53L21.9996 5.24304L19.8353 7.4074Z"
                        }), (0, l.jsx)("rect", {
                            fill: null != s ? s : a,
                            x: "2.80762",
                            y: "18.7783",
                            width: "24",
                            height: "2",
                            transform: "rotate(-45 2.80762 18.7783)"
                        })]
                    })
                }, s.MusicSlashIcon)
        },
        625687: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return s
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("75196");

            function s(e) {
                let {
                    width: t = 32,
                    height: n = 32,
                    color: s = "currentColor",
                    foreground: i,
                    ...r
                } = e;
                return (0, l.jsxs)("svg", {
                    ...(0, a.default)(r),
                    width: t,
                    height: n,
                    viewBox: "0 0 32 32",
                    children: [(0, l.jsx)("rect", {
                        width: "32",
                        height: "32",
                        rx: "16",
                        fill: s
                    }), (0, l.jsx)("path", {
                        d: "M23 9.99995C19.56 9.99995 16.826 6.43495 16.799 6.39795C16.421 5.89795 15.579 5.89795 15.201 6.39795C15.174 6.43495 12.44 9.99995 9 9.99995C8.447 9.99995 8 10.4479 8 10.9999V17.9999C8 21.8069 14.764 25.4779 15.534 25.8839C15.68 25.9609 15.84 25.9979 16 25.9979C16.16 25.9979 16.32 25.9599 16.466 25.8839C17.236 25.4779 24 21.8069 24 17.9999V10.9999C24 10.4479 23.553 9.99995 23 9.99995ZM19 19.9999L16 17.9999L13 19.9999L14 16.9999L12 14.9999H15L16 11.9999L17 14.9999H20L18 16.9999L19 19.9999Z",
                        className: i
                    })]
                })
            }
        },
        763984: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return r
                }
            });
            var l = n("37983");
            n("884691");
            var a = n("469563"),
                s = n("392800"),
                i = n("75196"),
                r = (0, a.replaceIcon)(function(e) {
                    let {
                        width: t = 24,
                        height: n = 24,
                        color: a = "currentColor",
                        foreground: s,
                        ...r
                    } = e;
                    return (0, l.jsxs)("svg", {
                        ...(0, i.default)(r),
                        width: t,
                        height: n,
                        viewBox: "0 0 24 24",
                        fill: "none",
                        children: [(0, l.jsx)("rect", {
                            className: s,
                            x: "1",
                            y: "4",
                            width: "13",
                            height: "16",
                            rx: "2",
                            fill: a
                        }), (0, l.jsx)("rect", {
                            className: s,
                            x: "16",
                            y: "4",
                            width: "7",
                            height: "7",
                            rx: "1",
                            fill: a
                        }), (0, l.jsx)("rect", {
                            className: s,
                            x: "16",
                            y: "13",
                            width: "7",
                            height: "7",
                            rx: "1",
                            fill: a
                        })]
                    })
                }, s.GridVerticalIcon)
        },
        823050: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                default: function() {
                    return m
                }
            });
            var l, a, s = n("37983"),
                i = n("884691"),
                r = n("414456"),
                u = n.n(r),
                o = n("77078"),
                d = n("200639"),
                c = n("97347"),
                f = n("587974"),
                h = n("989769");
            (l = a || (a = {}))[l.OUTGOING = 0] = "OUTGOING", l[l.INCOMING = 1] = "INCOMING";
            class p extends i.PureComponent {
                renderStatus() {
                    let {
                        muted: e,
                        deafen: t
                    } = this.props, n = t ? d.default : c.default;
                    return e || t ? (0, s.jsx)(n, {
                        className: h.status
                    }, "status") : null
                }
                renderBorder() {
                    let {
                        speaking: e
                    } = this.props;
                    return (0, s.jsx)("div", {
                        className: u(h.border, {
                            [h.speaking]: e
                        })
                    }, "border")
                }
                renderMask() {
                    let {
                        muted: e,
                        speaking: t,
                        deafen: n
                    } = this.props;
                    return e && t ? (0, s.jsxs)(s.Fragment, {
                        children: [this.renderBorder(), this.renderStatus()]
                    }) : e || n ? (0, s.jsx)(s.Fragment, {
                        children: this.renderStatus()
                    }) : (0, s.jsx)(s.Fragment, {
                        children: this.renderBorder()
                    })
                }
                renderVoiceCallAvatar() {
                    let {
                        src: e,
                        disabled: t,
                        ringing: n,
                        ringingType: l,
                        avatarClassName: i,
                        muted: r,
                        deafen: d,
                        size: c,
                        renderIcon: p
                    } = this.props, m = (0, o.getAvatarSize)(c), E = (0, s.jsx)("img", {
                        src: e,
                        alt: " ",
                        className: u(h.voiceAvatar, i, {
                            [h.ringingOutgoing]: n && l === a.OUTGOING
                        })
                    });
                    if (t) return E;
                    let C = f.MaskIDs.AVATAR_DEFAULT;
                    return null != p ? C = c === o.AvatarSizes.SIZE_32 ? f.MaskIDs.AVATAR_CALL_ICON_32 : f.MaskIDs.AVATAR_CALL_ICON : (r || d) && (C = f.MaskIDs.AVATAR_VOICE_CALL_80), (0, s.jsxs)("div", {
                        className: h.callAvatarMaskContainer,
                        children: [(0, s.jsxs)(f.default, {
                            className: h.callAvatarMask,
                            width: m,
                            height: m,
                            mask: C,
                            children: [null == p ? void 0 : p(), E]
                        }), this.renderMask()]
                    })
                }
                render() {
                    let {
                        size: e,
                        onClick: t,
                        style: n,
                        onContextMenu: l,
                        className: i,
                        ringingType: r,
                        ringing: d
                    } = this.props, c = u(h.wrapper, {
                        [h.clickable]: null != t,
                        [h.ringingOutgoing]: d && r === a.OUTGOING,
                        [h.ringingIncoming]: d && r === a.INCOMING
                    }, i), f = (0, o.getAvatarSize)(e), p = {
                        height: f,
                        width: f,
                        ...n
                    };
                    return (0, s.jsx)("div", {
                        style: p,
                        onContextMenu: l,
                        className: c,
                        children: this.renderVoiceCallAvatar()
                    })
                }
            }
            p.defaultProps = {
                size: o.AvatarSizes.SIZE_80,
                ringingType: a.OUTGOING,
                speaking: !1,
                soundsharing: !1,
                ringing: !1,
                muted: !1,
                deafen: !1,
                hasVideo: !1,
                mirror: !1,
                disabled: !1,
                paused: !1
            }, p.RingingType = a;
            var m = p
        },
        68148: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                VoiceUserList: function() {
                    return R
                },
                default: function() {
                    return j
                }
            });
            var l = n("37983"),
                a = n("884691"),
                s = n("414456"),
                i = n.n(s),
                r = n("966900"),
                u = n("397659"),
                o = n("359902"),
                d = n("780624"),
                c = n("77078"),
                f = n("204947"),
                h = n("437825"),
                p = n("142303"),
                m = n("462579"),
                E = n("200639"),
                C = n("97347"),
                g = n("998564"),
                S = n("420145"),
                _ = n("82636"),
                I = n("980423"),
                T = n("158998"),
                x = n("49111"),
                N = n("99795"),
                v = n("171644"),
                A = n("782340"),
                M = n("593596");
            let R = e => {
                let {
                    children: t,
                    collapsed: n = !1,
                    className: a
                } = e;
                return (0, l.jsx)("div", {
                    className: i(a, M.list, n ? M.listCollapse : M.listDefault),
                    role: "group",
                    children: t
                })
            };
            class L extends a.Component {
                renderPrioritySpeaker() {
                    let {
                        speaking: e,
                        priority: t,
                        collapsed: n,
                        mute: a,
                        serverMute: s
                    } = this.props;
                    return t && !n ? (0, l.jsx)(c.Tooltip, {
                        text: A.default.Messages.PRIORITY_SPEAKER,
                        children: t => (0, l.jsx)("div", {
                            className: i(M.iconPriortySpeaker, {
                                [M.iconPriortySpeakerSpeaking]: !a && !s && e
                            }),
                            ...t
                        })
                    }) : null
                }
                renderAvatar() {
                    let {
                        speaking: e,
                        user: t,
                        size: n,
                        avatarContainerClass: a,
                        guildId: s
                    } = this.props;
                    return (0, l.jsx)("div", {
                        className: i(a, M.avatar, {
                            [M.avatarLarge]: n === x.OverlayAvatarSizes.LARGE,
                            [M.avatarSmall]: n === x.OverlayAvatarSizes.SMALL,
                            [M.avatarSpeaking]: e
                        }),
                        style: {
                            backgroundImage: "url(".concat(t.getAvatarURL(s, n === x.OverlayAvatarSizes.LARGE ? 38 : 24), ")")
                        }
                    })
                }
                renderName() {
                    let {
                        nick: e,
                        user: t,
                        collapsed: n,
                        speaking: a,
                        userNameClassName: s,
                        mute: r,
                        serverMute: u,
                        isGuest: o
                    } = this.props;
                    return n ? null : (0, l.jsxs)("div", {
                        className: i(s, {
                            [M.username]: !0,
                            [M.usernameSpeaking]: !r && !u && a
                        }),
                        children: [null != e ? e : T.default.getName(t), o ? (0, l.jsxs)("span", {
                            className: M.guestSuffix,
                            children: ["\xa0", A.default.Messages.GUEST_NAME_SUFFIX]
                        }) : ""]
                    })
                }
                renderIcons() {
                    let {
                        mute: e,
                        localMute: t,
                        localVideoDisabled: n,
                        serverMute: a,
                        deaf: s,
                        serverDeaf: r,
                        collapsed: u,
                        video: o,
                        isStreaming: d,
                        disabled: E,
                        isWatching: C,
                        iconClassName: T,
                        embeddedApplication: x,
                        otherClientSessionType: R,
                        voicePlatform: L
                    } = this.props;
                    if (u || E) return null;
                    let j = [],
                        y = (0, l.jsx)(O, {
                            iconClassName: T,
                            mute: e,
                            localMute: t,
                            serverMute: a,
                            deaf: s,
                            serverDeaf: r
                        });
                    return (o && (n ? j.push((0, l.jsx)(c.TooltipContainer, {
                        className: M.iconSpacing,
                        text: A.default.Messages.LOCAL_VIDEO_DISABLED,
                        children: (0, l.jsx)(p.default, {
                            className: i(M.icon, T),
                            foreground: M.strikethrough
                        })
                    }, "video")) : j.push((0, l.jsx)(c.TooltipContainer, {
                        className: M.iconSpacing,
                        text: A.default.Messages.VIDEO,
                        children: (0, l.jsx)(h.default, {
                            className: i(M.icon, T)
                        })
                    }, "video"))), null != x && j.push((0, l.jsx)(c.TooltipContainer, {
                        text: (0, f.default)(x.name),
                        className: M.iconSpacing,
                        children: (0, l.jsx)(_.default, {
                            className: i(M.icon, T)
                        })
                    }, "activity")), R === v.GameConsoleTypes.XBOX || L === N.VoicePlatforms.XBOX ? j.push((0, l.jsx)("div", {
                        className: i(M.iconSpacing),
                        children: (0, l.jsx)(S.default, {
                            className: i(M.icon, T)
                        })
                    }, "xbox")) : (R === v.GameConsoleTypes.PLAYSTATION || L === N.VoicePlatforms.PLAYSTATION) && j.push((0, l.jsx)("div", {
                        className: i(M.iconSpacing),
                        children: (0, l.jsx)(g.default, {
                            className: i(M.icon, T)
                        })
                    }, "playstation")), d ? j.push((0, l.jsx)("div", {
                        className: i(M.iconSpacing, M.liveIconSpacing),
                        children: (0, l.jsx)(I.default, {
                            size: I.default.Sizes.SMALL
                        })
                    }, "stream")) : C && j.push((0, l.jsx)(c.TooltipContainer, {
                        className: M.iconSpacing,
                        text: A.default.Messages.WATCH_STREAM_WATCHING,
                        children: (0, l.jsx)(m.default, {
                            className: i(M.icon, T)
                        })
                    }, "watch")), 0 === j.length && null == y) ? null : (0, l.jsxs)("div", {
                        className: M.icons,
                        children: [y, j]
                    })
                }
                render() {
                    let {
                        onClick: e,
                        onKeyDown: t,
                        flipped: n,
                        size: a,
                        className: s,
                        selected: r,
                        disabled: u,
                        overlap: o,
                        "aria-label": d,
                        tabIndex: f
                    } = this.props;
                    return (0, l.jsx)(c.Clickable, {
                        className: i(s, {
                            [M.voiceUser]: !0,
                            [M.overlap]: o,
                            [M.selected]: r,
                            [M.clickable]: null != e,
                            [M.userSmall]: a === x.OverlayAvatarSizes.SMALL,
                            [M.userLarge]: a === x.OverlayAvatarSizes.LARGE,
                            [M.disabled]: !r && u
                        }),
                        onClick: this.handleClick,
                        onDoubleClick: this.handleDoubleClick,
                        onContextMenu: this.handleContextMenu,
                        onMouseEnter: this.handleMouseEnter,
                        onMouseLeave: this.handleMouseLeave,
                        onMouseDown: this.handleMouseDown,
                        onKeyDown: t,
                        "aria-label": d,
                        tabIndex: f,
                        children: (0, l.jsxs)("div", {
                            className: i(M.content, {
                                [M.flipped]: n
                            }),
                            children: [this.renderPrioritySpeaker(), this.renderAvatar(), this.renderName(), this.renderIcons()]
                        })
                    })
                }
                constructor(...e) {
                    super(...e), this.handleClick = e => {
                        let {
                            onClick: t,
                            user: n
                        } = this.props;
                        null == t || t(e, n)
                    }, this.handleDoubleClick = e => {
                        let {
                            onDoubleClick: t,
                            user: n
                        } = this.props;
                        null == t || t(e, n)
                    }, this.handleContextMenu = e => {
                        let {
                            onContextMenu: t,
                            user: n
                        } = this.props;
                        null == t || t(e, n)
                    }, this.handleMouseLeave = e => {
                        let {
                            onMouseLeave: t,
                            user: n
                        } = this.props;
                        null == t || t(e, n)
                    }, this.handleMouseEnter = e => {
                        let {
                            onMouseEnter: t,
                            user: n
                        } = this.props;
                        null == t || t(e, n)
                    }, this.handleMouseDown = e => {
                        let {
                            onMouseDown: t,
                            user: n
                        } = this.props;
                        null == t || t(e, n)
                    }
                }
            }
            L.defaultProps = {
                avatarContainerClass: M.avatarContainer,
                userNameClassName: M.usernameFont,
                size: x.OverlayAvatarSizes.SMALL,
                selected: !1,
                disabled: !1
            };
            var j = L;

            function O(e) {
                let {
                    iconClassName: t,
                    mute: n,
                    localMute: a,
                    serverMute: s,
                    deaf: f,
                    serverDeaf: h
                } = e, p = (0, c.useRedesignIconContext)().enabled, m = [];
                if (n) {
                    let e;
                    if (p) {
                        let n, r;
                        s ? (n = o.MicrophoneDenyIcon, r = c.tokens.colors.STATUS_DANGER) : n = a ? o.MicrophoneDenyIcon : d.MicrophoneSlashIcon, e = (0, l.jsx)(n, {
                            className: i(M.icon, t),
                            color: null != r ? r : "currentColor"
                        })
                    } else e = (0, l.jsx)(C.default, {
                        className: i(M.icon, t, {
                            [M.iconServer]: s
                        }),
                        foreground: a ? M.strikethrough : void 0
                    });
                    m.push((0, l.jsx)(c.TooltipContainer, {
                        text: a ? A.default.Messages.LOCAL_MUTED : s ? A.default.Messages.SERVER_MUTED : A.default.Messages.VOICE_CHANNEL_MUTED,
                        className: M.iconSpacing,
                        children: e
                    }, "mute"))
                }
                if (h || f) {
                    let e;
                    if (p) {
                        let n = h ? r.HeadphonesDenyIcon : u.HeadphonesSlashIcon;
                        e = (0, l.jsx)(n, {
                            className: i(M.icon, t),
                            color: h ? c.tokens.colors.STATUS_DANGER : "currentColor"
                        })
                    } else e = (0, l.jsx)(E.default, {
                        className: i(M.icon, t, {
                            [M.iconServer]: h
                        })
                    });
                    m.push((0, l.jsx)(c.TooltipContainer, {
                        className: M.iconSpacing,
                        text: h ? A.default.Messages.SERVER_DEAFENED : A.default.Messages.VOICE_CHANNEL_DEAFENED,
                        children: e
                    }, "deaf"))
                }
                return 0 === m.length ? null : (0, l.jsx)(l.Fragment, {
                    children: m
                })
            }
        },
        519812: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                getRecipients: function() {
                    return i
                }
            });
            var l = n("917351"),
                a = n.n(l),
                s = n("449008");

            function i(e, t) {
                return a(e).map(t.getUser).unshift(t.getCurrentUser()).filter(s.isNotNullish).sortBy(e => e.username.toLowerCase()).value()
            }
        }
    }
]);